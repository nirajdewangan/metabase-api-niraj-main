/*! For license information please see main.bc582ac2.js.LICENSE.txt */
!function(){var t={7757:function(t,e,n){t.exports=n(9727)},2469:function(t,e){"use strict";var n=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],u=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),u.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.Z=n},9753:function(t,e,n){"use strict";var r=n(9388),i=n(2469),o=n(2489),a=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,o.CD)(r,e),n}return(0,r.ZT)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(i.Z);e.Z=a},946:function(t,e,n){"use strict";n.d(e,{Z:function(){return kt}});var r={};n.r(r),n.d(r,{easeBack:function(){return z},easeBackIn:function(){return j},easeBackInOut:function(){return z},easeBackOut:function(){return B},easeBounce:function(){return I},easeBounceIn:function(){return N},easeBounceInOut:function(){return L},easeBounceOut:function(){return I},easeCircle:function(){return P},easeCircleIn:function(){return A},easeCircleInOut:function(){return P},easeCircleOut:function(){return T},easeCubic:function(){return g},easeCubicIn:function(){return p},easeCubicInOut:function(){return g},easeCubicOut:function(){return v},easeElastic:function(){return V},easeElasticIn:function(){return H},easeElasticInOut:function(){return W},easeElasticOut:function(){return V},easeExp:function(){return _},easeExpIn:function(){return O},easeExpInOut:function(){return _},easeExpOut:function(){return M},easeLinear:function(){return c},easePoly:function(){return x},easePolyIn:function(){return m},easePolyInOut:function(){return x},easePolyOut:function(){return y},easeQuad:function(){return h},easeQuadIn:function(){return f},easeQuadInOut:function(){return h},easeQuadOut:function(){return d},easeSin:function(){return C},easeSinIn:function(){return S},easeSinInOut:function(){return C},easeSinOut:function(){return k}});var i=n(9388),o=n(9761),a=n(6277),u=n(2489),s=n(3415),l=n(6212);function c(t){return+t}function f(t){return t*t}function d(t){return t*(2-t)}function h(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function p(t){return t*t*t}function v(t){return--t*t*t+1}function g(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var m=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),y=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),x=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),b=Math.PI,w=b/2;function S(t){return 1===+t?1:1-Math.cos(t*w)}function k(t){return Math.sin(t*w)}function C(t){return(1-Math.cos(b*t))/2}function E(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function O(t){return E(1-+t)}function M(t){return 1-E(t)}function _(t){return((t*=2)<=1?E(1-t):2-E(t-1))/2}function A(t){return 1-Math.sqrt(1-t*t)}function T(t){return Math.sqrt(1- --t*t)}function P(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var D=4/11,F=7.5625;function N(t){return 1-I(1-t)}function I(t){return(t=+t)<D?F*t*t:t<.7272727272727273?F*(t-=.5454545454545454)*t+.75:t<.9090909090909091?F*(t-=.8181818181818182)*t+.9375:F*(t-=.9545454545454546)*t+.984375}function L(t){return((t*=2)<=1?1-I(1-t):I(t-1)+1)/2}var R=1.70158,j=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(R),B=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(R),z=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(R),U=2*Math.PI,H=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=U);function i(t){return e*E(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*U)},i.period=function(n){return t(e,n)},i}(1,.3),V=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=U);function i(t){return 1-e*E(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*U)},i.period=function(n){return t(e,n)},i}(1,.3),W=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=U);function i(t){return((t=2*t-1)<0?e*E(-t)*Math.sin((r-t)/n):2-e*E(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*U)},i.period=function(n){return t(e,n)},i}(1,.3),Y=n(419);function q(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function G(t){return function(){return t}}function $(t,e){return function(n){return t+n*e}}function X(t){return 1===(t=+t)?K:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):G(isNaN(e)?n:e)}}function K(t,e){var n=e-t;return n?$(t,n):G(isNaN(t)?e:t)}var Z=function t(e){var n=X(e);function r(t,e){var r=n((t=(0,Y.B8)(t)).r,(e=(0,Y.B8)(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=K(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function J(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=(0,Y.B8)(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}J((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return q((n-r/e)*e,a,i,o,u)}})),J((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return q((n-r/e)*e,i,o,a,u)}}));function Q(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function tt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function et(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=st(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function nt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function it(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=st(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var ot=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,at=new RegExp(ot.source,"g");function ut(t,e){var n,r,i,o=ot.lastIndex=at.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=ot.exec(t))&&(r=at.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:rt(n,r)})),o=at.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function st(t,e){var n,r=typeof e;return null==e||"boolean"===r?G(e):("number"===r?rt:"string"===r?(n=(0,Y.ZP)(e))?(e=n,Z):ut:e instanceof Y.ZP?Z:e instanceof Date?nt:tt(e)?Q:Array.isArray(e)?et:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?it:rt)(t,e)}var lt=n(1607),ct=[1,0,0,0,1,0,0,0,1];function ft(t,e,n){var i,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var a=e.duration,u=e.easing;if(n=n-o-e.delay,e.repeat)i=n%a/a,i=r[u](i);else{if(!((i=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;i=r[u](i)}if(e.onFrame){var l=e.onFrame(i);t.attr(l)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,u,l,c;for(var f in o)if(!(0,s.Xy)(i[f],o[f]))if("path"===f){var d=o[f],h=i[f];d.length>h.length?(d=lt.parsePathString(o[f]),h=lt.parsePathString(i[f]),h=lt.fillPathByDiff(h,d),h=lt.formatPath(h,d),e.fromAttrs.path=h,e.toAttrs.path=d):e.pathFormatted||(d=lt.parsePathString(o[f]),h=lt.parsePathString(i[f]),h=lt.formatPath(h,d),e.fromAttrs.path=h,e.toAttrs.path=d,e.pathFormatted=!0),r[f]=[];for(var p=0;p<d.length;p++){for(var v=d[p],g=h[p],m=[],y=0;y<v.length;y++)(0,s.hj)(v[y])&&g&&(0,s.hj)(g[y])?(a=st(g[y],v[y]),m.push(a(n))):m.push(v[y]);r[f].push(m)}}else if("matrix"===f){var x=(l=i[f]||ct,(tt(c=o[f]||ct)?Q:et)(l,c))(n);r[f]=x}else["fill","stroke","fillStyle","strokeStyle"].includes(f)&&(u=o[f],/^[r,R,L,l]{1}[\s]*\(/.test(u))?r[f]=o[f]:(0,s.mf)(o[f])||(a=st(i[f],o[f]),r[f]=a(n));t.attr(r)}}(t,e,i);return!1}var dt=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=l.HT((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],ft(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),ht=dt,pt=n(9168),vt=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function gt(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function mt(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&(0,u.UY)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var yt=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");(0,u.S6)(vt,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");(0,u.S6)(vt,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new pt.Z(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var u=this.canvas;u.get("el").style.cursor=r.attr("cursor")||u.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var u=this.mousedownShape,s=n.timeStamp-this.mousedownTimeStamp,l=a.clientX-t.clientX,c=a.clientY-t.clientY;s>120||l*l+c*c>40?u&&u.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!u&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,gt(r,t,a);for(var u=r.getParent();u;)u.emitDelegation(t,a),a.propagationStopped||mt(u,t,a),a.propagationPath.push(u),u=u.getParent()}else{gt(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),xt=yt,bt=(0,o.qY)(),wt=bt&&"firefox"===bt.name,St=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");(0,u.HD)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new xt({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new ht(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");u.jU&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");u.jU&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(wt&&!(0,u.kK)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,u.kK)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(a.Z),kt=St},6277:function(t,e,n){"use strict";var r=n(9388),i=n(3415),o=n(5597),a=n(2489),u={};function s(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){s(t,e)}))}}function l(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){l(t,e)}))}}var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],u=[],s=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return s.length>0?((0,a.S6)(s,(function(t){var e=t.getBBox();o.push(e.minX,e.maxX),u.push(e.minY,e.maxY)})),t=(0,i.VV)(o),e=(0,i.Fp)(o),n=(0,i.VV)(u),r=(0,i.Fp)(u)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],u=[],s=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return s.length>0?((0,a.S6)(s,(function(t){var e=t.getCanvasBBox();o.push(e.minX,e.maxX),u.push(e.minY,e.maxY)})),t=(0,i.VV)(o),e=(0,i.Fp)(o),n=(0,i.VV)(u),r=(0,i.Fp)(u)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,a.S6)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];(0,a.Kn)(n)?r=n:r.type=n;var i=u[r.type];i||(i=(0,a.jC)(r.type),u[r.type]=i);var o=this.getShapeBase(),s=new o[i](r);return this.add(s),s},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if((0,a.mf)(r))n=new r(i||{parent:this});else{var o=r||{},u=this.getGroupBase();n=new u(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!(0,a.pP)(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var u=t[o];if((0,a.pP)(u)&&(u.isGroup()?i=u.getShape(e,n,r):u.isHit(e,n)&&(i=u)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),(0,a.As)(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&s(t,e),r&&l(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();(0,a.S6)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return(0,a.S6)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return(0,a.S6)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(o.Z);e.Z=c},5597:function(t,e,n){"use strict";var r=n(9388),i=n(3415),o=n(6403),a=n(2489),u=n(5313),s=n(9753),l=o.vs,c="matrix",f=["zIndex","capture","visible","type"],d=["repeat"];function h(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function p(t,e){var n={},r=e.attr();return(0,i.S6)(t,(function(t,e){-1!==d.indexOf(e)||(0,i.Xy)(r[e],t)||(n[e]=t)})),n}function v(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return(0,i.S6)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&o>t.delay&&(0,i.S6)(e.toAttrs,(function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var g=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,i.CD)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,r.ZT)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1];if(!r)return this.attrs;if((0,i.Kn)(r)){for(var a in r)this.setAttr(a,r[a]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,o),this.afterAttrsChange(((t={})[r]=o,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?((0,a.As)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(c,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(c)},e.prototype.setMatrix=function(t){this.attr(c,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?(0,u.xq)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?(0,u.xq)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?(0,u.rG)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=(0,u.U_)(e);if(n)return(0,u.rG)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[(0,i.jC)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};(0,i.S6)(e,(function(t,r){(0,i.kJ)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)(0,i.kJ)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return(0,i.S6)(f,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var o,a,u,s,l,c=t[0],f=t[1],d=t[2],g=void 0===d?"easeLinear":d,m=t[3],y=void 0===m?i.ZT:m,x=t[4],b=void 0===x?0:x;(0,i.mf)(c)?(o=c,c={}):(0,i.Kn)(c)&&c.onFrame&&(o=c.onFrame,a=c.repeat),(0,i.Kn)(f)?(f=(l=f).duration,g=l.easing||"easeLinear",b=l.delay||0,a=l.repeat||a||!1,y=l.callback||i.ZT,u=l.pauseCallback||i.ZT,s=l.resumeCallback||i.ZT):((0,i.hj)(y)&&(b=y,y=null),(0,i.mf)(g)?(y=g,g="easeLinear"):g=g||"easeLinear");var w=p(c,this),S={fromAttrs:h(w,this),toAttrs:w,duration:f,easing:g,repeat:a,callback:y,pauseCallback:u,resumeCallback:s,delay:b,startTime:n.getTime(),id:(0,i.EL)(),onFrame:o,pathFormatted:!1};r.length>0?r=v(r,S):n.addAnimator(this),r.push(S),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");(0,i.S6)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return(0,i.S6)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return(0,i.S6)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,o=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var u=function(t){var u=o[t],l=u.get("name");if(l){if((u.isGroup()||u.isCanvas&&u.isCanvas())&&n&&(0,a.UY)(u,n))return"break";(0,i.kJ)(l)?(0,i.S6)(l,(function(t){r.emitDelegateEvent(u,t,e)})):s.emitDelegateEvent(u,l,e)}},s=this,l=0;l<o.length;l++){if("break"===u(l))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=l(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=l(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=l(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=l(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=l(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(s.Z);e.Z=g},9157:function(t,e,n){"use strict";var r=n(9388),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(n(6277).Z);e.Z=i},5403:function(t,e,n){"use strict";var r=n(9388),i=n(5597),o=n(5313),a=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;if(e){var u=(0,o.rG)(e,[t.minX,t.minY]),s=(0,o.rG)(e,[t.maxX,t.minY]),l=(0,o.rG)(e,[t.minX,t.maxY]),c=(0,o.rG)(e,[t.maxX,t.maxY]);n=Math.min(u[0],s[0],l[0],c[0]),i=Math.max(u[0],s[0],l[0],c[0]),r=Math.min(u[1],s[1],l[1],c[1]),a=Math.max(u[1],s[1],l[1],c[1])}var f=this.attrs;if(f.shadowColor){var d=f.shadowBlur,h=void 0===d?0:d,p=f.shadowOffsetX,v=void 0===p?0:p,g=f.shadowOffsetY,m=void 0===g?0:g,y=n-h+v,x=i+h+v,b=r-h+m,w=a+h+m;n=Math.min(n,y),i=Math.max(i,x),r=Math.min(r,b),a=Math.max(a,w)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:a,width:i-n,height:a-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],u=this._isInBBox(o,a);if(this.isOnlyHitBox())return u;if(u&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(i.Z);e.Z=a},6007:function(t,e,n){"use strict";n.d(e,{b:function(){return o},W:function(){return i}});var r=new Map;function i(t,e){r.set(t,e)}function o(t){return r.get(t)}function a(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}function u(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}var s=n(1622);function l(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function c(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=l(e,n.getCanvasBBox())),r&&(e=l(e,r.getCanvasBBox())),e}var f=n(9341);var d=n(3313),h=n(3415);function p(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),u=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),s=Math.acos((o+a-u)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!s||0===Math.sin(s)||(0,h.vQ)(s,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(s/2-l)*(e/2*(1/Math.sin(s/2)))-e/2||0,yExtra:Math.cos(c-s/2)*(e/2*(1/Math.sin(s/2)))-e/2||0}}i("rect",a),i("image",a),i("circle",u),i("marker",u),i("polyline",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var a=s.Zr.getBBoxByArray(n,r),u=a.x,l=a.y,f={minX:u,minY:l,maxX:u+a.width,maxY:l+a.height};return{x:(f=c(t,f)).minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}})),i("polygon",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return s.Zr.getBBoxByArray(n,r)})),i("text",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,u=e.font;u||(u=(0,f.$O)(e));var s,l=(0,f.mY)(i,u);if(l){var c=e.textAlign,d=e.textBaseline,h=(0,f.FE)(i,o,a),p={x:n,y:r-h};c&&("end"===c||"right"===c?p.x-=l:"center"===c&&(p.x-=l/2)),d&&("top"===d?p.y+=h:"middle"===d&&(p.y+=h/2)),s={x:p.x,y:p.y,width:l,height:h}}else s={x:n,y:r,width:0,height:0};return s})),i("path",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(y=t[o]).currentPoint,u=y.params,l=y.prePoint,c=void 0;switch(y.command){case"Q":c=s.lD.box(l[0],l[1],u[1],u[2],u[3],u[4]);break;case"C":c=s.Ll.box(l[0],l[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case"A":var f=y.arcParams;c=s.wN.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(y.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===y.command||"M"===y.command)&&y.prePoint&&y.nextPoint&&i.push(y)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var d=(0,h.VV)(n),v=(0,h.VV)(r),g=(0,h.Fp)(n),m=(0,h.Fp)(r);if(0===i.length)return{x:d,y:v,width:g-d,height:m-v};for(o=0;o<i.length;o++){var y;(a=(y=i[o]).currentPoint)[0]===d?d-=p(y,e).xExtra:a[0]===g&&(g+=p(y,e).xExtra),a[1]===v?v-=p(y,e).yExtra:a[1]===m&&(m+=p(y,e).yExtra)}return{x:d,y:v,width:g-d,height:m-v}}(t.get("segments")||(0,d.zx)(n),r),o=i.x,a=i.y,u={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(u=c(t,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}})),i("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=c(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),i("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}))},9168:function(t,e){"use strict";var n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.Z=n},4494:function(t,e,n){"use strict";n.r(e),n.d(e,{Event:function(){return s.Z},Base:function(){return l.Z},AbstractCanvas:function(){return c.Z},AbstractGroup:function(){return f.Z},AbstractShape:function(){return d.Z},PathUtil:function(){return r},getBBoxMethod:function(){return h.b},registerBBox:function(){return h.W},getTextHeight:function(){return p.FE},assembleFont:function(){return p.$O},isAllowCapture:function(){return v.pP},multiplyVec2:function(){return g.rG},invert:function(){return g.U_},getOffScreenContext:function(){return m.L},version:function(){return y}});var r=n(1607),i=n(6135),o={};for(var a in i)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(a)<0&&(o[a]=function(t){return i[t]}.bind(0,a));n.d(e,o);var u=n(468);o={};for(var a in u)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(a)<0&&(o[a]=function(t){return u[t]}.bind(0,a));n.d(e,o);var s=n(9168),l=n(9753),c=n(946),f=n(9157),d=n(5403),h=n(6007),p=n(9341),v=n(2489),g=n(5313),m=n(3841),y="0.5.9"},468:function(){},6135:function(){},5313:function(t,e,n){"use strict";function r(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],d=e[0],h=e[1],p=e[2],v=e[3],g=e[4],m=e[5],y=e[6],x=e[7],b=e[8];return n[0]=d*r+h*a+p*l,n[1]=d*i+h*u+p*c,n[2]=d*o+h*s+p*f,n[3]=v*r+g*a+m*l,n[4]=v*i+g*u+m*c,n[5]=v*o+g*s+m*f,n[6]=y*r+x*a+b*l,n[7]=y*i+x*u+b*c,n[8]=y*o+x*s+b*f,n}function i(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function o(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],l=t[7],c=t[8],f=c*a-u*l,d=-c*o+u*s,h=l*o-a*s,p=n*f+r*d+i*h;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*l)*p,e[2]=(u*r-i*a)*p,e[3]=d*p,e[4]=(c*n-i*s)*p,e[5]=(-u*n+i*o)*p,e[6]=h*p,e[7]=(-l*n+r*s)*p,e[8]=(a*n-r*o)*p,e):null}n.d(e,{xq:function(){return r},rG:function(){return i},U_:function(){return o}})},3841:function(t,e,n){"use strict";n.d(e,{L:function(){return i}});var r=null;function i(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r}},1607:function(t,e,n){"use strict";n.r(e),n.d(e,{catmullRomToBezier:function(){return s},fillPath:function(){return T},fillPathByDiff:function(){return F},formatPath:function(){return L},intersection:function(){return M},parsePathArray:function(){return g},parsePathString:function(){return u},pathToAbsolute:function(){return c},pathToCurve:function(){return p},rectPath:function(){return S}});var r=n(3415),i="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),u=function(t){if(!t)return null;if((0,r.kJ)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(r,i,o){var u=[],s=i.toLowerCase();if(o.replace(a,(function(t,e){e&&u.push(+e)})),"m"===s&&u.length>2&&(n.push([i].concat(u.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===u.length&&n.push([i,u[0]]),"r"===s)n.push([i].concat(u));else for(;u.length>=e[s]&&(n.push([i].concat(u.splice(0,e[s]))),e[s]););return t})),n},s=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},l=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,u=t+n*Math.cos(-r*a),s=t+n*Math.cos(-i*a);o=[["M",u,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,s,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},c=function(t){if(!(t=u(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,c=0,f=0;"M"===t[0][0]&&(a=i=+t[0][1],c=o=+t[0][2],f++,r[0]=["M",i,o]);for(var d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),h=void 0,p=void 0,v=f,g=t.length;v<g;v++){if(r.push(h=[]),(e=(p=t[v])[0])!==e.toUpperCase())switch(h[0]=e.toUpperCase(),h[0]){case"A":h[1]=p[1],h[2]=p[2],h[3]=p[3],h[4]=p[4],h[5]=p[5],h[6]=+p[6]+i,h[7]=+p[7]+o;break;case"V":h[1]=+p[1]+o;break;case"H":h[1]=+p[1]+i;break;case"R":for(var m=2,y=(n=[i,o].concat(p.slice(1))).length;m<y;m++)n[m]=+n[m]+i,n[++m]=+n[m]+o;r.pop(),r=r.concat(s(n,d));break;case"O":r.pop(),(n=l(i,o,p[1],p[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(l(i,o,p[1],p[2],p[3])),h=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+p[1]+i,c=+p[2]+o;break;default:for(m=1,y=p.length;m<y;m++)h[m]=+p[m]+(m%2?i:o)}else if("R"===e)n=[i,o].concat(p.slice(1)),r.pop(),r=r.concat(s(n,d)),h=["R"].concat(p.slice(-2));else if("O"===e)r.pop(),(n=l(i,o,p[1],p[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(l(i,o,p[1],p[2],p[3])),h=["U"].concat(r[r.length-1].slice(-2));else for(var x=0,b=p.length;x<b;x++)h[x]=p[x];if("O"!==(e=e.toUpperCase()))switch(h[0]){case"Z":i=+a,o=+c;break;case"H":i=h[1];break;case"V":o=h[1];break;case"M":a=h[h.length-2],c=h[h.length-1];break;default:i=h[h.length-2],o=h[h.length-1]}}return r},f=function(t,e,n,r){return[t,e,n,r,n,r]},d=function(t,e,n,r,i,o){var a=1/3,u=2/3;return[a*t+u*n,a*e+u*r,a*i+u*n,a*o+u*r,i,o]},h=function t(e,n,r,i,o,a,u,s,l,c){r===i&&(r+=1);var f,d,h,p,v,g=120*Math.PI/180,m=Math.PI/180*(+o||0),y=[],x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)d=c[0],h=c[1],p=c[2],v=c[3];else{e=(f=x(e,n,-m)).x,n=f.y,s=(f=x(s,l,-m)).x,l=f.y,e===s&&n===l&&(s+=1,l+=1);var b=(e-s)/2,w=(n-l)/2,S=b*b/(r*r)+w*w/(i*i);S>1&&(r*=S=Math.sqrt(S),i*=S);var k=r*r,C=i*i,E=(a===u?-1:1)*Math.sqrt(Math.abs((k*C-k*w*w-C*b*b)/(k*w*w+C*b*b)));p=E*r*w/i+(e+s)/2,v=E*-i*b/r+(n+l)/2,d=Math.asin(((n-v)/i).toFixed(9)),h=Math.asin(((l-v)/i).toFixed(9)),d=e<p?Math.PI-d:d,h=s<p?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),u&&d>h&&(d-=2*Math.PI),!u&&h>d&&(h-=2*Math.PI)}var O=h-d;if(Math.abs(O)>g){var M=h,_=s,A=l;h=d+g*(u&&h>d?1:-1),y=t(s=p+r*Math.cos(h),l=v+i*Math.sin(h),r,i,o,0,u,_,A,[h,M,p,v])}O=h-d;var T=Math.cos(d),P=Math.sin(d),D=Math.cos(h),F=Math.sin(h),N=Math.tan(O/4),I=4/3*r*N,L=4/3*i*N,R=[e,n],j=[e+I*P,n-L*T],B=[s+I*F,l-L*D],z=[s,l];if(j[0]=2*R[0]-j[0],j[1]=2*R[1]-j[1],c)return[j,B,z].concat(y);for(var U=[],H=0,V=(y=[j,B,z].concat(y).join().split(",")).length;H<V;H++)U[H]=H%2?x(y[H-1],y[H],m).y:x(y[H],y[H+1],m).x;return U},p=function(t,e){var n,r=c(t),i=e&&c(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],s=[],l="",p="",v=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(h.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(d(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(d(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(f(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(f(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(f(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(f(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)u[e]="A",i&&(s[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},m=function(t,e,o,a,u){t&&e&&"M"===t[u][0]&&"M"!==e[u][0]&&(e.splice(u,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[u][1],o.y=t[u][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var y=0;y<n;y++){r[y]&&(l=r[y][0]),"C"!==l&&(u[y]=l,y&&(p=u[y-1])),r[y]=v(r[y],o,p),"A"!==u[y]&&"C"===l&&(u[y]="C"),g(r,y),i&&(i[y]&&(l=i[y][0]),"C"!==l&&(s[y]=l,y&&(p=s[y-1])),i[y]=v(i[y],a,p),"A"!==s[y]&&"C"===l&&(s[y]="C"),g(i,y)),m(r,i,o,a,y),m(i,r,a,o,y);var x=r[y],b=i&&i[y],w=x.length,S=i&&b.length;o.x=x[w-2],o.y=x[w-1],o.bx=parseFloat(x[w-4])||o.x,o.by=parseFloat(x[w-3])||o.y,a.bx=i&&(parseFloat(b[S-4])||a.x),a.by=i&&(parseFloat(b[S-3])||a.y),a.x=i&&b[S-2],a.y=i&&b[S-1]}return i?[r,i]:r},v=/,?([a-z]),?/gi,g=function(t){return t.join(",").replace(v,"$1")},m=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},y=function(t,e,n,r,i,o,a,u,s){null===s&&(s=1);for(var l=(s=s>1?1:s<0?0:s)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var p=l*c[h]+l,v=m(p,t,n,i,a),g=m(p,e,r,o,u),y=v*v+g*g;d+=f[h]*Math.sqrt(y)}return l*d},x=function(t,e,n,r,i,o,a,u){for(var s,l,c,f,d=[],h=[[],[]],p=0;p<2;++p)if(0===p?(l=6*t-12*n+6*i,s=-3*t+9*n-9*i+3*a,c=3*n-3*t):(l=6*e-12*r+6*o,s=-3*e+9*r-9*o+3*u,c=3*r-3*e),Math.abs(s)<1e-12){if(Math.abs(l)<1e-12)continue;(f=-c/l)>0&&f<1&&d.push(f)}else{var v=l*l-4*c*s,g=Math.sqrt(v);if(!(v<0)){var m=(-l+g)/(2*s);m>0&&m<1&&d.push(m);var y=(-l-g)/(2*s);y>0&&y<1&&d.push(y)}}for(var x,b=d.length,w=b;b--;)x=1-(f=d[b]),h[0][b]=x*x*x*t+3*x*x*f*n+3*x*f*f*i+f*f*f*a,h[1][b]=x*x*x*e+3*x*x*f*r+3*x*f*f*o+f*f*f*u;return h[0][w]=t,h[1][w]=e,h[0][w+1]=a,h[1][w+1]=u,h[0].length=h[1].length=w+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},b=function(t,e,n,r,i,o,a,u){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,u)||Math.min(e,r)>Math.max(o,u))){var s=(t-n)*(o-u)-(e-r)*(i-a);if(s){var l=((t*r-e*n)*(i-a)-(t-n)*(i*u-o*a))/s,c=((t*r-e*n)*(o-u)-(e-r)*(i*u-o*a))/s,f=+l.toFixed(2),d=+c.toFixed(2);if(!(f<+Math.min(t,n).toFixed(2)||f>+Math.max(t,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||d<+Math.min(e,r).toFixed(2)||d>+Math.max(e,r).toFixed(2)||d<+Math.min(o,u).toFixed(2)||d>+Math.max(o,u).toFixed(2)))return{x:l,y:c}}}},w=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},S=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=g,o},k=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:S(t,e,n,r),vb:[t,e,n,r].join(" ")}},C=function(t,e,n,i,o,a,u,s){(0,r.kJ)(t)||(t=[t,e,n,i,o,a,u,s]);var l=x.apply(null,t);return k(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},E=function(t,e,n,r,i,o,a,u,s){var l=1-s,c=Math.pow(l,3),f=Math.pow(l,2),d=s*s,h=d*s,p=t+2*s*(n-t)+d*(i-2*n+t),v=e+2*s*(r-e)+d*(o-2*r+e),g=n+2*s*(i-n)+d*(a-2*i+n),m=r+2*s*(o-r)+d*(u-2*o+r);return{x:c*t+3*f*s*n+3*l*s*s*i+h*a,y:c*e+3*f*s*r+3*l*s*s*o+h*u,m:{x:p,y:v},n:{x:g,y:m},start:{x:l*t+s*n,y:l*e+s*r},end:{x:l*i+s*a,y:l*o+s*u},alpha:90-180*Math.atan2(p-g,v-m)/Math.PI}},O=function(t,e,n){if(!function(t,e){return t=k(t),e=k(e),w(e,t.x,t.y)||w(e,t.x2,t.y)||w(e,t.x,t.y2)||w(e,t.x2,t.y2)||w(t,e.x,e.y)||w(t,e.x2,e.y)||w(t,e.x,e.y2)||w(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(C(t),C(e)))return n?0:[];for(var r=~~(y.apply(0,t)/8),i=~~(y.apply(0,e)/8),o=[],a=[],u={},s=n?0:[],l=0;l<r+1;l++){var c=E.apply(0,t.concat(l/r));o.push({x:c.x,y:c.y,t:l/r})}for(l=0;l<i+1;l++){c=E.apply(0,e.concat(l/i));a.push({x:c.x,y:c.y,t:l/i})}for(l=0;l<r;l++)for(var f=0;f<i;f++){var d=o[l],h=o[l+1],p=a[f],v=a[f+1],g=Math.abs(h.x-d.x)<.001?"y":"x",m=Math.abs(v.x-p.x)<.001?"y":"x",x=b(d.x,d.y,h.x,h.y,p.x,p.y,v.x,v.y);if(x){if(u[x.x.toFixed(4)]===x.y.toFixed(4))continue;u[x.x.toFixed(4)]=x.y.toFixed(4);var S=d.t+Math.abs((x[g]-d[g])/(h[g]-d[g]))*(h.t-d.t),O=p.t+Math.abs((x[m]-p[m])/(v[m]-p[m]))*(v.t-p.t);S>=0&&S<=1&&O>=0&&O<=1&&(n?s+=1:s.push({x:x.x,y:x.y,t1:S,t2:O}))}}return s},M=function(t,e){return function(t,e,n){var r,i,o,a,u,s,l,c,f,d;t=p(t),e=p(e);for(var h=n?0:[],v=0,g=t.length;v<g;v++){var m=t[v];if("M"===m[0])r=u=m[1],i=s=m[2];else{"C"===m[0]?(f=[r,i].concat(m.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,u,s,u,s],r=u,i=s);for(var y=0,x=e.length;y<x;y++){var b=e[y];if("M"===b[0])o=l=b[1],a=c=b[2];else{"C"===b[0]?(d=[o,a].concat(b.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,l,c,l,c],o=l,a=c);var w=O(f,d,n);if(n)h+=w;else{for(var S=0,k=w.length;S<k;S++)w[S].segment1=v,w[S].segment2=y,w[S].bez1=f,w[S].bez2=d;h=h.concat(w)}}}}}return h}(t,e)};function _(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}var A=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,u=0;u<n-1;u++){var s=_(o,a/(1-a*u));i.push(s.left),o=s.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},T=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var u=Math.floor(i*a);o[u]=(o[u]||0)+1}var s=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(A(t[i],t[i+1],r))}),[]);return s.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||s.push("Z"),s},P=function(t,e){if(t.length!==e.length)return!1;var n=!0;return(0,r.S6)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function D(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var F=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var u=[],s=0;s<=i;s++)u[s]=[],u[s][0]={min:s};for(var l=0;l<=o;l++)u[0][l]={min:l};for(s=1;s<=i;s++)for(n=t[s-1],l=1;l<=o;l++){r=e[l-1],a=P(n,r)?0:1;var c=u[s-1][l].min+1,f=u[s][l-1].min+1,d=u[s-1][l-1].min+a;u[s][l]=D(c,f,d)}return u}(t,e),r=t.length,i=e.length,o=[],a=1,u=1;if(n[r][i].min!==r){for(var s=1;s<=r;s++){var l=n[s][s].min;u=s;for(var c=a;c<=i;c++)n[s][c].min<l&&(l=n[s][c].min,u=c);a=u,n[s][a].type&&o.push({index:s-1,type:n[s][a].type})}for(s=o.length-1;s>=0;s--)a=o[s].index,"add"===o[s].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var f=i-(r=t.length);if(r<i)for(s=0;s<f;s++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function N(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=I(e)[0],u=1;u<=n;u++)o*=u,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function I(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var L=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=I(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=N(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=N(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=N(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t}},9341:function(t,e,n){"use strict";n.d(e,{FE:function(){return o},mY:function(){return a},$O:function(){return u}});var r=n(2489),i=n(3841);function o(t,e,n){var i=1;if((0,r.HD)(t)&&(i=t.split("\n").length),i>1){var o=function(t,e){return e?e-t:.14*t}(e,n);return e*i+o*(i-1)}return e}function a(t,e){var n=(0,i.L)(),o=0;if((0,r.kK)(t)||""===t)return o;if(n.save(),n.font=e,(0,r.HD)(t)&&t.includes("\n")){var a=t.split("\n");(0,r.S6)(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o}function u(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},2489:function(t,e,n){"use strict";n.d(e,{As:function(){return i},jU:function(){return o},kK:function(){return r.UM},mf:function(){return r.mf},HD:function(){return r.HD},Kn:function(){return r.Kn},CD:function(){return r.CD},S6:function(){return r.S6},jC:function(){return r.jC},UY:function(){return a},pP:function(){return u}});var r=n(3415);function i(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var o="undefined"!==typeof window&&"undefined"!==typeof window.document;function a(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function u(t){return t.cfg.visible&&t.cfg.capture}},1622:function(t,e,n){"use strict";n.d(e,{wN:function(){return D},Ll:function(){return E},x1:function(){return d},aH:function(){return j},lD:function(){return x},Zr:function(){return r}});var r={};function i(t){return Math.min.apply(null,t)}function o(t){return Math.max.apply(null,t)}function a(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function u(t,e){return Math.abs(t-e)<.001}function s(t,e){var n=i(t),r=i(e);return{x:n,y:r,width:o(t)-n,height:o(e)-r}}function l(t,e,n,r){return{minX:i([t,n]),maxX:o([t,n]),minY:i([e,r]),maxY:o([e,r])}}function c(t){return(t+2*Math.PI)%(2*Math.PI)}n.r(r),n.d(r,{distance:function(){return a},getBBoxByArray:function(){return s},getBBoxRange:function(){return l},isNumberEqual:function(){return u},piMod:function(){return c}});var f=n(9874),d={box:function(t,e,n,r){return s([t,n],[e,r])},length:function(t,e,n,r){return a(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var u=(n-t)*(i-t)+(r-e)*(o-e);return u<0?a(t,e,i,o):u>(n-t)*(n-t)+(r-e)*(r-e)?a(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(f.I6(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var u=[-a[1],a[0]];f.Fv(u,u);var s=[i-t,o-e];return Math.abs(f.AK(s,u))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}};function h(t,e,n,r,i,o){var u,s=1/0,l=[n,r],c=20;o&&o>200&&(c=o/10);for(var f=1/c,d=f/10,h=0;h<=c;h++){var p=h*f,v=[i.apply(null,t.concat([p])),i.apply(null,e.concat([p]))];(x=a(l[0],l[1],v[0],v[1]))<s&&(u=p,s=x)}if(0===u)return{x:t[0],y:e[0]};if(1===u){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(h=0;h<32&&!(d<1e-4);h++){var m=u-d,y=u+d,x=(v=[i.apply(null,t.concat([m])),i.apply(null,e.concat([m]))],a(l[0],l[1],v[0],v[1]));if(m>=0&&x<s)u=m,s=x;else{var b=[i.apply(null,t.concat([y])),i.apply(null,e.concat([y]))],w=a(l[0],l[1],b[0],b[1]);y<=1&&w<s?(u=y,s=w):d*=.5}}return{x:i.apply(null,t.concat([u])),y:i.apply(null,e.concat([u]))}}function p(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function v(t,e,n){var r=t+n-2*e;if(u(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function g(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function m(t,e,n,r,i,o,a){var u=p(t,n,i,a),s=p(e,r,o,a),l=d.pointAt(t,e,n,r,a),c=d.pointAt(n,r,i,o,a);return[[t,e,l.x,l.y,u,s],[u,s,c.x,c.y,i,o]]}function y(t,e,n,r,i,o,u){if(0===u)return(a(t,e,n,r)+a(n,r,i,o)+a(t,e,i,o))/2;var s=m(t,e,n,r,i,o,.5),l=s[0],c=s[1];return l.push(u-1),c.push(u-1),y.apply(null,l)+y.apply(null,c)}var x={box:function(t,e,n,r,i,o){var a=v(t,n,i)[0],u=v(e,r,o)[0],l=[t,i],c=[e,o];return void 0!==a&&l.push(p(t,n,i,a)),void 0!==u&&c.push(p(e,r,o,u)),s(l,c)},length:function(t,e,n,r,i,o){return y(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,u){return h([t,n,i],[e,r,o],a,u,p)},pointDistance:function(t,e,n,r,i,o,u,s){var l=this.nearestPoint(t,e,n,r,i,o,u,s);return a(l.x,l.y,u,s)},interpolationAt:p,pointAt:function(t,e,n,r,i,o,a){return{x:p(t,n,i,a),y:p(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return m(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var u=g(t,n,i,a),s=g(e,r,o,a);return c(Math.atan2(s,u))}};function b(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function w(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function S(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,l=6*t-12*e+6*n,c=3*e-3*t,f=[];if(u(s,0))u(l,0)||(i=-c/l)>=0&&i<=1&&f.push(i);else{var d=l*l-4*s*c;u(d,0)?f.push(-l/(2*s)):d>0&&(o=(-l-(a=Math.sqrt(d)))/(2*s),(i=(-l+a)/(2*s))>=0&&i<=1&&f.push(i),o>=0&&o<=1&&f.push(o))}return f}function k(t,e,n,r,i,o,a,u,s){var l=b(t,n,i,a,s),c=b(e,r,o,u,s),f=d.pointAt(t,e,n,r,s),h=d.pointAt(n,r,i,o,s),p=d.pointAt(i,o,a,u,s),v=d.pointAt(f.x,f.y,h.x,h.y,s),g=d.pointAt(h.x,h.y,p.x,p.y,s);return[[t,e,f.x,f.y,v.x,v.y,l,c],[l,c,g.x,g.y,p.x,p.y,a,u]]}function C(t,e,n,r,i,o,u,s,l){if(0===l)return function(t,e){for(var n=0,r=t.length,i=0;i<r;i++)n+=a(t[i],e[i],t[(i+1)%r],e[(i+1)%r]);return n/2}([t,n,i,u],[e,r,o,s]);var c=k(t,e,n,r,i,o,u,s,.5),f=c[0],d=c[1];return f.push(l-1),d.push(l-1),C.apply(null,f)+C.apply(null,d)}var E={extrema:S,box:function(t,e,n,r,i,o,a,u){for(var l=[t,a],c=[e,u],f=S(t,n,i,a),d=S(e,r,o,u),h=0;h<f.length;h++)l.push(b(t,n,i,a,f[h]));for(h=0;h<d.length;h++)c.push(b(e,r,o,u,d[h]));return s(l,c)},length:function(t,e,n,r,i,o,a,u){return C(t,e,n,r,i,o,a,u,3)},nearestPoint:function(t,e,n,r,i,o,a,u,s,l,c){return h([t,n,i,a],[e,r,o,u],s,l,b,c)},pointDistance:function(t,e,n,r,i,o,u,s,l,c,f){var d=this.nearestPoint(t,e,n,r,i,o,u,s,l,c,f);return a(d.x,d.y,l,c)},interpolationAt:b,pointAt:function(t,e,n,r,i,o,a,u,s){return{x:b(t,n,i,a,s),y:b(e,r,o,u,s)}},divide:function(t,e,n,r,i,o,a,u,s){return k(t,e,n,r,i,o,a,u,s)},tangentAngle:function(t,e,n,r,i,o,a,u,s){var l=w(t,n,i,a,s),f=w(e,r,o,u,s);return c(Math.atan2(f,l))}};function O(t,e){var n=Math.abs(t);return e>0?n:-1*n}var M=function(t,e,n,r,i,o){var a=n,u=r;if(0===a||0===u)return{x:t,y:e};for(var s,l,c=i-t,f=o-e,d=Math.abs(c),h=Math.abs(f),p=a*a,v=u*u,g=Math.PI/4,m=0;m<4;m++){s=a*Math.cos(g),l=u*Math.sin(g);var y=(p-v)*Math.pow(Math.cos(g),3)/a,x=(v-p)*Math.pow(Math.sin(g),3)/u,b=s-y,w=l-x,S=d-y,k=h-x,C=Math.hypot(w,b),E=Math.hypot(k,S);g+=C*Math.asin((b*k-w*S)/(C*E))/Math.sqrt(p+v-s*s-l*l),g=Math.min(Math.PI/2,Math.max(0,g))}return{x:t+O(s,c),y:e+O(l,f)}};function _(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function A(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function T(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function P(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var D={box:function(t,e,n,r,i,o,a){for(var u=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),s=1/0,l=-1/0,c=[o,a],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var d=u+f;o<a?o<d&&d<a&&c.push(d):a<d&&d<o&&c.push(d)}for(f=0;f<c.length;f++){var h=_(t,0,n,r,i,c[f]);h<s&&(s=h),h>l&&(l=h)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),v=1/0,g=-1/0,m=[o,a];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var y=p+f;o<a?o<y&&y<a&&m.push(y):a<y&&y<o&&m.push(y)}for(f=0;f<m.length;f++){var x=A(0,e,n,r,i,m[f]);x<v&&(v=x),x>g&&(g=x)}return{x:s,y:v,width:l-s,height:g-v}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,u,s){var l=P(u-t,s-e,-i),c=l[0],f=l[1],d=M(0,0,n,r,c,f),h=function(t,e,n,r){return(Math.atan2(r*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,r,d.x,d.y);h<o?d=T(n,r,o):h>a&&(d=T(n,r,a));var p=P(d.x,d.y,i);return{x:p[0]+t,y:p[1]+e}},pointDistance:function(t,e,n,r,i,o,u,s,l){var c=this.nearestPoint(t,e,n,r,s,l);return a(c.x,c.y,s,l)},pointAt:function(t,e,n,r,i,o,a,u){var s=(a-o)*u+o;return{x:_(t,0,n,r,i,s),y:A(0,e,n,r,i,s)}},tangentAngle:function(t,e,n,r,i,o,a,u){var s=(a-o)*u+o,l=function(t,e,n,r,i,o,a,u){return-1*n*Math.cos(i)*Math.sin(u)-r*Math.sin(i)*Math.cos(u)}(0,0,n,r,i,0,0,s),f=function(t,e,n,r,i,o,a,u){return-1*n*Math.sin(i)*Math.sin(u)+r*Math.cos(i)*Math.cos(u)}(0,0,n,r,i,0,0,s);return c(Math.atan2(f,l))}};function F(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],u=a(i[0],i[1],o[0],o[1]),s={from:i,to:o,length:u};n.push(s),e+=u}return{segments:n,totalLength:e}}function N(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=a(r[0],r[1],i[0],i[1])}return e}function I(t,e){if(e>1||e<0||t.length<2)return null;var n=F(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,u=0;u<r.length;u++){var s=r[u],l=s.from,c=s.to,f=s.length/i;if(e>=o&&e<=o+f){var h=(e-o)/f;a=d.pointAt(l[0],l[1],c[0],c[1],h);break}o+=f}return a}function L(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=F(t),r=n.segments,i=n.totalLength,o=0,a=0,u=0;u<r.length;u++){var s=r[u],l=s.from,c=s.to,f=s.length/i;if(e>=o&&e<=o+f){a=Math.atan2(c[1]-l[1],c[0]-l[0]);break}o+=f}return a}function R(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],a=t[i+1],u=d.pointDistance(o[0],o[1],a[0],a[1],e,n);u<r&&(r=u)}return r}var j={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return s(e,n)},length:function(t){return N(t)},pointAt:function(t,e){return I(t,e)},pointDistance:function(t,e,n){return R(t,e,n)},tangentAngle:function(t,e){return L(t,e)}}},6403:function(t,e,n){"use strict";n.d(e,{m$:function(){return o},zu:function(){return a},lh:function(){return u},vs:function(){return s},Dg:function(){return l}});var r=n(5742),i=n(9874);function o(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.vc(i,n),r.Jp(t,i,e)}function a(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.Us(i,n),r.Jp(t,i,e)}function u(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.xJ(i,n),r.Jp(t,i,e)}function s(t,e){for(var n,i,s,l=t?[].concat(t):[1,0,0,0,1,0,0,0,1],c=0,f=e.length;c<f;c++){var d=e[c];switch(d[0]){case"t":o(l,l,[d[1],d[2]]);break;case"s":u(l,l,[d[1],d[2]]);break;case"r":a(l,l,d[1]);break;case"m":n=l,i=l,s=d[1],r.Jp(n,s,i)}}return l}function l(t,e,n){var r=i.EU(t,e),o=function(t,e){return t[0]*e[1]-e[0]*t[1]}(t,e)>=0;return n?o?2*Math.PI-r:r:o?r:2*Math.PI-r}},3313:function(t,e,n){"use strict";n.d(e,{e9:function(){return s},Wq:function(){return T},tr:function(){return d},wb:function(){return v},zx:function(){return S}});var r=n(3415),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;var a=function(t){var e=t||[];return(0,r.kJ)(e)?e:(0,r.HD)(e)?(e=e.match(i),(0,r.S6)(e,(function(t,n){if((t=t.match(o))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}(0,r.S6)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0},u=n(9874);var s=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var s,l,c,f=function(t,e,n,r){var i,o,a,s,l,c,f,d=[],h=!!r;if(h){a=r[0],s=r[1];for(var p=0,v=t.length;p<v;p+=1){var g=t[p];a=u.VV([0,0],a,g),s=u.Fp([0,0],s,g)}}p=0;for(var m=t.length;p<m;p+=1)if(g=t[p],0!==p||n)if(p!==m-1||n){i=t[[p?p-1:m-1,p-1][n?0:1]],o=t[n?(p+1)%m:p+1];var y=[0,0];y=u.lu(y,o,i),y=u.bA(y,y,e);var x=u.TE(g,i),b=u.TE(g,o),w=x+b;0!==w&&(x/=w,b/=w);var S=u.bA([0,0],y,-x),k=u.bA([0,0],y,b);c=u.IH([0,0],g,S),l=u.IH([0,0],g,k),l=u.VV([0,0],l,u.Fp([0,0],o,g)),l=u.Fp([0,0],l,u.VV([0,0],o,g)),S=u.lu([0,0],l,g),S=u.bA([0,0],S,-x/b),c=u.IH([0,0],g,S),c=u.VV([0,0],c,u.Fp([0,0],i,g)),c=u.Fp([0,0],c,u.VV([0,0],i,g)),k=u.lu([0,0],g,c),k=u.bA([0,0],k,b/x),l=u.IH([0,0],g,k),h&&(c=u.Fp([0,0],c,a),c=u.VV([0,0],c,s),l=u.Fp([0,0],l,a),l=u.VV([0,0],l,s)),d.push(f),d.push(c),f=l}else c=g,d.push(f),d.push(c);else f=g;return n&&d.push(d.shift()),d}(i,.4,r,n),d=i.length,h=[];for(o=0;o<d-1;o+=1)s=f[2*o],l=f[2*o+1],c=i[o+1],h.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return r&&(s=f[d],l=f[d+1],c=i[0],h.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),h};var l="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",c=new RegExp("([a-z])["+l+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+l+"]*,?["+l+"]*)+)","ig"),f=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+l+"]*,?["+l+"]*","ig");function d(t){if(!t)return null;if((0,r.kJ)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(c,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(f,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return""})),n}var h=/[a-z]/;function p(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function v(t){var e=d(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(h.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,u=0,s=0,l=0,c=0,f=e[0];"M"!==f[0]&&"m"!==f[0]||(s=a=+f[1],l=u=+f[2],c++,o[0]=["M",a,u]);r=c;for(var v=e.length;r<v;r++){var g=e[r],m=o[r-1],y=[],x=(i=g[0]).toUpperCase();if(i!==x)switch(y[0]=x,x){case"A":y[1]=g[1],y[2]=g[2],y[3]=g[3],y[4]=g[4],y[5]=g[5],y[6]=+g[6]+a,y[7]=+g[7]+u;break;case"V":y[1]=+g[1]+u;break;case"H":y[1]=+g[1]+a;break;case"M":s=+g[1]+a,l=+g[2]+u,y[1]=s,y[2]=l;break;default:for(var b=1,w=g.length;b<w;b++)y[b]=+g[b]+(b%2?a:u)}else y=e[r];switch(x){case"Z":a=+s,u=+l;break;case"H":y=["L",a=y[1],u];break;case"V":y=["L",a,u=y[1]];break;case"T":a=y[1],u=y[2];var S=p([m[1],m[2]],[m[3],m[4]]);y=["Q",S[0],S[1],a,u];break;case"S":a=y[y.length-2],u=y[y.length-1];var k=m.length,C=p([m[k-4],m[k-3]],[m[k-2],m[k-1]]);y=["C",C[0],C[1],y[1],y[2],a,u];break;case"M":s=y[y.length-2],l=y[y.length-1];break;default:a=y[y.length-2],u=y[y.length-1]}o.push(y)}return o}Math.PI;function g(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function m(t,e){return g(t)*g(e)?(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e)):1}function y(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(m(t,e))}function x(t,e){return t[0]===e[0]&&t[1]===e[1]}function b(t,e){var n=e[1],i=e[2],o=(0,r.wQ)((0,r.c$)(e[3]),2*Math.PI),a=e[4],u=e[5],s=t[0],l=t[1],c=e[6],f=e[7],d=Math.cos(o)*(s-c)/2+Math.sin(o)*(l-f)/2,h=-1*Math.sin(o)*(s-c)/2+Math.cos(o)*(l-f)/2,p=d*d/(n*n)+h*h/(i*i);p>1&&(n*=Math.sqrt(p),i*=Math.sqrt(p));var v=n*n*(h*h)+i*i*(d*d),g=v?Math.sqrt((n*n*(i*i)-v)/v):1;a===u&&(g*=-1),isNaN(g)&&(g=0);var b=i?g*n*h/i:0,w=n?g*-i*d/n:0,S=(s+c)/2+Math.cos(o)*b-Math.sin(o)*w,k=(l+f)/2+Math.sin(o)*b+Math.cos(o)*w,C=[(d-b)/n,(h-w)/i],E=[(-1*d-b)/n,(-1*h-w)/i],O=y([1,0],C),M=y(C,E);return m(C,E)<=-1&&(M=Math.PI),m(C,E)>=1&&(M=0),0===u&&M>0&&(M-=2*Math.PI),1===u&&M<0&&(M+=2*Math.PI),{cx:S,cy:k,rx:x(t,[c,f])?0:n,ry:x(t,[c,f])?0:i,startAngle:O,endAngle:O+M,xRotation:o,arcFlag:a,sweepFlag:u}}function w(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function S(t){for(var e=[],n=null,r=null,i=null,o=0,u=(t=a(t)).length,s=0;s<u;s++){var l=t[s];r=t[s+1];var c=l[0],f={command:c,prePoint:n,params:l,startTangent:null,endTangent:null};switch(c){case"M":i=[l[1],l[2]],o=s;break;case"A":var d=b(n,l);f.arcParams=d}if("Z"===c)n=i,r=t[o+1];else{var h=l.length;n=[l[h-2],l[h-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),f.currentPoint=n,e[o]&&x(n,e[o].currentPoint)&&(e[o].prePoint=f.prePoint);var p=r?[r[r.length-2],r[r.length-1]]:null;f.nextPoint=p;var v=f.prePoint;if(["L","H","V"].includes(c))f.startTangent=[v[0]-n[0],v[1]-n[1]],f.endTangent=[n[0]-v[0],n[1]-v[1]];else if("Q"===c){var g=[l[1],l[2]];f.startTangent=[v[0]-g[0],v[1]-g[1]],f.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c){g=w((S=e[s-1]).currentPoint,v);"Q"===S.command?(f.command="Q",f.startTangent=[v[0]-g[0],v[1]-g[1]],f.endTangent=[n[0]-g[0],n[1]-g[1]]):(f.command="TL",f.startTangent=[v[0]-n[0],v[1]-n[1]],f.endTangent=[n[0]-v[0],n[1]-v[1]])}else if("C"===c){var m=[l[1],l[2]],y=[l[3],l[4]];f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[n[0]-y[0],n[1]-y[1]],0===f.startTangent[0]&&0===f.startTangent[1]&&(f.startTangent=[m[0]-y[0],m[1]-y[1]]),0===f.endTangent[0]&&0===f.endTangent[1]&&(f.endTangent=[y[0]-m[0],y[1]-m[1]])}else if("S"===c){var S;m=w((S=e[s-1]).currentPoint,v),y=[l[1],l[2]];"C"===S.command?(f.command="C",f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[n[0]-y[0],n[1]-y[1]]):(f.command="SQ",f.startTangent=[v[0]-y[0],v[1]-y[1]],f.endTangent=[n[0]-y[0],n[1]-y[1]])}else if("A"===c){var k=.001,C=f.arcParams||{},E=C.cx,O=void 0===E?0:E,M=C.cy,_=void 0===M?0:M,A=C.rx,T=void 0===A?0:A,P=C.ry,D=void 0===P?0:P,F=C.sweepFlag,N=void 0===F?0:F,I=C.startAngle,L=void 0===I?0:I,R=C.endAngle,j=void 0===R?0:R;0===N&&(k*=-1);var B=T*Math.cos(L-k)+O,z=D*Math.sin(L-k)+_;f.startTangent=[B-i[0],z-i[1]];var U=T*Math.cos(L+j+k)+O,H=D*Math.sin(L+j-k)+_;f.endTangent=[v[0]-U,v[1]-H]}e.push(f)}return e}function k(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function C(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function E(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],u=t[(o+1)%i];if(C(a,u,[e,n]))return!0;k(a[1]-n)>0!==k(u[1]-n)>0&&k(e-(n-a[1])*(a[0]-u[0])/(a[1]-u[1])-a[0])<0&&(r=!r)}return r}var O=function(t,e,n){return t>=e&&t<=n};function M(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],u=t[n-1];e.push({from:{x:u[0],y:u[1]},to:{x:a[0],y:a[1]}})}return e}function _(t,e){var n=!1;return(0,r.S6)(t,(function(t){if(function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,u=e.y-t.y,s=r.x-n.x,l=r.y-n.y,c=a*l-u*s,f=null;if(c*c>.001*(a*a+u*u)*(s*s+l*l)){var d=(i*l-o*s)/c,h=(i*u-o*a)/c;O(d,0,1)&&O(h,0,1)&&(f={x:t.x+d*a,y:t.y+d*u})}return f}(t.from,t.to,e.from,e.to))return n=!0,!1})),n}function A(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function T(t,e){if(t.length<2||e.length<2)return!1;var n,i,o=A(t),a=A(e);if(n=o,(i=a).minX>n.maxX||i.maxX<n.minX||i.minY>n.maxY||i.maxY<n.minY)return!1;var u=!1;if((0,r.S6)(e,(function(e){if(E(t,e[0],e[1]))return u=!0,!1})),u)return!0;if((0,r.S6)(t,(function(t){if(E(e,t[0],t[1]))return u=!0,!1})),u)return!0;var s=M(t),l=M(e),c=!1;return(0,r.S6)(l,(function(t){if(_(s,t))return c=!0,!1})),c}},3415:function(t,e,n){"use strict";n.d(e,{Ct:function(){return Wt},f0:function(){return _t},uZ:function(){return H},VS:function(){return pt},d9:function(){return vt},FX:function(){return i},Ds:function(){return gt},b$:function(){return xt},e5:function(){return a},S6:function(){return h},yW:function(){return L},hX:function(){return o},sE:function(){return y},cx:function(){return x},Wx:function(){return b},ri:function(){return V},xH:function(){return w},U5:function(){return Z},U2:function(){return At},Lo:function(){return Vt},rx:function(){return C},ru:function(){return U},vM:function(){return B},Ms:function(){return z},wH:function(){return J},YM:function(){return N},q9:function(){return i},cq:function(){return bt},kJ:function(){return f},jn:function(){return at},J_:function(){return ut},kK:function(){return dt},xb:function(){return St},Xy:function(){return kt},mf:function(){return l},BD:function(){return v},UM:function(){return c},Ft:function(){return st},hj:function(){return W},vQ:function(){return Y},Kn:function(){return d},PO:function(){return m},HD:function(){return T},P9:function(){return s},o8:function(){return ft},XP:function(){return p},Z$:function(){return I},vl:function(){return et},UI:function(){return Ct},Q8:function(){return Ot},Fp:function(){return S},UT:function(){return q},HP:function(){return mt},VV:function(){return k},F:function(){return G},CD:function(){return _t},wQ:function(){return $},ZT:function(){return jt},CE:function(){return Ft},ei:function(){return Dt},u4:function(){return _},Od:function(){return A},U7:function(){return ht},t8:function(){return Tt},dp:function(){return Bt},G:function(){return R},MR:function(){return P},ng:function(){return nt},P2:function(){return Nt},qo:function(){return It},c$:function(){return K},BB:function(){return tt},jj:function(){return D},EL:function(){return Rt},jC:function(){return rt},VO:function(){return Q},I:function(){return F}});var r=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},i=function(t,e){return!!r(t)&&t.indexOf(e)>-1},o=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,(function(t){return!i(e,t)}))},u={}.toString,s=function(t,e){return u.call(t)==="[object "+e+"]"},l=function(t){return s(t,"Function")},c=function(t){return null===t||void 0===t},f=function(t){return Array.isArray?Array.isArray(t):s(t,"Array")},d=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var h=function(t,e){if(t)if(f(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(d(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},p=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return h(t,(function(n,r){l(t)&&"prototype"===r||e.push(r)})),e};var v=function(t,e){var n=p(e),r=n.length;if(c(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0},g=function(t){return"object"===typeof t&&null!==t},m=function(t){if(!g(t)||!s(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var y=function(t,e){if(!f(t))return null;var n;if(l(e)&&(n=e),m(e)&&(n=function(t){return v(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};var x=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},b=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!c(i)){n=f(i)?i[0]:i;break}}return n},w=function(t){if(!f(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},S=function(t){if(f(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},k=function(t){if(f(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},C=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(f(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=S(e);return{min:k(e),max:i}},E=Array.prototype,O=(E.splice,E.indexOf,Array.prototype.splice),M=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var o=void 0,a=e[n];n!==i&&a===o||(o=a,O.call(t,a,1))}return t},_=function(t,e,n){if(!f(t)&&!m(t))return t;var r=n;return h(t,(function(t,n){r=e(r,t,n)})),r},A=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,o=[],a=t.length;++i<a;){var u=t[i];e(u,i,t)&&(n.push(u),o.push(i))}return M(t,o),n},T=function(t){return s(t,"String")};var P=function(t,e){var n;if(l(e))n=function(t,n){return e(t)-e(n)};else{var r=[];T(e)?r.push(e):f(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t};function D(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var F=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!c(o)){f(o)||(o=[o]);for(var a=0;a<o.length;a++){var u=o[a];r[u]||(n.push(u),r[u]=!0)}}}return n};function N(t){if(r(t))return t[0]}function I(t){if(r(t)){return t[t.length-1]}}var L=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},R=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},j=Object.prototype.hasOwnProperty;var B=function(t,e){if(!e||!f(t))return{};for(var n,r={},i=l(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),j.call(r,n)?r[n].push(a):r[n]=[a]}return r};function z(t,e){if(!e)return{0:t};if(!l(e)){var n=f(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return B(t,e)}var U=function(t,e){if(!e)return[t];var n=z(t,e),r=[];for(var i in n)r.push(n[i]);return r};var H=function(t,e,n){return t<e?e:t>n?n:t},V=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},W=function(t){return s(t,"Number")};Number.isInteger&&Number.isInteger;function Y(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var q=function(t,e){if(f(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=l(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}},G=function(t,e){if(f(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=l(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},$=function(t,e){return(t%e+e)%e},X=(Math.PI,parseInt,Math.PI/180),K=function(t){return X*t},Z=h,J=function(t,e){return t.hasOwnProperty(e)},Q=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return h(t,(function(n,r){l(t)&&"prototype"===r||e.push(n)})),e},tt=function(t){return c(t)?"":t.toString()},et=function(t){return tt(t).toLowerCase()};var nt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},rt=function(t){var e=tt(t);return e.charAt(0).toUpperCase()+e.substring(1)},it={}.toString,ot=function(t){return it.call(t).replace(/^\[object /,"").replace(/]$/,"")},at=function(t){return s(t,"Boolean")},ut=function(t){return s(t,"Date")};var st=function(t){return null===t},lt=Object.prototype,ct=function(t){var e=t&&t.constructor;return t===("function"===typeof e&&e.prototype||lt)},ft=function(t){return void 0===t},dt=function(t){return t instanceof Element||t instanceof HTMLDocument};function ht(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function pt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}var vt=function t(e){if("object"!==typeof e||null===e)return e;var n;if(f(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===typeof e[r]&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===typeof e[o]&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n};var gt=function(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},u=n&&!r;clearTimeout(r),r=setTimeout(a,e),u&&t.apply(i,o)}},mt=function(t,e){if(!l(t))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var u=t.apply(this,r);return a.set(o,u),u};return n.cache=new Map,n};function yt(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&m(o)?(m(t[i])||(t[i]={}),n<r?yt(t[i],o,n+1,r):t[i]=e[i]):f(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var xt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)yt(t,e[r]);return t},bt=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i},wt=Object.prototype.hasOwnProperty;var St=function(t){if(c(t))return!0;if(r(t))return!t.length;var e=ot(t);if("Map"===e||"Set"===e)return!t.size;if(ct(t))return!Object.keys(t).length;for(var n in t)if(wt.call(t,n))return!1;return!0},kt=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(T(e)||T(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,o=0;o<e.length&&(i=t(e[o],n[o]));o++);return i}if(g(e)||g(n)){var a=Object.keys(e),u=Object.keys(n);if(a.length!==u.length)return!1;for(i=!0,o=0;o<a.length&&(i=t(e[a[o]],n[a[o]]));o++);return i}return!1},Ct=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(e(o,i))}return n},Et=function(t){return t},Ot=function(t,e){void 0===e&&(e=Et);var n={};return d(t)&&!c(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n};function Mt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function _t(t,e,n,r){return e&&Mt(t,e),n&&Mt(t,n),r&&Mt(t,r),t}var At=function(t,e,n){for(var r=0,i=T(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},Tt=function(t,e,n){var r=t,i=T(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(d(r[t])||(r[t]=W(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},Pt=Object.prototype.hasOwnProperty,Dt=function(t,e){if(null===t||!m(t))return{};var n={};return h(e,(function(e){Pt.call(t,e)&&(n[e]=t[e])})),n},Ft=function(t,e){return _(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},Nt=function(t,e,n){var r,i,o,a,u=0;n||(n={});var s=function(){u=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();u||!1!==n.leading||(u=l);var c=e-(l-u);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),u=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(s,c)),a};return l.cancel=function(){clearTimeout(r),u=0,r=i=o=null},l},It=function(t){return r(t)?Array.prototype.slice.call(t):[]},Lt={},Rt=function(t){return Lt[t=t||"g"]?Lt[t]+=1:Lt[t]=1,t+Lt[t]},jt=function(){};function Bt(t){return c(t)?0:r(t)?t.length:Object.keys(t).length}var zt,Ut=n(9388),Ht=mt((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return zt||(zt=document.createElement("canvas").getContext("2d")),zt.font=[o,a,i,n+"px",r].join(" "),zt.measureText(T(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,Ut.pr)([t],Q(e)).join("")})),Vt=function(t,e,n,r){void 0===r&&(r="...");var i,o,a=Ht(r,n),u=T(t)?t:tt(t),s=e,l=[];if(Ht(t,n)<=e)return t;for(;i=u.substr(0,16),!((o=Ht(i,n))+a>s&&o>s);)if(l.push(i),s-=o,!(u=u.substr(16)))return l.join("");for(;i=u.substr(0,1),!((o=Ht(i,n))+a>s);)if(l.push(i),s-=o,!(u=u.substr(1)))return l.join("");return""+l.join("")+r},Wt=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},4569:function(t,e,n){t.exports=n(8036)},3381:function(t,e,n){"use strict";var r=n(3589),i=n(7297),o=n(9301),a=n(9774),u=n(1804),s=n(9145),l=n(5411),c=n(6467),f=n(221),d=n(9346);t.exports=function(t){return new Promise((function(e,n){var h,p=t.data,v=t.headers,g=t.responseType;function m(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete v["Content-Type"];var y=new XMLHttpRequest;if(t.auth){var x=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.Authorization="Basic "+btoa(x+":"+b)}var w=u(t.baseURL,t.url);function S(){if(y){var r="getAllResponseHeaders"in y?s(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:t,request:y};i((function(t){e(t),m()}),(function(t){n(t),m()}),o),y=null}}if(y.open(t.method.toUpperCase(),a(w,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(S)},y.onabort=function(){y&&(n(c("Request aborted",t,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(c("Network Error",t,null,y)),y=null},y.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||f.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(c(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var k=(t.withCredentials||l(w))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;k&&(v[t.xsrfHeaderName]=k)}"setRequestHeader"in y&&r.forEach(v,(function(t,e){"undefined"===typeof p&&"content-type"===e.toLowerCase()?delete v[e]:y.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),g&&"json"!==g&&(y.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(t){y&&(n(!t||t&&t.type?new d("canceled"):t),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),p||(p=null),y.send(p)}))}},8036:function(t,e,n){"use strict";var r=n(3589),i=n(4049),o=n(3773),a=n(777);var u=function t(e){var n=new o(e),u=i(o.prototype.request,n);return r.extend(u,o.prototype,n),r.extend(u,n),u.create=function(n){return t(a(e,n))},u}(n(221));u.Axios=o,u.Cancel=n(9346),u.CancelToken=n(6857),u.isCancel=n(5517),u.VERSION=n(7600).version,u.all=function(t){return Promise.all(t)},u.spread=n(8089),u.isAxiosError=n(9580),t.exports=u,t.exports.default=u},9346:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},6857:function(t,e,n){"use strict";var r=n(9346);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},5517:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},3773:function(t,e,n){"use strict";var r=n(3589),i=n(9774),o=n(7470),a=n(2733),u=n(777),s=n(7835),l=s.validators;function c(t){this.defaults=t,this.interceptors={request:new o,response:new o}}c.prototype.request=function(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},(e=u(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&s.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,c=[];if(this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)})),!i){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(c),o=Promise.resolve(e);f.length;)o=o.then(f.shift(),f.shift());return o}for(var d=e;r.length;){var h=r.shift(),p=r.shift();try{d=h(d)}catch(v){p(v);break}}try{o=a(d)}catch(v){return Promise.reject(v)}for(;c.length;)o=o.then(c.shift(),c.shift());return o},c.prototype.getUri=function(t){return t=u(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(u(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,r){return this.request(u(r||{},{method:t,url:e,data:n}))}})),t.exports=c},7470:function(t,e,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},1804:function(t,e,n){"use strict";var r=n(4044),i=n(9549);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},6467:function(t,e,n){"use strict";var r=n(6460);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},2733:function(t,e,n){"use strict";var r=n(3589),i=n(2693),o=n(5517),a=n(221),u=n(9346);function s(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new u("canceled")}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},6460:function(t){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},777:function(t,e,n){"use strict";var r=n(3589);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function a(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function u(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function s(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var l={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=l[t]||o,i=e(t);r.isUndefined(i)&&e!==s||(n[t]=i)})),n}},7297:function(t,e,n){"use strict";var r=n(6467);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},2693:function(t,e,n){"use strict";var r=n(3589),i=n(221);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},221:function(t,e,n){"use strict";var r=n(3589),i=n(4341),o=n(6460),a={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=n(3381)),t}(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(u(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||s.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(u){if(a){if("SyntaxError"===u.name)throw o(u,this,"E_JSON_PARSE");throw u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){s.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){s.headers[t]=r.merge(a)})),t.exports=s},7600:function(t){t.exports={version:"0.26.0"}},4049:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},9774:function(t,e,n){"use strict";var r=n(3589);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var u=t.indexOf("#");-1!==u&&(t=t.slice(0,u)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},9549:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},9301:function(t,e,n){"use strict";var r=n(3589);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var u=[];u.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(o)&&u.push("domain="+o),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},9580:function(t,e,n){"use strict";var r=n(3589);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},5411:function(t,e,n){"use strict";var r=n(3589);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},4341:function(t,e,n){"use strict";var r=n(3589);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},9145:function(t,e,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},8089:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},7835:function(t,e,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var o={};i.transitional=function(t,e,n){function i(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,a){if(!1===t)throw new Error(i(r," has been removed"+(e?" in "+e:"")));return e&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,a)}},t.exports={assertOptions:function(t,e,n){if("object"!==typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],a=e[o];if(a){var u=t[o],s=void 0===u||a(u,o,t);if(!0!==s)throw new TypeError("option "+o+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},3589:function(t,e,n){"use strict";var r=n(4049),i=Object.prototype.toString;function o(t){return Array.isArray(t)}function a(t){return"undefined"===typeof t}function u(t){return"[object ArrayBuffer]"===i.call(t)}function s(t){return null!==t&&"object"===typeof t}function l(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===i.call(t)}function f(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:u,isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===i.call(t)},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&u(t.buffer)},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:s,isPlainObject:l,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===i.call(t)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function t(){var e={};function n(n,r){l(e[r])&&l(n)?e[r]=t(e[r],n):l(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return e},extend:function(t,e,n){return f(e,(function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},1694:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&t.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&t.push(u);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},3991:function(t){var e=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(u){e=function(){}}try{n=Set}catch(u){n=function(){}}try{r=Promise}catch(u){r=function(){}}function i(o,u,s,l,c){"object"===typeof u&&(s=u.depth,l=u.prototype,c=u.includeNonEnumerable,u=u.circular);var f=[],d=[],h="undefined"!=typeof Buffer;return"undefined"==typeof u&&(u=!0),"undefined"==typeof s&&(s=1/0),function o(s,p){if(null===s)return null;if(0===p)return s;var v,g;if("object"!=typeof s)return s;if(t(s,e))v=new e;else if(t(s,n))v=new n;else if(t(s,r))v=new r((function(t,e){s.then((function(e){t(o(e,p-1))}),(function(t){e(o(t,p-1))}))}));else if(i.__isArray(s))v=[];else if(i.__isRegExp(s))v=new RegExp(s.source,a(s)),s.lastIndex&&(v.lastIndex=s.lastIndex);else if(i.__isDate(s))v=new Date(s.getTime());else{if(h&&Buffer.isBuffer(s))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(v),v;t(s,Error)?v=Object.create(s):"undefined"==typeof l?(g=Object.getPrototypeOf(s),v=Object.create(g)):(v=Object.create(l),g=l)}if(u){var m=f.indexOf(s);if(-1!=m)return d[m];f.push(s),d.push(v)}for(var y in t(s,e)&&s.forEach((function(t,e){var n=o(e,p-1),r=o(t,p-1);v.set(n,r)})),t(s,n)&&s.forEach((function(t){var e=o(t,p-1);v.add(e)})),s){var x;g&&(x=Object.getOwnPropertyDescriptor(g,y)),x&&null==x.set||(v[y]=o(s[y],p-1))}if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(s);for(y=0;y<b.length;y++){var w=b[y];(!(k=Object.getOwnPropertyDescriptor(s,w))||k.enumerable||c)&&(v[w]=o(s[w],p-1),k.enumerable||Object.defineProperty(v,w,{enumerable:!1}))}}if(c){var S=Object.getOwnPropertyNames(s);for(y=0;y<S.length;y++){var k,C=S[y];(k=Object.getOwnPropertyDescriptor(s,C))&&k.enumerable||(v[C]=o(s[C],p-1),Object.defineProperty(v,C,{enumerable:!1}))}}return v}(o,s)}function o(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=o,i.__isDate=function(t){return"object"===typeof t&&"[object Date]"===o(t)},i.__isArray=function(t){return"object"===typeof t&&"[object Array]"===o(t)},i.__isRegExp=function(t){return"object"===typeof t&&"[object RegExp]"===o(t)},i.__getRegExpFlags=a,i}();t.exports&&(t.exports=e)},419:function(t,e,n){"use strict";n.d(e,{Il:function(){return i},xV:function(){return o},J5:function(){return a},ZP:function(){return b},SU:function(){return k},B8:function(){return C},Ss:function(){return E},Ym:function(){return P}});var r=n(8814);function i(){}var o=.7,a=1/o,u="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),v=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),g=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function b(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?w(e):3===n?new E(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?S(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?S(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=f.exec(t))?new E(e[1],e[2],e[3],1):(e=d.exec(t))?new E(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=h.exec(t))?S(e[1],e[2],e[3],e[4]):(e=p.exec(t))?S(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?A(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?A(e[1],e[2]/100,e[3]/100,e[4]):m.hasOwnProperty(t)?w(m[t]):"transparent"===t?new E(NaN,NaN,NaN,0):null}function w(t){return new E(t>>16&255,t>>8&255,255&t,1)}function S(t,e,n,r){return r<=0&&(t=e=n=NaN),new E(t,e,n,r)}function k(t){return t instanceof i||(t=b(t)),t?new E((t=t.rgb()).r,t.g,t.b,t.opacity):new E}function C(t,e,n,r){return 1===arguments.length?k(t):new E(t,e,n,null==r?1:r)}function E(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function O(){return"#"+_(this.r)+_(this.g)+_(this.b)}function M(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function _(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function A(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new D(t,e,n,r)}function T(t){if(t instanceof D)return new D(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=b(t)),!t)return new D;if(t instanceof D)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),u=NaN,s=a-o,l=(a+o)/2;return s?(u=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+o:2-a-o,u*=60):s=l>0&&l<1?0:u,new D(u,s,l,t.opacity)}function P(t,e,n,r){return 1===arguments.length?T(t):new D(t,e,n,null==r?1:r)}function D(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function F(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}(0,r.Z)(i,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return T(this).formatHsl()},formatRgb:x,toString:x}),(0,r.Z)(E,C,(0,r.l)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O,formatHex:O,formatRgb:M,toString:M})),(0,r.Z)(D,P,(0,r.l)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new D(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new D(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new E(F(t>=240?t-240:t+120,i,r),F(t,i,r),F(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},8814:function(t,e,n){"use strict";function r(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}n.d(e,{Z:function(){return r},l:function(){return i}})},7046:function(t,e){!function(t){"use strict";function e(t,e){return n(t)||r(t,e)||i()}function n(t){if(Array.isArray(t))return t}function r(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e,n,r){t=t.filter((function(t,r){var i=e(t,r),o=n(t,r);return null!=i&&isFinite(i)&&null!=o&&isFinite(o)})),r&&t.sort((function(t,n){return e(t)-e(n)}));for(var i,o,a,u=t.length,s=new Float64Array(u),l=new Float64Array(u),c=0,f=0,d=0;d<u;)a=t[d],s[d]=i=+e(a,d,t),l[d]=o=+n(a,d,t),c+=(i-c)/++d,f+=(o-f)/d;for(var h=0;h<u;++h)s[h]-=c,l[h]-=f;return[s,l,c,f]}function a(t,e,n,r){for(var i=0,o=0,a=t.length;o<a;o++){var u=t[o],s=+e(u,o,t),l=+n(u,o,t);null!=s&&isFinite(s)&&null!=l&&isFinite(l)&&r(s,l,i++)}}function u(t,e,n,r,i){var o=0,u=0;return a(t,e,n,(function(t,e){var n=e-i(t),a=e-r;o+=n*n,u+=a*a})),1-o/u}function s(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function l(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function c(t,e,n){for(var r=Math.log(e-t)*Math.LOG10E+1|0,i=1*Math.pow(10,-r/2-1),o=1e4,a=[c(t),c(e)],u=0;f(a)&&u<o;);return a;function c(t){return[t,n(t)]}function f(t){u++;for(var e=t.length,n=!1,r=0;r<e-1;r++){var o=t[r],a=l([o,t[r+1]]),f=c(a[0]),d=s([o,a]),h=s([o,f]);Math.abs(d-h)>i&&(t.splice(r+1,0,f),n=!0)}return n}}function f(t,e,n,r){var i=r-t*t,o=Math.abs(i)<1e-24?0:(n-t*e)/i;return[e-o*t,o]}function d(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var o=0,s=0,l=0,d=0,h=0,p=0,v=t?+t[0]:1/0,g=t?+t[1]:-1/0;a(i,n,r,(function(e,n){var r=Math.log(n),i=e*n;++o,s+=(n-s)/o,d+=(i-d)/o,p+=(e*i-p)/o,l+=(n*r-l)/o,h+=(i*r-h)/o,t||(e<v&&(v=e),e>g&&(g=e))}));var m=e(f(d/s,l/s,h/s,p/s),2),y=m[0],x=m[1];y=Math.exp(y);var b=function(t){return y*Math.exp(x*t)},w=c(v,g,b);return w.a=y,w.b=x,w.predict=b,w.rSquared=u(i,n,r,s,b),w}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}function h(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var o=0,s=0,l=0,c=0,d=0,h=t?+t[0]:1/0,p=t?+t[1]:-1/0;a(i,n,r,(function(e,n){++o,s+=(e-s)/o,l+=(n-l)/o,c+=(e*n-c)/o,d+=(e*e-d)/o,t||(e<h&&(h=e),e>p&&(p=e))}));var v=e(f(s,l,c,d),2),g=v[0],m=v[1],y=function(t){return m*t+g},x=[[h,y(h)],[p,y(p)]];return x.a=m,x.b=g,x.predict=y,x.rSquared=u(i,n,r,l,y),x}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}function p(t){t.sort((function(t,e){return t-e}));var e=t.length/2;return e%1===0?(t[e-1]+t[e])/2:t[Math.floor(e)]}var v=2,g=1e-12;function m(){var t=function(t){return t[0]},n=function(t){return t[1]},r=.3;function i(i){for(var a=e(o(i,t,n,!0),4),u=a[0],s=a[1],l=a[2],c=a[3],d=u.length,h=Math.max(2,~~(r*d)),m=new Float64Array(d),w=new Float64Array(d),S=new Float64Array(d).fill(1),k=-1;++k<=v;){for(var C=[0,h-1],E=0;E<d;++E){for(var O=u[E],M=C[0],_=C[1],A=O-u[M]>u[_]-O?M:_,T=0,P=0,D=0,F=0,N=0,I=1/Math.abs(u[A]-O||1),L=M;L<=_;++L){var R=u[L],j=s[L],B=y(Math.abs(O-R)*I)*S[L],z=R*B;T+=B,P+=z,D+=j*B,F+=j*z,N+=R*z}var U=e(f(P/T,D/T,F/T,N/T),2),H=U[0],V=U[1];m[E]=H+V*O,w[E]=Math.abs(s[E]-m[E]),x(u,E+1,C)}if(k===v)break;var W=p(w);if(Math.abs(W)<g)break;for(var Y,q,G=0;G<d;++G)Y=w[G]/(6*W),S[G]=Y>=1?g:(q=1-Y*Y)*q}return b(u,m,l,c)}return i.bandwidth=function(t){return arguments.length?(r=t,i):r},i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(t){return arguments.length?(n=t,i):n},i}function y(t){return(t=1-t*t*t)*t*t}function x(t,e,n){var r=t[e],i=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>i&&t[o]-r<=r-t[i];)n[0]=++i,n[1]=o,++o}function b(t,e,n,r){for(var i,o=t.length,a=[],u=0,s=0,l=[];u<o;++u)i=t[u]+n,l[0]===i?l[1]+=(e[u]-l[1])/++s:(s=0,l[1]+=r,l=[i,e[u]],a.push(l));return l[1]+=r,a}function w(){var t,n=function(t){return t[0]},r=function(t){return t[1]},i=Math.E;function o(o){var s=0,l=0,d=0,h=0,p=0,v=t?+t[0]:1/0,g=t?+t[1]:-1/0,m=Math.log(i);a(o,n,r,(function(e,n){var r=Math.log(e)/m;++s,l+=(r-l)/s,d+=(n-d)/s,h+=(r*n-h)/s,p+=(r*r-p)/s,t||(e<v&&(v=e),e>g&&(g=e))}));var y=e(f(l,d,h,p),2),x=y[0],b=y[1],w=function(t){return b*Math.log(t)/m+x},S=c(v,g,w);return S.a=b,S.b=x,S.predict=w,S.rSquared=u(o,n,r,d,w),S}return o.domain=function(e){return arguments.length?(t=e,o):t},o.x=function(t){return arguments.length?(n=t,o):n},o.y=function(t){return arguments.length?(r=t,o):r},o.base=function(t){return arguments.length?(i=t,o):i},o}function S(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var s,l,f,d,h=e(o(i,n,r),4),p=h[0],v=h[1],g=h[2],m=h[3],y=p.length,x=0,b=0,w=0,S=0,k=0;for(s=0;s<y;)l=p[s],f=v[s++],x+=((d=l*l)-x)/s,b+=(d*l-b)/s,w+=(d*d-w)/s,S+=(l*f-S)/s,k+=(d*f-k)/s;var C=0,E=0,O=t?+t[0]:1/0,M=t?+t[1]:-1/0;a(i,n,r,(function(e,n){E++,C+=(n-C)/E,t||(e<O&&(O=e),e>M&&(M=e))}));var _=w-x*x,A=x*_-b*b,T=(k*x-S*b)/A,P=(S*_-k*b)/A,D=-T*x,F=function(t){return T*(t-=g)*t+P*t+D+m},N=c(O,M,F);return N.a=T,N.b=P-2*T*g,N.c=D-P*g+T*g*g+m,N.predict=F,N.rSquared=u(i,n,r,C,F),N}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}function k(){var t,n=function(t){return t[0]},r=function(t){return t[1]},i=3;function s(s){if(1===i){var l=h().x(n).y(r).domain(t)(s);return l.coefficients=[l.b,l.a],delete l.a,delete l.b,l}if(2===i){var f=S().x(n).y(r).domain(t)(s);return f.coefficients=[f.c,f.b,f.a],delete f.a,delete f.b,delete f.c,f}var d,p,v,g,m,y=e(o(s,n,r),4),x=y[0],b=y[1],w=y[2],k=y[3],O=x.length,M=[],_=[],A=i+1,T=0,P=0,D=t?+t[0]:1/0,F=t?+t[1]:-1/0;for(a(s,n,r,(function(e,n){++P,T+=(n-T)/P,t||(e<D&&(D=e),e>F&&(F=e))})),d=0;d<A;++d){for(v=0,g=0;v<O;++v)g+=Math.pow(x[v],d)*b[v];for(M.push(g),m=new Float64Array(A),p=0;p<A;++p){for(v=0,g=0;v<O;++v)g+=Math.pow(x[v],d+p);m[p]=g}_.push(m)}_.push(M);var N=E(_),I=function(t){t-=w;var e=k+N[0]+N[1]*t+N[2]*t*t;for(d=3;d<A;++d)e+=N[d]*Math.pow(t,d);return e},L=c(D,F,I);return L.coefficients=C(A,N,-w,k),L.predict=I,L.rSquared=u(s,n,r,T,I),L}return s.domain=function(e){return arguments.length?(t=e,s):t},s.x=function(t){return arguments.length?(n=t,s):n},s.y=function(t){return arguments.length?(r=t,s):r},s.order=function(t){return arguments.length?(i=t,s):i},s}function C(t,e,n,r){var i,o,a,u,s=Array(t);for(i=0;i<t;++i)s[i]=0;for(i=t-1;i>=0;--i)for(a=e[i],u=1,s[i]+=a,o=1;o<=i;++o)u*=(i+1-o)/o,s[i-o]+=a*Math.pow(n,o)*u;return s[0]+=r,s}function E(t){var e,n,r,i,o,a=t.length-1,u=[];for(e=0;e<a;++e){for(i=e,n=e+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][i])&&(i=n);for(r=e;r<a+1;++r)o=t[r][e],t[r][e]=t[r][i],t[r][i]=o;for(n=e+1;n<a;++n)for(r=a;r>=e;r--)t[r][n]-=t[r][e]*t[e][n]/t[e][e]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=t[r][n]*u[r];u[n]=(t[a][n]-o)/t[n][n]}return u}function O(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var o=0,s=0,l=0,d=0,h=0,p=0,v=t?+t[0]:1/0,g=t?+t[1]:-1/0;a(i,n,r,(function(e,n){var r=Math.log(e),i=Math.log(n);++o,s+=(r-s)/o,l+=(i-l)/o,d+=(r*i-d)/o,h+=(r*r-h)/o,p+=(n-p)/o,t||(e<v&&(v=e),e>g&&(g=e))}));var m=e(f(s,l,d,h),2),y=m[0],x=m[1];y=Math.exp(y);var b=function(t){return y*Math.pow(t,x)},w=c(v,g,b);return w.a=y,w.b=x,w.predict=b,w.rSquared=u(i,n,r,p,b),w}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}t.regressionExp=d,t.regressionLinear=h,t.regressionLoess=m,t.regressionLog=w,t.regressionPoly=k,t.regressionPow=O,t.regressionQuad=S,Object.defineProperty(t,"__esModule",{value:!0})}(e)},6212:function(t,e,n){"use strict";n.d(e,{HT:function(){return g}});var r,i,o=0,a=0,u=0,s=0,l=0,c=0,f="object"===typeof performance&&performance.now?performance:Date,d="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function h(){return l||(d(p),l=f.now()+c)}function p(){l=0}function v(){this._call=this._time=this._next=null}function g(t,e,n){var r=new v;return r.restart(t,e,n),r}function m(){l=(s=f.now())+c,o=a=0;try{!function(){h(),++o;for(var t,e=r;e;)(t=l-e._time)>=0&&e._call.call(null,t),e=e._next;--o}()}finally{o=0,function(){var t,e,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,x(o)}(),l=0}}function y(){var t=f.now(),e=t-s;e>1e3&&(c-=e,s=t)}function x(t){o||(a&&(a=clearTimeout(a)),t-l>24?(t<1/0&&(a=setTimeout(m,t-f.now()-c)),u&&(u=clearInterval(u))):(u||(s=f.now(),u=setInterval(y,1e3)),o=1,d(m)))}v.prototype=g.prototype={constructor:v,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}}},9761:function(t,e,n){"use strict";n.d(e,{qY:function(){return d}});var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},i=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},o=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},a=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},s=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],f=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function d(t){return t?p(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new s:"undefined"!==typeof navigator?p(navigator.userAgent):"undefined"!==typeof process&&process.version?new o(process.version.slice(1)):null}function h(t){return""!==t&&c.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function p(t){var e=h(t);if(!e)return null;var n=e[0],o=e[1];if("searchbot"===n)return new u;var s=o[1]&&o[1].split(".").join("_").split("_").slice(0,3);s?s.length<3&&(s=r(r([],s,!0),function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-s.length),!0)):s=[];var c=s.join("."),d=function(t){for(var e=0,n=f.length;e<n;e++){var r=f[e],i=r[0];if(r[1].exec(t))return i}return null}(t),p=l.exec(t);return p&&p[1]?new a(n,c,d,p[1]):new i(n,c,d)}},8262:function(t){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!==i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}},2248:function(t){"use strict";t.exports=function(t,e){e||(e={}),"function"===typeof e&&(e={cmp:e});var n,r="boolean"===typeof e.cycles&&e.cycles,i=e.cmp&&(n=e.cmp,function(t){return function(e,r){var i={key:e,value:t[e]},o={key:r,value:t[r]};return n(i,o)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"===typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!==typeof e)return JSON.stringify(e);var n,a;if(Array.isArray(e)){for(a="[",n=0;n<e.length;n++)n&&(a+=","),a+=t(e[n])||"null";return a+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=o.push(e)-1,s=Object.keys(e).sort(i&&i(e));for(a="",n=0;n<s.length;n++){var l=s[n],c=t(e[l]);c&&(a&&(a+=","),a+=JSON.stringify(l)+":"+c)}return o.splice(u,1),"{"+a+"}"}}(t)}},9698:function(t,e){!function(t){"use strict";function e(t,e,n,r){var i=(r=r||{}).maxIterations||100,o=r.tolerance||1e-10,a=t(e),u=t(n),s=n-e;if(a*u>0)throw"Initial bisect points must have opposite signs";if(0===a)return e;if(0===u)return n;for(var l=0;l<i;++l){var c=e+(s/=2),f=t(c);if(f*a>=0&&(e=c),Math.abs(s)<o||0===f)return c}return e+s}function n(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function r(t,e){return n(t).map((function(){return n(e)}))}function i(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function o(t){return Math.sqrt(i(t,t))}function a(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function u(t,e,n,r,i){for(var o=0;o<t.length;++o)t[o]=e*n[o]+r*i[o]}function s(t,e,n){var r,i=(n=n||{}).maxIterations||200*e.length,o=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,s=n.minErrorDelta||1e-6,l=n.minErrorDelta||1e-5,c=void 0!==n.rho?n.rho:1,f=void 0!==n.chi?n.chi:2,d=void 0!==n.psi?n.psi:-.5,h=void 0!==n.sigma?n.sigma:.5,p=e.length,v=new Array(p+1);v[0]=e,v[0].fx=t(e),v[0].id=0;for(var g=0;g<p;++g){var m=e.slice();m[g]=m[g]?m[g]*o:a,v[g+1]=m,v[g+1].fx=t(m),v[g+1].id=g+1}function y(t){for(var e=0;e<t.length;e++)v[p][e]=t[e];v[p].fx=t.fx}for(var x=function(t,e){return t.fx-e.fx},b=e.slice(),w=e.slice(),S=e.slice(),k=e.slice(),C=0;C<i;++C){if(v.sort(x),n.history){var E=v.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));E.sort((function(t,e){return t.id-e.id})),n.history.push({x:v[0].slice(),fx:v[0].fx,simplex:E})}for(r=0,g=0;g<p;++g)r=Math.max(r,Math.abs(v[0][g]-v[1][g]));if(Math.abs(v[0].fx-v[p].fx)<s&&r<l)break;for(g=0;g<p;++g){b[g]=0;for(var O=0;O<p;++O)b[g]+=v[O][g];b[g]/=p}var M=v[p];if(u(w,1+c,b,-c,M),w.fx=t(w),w.fx<v[0].fx)u(k,1+f,b,-f,M),k.fx=t(k),k.fx<w.fx?y(k):y(w);else if(w.fx>=v[p-1].fx){var _=!1;if(w.fx>M.fx?(u(S,1+d,b,-d,M),S.fx=t(S),S.fx<M.fx?y(S):_=!0):(u(S,1-d*c,b,d*c,M),S.fx=t(S),S.fx<w.fx?y(S):_=!0),_){if(h>=1)break;for(g=1;g<v.length;++g)u(v[g],1-h,v[0],h,v[g]),v[g].fx=t(v[g])}}else y(w)}return v.sort(x),{fx:v[0].fx,x:v[0]}}function l(t,e,n,r,o,a,s){var l=n.fx,c=i(n.fxprime,e),f=l,d=l,h=c,p=0;function v(d,p,v){for(var g=0;g<16;++g)if(o=(d+p)/2,u(r.x,1,n.x,o,e),f=r.fx=t(r.x,r.fxprime),h=i(r.fxprime,e),f>l+a*o*c||f>=v)p=o;else{if(Math.abs(h)<=-s*c)return o;h*(p-d)>=0&&(p=d),d=o,v=f}return 0}o=o||1,a=a||1e-6,s=s||.1;for(var g=0;g<10;++g){if(u(r.x,1,n.x,o,e),f=r.fx=t(r.x,r.fxprime),h=i(r.fxprime,e),f>l+a*o*c||g&&f>=d)return v(p,o,d);if(Math.abs(h)<=-s*c)return o;if(h>=0)return v(o,p,f);d=f,p=o,o*=2}return o}function c(t,e,n){var r,s,c,f={x:e.slice(),fx:0,fxprime:e.slice()},d={x:e.slice(),fx:0,fxprime:e.slice()},h=e.slice(),p=1;c=(n=n||{}).maxIterations||20*e.length,f.fx=t(f.x,f.fxprime),a(r=f.fxprime.slice(),f.fxprime,-1);for(var v=0;v<c;++v){if(p=l(t,r,f,d,p),n.history&&n.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice(),alpha:p}),p){u(h,1,d.fxprime,-1,f.fxprime);var g=i(f.fxprime,f.fxprime);u(r,Math.max(0,i(h,d.fxprime)/g),r,-1,d.fxprime),s=f,f=d,d=s}else a(r,f.fxprime,-1);if(o(f.fxprime)<=1e-5)break}return n.history&&n.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice(),alpha:p}),f}function f(t,e,n){for(var r=(n=n||{}).maxIterations||100*e.length,i=n.learnRate||.001,a={x:e.slice(),fx:0,fxprime:e.slice()},s=0;s<r&&(a.fx=t(a.x,a.fxprime),n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice()}),u(a.x,1,a.x,-i,a.fxprime),!(o(a.fxprime)<=1e-5));++s);return a}function d(t,e,n){n=n||{};var r,i={x:e.slice(),fx:0,fxprime:e.slice()},u={x:e.slice(),fx:0,fxprime:e.slice()},s=n.maxIterations||100*e.length,c=n.learnRate||1,f=e.slice(),d=n.c1||.001,h=n.c2||.1,p=[];if(n.history){var v=t;t=function(t,e){return p.push(t.slice()),v(t,e)}}i.fx=t(i.x,i.fxprime);for(var g=0;g<s&&(a(f,i.fxprime,-1),c=l(t,f,i,u,c,d,h),n.history&&(n.history.push({x:i.x.slice(),fx:i.fx,fxprime:i.fxprime.slice(),functionCalls:p,learnRate:c,alpha:c}),p=[]),r=i,i=u,u=r,!(0===c||o(i.fxprime)<1e-5));++g);return i}t.bisect=e,t.nelderMead=s,t.conjugateGradient=c,t.gradientDescent=f,t.gradientDescentLineSearch=d,t.zeros=n,t.zerosM=r,t.norm2=o,t.weightedSum=u,t.scale=a}(e)},907:function(t,e,n){"use strict";n.d(e,{WT:function(){return r}});var r="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},5742:function(t,e,n){"use strict";function r(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],l=e[7],c=e[8],f=c*a-u*l,d=-c*o+u*s,h=l*o-a*s,p=n*f+r*d+i*h;return p?(p=1/p,t[0]=f*p,t[1]=(-c*r+i*l)*p,t[2]=(u*r-i*a)*p,t[3]=d*p,t[4]=(c*n-i*s)*p,t[5]=(-u*n+i*o)*p,t[6]=h*p,t[7]=(-l*n+r*s)*p,t[8]=(a*n-r*o)*p,t):null}function i(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],l=e[6],c=e[7],f=e[8],d=n[0],h=n[1],p=n[2],v=n[3],g=n[4],m=n[5],y=n[6],x=n[7],b=n[8];return t[0]=d*r+h*a+p*l,t[1]=d*i+h*u+p*c,t[2]=d*o+h*s+p*f,t[3]=v*r+g*a+m*l,t[4]=v*i+g*u+m*c,t[5]=v*o+g*s+m*f,t[6]=y*r+x*a+b*l,t[7]=y*i+x*u+b*c,t[8]=y*o+x*s+b*f,t}function o(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function a(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function u(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}n.d(e,{U_:function(){return r},Jp:function(){return i},vc:function(){return o},Us:function(){return a},xJ:function(){return u}})},9874:function(t,e,n){"use strict";n.d(e,{IH:function(){return i},$X:function(){return o},VV:function(){return a},Fp:function(){return u},bA:function(){return s},TE:function(){return l},kE:function(){return c},Fv:function(){return f},AK:function(){return d},kK:function(){return h},EU:function(){return p},I6:function(){return v},lu:function(){return g}});var r=n(907);function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function u(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function s(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function c(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function f(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function d(t,e){return t[0]*e[0]+t[1]*e[1]}function h(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function p(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),u=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(u,-1),1))}function v(t,e){return t[0]===e[0]&&t[1]===e[1]}var g=o;!function(){var t=function(){var t=new r.WT(2);return r.WT!=Float32Array&&(t[0]=0,t[1]=0),t}()}()},2110:function(t,e,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(t){return r.isMemo(t)?a:u[t.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&t(e,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var u=s(e),v=s(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var y=d(n,m);try{l(e,m,y)}catch(x){}}}}return e}},746:function(t,e){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case f:case o:case u:case a:case h:return t;default:switch(t=t&&t.$$typeof){case l:case d:case g:case v:case s:return t;default:return e}}case i:return e}}}function S(t){return w(t)===f}e.AsyncMode=c,e.ConcurrentMode=f,e.ContextConsumer=l,e.ContextProvider=s,e.Element=r,e.ForwardRef=d,e.Fragment=o,e.Lazy=g,e.Memo=v,e.Portal=i,e.Profiler=u,e.StrictMode=a,e.Suspense=h,e.isAsyncMode=function(t){return S(t)||w(t)===c},e.isConcurrentMode=S,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===s},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===v},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===u},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===h},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===f||t===u||t===a||t===h||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===v||t.$$typeof===s||t.$$typeof===l||t.$$typeof===d||t.$$typeof===y||t.$$typeof===x||t.$$typeof===b||t.$$typeof===m)},e.typeOf=w},8309:function(t,e,n){"use strict";t.exports=n(746)},1172:function(t,e){"use strict";function n(t){return"object"!==typeof t||"toString"in t?t:Object.prototype.toString.call(t).slice(8,-1)}Object.defineProperty(e,"__esModule",{value:!0});var r="object"===typeof process&&!0;function i(t,e){if(!t){if(r)throw new Error("Invariant failed");throw new Error(e())}}e.invariant=i;var o=Object.prototype.hasOwnProperty,a=Array.prototype.splice,u=Object.prototype.toString;function s(t){return u.call(t).slice(8,-1)}var l=Object.assign||function(t,e){return c(e).forEach((function(n){o.call(e,n)&&(t[n]=e[n])})),t},c="function"===typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)};function f(t){return Array.isArray(t)?l(t.constructor(t.length),t):"Map"===s(t)?new Map(t):"Set"===s(t)?new Set(t):t&&"object"===typeof t?l(Object.create(Object.getPrototypeOf(t)),t):t}var d=function(){function t(){this.commands=l({},h),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var n=this,r="function"===typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(r)||i(!Array.isArray(r),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),i("object"===typeof r&&null!==r,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var a=t;return c(r).forEach((function(e){if(o.call(n.commands,e)){var i=t===a;a=n.commands[e](r[e],a,r,t),i&&n.isEquals(a,t)&&(a=t)}else{var u="Map"===s(t)?n.update(t.get(e),r[e]):n.update(t[e],r[e]),l="Map"===s(a)?a.get(e):a[e];n.isEquals(u,l)&&("undefined"!==typeof u||o.call(t,e))||(a===t&&(a=f(t)),"Map"===s(a)?a.set(e,u):a[e]=u)}})),a},t}();e.Context=d;var h={$push:function(t,e,n){return v(e,n,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,n){return v(e,n,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,r,o){return function(t,e){i(Array.isArray(t),(function(){return"Expected $splice target to be an array; got "+n(t)})),m(e.$splice)}(e,r),t.forEach((function(t){m(t),e===o&&t.length&&(e=f(o)),a.apply(e,t)})),e},$set:function(t,e,n){return function(t){i(1===Object.keys(t).length,(function(){return"Cannot have more than one key in an object with $set"}))}(n),t},$toggle:function(t,e){g(t,"$toggle");var n=t.length?f(e):e;return t.forEach((function(t){n[t]=!e[t]})),n},$unset:function(t,e,n,r){return g(t,"$unset"),t.forEach((function(t){Object.hasOwnProperty.call(e,t)&&(e===r&&(e=f(r)),delete e[t])})),e},$add:function(t,e,n,r){return y(e,"$add"),g(t,"$add"),"Map"===s(e)?t.forEach((function(t){var n=t[0],i=t[1];e===r&&e.get(n)!==i&&(e=f(r)),e.set(n,i)})):t.forEach((function(t){e!==r||e.has(t)||(e=f(r)),e.add(t)})),e},$remove:function(t,e,n,r){return y(e,"$remove"),g(t,"$remove"),t.forEach((function(t){e===r&&e.has(t)&&(e=f(r)),e.delete(t)})),e},$merge:function(t,e,r,o){var a,u;return a=e,i((u=t)&&"object"===typeof u,(function(){return"update(): $merge expects a spec of type 'object'; got "+n(u)})),i(a&&"object"===typeof a,(function(){return"update(): $merge expects a target of type 'object'; got "+n(a)})),c(t).forEach((function(n){t[n]!==e[n]&&(e===o&&(e=f(o)),e[n]=t[n])})),e},$apply:function(t,e){var r;return i("function"===typeof(r=t),(function(){return"update(): expected spec of $apply to be a function; got "+n(r)+"."})),t(e)}},p=new d;function v(t,e,r){i(Array.isArray(t),(function(){return"update(): expected target of "+n(r)+" to be an array; got "+n(t)+"."})),g(e[r],r)}function g(t,e){i(Array.isArray(t),(function(){return"update(): expected spec of "+n(e)+" to be an array; got "+n(t)+". Did you forget to wrap your parameter in an array?"}))}function m(t){i(Array.isArray(t),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+n(t)+". Did you forget to wrap your parameters in an array?"}))}function y(t,e){var r=s(t);i("Map"===r||"Set"===r,(function(){return"update(): "+n(e)+" expects a target of type Set or Map; got "+n(r)}))}e.isEquals=p.update.isEquals,e.extend=p.extend,e.default=p.update,e.default.default=t.exports=l(e.default,e)},908:function(t,e,n){var r=n(8136)(n(7009),"DataView");t.exports=r},9676:function(t,e,n){var r=n(7458),i=n(2747),o=n(6037),a=n(4154),u=n(7728);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=u,t.exports=s},8384:function(t,e,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),u=n(7109);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=u,t.exports=s},5797:function(t,e,n){var r=n(8136)(n(7009),"Map");t.exports=r},8059:function(t,e,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),u=n(3739);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=u,t.exports=s},8319:function(t,e,n){var r=n(8136)(n(7009),"Promise");t.exports=r},3924:function(t,e,n){var r=n(8136)(n(7009),"Set");t.exports=r},692:function(t,e,n){var r=n(8059),i=n(5774),o=n(1596);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},2854:function(t,e,n){var r=n(8384),i=n(511),o=n(835),a=n(707),u=n(8832),s=n(5077);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=u,l.prototype.set=s,t.exports=l},7197:function(t,e,n){var r=n(7009).Symbol;t.exports=r},6219:function(t,e,n){var r=n(7009).Uint8Array;t.exports=r},7091:function(t,e,n){var r=n(8136)(n(7009),"WeakMap");t.exports=r},4903:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},7538:function(t,e,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),u=n(6800),s=n(9102),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),f=!n&&!c&&a(t),d=!n&&!c&&!f&&s(t),h=n||c||f||d,p=h?r(t.length,String):[],v=p.length;for(var g in t)!e&&!l.call(t,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||p.push(g);return p}},1705:function(t){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},7897:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},7112:function(t,e,n){var r=n(9231);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},1986:function(t,e,n){var r=n(1705),i=n(3629);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},9066:function(t,e,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},4906:function(t,e,n){var r=n(9066),i=n(3141);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},1848:function(t,e,n){var r=n(3355),i=n(3141);t.exports=function t(e,n,o,a,u){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,u))}},3355:function(t,e,n){var r=n(2854),i=n(5305),o=n(2206),a=n(8078),u=n(8383),s=n(3629),l=n(5174),c=n(9102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,g,m){var y=s(t),x=s(e),b=y?d:u(t),w=x?d:u(e),S=(b=b==f?h:b)==h,k=(w=w==f?h:w)==h,C=b==w;if(C&&l(t)){if(!l(e))return!1;y=!0,S=!1}if(C&&!S)return m||(m=new r),y||c(t)?i(t,e,n,v,g,m):o(t,e,b,n,v,g,m);if(!(1&n)){var E=S&&p.call(t,"__wrapped__"),O=k&&p.call(e,"__wrapped__");if(E||O){var M=E?t.value():t,_=O?e.value():e;return m||(m=new r),g(M,_,n,v,m)}}return!!C&&(m||(m=new r),a(t,e,n,v,g,m))}},6703:function(t,e,n){var r=n(4786),i=n(257),o=n(8092),a=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:u).test(a(t))}},8150:function(t,e,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},8864:function(t,e,n){var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},6478:function(t){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},821:function(t,e,n){var r=n(6050),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},6194:function(t){t.exports=function(t){return function(e){return t(e)}}},75:function(t){t.exports=function(t,e){return t.has(e)}},5525:function(t,e,n){var r=n(7009)["__core-js_shared__"];t.exports=r},5305:function(t,e,n){var r=n(692),i=n(7897),o=n(75);t.exports=function(t,e,n,a,u,s){var l=1&n,c=t.length,f=e.length;if(c!=f&&!(l&&f>c))return!1;var d=s.get(t),h=s.get(e);if(d&&h)return d==e&&h==t;var p=-1,v=!0,g=2&n?new r:void 0;for(s.set(t,e),s.set(e,t);++p<c;){var m=t[p],y=e[p];if(a)var x=l?a(y,m,p,e,t,s):a(m,y,p,t,e,s);if(void 0!==x){if(x)continue;v=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(m===t||u(m,t,n,a,s)))return g.push(e)}))){v=!1;break}}else if(m!==y&&!u(m,y,n,a,s)){v=!1;break}}return s.delete(t),s.delete(e),v}},2206:function(t,e,n){var r=n(7197),i=n(6219),o=n(9231),a=n(5305),u=n(234),s=n(2230),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,f,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=u;case"[object Set]":var p=1&r;if(h||(h=s),t.size!=e.size&&!p)return!1;var v=d.get(t);if(v)return v==e;r|=2,d.set(t,e);var g=a(h(t),h(e),r,l,f,d);return d.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},8078:function(t,e,n){var r=n(8248),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,u){var s=1&n,l=r(t),c=l.length;if(c!=r(e).length&&!s)return!1;for(var f=c;f--;){var d=l[f];if(!(s?d in e:i.call(e,d)))return!1}var h=u.get(t),p=u.get(e);if(h&&p)return h==e&&p==t;var v=!0;u.set(t,e),u.set(e,t);for(var g=s;++f<c;){var m=t[d=l[f]],y=e[d];if(o)var x=s?o(y,m,d,e,t,u):o(m,y,d,t,e,u);if(!(void 0===x?m===y||a(m,y,n,o,u):x)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(t),u.delete(e),v}},1032:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8248:function(t,e,n){var r=n(1986),i=n(5918),o=n(2742);t.exports=function(t){return r(t,o,i)}},2799:function(t,e,n){var r=n(5964);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},8136:function(t,e,n){var r=n(6703),i=n(40);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},1587:function(t,e,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(s){}var i=a.call(t);return r&&(e?t[u]=n:delete t[u]),i}},5918:function(t,e,n){var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=u},8383:function(t,e,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),u=n(7091),s=n(9066),l=n(7907),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=l(r),g=l(i),m=l(o),y=l(a),x=l(u),b=s;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=c||o&&b(o.resolve())!=f||a&&b(new a)!=d||u&&b(new u)!=h)&&(b=function(t){var e=s(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case g:return c;case m:return f;case y:return d;case x:return h}return e}),t.exports=b},40:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},7458:function(t,e,n){var r=n(9620);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},6037:function(t,e,n){var r=n(9620),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},4154:function(t,e,n){var r=n(9620),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},7728:function(t,e,n){var r=n(9620);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},6800:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},5964:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},257:function(t,e,n){var r=n(5525),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},2936:function(t){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},3894:function(t){t.exports=function(){this.__data__=[],this.size=0}},8699:function(t,e,n){var r=n(7112),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},4957:function(t,e,n){var r=n(7112);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7184:function(t,e,n){var r=n(7112);t.exports=function(t){return r(this.__data__,t)>-1}},7109:function(t,e,n){var r=n(7112);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4086:function(t,e,n){var r=n(9676),i=n(8384),o=n(5797);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(t,e,n){var r=n(2799);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},9186:function(t,e,n){var r=n(2799);t.exports=function(t){return r(this,t).get(t)}},3423:function(t,e,n){var r=n(2799);t.exports=function(t){return r(this,t).has(t)}},3739:function(t,e,n){var r=n(2799);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},234:function(t){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},9620:function(t,e,n){var r=n(8136)(Object,"create");t.exports=r},8836:function(t,e,n){var r=n(2709)(Object.keys,Object);t.exports=r},9494:function(t,e,n){t=n.nmd(t);var r=n(1032),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=u},3581:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2709:function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},7009:function(t,e,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},5774:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},1596:function(t){t.exports=function(t){return this.__data__.has(t)}},2230:function(t){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},511:function(t,e,n){var r=n(8384);t.exports=function(){this.__data__=new r,this.size=0}},835:function(t){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},707:function(t){t.exports=function(t){return this.__data__.get(t)}},8832:function(t){t.exports=function(t){return this.__data__.has(t)}},5077:function(t,e,n){var r=n(8384),i=n(5797),o=n(8059);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},7907:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},6050:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},8573:function(t,e,n){var r=n(8092),i=n(72),o=n(2582),a=Math.max,u=Math.min;t.exports=function(t,e,n){var s,l,c,f,d,h,p=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=s,r=l;return s=l=void 0,p=e,f=t.apply(r,n)}function x(t){return p=t,d=setTimeout(w,e),v?y(t):f}function b(t){var n=t-h;return void 0===h||n>=e||n<0||g&&t-p>=c}function w(){var t=i();if(b(t))return S(t);d=setTimeout(w,function(t){var n=e-(t-h);return g?u(n,c-(t-p)):n}(t))}function S(t){return d=void 0,m&&s?y(t):(s=l=void 0,f)}function k(){var t=i(),n=b(t);if(s=arguments,l=this,h=t,n){if(void 0===d)return x(h);if(g)return clearTimeout(d),d=setTimeout(w,e),y(h)}return void 0===d&&(d=setTimeout(w,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,e):c,m="trailing"in n?!!n.trailing:m),k.cancel=function(){void 0!==d&&clearTimeout(d),p=0,s=h=l=d=void 0},k.flush=function(){return void 0===d?f:S(i())},k}},9231:function(t){t.exports=function(t,e){return t===e||t!==t&&e!==e}},4963:function(t,e,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,u=o.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},3629:function(t){var e=Array.isArray;t.exports=e},1473:function(t,e,n){var r=n(4786),i=n(4635);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},5174:function(t,e,n){t=n.nmd(t);var r=n(7009),i=n(9488),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,u=a&&a.exports===o?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;t.exports=s},8111:function(t,e,n){var r=n(1848);t.exports=function(t,e){return r(t,e)}},4786:function(t,e,n){var r=n(9066),i=n(8092);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},4635:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},8092:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3141:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},152:function(t,e,n){var r=n(9066),i=n(3141);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},9102:function(t,e,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,u=a?i(a):r;t.exports=u},2742:function(t,e,n){var r=n(7538),i=n(8864),o=n(1473);t.exports=function(t){return o(t)?r(t):i(t)}},72:function(t,e,n){var r=n(7009);t.exports=function(){return r.Date.now()}},8174:function(t){t.exports=function(){return[]}},9488:function(t){t.exports=function(){return!1}},2582:function(t,e,n){var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||s.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},1725:function(t){"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,o){for(var a,u,s=i(t),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(s[c]=a[c]);if(e){u=e(a);for(var f=0;f<u.length;f++)r.call(a,u[f])&&(s[u[f]]=a[u[f]])}}return s}},3654:function(t){"use strict";var e=t.exports;t.exports.isNumber=function(t){return"number"===typeof t},t.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},t.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},t.exports.findMinMulti=function(t){for(var n=e.findMin(t[0]),r=1;r<t.length;r++)n=Math.min(n,e.findMin(t[r]));return n},t.exports.findMaxMulti=function(t){for(var n=e.findMax(t[0]),r=1;r<t.length;r++)n=Math.max(n,e.findMax(t[r]));return n},t.exports.inside=function(t,e,n){return t<=n&&n<=e}},1024:function(t,e,n){"use strict";var r=Math.log(2),i=t.exports,o=n(3654);function a(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,e){return i.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,r=!1,i=o.isNumber(e.width)?e.width:2,a=o.isNumber(e.size)?e.size:50,u=o.isNumber(e.min)?e.min:(n=!0,o.findMinMulti(t)),s=o.isNumber(e.max)?e.max:(r=!0,o.findMaxMulti(t)),l=(s-u)/(a-1);return n&&(u-=2*i*l),r&&(s+=2*i*l),{min:u,max:s}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var n=o.isNumber(e.size)?e.size:50,r=o.isNumber(e.width)?e.width:2,u=i.getUnifiedMinMax(t,{size:n,width:r,min:e.min,max:e.max}),s=u.min,l=u.max-s,c=l/(n-1);if(0===l)return[{x:s,y:1}];for(var f=[],d=0;d<n;d++)f.push({x:s+d*c,y:0});var h=function(t,e){for(var n={},r=0,i=-e;i<=e;i++)r+=t(i/e),n[i]=r;return n}(a,r),p=h[r],v=h[r-1]-h[r-2],g=0;t.forEach((function(t){var e=function(t){return Math.floor((t-s)/c)}(t);if(!(e+r<0||e-r>=f.length)){var n=Math.max(e-r,0),i=e,a=Math.min(e+r,f.length-1),u=n-(e-r),l=e+r-a,d=h[-r-1+u]||0,m=h[-r-1+l]||0,y=p/(p-d-m);u>0&&(g+=y*(u-1)*v);var x=Math.max(0,e-r+1);o.inside(0,f.length-1,x)&&(f[x].y+=1*y*v),o.inside(0,f.length-1,i+1)&&(f[i+1].y-=2*y*v),o.inside(0,f.length-1,a+1)&&(f[a+1].y+=1*y*v)}}));var m=g,y=0,x=0;return f.forEach((function(t){y+=t.y,m+=y,t.y=m,x+=m})),x>0&&f.forEach((function(t){t.y/=x})),f},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,r=0,i=0;i<t.length&&(r=i,!((n+=t[i].y)>=e));i++);return t[r].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){var n=Math.log(t.y);isFinite(n)&&(e+=t.y*n)})),e=-e/r,Math.pow(2,e)}}},888:function(t,e,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(t,e,n){t.exports=n(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4501:function(t,e){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case f:case o:case u:case a:case h:return t;default:switch(t=t&&t.$$typeof){case l:case d:case g:case v:case s:return t;default:return e}}case i:return e}}}function S(t){return w(t)===f}e.isFragment=function(t){return w(t)===o},e.isMemo=function(t){return w(t)===v}},3873:function(t,e,n){"use strict";t.exports=n(4501)},6222:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultProps=void 0;var r=n(1899);e.defaultProps={activeIndex:0,animationDuration:400,animationEasingFunction:"ease",animationType:r.AnimationType.SLIDE,autoHeight:!1,autoWidth:!1,autoPlay:!1,autoPlayControls:!1,autoPlayDirection:r.AutoplayDirection.LTR,autoPlayInterval:400,autoPlayStrategy:r.AutoPlayStrategy.DEFAULT,children:void 0,controlsStrategy:r.ControlsStrategy.DEFAULT,disableButtonsControls:!1,disableDotsControls:!1,disableSlideInfo:!0,infinite:!1,innerWidth:0,items:void 0,keyboardNavigation:!1,mouseTracking:!1,name:"",paddingLeft:0,paddingRight:0,responsive:void 0,swipeDelta:20,swipeExtraPadding:200,ssrSilentMode:!0,touchTracking:!0,touchMoveDefaultEvents:!0,onInitialized:function(){},onResized:function(){},onResizeEvent:void 0,onSlideChange:function(){},onSlideChanged:function(){}}},1052:function(t,e,n){"use strict";var r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},a=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},s=function(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},l=function(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:u(0),throw:u(1),return:u(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},c=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var f=c(n(2791)),d=c(n(5510)),h=n(6222),p=u(n(3050)),v=u(n(4419)),g=n(1899);!function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||o(e,t,n)}(n(1899),e);var m=function(t){function e(e){var n=t.call(this,e)||this;return n.swipeListener=null,n._handleKeyboardEvents=function(t){switch(t.code){case"Space":return n.props.autoPlay&&n._handlePlayPauseToggle();case"ArrowLeft":return n.slidePrev(t);case"ArrowRight":return n.slideNext(t)}},n._handleBeforeSlideEnd=function(t){return s(n,void 0,void 0,(function(){var e,n,r;return l(this,(function(i){switch(i.label){case 0:return n=this.state,e=n.activeIndex,r=n.itemsCount,n=n.fadeoutAnimationProcessing,v.shouldRecalculateSlideIndex(e,r)?(r=v.getUpdateSlidePositionIndex(e,r),[4,this._handleUpdateSlidePosition(r)]):[3,2];case 1:return i.sent(),[3,4];case 2:return n?[4,this.setState({fadeoutAnimationIndex:null,fadeoutAnimationPosition:null,fadeoutAnimationProcessing:!1})]:[3,4];case 3:i.sent(),i.label=4;case 4:return this._handleSlideChanged(t),[2]}}))}))},n._handleMouseEnter=function(){var t=n.props.autoPlayStrategy;v.shouldCancelAutoPlayOnHover(t)&&n.state.isAutoPlaying&&(n.isHovered=!0,n._handlePause())},n._handleMouseLeave=function(){n.state.isAutoPlaying&&(n.isHovered=!1,n._handlePlay())},n._handlePause=function(){n._clearAutoPlayTimeout()},n._handlePlayPauseToggle=function(){return s(n,void 0,void 0,(function(){var t;return l(this,(function(e){switch(e.label){case 0:return t=this.state.isAutoPlaying,this.hasUserAction=!0,[4,this.setState({isAutoPlaying:!t,isAutoPlayCanceledOnAction:!0})];case 1:return e.sent(),t?this._handlePause():this._handlePlay(),[2]}}))}))},n._setRootComponentRef=function(t){return n.rootElement=t},n._setStageComponentRef=function(t){return n.stageComponent=t},n._renderStageItem=function(t,e){var r=v.getRenderStageItemStyles(e,n.state),i=v.getRenderStageItemClasses(e,n.state);return f.default.createElement(p.StageItem,{styles:r,className:i,key:"stage-item-"+e,item:t})},n._renderSlideInfo=function(){var t=n.props.renderSlideInfo,e=(r=n.state).activeIndex,r=r.itemsCount;return f.default.createElement(p.SlideInfo,{itemsCount:r,activeIndex:e,renderSlideInfo:t})},n.state=v.calculateInitialState(e,null),n.isHovered=!1,n.isAnimationDisabled=!1,n.isTouchMoveProcessStarted=!1,n.cancelTouchAnimations=!1,n.hasUserAction=!1,n.rootElement=null,n.rootComponentDimensions={},n.stageComponent=null,n.startTouchmovePosition=void 0,n.slideTo=n.slideTo.bind(n),n.slidePrev=n.slidePrev.bind(n),n.slideNext=n.slideNext.bind(n),n._handleTouchmove=n._handleTouchmove.bind(n),n._handleTouchend=n._handleTouchend.bind(n),n._handleDotClick=n._handleDotClick.bind(n),n._handleResize=n._handleResize.bind(n),n._handleResizeDebounced=v.debounce(n._handleResize,100),n}return r(e,t),e.prototype.componentDidMount=function(){return s(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this._setInitialState()];case 1:return t.sent(),this._addEventListeners(),this._setupSwipeHandlers(),this.props.autoPlay&&this._handlePlay(),[2]}}))}))},e.prototype.componentDidUpdate=function(t,e){var n=(m=this.props).activeIndex,r=m.animationDuration,o=m.autoWidth,a=m.children,u=m.infinite,s=m.items,l=m.paddingLeft,c=m.paddingRight,f=m.responsive,d=m.swipeExtraPadding,h=m.mouseTracking,p=m.swipeDelta,v=m.touchTracking,m=m.touchMoveDefaultEvents;a&&t.children!==a?(e=e.activeIndex,e=i(i({},this.props),{activeIndex:e}),this._updateComponent(e)):t.autoWidth!==o||t.infinite!==u||t.items!==s||t.paddingLeft!==l||t.paddingRight!==c||t.responsive!==f||t.swipeExtraPadding!==d?this._updateComponent():(t.animationDuration!==r&&this.setState({animationDuration:r}),t.activeIndex!==n&&this.slideTo(n,g.EventType.UPDATE)),t.swipeDelta===p&&t.mouseTracking===h&&t.touchTracking===v&&t.touchMoveDefaultEvents===m||this._updateSwipeProps(),this.props.keyboardNavigation!==t.keyboardNavigation&&this._updateEventListeners()},e.prototype.componentWillUnmount=function(){this._cancelTimeoutAnimations(),this._removeEventListeners()},Object.defineProperty(e.prototype,"eventObject",{get:function(){var t=(n=this.state).itemsInSlide,e=n.activeIndex,n=(r=v.getSlideItemInfo(this.state)).isNextSlideDisabled,r=r.isPrevSlideDisabled;return{item:e,slide:v.getActiveSlideIndex(n,this.state),itemsInSlide:t,isNextSlideDisabled:n,isPrevSlideDisabled:r,type:g.EventType.ACTION}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFadeoutAnimationAllowed",{get:function(){var t=this.state.itemsInSlide,e=(o=this.props).animationType,n=o.paddingLeft,r=o.paddingRight,i=o.autoWidth,o=o.autoHeight;return 1===t&&e===g.AnimationType.FADEOUT&&!(n||r||i||o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"touchmovePosition",{get:function(){return void 0!==this.startTouchmovePosition?this.startTouchmovePosition:this.state.translate3d},enumerable:!1,configurable:!0}),e.prototype.slideTo=function(t,e){var n,r,i;void 0===t&&(t=0),this._handlePause(),this.isFadeoutAnimationAllowed?(n=v.getUpdateSlidePositionIndex(t,this.state.itemsCount),r=v.getFadeoutAnimationPosition(n,this.state),i=v.getFadeoutAnimationIndex(this.state),this._handleSlideTo({activeIndex:n,fadeoutAnimationIndex:i,fadeoutAnimationPosition:r,eventType:e})):this._handleSlideTo({activeIndex:t,eventType:e})},e.prototype.slidePrev=function(t){this._handlePause(),t&&t.isTrusted&&(this.hasUserAction=!0);var e,n=this.state.activeIndex-1;this.isFadeoutAnimationAllowed?(e=-this.state.stageWidth,t=v.getFadeoutAnimationIndex(this.state),this._handleSlideTo({activeIndex:n,fadeoutAnimationIndex:t,fadeoutAnimationPosition:e})):this._handleSlideTo({activeIndex:n})},e.prototype.slideNext=function(t){this._handlePause(),t&&t.isTrusted&&(this.hasUserAction=!0);var e,n=this.state.activeIndex+1;this.isFadeoutAnimationAllowed?(e=this.state.stageWidth,t=v.getFadeoutAnimationIndex(this.state),this._handleSlideTo({activeIndex:n,fadeoutAnimationIndex:t,fadeoutAnimationPosition:e})):this._handleSlideTo({activeIndex:n})},e.prototype._addEventListeners=function(){window.addEventListener("resize",this._handleResizeDebounced),this.props.keyboardNavigation&&window.addEventListener("keyup",this._handleKeyboardEvents)},e.prototype._removeEventListeners=function(){this.swipeListener&&this.swipeListener.destroy(),window.removeEventListener("resize",this._handleResizeDebounced),window.removeEventListener("keyup",this._handleKeyboardEvents)},e.prototype._updateEventListeners=function(){this.props.keyboardNavigation?window.addEventListener("keyup",this._handleKeyboardEvents):window.removeEventListener("keyup",this._handleKeyboardEvents)},e.prototype._handleResize=function(t){return s(this,void 0,void 0,(function(){var e,n,r;return l(this,(function(o){switch(o.label){case 0:return n=this.props.onResizeEvent,r=v.getElementDimensions(this.rootElement),(n||v.shouldHandleResizeEvent)(t,this.rootComponentDimensions,r)?(this._cancelTimeoutAnimations(),this.rootComponentDimensions=r,n=this.state,r=n.itemsCount,e=n.isAutoPlaying,n=v.getUpdateSlidePositionIndex(this.state.activeIndex,r),r=v.calculateInitialState(i(i({},this.props),{activeIndex:n}),this.stageComponent),n=v.getTranslate3dProperty(r.activeIndex,r),r=i(i({},r),{translate3d:n,isAutoPlaying:e}),v.animate(this.stageComponent,{position:-n}),[4,this.setState(r)]):[3,2];case 1:o.sent(),this._handleResized(),this.isAnimationDisabled=!1,e&&this._handlePlay(),o.label=2;case 2:return[2]}}))}))},e.prototype._handleTouchmove=function(t,e){var n=e.absY,r=e.absX,i=e.deltaX,o=this.props.swipeDelta,a=(l=this.state).swipeShiftValue,u=l.swipeLimitMin,s=l.swipeLimitMax,l=(e=l.infinite,l.fadeoutAnimationProcessing);if(this.hasUserAction=!0,!(l||!this.isTouchMoveProcessStarted&&v.isVerticalTouchmoveDetected(r,n,o))){this.isTouchMoveProcessStarted||(this._cancelTimeoutAnimations(),this._setTouchmovePosition(),this.isAnimationDisabled=!0,this.isTouchMoveProcessStarted=!0,this._handleSlideChange());var c=v.getTouchmoveTranslatePosition(i,this.touchmovePosition);if(!1===e)return u<c||c<-s?void 0:void v.animate(this.stageComponent,{position:c});if(v.shouldRecalculateSwipePosition(c,u,s))try{!function t(){v.getIsLeftDirection(i)?c+=a:c+=-a,v.shouldRecalculateSwipePosition(c,u,s)&&t()}()}catch(t){v.debug(t)}v.animate(this.stageComponent,{position:c})}},e.prototype._handleTouchend=function(t,e){var n,r,i=e.deltaX;this._clearTouchmovePosition(),this.isTouchMoveProcessStarted&&(this.isTouchMoveProcessStarted=!1,n=this.state.animationDuration,r=this.props.animationEasingFunction,e=v.getTranslateXProperty(this.stageComponent),e=v.getSwipeTouchendPosition(this.state,i,e),v.animate(this.stageComponent,{position:e,animationDuration:n,animationEasingFunction:r}),this._handleBeforeTouchEnd(e))},e.prototype._handleBeforeTouchEnd=function(t){var e=this,n=this.state.animationDuration;this.touchEndTimeoutId=setTimeout((function(){return s(e,void 0,void 0,(function(){var e,n,r;return l(this,(function(i){switch(i.label){case 0:return e=v.getSwipeTouchendIndex(t,this.state),n=v.getTranslate3dProperty(e,this.state),v.animate(this.stageComponent,{position:-n}),r=v.getTransitionProperty(),[4,this.setState({activeIndex:e,translate3d:n,transition:r})];case 1:return i.sent(),[4,this._handleSlideChanged()];case 2:return i.sent(),[2]}}))}))}),n)},e.prototype._handleSlideTo=function(t){var e,n=void 0===(e=t.activeIndex)?0:e,r=void 0===(e=t.fadeoutAnimationIndex)?null:e,i=void 0===(e=t.fadeoutAnimationPosition)?null:e,o=t.eventType;return s(this,void 0,void 0,(function(){var t,e,a,u,s=this;return l(this,(function(l){switch(l.label){case 0:return u=this.props,a=u.infinite,e=u.animationEasingFunction,t=this.state,u=t.itemsCount,t=t.animationDuration,this.isAnimationDisabled||this.state.activeIndex===n||!a&&v.shouldCancelSlideAnimation(n,u)?[2]:(this.isAnimationDisabled=!0,this._cancelTimeoutAnimations(),this._handleSlideChange(o),a=!1,u=v.getTranslate3dProperty(n,this.state),e=null!==r&&null!==i?(a=!0,v.getTransitionProperty()):v.getTransitionProperty({animationDuration:t,animationEasingFunction:e}),[4,this.setState({activeIndex:n,transition:e,translate3d:u,animationDuration:t,fadeoutAnimationIndex:r,fadeoutAnimationPosition:i,fadeoutAnimationProcessing:a})]);case 1:return l.sent(),this.slideEndTimeoutId=setTimeout((function(){return s._handleBeforeSlideEnd(o)}),t),[2]}}))}))},e.prototype._handleUpdateSlidePosition=function(t){return s(this,void 0,void 0,(function(){var e,n,r;return l(this,(function(i){switch(i.label){case 0:return e=this.state.animationDuration,n=v.getTranslate3dProperty(t,this.state),r=v.getTransitionProperty({animationDuration:0}),[4,this.setState({activeIndex:t,translate3d:n,transition:r,animationDuration:e,fadeoutAnimationIndex:null,fadeoutAnimationPosition:null,fadeoutAnimationProcessing:!1})];case 1:return i.sent(),[2]}}))}))},e.prototype._handleResized=function(){this.props.onResized&&this.props.onResized(i(i({},this.eventObject),{type:g.EventType.RESIZE}))},e.prototype._handleSlideChange=function(t){this.props.onSlideChange&&(t=t?i(i({},this.eventObject),{type:t}):this.eventObject,this.props.onSlideChange(t))},e.prototype._handleSlideChanged=function(t){return s(this,void 0,void 0,(function(){var e,n,r,o;return l(this,(function(a){switch(a.label){case 0:return n=this.state,o=n.isAutoPlaying,e=n.isAutoPlayCanceledOnAction,r=this.props,n=r.autoPlayStrategy,r=r.onSlideChanged,v.shouldCancelAutoPlayOnAction(n)&&this.hasUserAction&&!e?[4,this.setState({isAutoPlayCanceledOnAction:!0,isAutoPlaying:!1})]:[3,2];case 1:return a.sent(),[3,3];case 2:o&&this._handlePlay(),a.label=3;case 3:return this.isAnimationDisabled=!1,r&&(o=t?i(i({},this.eventObject),{type:t}):this.eventObject,r(o)),[2]}}))}))},e.prototype._handleDotClick=function(t){this.hasUserAction=!0,this.slideTo(t)},e.prototype._handlePlay=function(){this._setAutoPlayInterval()},e.prototype._cancelTimeoutAnimations=function(){this._clearAutoPlayTimeout(),this._clearSlideEndTimeout(),this.clearTouchendTimeout()},e.prototype._clearAutoPlayTimeout=function(){clearTimeout(this.autoPlayTimeoutId),this.autoPlayTimeoutId=void 0},e.prototype._clearSlideEndTimeout=function(){clearTimeout(this.slideEndTimeoutId),this.slideEndTimeoutId=void 0},e.prototype.clearTouchendTimeout=function(){clearTimeout(this.touchEndTimeoutId),this.touchEndTimeoutId=void 0},e.prototype._clearTouchmovePosition=function(){this.startTouchmovePosition=void 0},e.prototype._setTouchmovePosition=function(){var t=v.getTranslateXProperty(this.stageComponent);this.startTouchmovePosition=-t},e.prototype._setInitialState=function(){return s(this,void 0,void 0,(function(){var t;return l(this,(function(e){switch(e.label){case 0:return t=v.calculateInitialState(this.props,this.stageComponent),this.rootComponentDimensions=v.getElementDimensions(this.rootElement),[4,this.setState(t)];case 1:return e.sent(),this.props.onInitialized&&this.props.onInitialized(i(i({},this.eventObject),{type:g.EventType.INIT})),[2]}}))}))},e.prototype._setAutoPlayInterval=function(){var t=this,e=(n=this.props).autoPlayDirection,n=n.autoPlayInterval;this.autoPlayTimeoutId=setTimeout((function(){t.isHovered||(e===g.AutoplayDirection.RTL?t.slidePrev({}):t.slideNext({}))}),n)},e.prototype._setupSwipeHandlers=function(){this.swipeListener=new d.default({element:this.rootElement,delta:this.props.swipeDelta,onSwiping:this._handleTouchmove,onSwiped:this._handleTouchend,rotationAngle:5,mouseTrackingEnabled:this.props.mouseTracking,touchTrackingEnabled:this.props.touchTracking,preventDefaultTouchmoveEvent:!this.props.touchMoveDefaultEvents,preventTrackingOnMouseleave:!0}),this.swipeListener.init()},e.prototype._updateComponent=function(t){var e=this;void 0===t&&(t=this.props),this._cancelTimeoutAnimations(),this.isAnimationDisabled=!1,this.state.isAutoPlaying&&this._handlePlay(),this.setState({clones:v.createClones(t)}),requestAnimationFrame((function(){e.setState(v.calculateInitialState(t,e.stageComponent))}))},e.prototype._updateSwipeProps=function(){this.swipeListener&&this.swipeListener.update({delta:this.props.swipeDelta,mouseTrackingEnabled:this.props.mouseTracking,touchTrackingEnabled:this.props.touchTracking,preventDefaultTouchmoveEvent:!this.props.touchMoveDefaultEvents})},e.prototype._renderDotsNavigation=function(){var t=(e=this.props).renderDotsItem,e=e.controlsStrategy;return f.default.createElement(p.DotsNavigation,{state:this.state,onClick:this._handleDotClick,renderDotsItem:t,controlsStrategy:e})},e.prototype._renderPrevButton=function(){var t=this.props.renderPrevButton,e=v.getSlideItemInfo(this.state).isPrevSlideDisabled;return f.default.createElement(p.PrevNextButton,{name:"prev",onClick:this.slidePrev,isDisabled:e,renderPrevButton:t})},e.prototype._renderNextButton=function(){var t=this.props.renderNextButton,e=v.getSlideItemInfo(this.state).isNextSlideDisabled;return f.default.createElement(p.PrevNextButton,{name:"next",onClick:this.slideNext,isDisabled:e,renderNextButton:t})},e.prototype._renderPlayPauseButton=function(){var t=this.props.renderPlayPauseButton,e=this.state.isAutoPlaying;return f.default.createElement(p.PlayPauseButton,{isPlaying:e,onClick:this._handlePlayPauseToggle,renderPlayPauseButton:t})},e.prototype.render=function(){var t=(a=this.state).translate3d,e=a.clones,n=a.transition,r=a.canUseDom,i=v.shouldDisableDots(this.props,this.state),o=v.shouldDisableButtons(this.props,this.state),a=v.getRenderWrapperStyles(this.props,this.state,this.stageComponent);n=v.getRenderStageStyles({translate3d:t},{transition:n}),r=this.props.ssrSilentMode||r?"":g.Modifiers.SSR,r=v.concatClassnames(g.Classnames.ROOT,r);return f.default.createElement("div",{className:r},f.default.createElement("div",{ref:this._setRootComponentRef},f.default.createElement("div",{style:a,className:g.Classnames.WRAPPER,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},f.default.createElement("ul",{style:n,className:g.Classnames.STAGE,ref:this._setStageComponentRef},e.map(this._renderStageItem)))),i?null:this._renderDotsNavigation(),o?null:this._renderPrevButton(),o?null:this._renderNextButton(),this.props.disableSlideInfo?null:this._renderSlideInfo(),this.props.autoPlayControls?this._renderPlayPauseButton():null)},e.defaultProps=h.defaultProps,e}(f.default.PureComponent);e.default=m},1899:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Modifiers=e.Classnames=e.AutoplayDirection=e.ControlsStrategy=e.AutoPlayStrategy=e.AnimationType=e.EventType=void 0,(n=e.EventType||(e.EventType={})).ACTION="action",n.INIT="init",n.RESIZE="resize",n.UPDATE="update",function(t){t.FADEOUT="fadeout",t.SLIDE="slide"}(e.AnimationType||(e.AnimationType={})),function(t){t.DEFAULT="default",t.ALL="all",t.ACTION="action",t.NONE="none"}(e.AutoPlayStrategy||(e.AutoPlayStrategy={})),function(t){t.DEFAULT="default",t.ALTERNATE="alternate",t.RESPONSIVE="responsive"}(e.ControlsStrategy||(e.ControlsStrategy={})),function(t){t.RTL="rtl",t.LTR="ltr"}(e.AutoplayDirection||(e.AutoplayDirection={})),function(t){t.ANIMATED="animated animated-out fadeOut",t.ROOT="alice-carousel",t.WRAPPER="alice-carousel__wrapper",t.STAGE="alice-carousel__stage",t.STAGE_ITEM="alice-carousel__stage-item",t.DOTS="alice-carousel__dots",t.DOTS_ITEM="alice-carousel__dots-item",t.PLAY_BTN="alice-carousel__play-btn",t.PLAY_BTN_ITEM="alice-carousel__play-btn-item",t.PLAY_BTN_WRAPPER="alice-carousel__play-btn-wrapper",t.SLIDE_INFO="alice-carousel__slide-info",t.SLIDE_INFO_ITEM="alice-carousel__slide-info-item",t.BUTTON_PREV="alice-carousel__prev-btn",t.BUTTON_PREV_WRAPPER="alice-carousel__prev-btn-wrapper",t.BUTTON_PREV_ITEM="alice-carousel__prev-btn-item",t.BUTTON_NEXT="alice-carousel__next-btn",t.BUTTON_NEXT_WRAPPER="alice-carousel__next-btn-wrapper",t.BUTTON_NEXT_ITEM="alice-carousel__next-btn-item"}(e.Classnames||(e.Classnames={})),function(t){t.ACTIVE="__active",t.INACTIVE="__inactive",t.CLONED="__cloned",t.CUSTOM="__custom",t.PAUSE="__pause",t.SEPARATOR="__separator",t.SSR="__ssr",t.TARGET="__target"}(e.Modifiers||(e.Modifiers={}))},347:function(t,e,n){"use strict";var r=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},i=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(e,"__esModule",{value:!0}),e.isClonedItem=e.isTargetItem=e.isActiveItem=e.getRenderStageItemClasses=void 0;var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e}(n(4419)),a=n(1899);e.getRenderStageItemClasses=function(t,n){void 0===t&&(t=0);var r=n.fadeoutAnimationIndex,i=e.isActiveItem(t,n)?a.Modifiers.ACTIVE:"",u=e.isClonedItem(t,n)?a.Modifiers.CLONED:"";n=e.isTargetItem(t,n)?a.Modifiers.TARGET:"",r=t===r?a.Classnames.ANIMATED:"";return o.concatClassnames(a.Classnames.STAGE_ITEM,i,u,n,r)},e.isActiveItem=function(t,e){void 0===t&&(t=0);var n=e.activeIndex,r=e.itemsInSlide,i=e.itemsOffset,a=e.infinite,u=e.autoWidth;e=o.getShiftIndex(r,i);return u&&a?t-e===n+i:(e=n+e,a?e<=t&&t<e+r:n<=t&&t<e)},e.isTargetItem=function(t,e){void 0===t&&(t=0);var n=e.activeIndex,r=e.itemsInSlide,i=e.itemsOffset,a=e.infinite;e=e.autoWidth,r=o.getShiftIndex(r,i);return a?e&&a?t-r===n+i:t===n+r:t===n},e.isClonedItem=function(t,e){void 0===t&&(t=0);var n=e.itemsInSlide,r=e.itemsOffset,i=e.itemsCount,a=e.infinite;e=e.autoWidth;return!!a&&(e&&a?t<n||i-1+n<t:t<(r=o.getShiftIndex(n,r))||i-1+r<t)}},3034:function(t,e,n){"use strict";var r=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},i=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(e,"__esModule",{value:!0}),e.calculateInitialState=e.getItemsInSlide=e.getIsStageContentPartial=e.concatClassnames=e.canUseDOM=void 0;var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e}(n(4419));e.canUseDOM=function(){var t;try{return Boolean(null===(t=null===window||void 0===window?void 0:window.document)||void 0===t?void 0:t.createElement)}catch(t){return!1}},e.concatClassnames=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(Boolean).join(" ")},e.getIsStageContentPartial=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),!(t=void 0!==t&&t)&&n<=e},e.getItemsInSlide=function(t,n){var r,i=1,o=n.responsive,a=void 0!==(u=n.autoWidth)&&u,u=void 0!==(u=n.infinite)&&u;n=n.innerWidth;return a?u?t:i:(!o||(u=Object.keys(o)).length&&(n||e.canUseDOM())&&(r=n||window.innerWidth,u.forEach((function(e){Number(e)<r&&(i=Math.min(o[e].items,t)||i)}))),i)},e.calculateInitialState=function(t,n,r){void 0===r&&(r=!1);var i,a=void 0===(p=t.animationDuration)?0:p,u=void 0!==(v=t.infinite)&&v,s=void 0!==(g=t.autoPlay)&&g,l=void 0!==(m=t.autoWidth)&&m,c=o.createClones(t),f=o.getTransitionProperty(),d=o.getItemsCount(t),h=o.getItemsOffset(t),p=e.getItemsInSlide(d,t),v=o.getStartIndex(t.activeIndex,d),g=o.getActiveIndex({startIndex:v,itemsCount:d,infinite:u}),m=o.getElementDimensions(n).width;v=l?(b=(i=o.createAutowidthTransformationSet(n,m,u)).coords,x=i.content,i.partial):(b=(y=o.createDefaultTransformationSet(c,m,p,u)).coords,x=y.content,y.partial),n=x,i=b;var y=o.getItemCoords(-p,i).position,x=o.getSwipeLimitMin({itemsOffset:h,transformationSet:i},t),b=o.getSwipeLimitMax({itemsCount:d,itemsOffset:h,itemsInSlide:p,transformationSet:i},t);t=o.getSwipeShiftValue(d,i);return{activeIndex:g,autoWidth:l,animationDuration:a,clones:c,infinite:u,itemsCount:d,itemsInSlide:p,itemsOffset:h,translate3d:o.getTranslate3dProperty(g,{itemsInSlide:p,itemsOffset:h,transformationSet:i,autoWidth:l,infinite:u}),stageWidth:m,stageContentWidth:n,initialStageHeight:0,isStageContentPartial:v,isAutoPlaying:Boolean(s),isAutoPlayCanceledOnAction:!1,transformationSet:i,transition:f,fadeoutAnimationIndex:null,fadeoutAnimationPosition:null,fadeoutAnimationProcessing:!1,swipeLimitMin:x,swipeLimitMax:b,swipeAllowedPositionMax:y,swipeShiftValue:t,canUseDom:r||e.canUseDOM()}}},7432:function(t,e,n){"use strict";var r=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},i=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(e,"__esModule",{value:!0}),e.shouldCancelAutoPlayOnHover=e.shouldCancelAutoPlayOnAction=e.getItemIndexForDotNavigation=e.checkIsTheLastDotIndex=e.getDotsNavigationLength=e.hasDotForEachSlide=e.isStrategy=e.shouldDisableButtons=e.shouldDisableDots=e.shouldDisableControls=void 0;var o=n(1899),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e}(n(4419));function u(t,e){var n=(t||{}).controlsStrategy,r=(t=(r=e||{}).itemsInSlide,e=r.itemsCount,r.autoWidth);if(a.isStrategy(n,o.ControlsStrategy.RESPONSIVE))return!r&&t===e}e.shouldDisableControls=u,e.shouldDisableDots=function(t,e){return t.disableDotsControls||u(t,e)},e.shouldDisableButtons=function(t,e){return t.disableButtonsControls||!t.infinite&&u(t,e)},e.isStrategy=function(t,e){return t&&t.includes(e)},e.hasDotForEachSlide=function(t,n){return t||e.isStrategy(n,o.ControlsStrategy.ALTERNATE)},e.getDotsNavigationLength=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=1),n?t:0!==Number(e)&&Math.ceil(t/e)||0},e.checkIsTheLastDotIndex=function(t,e,n){return!e&&t===n-1},e.getItemIndexForDotNavigation=function(t,e,n,r){return(e?n-r:t*r)||0},e.shouldCancelAutoPlayOnAction=function(t){return(t=void 0===t?"":t)===o.AutoPlayStrategy.ACTION||t===o.AutoPlayStrategy.ALL},e.shouldCancelAutoPlayOnHover=function(t){return(t=void 0===t?"":t)===o.AutoPlayStrategy.DEFAULT||t===o.AutoPlayStrategy.ALL}},6842:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debug=void 0,e.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}},7806:function(t,e,n){"use strict";var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},o=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(e,"__esModule",{value:!0}),e.getTransformMatrix=e.getTranslateXProperty=e.getTouchmoveTranslatePosition=e.getTranslate3dProperty=e.getRenderStageItemStyles=e.getRenderStageStyles=e.getTransitionProperty=e.getRenderWrapperStyles=e.animate=e.shouldHandleResizeEvent=e.getElementFirstChild=e.getElementCursor=e.getAutoheightProperty=e.getElementDimensions=e.getItemWidth=e.createDefaultTransformationSet=e.createAutowidthTransformationSet=e.isElement=e.createClones=e.getItemsOffset=e.getItemsCount=e.getSlides=void 0;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e}(n(4419));function u(t){return t&&t.getBoundingClientRect?{width:(t=t.getBoundingClientRect()).width,height:t.height}:{width:0,height:0}}function s(t){return a.isElement(t)&&getComputedStyle(t).transform.match(/(-?[0-9.]+)/g)||[]}e.getSlides=function(t){var e=t.children;t=void 0===(t=t.items)?[]:t;return e?e.length?e:[e]:t},e.getItemsCount=function(t){return e.getSlides(t).length},e.getItemsOffset=function(t){var e=t.infinite,n=t.paddingRight;t=t.paddingLeft;return e&&(t||n)?1:0},e.createClones=function(t){var n=e.getSlides(t);if(!t.infinite)return n;var r=e.getItemsCount(t),i=e.getItemsOffset(t),o=a.getItemsInSlide(r,t),u=Math.min(o,r)+i;t=n.slice(0,u),u=n.slice(-u);return i&&o===r&&(o=n[0],r=n.slice(-1)[0],u.unshift(r),t.push(o)),u.concat(n,t)},e.isElement=function(t){try{return t instanceof Element||t instanceof HTMLDocument}catch(t){return!1}},e.createAutowidthTransformationSet=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=!1);var i=0,o=!0,s=[];return e.isElement(t)&&(s=Array.from(t.children||[]).reduce((function(t,e,r){var a=0,s=r-1;r=t[s],e=u(null==e?void 0:e.firstChild).width;return o=(i+=e=void 0===e?0:e)<=n,r&&(a=0==s?r.width:r.width+r.position),t.push({position:a,width:e}),t}),[]),r||(s=o?a.mapPartialCoords(s):(r=i-n,a.mapPositionCoords(s,r)))),{coords:s,content:i,partial:o}},e.createDefaultTransformationSet=function(t,n,r,i){void 0===i&&(i=!1);var o=0,u=!0,s=[],l=e.getItemWidth(n,r);return s=t.reduce((function(t,e,r){var i=0;r=t[r-1];return u=(o+=l)<=n,r&&(i=l+r.position||0),t.push({width:l,position:i}),t}),[]),{coords:s=i?s:u?a.mapPartialCoords(s):(i=o-n,a.mapPositionCoords(s,i)),content:o,partial:u}},e.getItemWidth=function(t,e){return 0<e?t/e:t},e.getElementDimensions=u,e.getAutoheightProperty=function(t,n,r){if(n=e.getElementCursor(n,r),r=e.getElementFirstChild(t,n),e.isElement(r))return t=getComputedStyle(r),n=parseFloat(t.marginTop),t=parseFloat(t.marginBottom),Math.ceil(r.offsetHeight+n+t)},e.getElementCursor=function(t,e){var n=e.activeIndex;e=e.itemsInSlide;return t.infinite?n+e+a.getItemsOffset(t):n},e.getElementFirstChild=function(t,e){return(t=t&&t.children||[])[e]&&t[e].firstChild||null},e.shouldHandleResizeEvent=function(t,e,n){return void 0===n&&(n={}),(e=void 0===e?{}:e).width!==n.width},e.animate=function(t,n){n=void 0===(r=(i=n||{}).position)?0:r;var r=void 0===(r=i.animationDuration)?0:r,i=void 0===(i=i.animationEasingFunction)?"ease":i;return e.isElement(t)&&(t.style.transition="transform "+r+"ms "+i+" 0ms",t.style.transform="translate3d("+n+"px, 0, 0)"),t},e.getRenderWrapperStyles=function(t,n,r){var i=t||{},o=i.paddingLeft,a=i.paddingRight,u=i.animationDuration;return{height:n=i.autoHeight?e.getAutoheightProperty(r,t,n):void 0,transition:n?"height "+u+"ms":void 0,paddingLeft:o+"px",paddingRight:a+"px"}},e.getTransitionProperty=function(t){var e;return"transform "+(void 0===(t=(e=t||{}).animationDuration)?0:t)+"ms "+(void 0===(e=e.animationEasingFunction)?"ease":e)+" 0ms"},e.getRenderStageStyles=function(t,e){return t="translate3d("+-(void 0===(t=(t||{}).translate3d)?0:t)+"px, 0, 0)",r(r({},e),{transform:t})},e.getRenderStageItemStyles=function(t,e){var n=e.transformationSet,r=e.fadeoutAnimationIndex,i=e.fadeoutAnimationPosition,o=e.fadeoutAnimationProcessing;e=e.animationDuration,n=(n[t]||{}).width;return o&&r===t?{transform:"translateX("+i+"px)",animationDuration:e+"ms",width:n+"px"}:{width:n}},e.getTranslate3dProperty=function(t,e){var n=t,r=e.infinite,i=void 0===(o=e.itemsOffset)?0:o,o=void 0===(o=e.itemsInSlide)?0:o;return((void 0===(e=e.transformationSet)?[]:e)[n=r?t+a.getShiftIndex(o,i):n]||{}).position||0},e.getTouchmoveTranslatePosition=function(t,e){return-(e-Math.floor(t))},e.getTranslateXProperty=function(t){return t=(t=s(t))&&t[4]||"",Number(t)},e.getTransformMatrix=s},4419:function(t,e,n){"use strict";var r=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},i=function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(3034),e),i(n(7806),e),i(n(347),e),i(n(1617),e),i(n(5226),e),i(n(6842),e),i(n(8674),e),i(n(7432),e),i(n(9158),e)},9158:function(t,e){"use strict";var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.mapPositionCoords=e.mapPartialCoords=void 0,e.mapPartialCoords=function(t){return t.map((function(t){return{width:t.width,position:0}}))},e.mapPositionCoords=function(t,e){return void 0===e&&(e=0),t.map((function(t){return t.position>e?n(n({},t),{position:e}):t}))}},5226:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isVerticalTouchmoveDetected=e.getFadeoutAnimationPosition=e.getFadeoutAnimationIndex=e.getSwipeTouchendIndex=e.getSwipeTouchendPosition=e.getSwipeTransformationCursor=e.getTransformationItemIndex=e.getSwipeShiftValue=e.getItemCoords=e.getIsLeftDirection=e.shouldRecalculateSwipePosition=e.getSwipeLimitMax=e.getSwipeLimitMin=e.shouldCancelSlideAnimation=e.shouldRecalculateSlideIndex=e.getUpdateSlidePositionIndex=e.getActiveIndex=e.getStartIndex=e.getShiftIndex=void 0,e.getShiftIndex=function(t,e){return(t=void 0===t?0:t)+(void 0===e?0:e)},e.getStartIndex=function(t,e){if(void 0===t&&(t=0),e=void 0===e?0:e){if(e<=t)return e-1;if(0<t)return t}return 0},e.getActiveIndex=function(t){var n=void 0===(r=t.startIndex)?0:r,r=void 0===(r=t.itemsCount)?0:r;return void 0!==(t=t.infinite)&&t?n:e.getStartIndex(n,r)},e.getUpdateSlidePositionIndex=function(t,e){return t<0?e-1:e<=t?0:t},e.shouldRecalculateSlideIndex=function(t,e){return t<0||e<=t},e.shouldCancelSlideAnimation=function(t,e){return t<0||e<=t},e.getSwipeLimitMin=function(t,e){var n=void 0===(r=t.itemsOffset)?0:r,r=(t=void 0===(r=t.transformationSet)?[]:r,e.infinite);e=void 0===(e=e.swipeExtraPadding)?0:e;return r?(t[n]||{}).position:(t=void 0===(t=(t[0]||{}).width)?0:t,Math.min(e,t))},e.getSwipeLimitMax=function(t,n){var r=n.infinite,i=void 0===(a=n.swipeExtraPadding)?0:a,o=(n=void 0===(o=t.itemsCount)?1:o,void 0===(a=t.itemsOffset)?0:a),a=void 0===(a=t.itemsInSlide)?1:a;t=void 0===(t=t.transformationSet)?[]:t;return r?(t[n+e.getShiftIndex(a,o)]||{}).position||0:e.getItemCoords(-a,t).position+i},e.shouldRecalculateSwipePosition=function(t,e,n){return-e<=t||Math.abs(t)>=n},e.getIsLeftDirection=function(t){return(t=void 0===t?0:t)<0},e.getItemCoords=function(t,e){return void 0===t&&(t=0),(e=void 0===e?[]:e).slice(t)[0]||{position:0,width:0}},e.getSwipeShiftValue=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=[]),e.getItemCoords(t,n).position},e.getTransformationItemIndex=function(t,e){return void 0===e&&(e=0),(t=void 0===t?[]:t).findIndex((function(t){return t.position>=Math.abs(e)}))},e.getSwipeTransformationCursor=function(t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=0),void 0===r&&(r=0),n=e.getTransformationItemIndex(t,n),e.getIsLeftDirection(r)?n:n-1},e.getSwipeTouchendPosition=function(t,n,r){void 0===r&&(r=0);var i=t.infinite,o=t.autoWidth,a=t.isStageContentPartial,u=t.swipeAllowedPositionMax;t=t.transformationSet,n=e.getSwipeTransformationCursor(t,r,n),t=e.getItemCoords(n,t).position;if(!i){if(o&&a)return 0;if(u<t)return-u}return-t},e.getSwipeTouchendIndex=function(t,n){var r=n.transformationSet,i=n.itemsInSlide,o=n.itemsOffset,a=n.itemsCount,u=n.infinite,s=n.isStageContentPartial,l=n.activeIndex;n=n.translate3d;return u||!s&&n!==Math.abs(t)?(t=e.getTransformationItemIndex(r,t),u?t<(u=e.getShiftIndex(i,o))?a-i-o+t:u+a<=t?t-(u+a):t-u:t):l},e.getFadeoutAnimationIndex=function(t){var e=t.infinite,n=t.activeIndex;t=t.itemsInSlide;return e?n+t:n},e.getFadeoutAnimationPosition=function(t,e){var n=e.activeIndex;e=e.stageWidth;return t<n?(n-t)*-e||0:(t-n)*e||0},e.isVerticalTouchmoveDetected=function(t,e,n){return t<(n=void 0===n?0:n)||t<.1*e}},8674:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSlideItemInfo=e.getSlideInfo=e.getSlideIndexForMultipleItems=e.getSlideIndexForNonMultipleItems=e.getActiveSlideDotsLength=e.getActiveSlideIndex=void 0,e.getActiveSlideIndex=function(t,n){var r=(i=n||{}).itemsInSlide,i=(n=i.itemsCount,i.activeIndex+r);return 1===r?e.getSlideIndexForNonMultipleItems(i,r,n):e.getSlideIndexForMultipleItems(i,r,n,t)},e.getActiveSlideDotsLength=function(t,e){if(void 0===e&&(e=1),(t=void 0===t?0:t)&&e){var n=Math.floor(t/e);return t%e==0?n-1:n}return 0},e.getSlideIndexForNonMultipleItems=function(t,e,n){return t<e?n-e:n<t?0:t-1},e.getSlideIndexForMultipleItems=function(t,n,r,i){var o=e.getActiveSlideDotsLength(r,n);return t===r+n?0:i||t<n&&0!==t?o:0===t?r%n==0?o:o-1:0<n?Math.floor(t/n)-1:0},e.getSlideInfo=function(t,e){return void 0===e&&(e=0),(t=(t=void 0===t?0:t)+1)<1?t=e:e<t&&(t=1),{item:t,itemsCount:e}},e.getSlideItemInfo=function(t){var e=t||{},n=e.activeIndex;t=e.infinite;return e.isStageContentPartial?{isPrevSlideDisabled:!0,isNextSlideDisabled:!0}:{isPrevSlideDisabled:!1===t&&0===n,isNextSlideDisabled:!1===t&&e.itemsCount-e.itemsInSlide<=n}}},1617:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0,e.debounce=function(t,e){void 0===e&&(e=0);var n=void 0;return function(){for(var r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n&&(clearTimeout(n),n=void 0),n=window.setTimeout((function(){t.apply(r,i),n=void 0}),e)}}},4156:function(t,e,n){"use strict";var r=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},i=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(e,"__esModule",{value:!0}),e.DotsNavigation=void 0;var o,a=(o=n(2791))&&o.__esModule?o:{default:o},u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e}(n(4419)),s=n(1899);e.DotsNavigation=function(t){var e=t.state,n=t.onClick,r=t.onMouseEnter,i=t.onMouseLeave,o=t.controlsStrategy,l=t.renderDotsItem,c=e.itemsCount,f=e.itemsInSlide,d=e.infinite,h=(t=e.autoWidth,e.activeIndex),p=u.getSlideItemInfo(e).isNextSlideDisabled,v=u.hasDotForEachSlide(t,o),g=u.getDotsNavigationLength(c,f,v);return a.default.createElement("ul",{className:s.Classnames.DOTS},Array.from({length:c}).map((function(t,o){if(o<g){var m=u.checkIsTheLastDotIndex(o,Boolean(d),g),y=u.getItemIndexForDotNavigation(o,m,c,f),x=u.getActiveSlideIndex(p,e);return v&&((x=h)<0?x=c-1:c<=h&&(x=0),y=o),m=x===o?s.Modifiers.ACTIVE:"",x=l?s.Modifiers.CUSTOM:"",x=u.concatClassnames(s.Classnames.DOTS_ITEM,m,x),a.default.createElement("li",{key:"dot-item-"+o,onMouseEnter:r,onMouseLeave:i,onClick:function(){return n(y)},className:x},l&&l({isActive:m,activeIndex:o}))}})))}},5167:function(t,e,n){"use strict";var r=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},i=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(e,"__esModule",{value:!0}),e.PlayPauseButton=void 0;var o,a=(o=n(2791))&&o.__esModule?o:{default:o},u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e}(n(4419)),s=n(1899);e.PlayPauseButton=function(t){var e=t.isPlaying,n=t.onClick;return"function"==typeof(t=t.renderPlayPauseButton)?a.default.createElement("div",{className:s.Classnames.PLAY_BTN,onClick:n},t({isPlaying:e})):(e=e?s.Modifiers.PAUSE:"",e=u.concatClassnames(s.Classnames.PLAY_BTN_ITEM,e),a.default.createElement("div",{className:s.Classnames.PLAY_BTN},a.default.createElement("div",{className:s.Classnames.PLAY_BTN_WRAPPER},a.default.createElement("div",{onClick:n,className:e}))))}},9735:function(t,e,n){"use strict";var r=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},i=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(e,"__esModule",{value:!0}),e.PrevNextButton=void 0;var o,a=(o=n(2791))&&o.__esModule?o:{default:o},u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e}(n(4419)),s=n(1899);e.PrevNextButton=function(t){var e=t.name,n=t.isDisabled,r=t.onClick,i=t.renderPrevButton,o=t.renderNextButton;return"function"==typeof i?a.default.createElement("div",{className:s.Classnames.BUTTON_PREV,onClick:r},i({isDisabled:n})):"function"==typeof o?a.default.createElement("div",{className:s.Classnames.BUTTON_NEXT,onClick:r},o({isDisabled:n})):(i=(t="prev"===e)?"<":">",o=t?s.Classnames.BUTTON_PREV:s.Classnames.BUTTON_NEXT,e=t?s.Classnames.BUTTON_PREV_WRAPPER:s.Classnames.BUTTON_NEXT_WRAPPER,t=t?s.Classnames.BUTTON_PREV_ITEM:s.Classnames.BUTTON_NEXT_ITEM,n=n?s.Modifiers.INACTIVE:"",n=u.concatClassnames(t,n),a.default.createElement("div",{className:o},a.default.createElement("div",{className:e},a.default.createElement("p",{className:n,onClick:r},a.default.createElement("span",{"data-area":i})))))}},3798:function(t,e,n){"use strict";var r=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},i=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(e,"__esModule",{value:!0}),e.SlideInfo=void 0;var o,a=(o=n(2791))&&o.__esModule?o:{default:o},u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e}(n(4419)),s=n(1899);e.SlideInfo=function(t){var e=t.activeIndex,n=t.itemsCount;t=t.renderSlideInfo,e=u.getSlideInfo(e,n).item;return"function"==typeof t?a.default.createElement("div",{className:s.Classnames.SLIDE_INFO},t({item:e,itemsCount:n})):(t=u.concatClassnames(s.Classnames.SLIDE_INFO_ITEM,s.Modifiers.SEPARATOR),a.default.createElement("div",{className:s.Classnames.SLIDE_INFO},a.default.createElement("span",{className:s.Classnames.SLIDE_INFO_ITEM},e),a.default.createElement("span",{className:t},"/"),a.default.createElement("span",{className:s.Classnames.SLIDE_INFO_ITEM},n)))}},3833:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StageItem=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r};e.StageItem=function(t){var e=t.item,n=t.className;t=t.styles;return i.default.createElement("li",{style:t,className:n},e)}},3050:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrevNextButton=e.PlayPauseButton=e.DotsNavigation=e.StageItem=e.SlideInfo=void 0;var r=n(3798);Object.defineProperty(e,"SlideInfo",{enumerable:!0,get:function(){return r.SlideInfo}});var i=n(3833);Object.defineProperty(e,"StageItem",{enumerable:!0,get:function(){return i.StageItem}});var o=n(4156);Object.defineProperty(e,"DotsNavigation",{enumerable:!0,get:function(){return o.DotsNavigation}});var a=n(5167);Object.defineProperty(e,"PlayPauseButton",{enumerable:!0,get:function(){return a.PlayPauseButton}});var u=n(9735);Object.defineProperty(e,"PrevNextButton",{enumerable:!0,get:function(){return u.PrevNextButton}})},4463:function(t,e,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var u=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)u.add(e[t])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function x(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(v,t)||!h.call(p,t)&&(d.test(t)?v[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,x);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,x);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,x);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,k=60106,C=60107,E=60108,O=60114,M=60109,_=60110,A=60112,T=60113,P=60120,D=60115,F=60116,N=60121,I=60128,L=60129,R=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;S=B("react.element"),k=B("react.portal"),C=B("react.fragment"),E=B("react.strict_mode"),O=B("react.profiler"),M=B("react.provider"),_=B("react.context"),A=B("react.forward_ref"),T=B("react.suspense"),P=B("react.suspense_list"),D=B("react.memo"),F=B("react.lazy"),N=B("react.block"),B("react.scope"),I=B("react.opaque.id"),L=B("react.debug_trace_mode"),R=B("react.offscreen"),j=B("react.legacy_hidden")}var z,U="function"===typeof Symbol&&Symbol.iterator;function H(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=U&&t[U]||t["@@iterator"])?t:null}function V(t){if(void 0===z)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);z=e&&e[1]||""}return"\n"+z+t}var W=!1;function Y(t,e){if(!t||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(s){var r=s}Reflect.construct(t,[],e)}else{try{e.call()}catch(s){r=s}t.call(e.prototype)}else{try{throw Error()}catch(s){r=s}t()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?V(t):""}function q(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=Y(t.type,!1);case 11:return t=Y(t.type.render,!1);case 22:return t=Y(t.type._render,!1);case 1:return t=Y(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case C:return"Fragment";case k:return"Portal";case O:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case _:return(t.displayName||"Context")+".Consumer";case M:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case D:return G(t.type);case N:return G(t._render);case F:e=t._payload,t=t._init;try{return G(t(e))}catch(n){}}return null}function $(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function X(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=X(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Z(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=$(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=$(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,$(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function ut(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function st(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:$(n)}}function lt(t,e){var n=$(e.value),r=$(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ft="http://www.w3.org/1999/xhtml",dt="http://www.w3.org/2000/svg";function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ht(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vt,gt,mt=(gt=function(t,e){if(t.namespaceURI!==dt||"innerHTML"in t)t.innerHTML=e;else{for((vt=vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return gt(t,e)}))}:gt);function yt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var xt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function wt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||xt.hasOwnProperty(t)&&xt[t]?(""+e).trim():e+"px"}function St(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=wt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(xt).forEach((function(t){bt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xt[e]=xt[t]}))}));var kt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ct(t,e){if(e){if(kt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function Et(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ot(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Mt=null,_t=null,At=null;function Tt(t){if(t=ri(t)){if("function"!==typeof Mt)throw Error(a(280));var e=t.stateNode;e&&(e=oi(e),Mt(t.stateNode,t.type,e))}}function Pt(t){_t?At?At.push(t):At=[t]:_t=t}function Dt(){if(_t){var t=_t,e=At;if(At=_t=null,Tt(t),e)for(t=0;t<e.length;t++)Tt(e[t])}}function Ft(t,e){return t(e)}function Nt(t,e,n,r,i){return t(e,n,r,i)}function It(){}var Lt=Ft,Rt=!1,jt=!1;function Bt(){null===_t&&null===At||(It(),Dt())}function zt(t,e){var n=t.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Ut=!1;if(f)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(gt){Ut=!1}function Vt(t,e,n,r,i,o,a,u,s){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Wt=!1,Yt=null,qt=!1,Gt=null,$t={onError:function(t){Wt=!0,Yt=t}};function Xt(t,e,n,r,i,o,a,u,s){Wt=!1,Yt=null,Vt.apply($t,arguments)}function Kt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Zt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Jt(t){if(Kt(t)!==t)throw Error(a(188))}function Qt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Kt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jt(i),t;if(o===r)return Jt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],ue=null,se=null,le=null,ce=new Map,fe=new Map,de=[],he="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ve(t,e){switch(t){case"focusin":case"focusout":ue=null;break;case"dragenter":case"dragleave":se=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(e.pointerId)}}function ge(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=pe(e,n,r,i,o),null!==e&&(null!==(e=ri(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function me(t){var e=ni(t.target);if(null!==e){var n=Kt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Zt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ri(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function xe(t,e,n){ye(t)&&n.delete(e)}function be(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ri(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==ue&&ye(ue)&&(ue=null),null!==se&&ye(se)&&(se=null),null!==le&&ye(le)&&(le=null),ce.forEach(xe),fe.forEach(xe)}function we(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,be)))}function Se(t){function e(e){return we(e,t)}if(0<ae.length){we(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ue&&we(ue,t),null!==se&&we(se,t),null!==le&&we(le,t),ce.forEach(e),fe.forEach(e),n=0;n<de.length;n++)(r=de[n]).blockedOn===t&&(r.blockedOn=null);for(;0<de.length&&null===(n=de[0]).blockedOn;)me(n),null===n.blockedOn&&de.shift()}function ke(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ce={animationend:ke("Animation","AnimationEnd"),animationiteration:ke("Animation","AnimationIteration"),animationstart:ke("Animation","AnimationStart"),transitionend:ke("Transition","TransitionEnd")},Ee={},Oe={};function Me(t){if(Ee[t])return Ee[t];if(!Ce[t])return t;var e,n=Ce[t];for(e in n)if(n.hasOwnProperty(e)&&e in Oe)return Ee[t]=n[e];return t}f&&(Oe=document.createElement("div").style,"AnimationEvent"in window||(delete Ce.animationend.animation,delete Ce.animationiteration.animation,delete Ce.animationstart.animation),"TransitionEvent"in window||delete Ce.transitionend.transition);var _e=Me("animationend"),Ae=Me("animationiteration"),Te=Me("animationstart"),Pe=Me("transitionend"),De=new Map,Fe=new Map,Ne=["abort","abort",_e,"animationEnd",Ae,"animationIteration",Te,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pe,"transitionEnd","waiting","waiting"];function Ie(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Fe.set(r,e),De.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Le=8;function Re(t){if(0!==(1&t))return Le=15,1;if(0!==(2&t))return Le=14,2;if(0!==(4&t))return Le=13,4;var e=24&t;return 0!==e?(Le=12,e):0!==(32&t)?(Le=11,32):0!==(e=192&t)?(Le=10,e):0!==(256&t)?(Le=9,256):0!==(e=3584&t)?(Le=8,e):0!==(4096&t)?(Le=7,4096):0!==(e=4186112&t)?(Le=6,e):0!==(e=62914560&t)?(Le=5,e):67108864&t?(Le=4,67108864):0!==(134217728&t)?(Le=3,134217728):0!==(e=805306368&t)?(Le=2,e):0!==(1073741824&t)?(Le=1,1073741824):(Le=8,t)}function je(t,e){var n=t.pendingLanes;if(0===n)return Le=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,u=t.pingedLanes;if(0!==o)r=o,i=Le=15;else if(0!==(o=134217727&n)){var s=o&~a;0!==s?(r=Re(s),i=Le):0!==(u&=o)&&(r=Re(u),i=Le)}else 0!==(o=n&~a)?(r=Re(o),i=Le):0!==u&&(r=Re(u),i=Le);if(0===r)return 0;if(r=n&((0>(r=31-We(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(Re(e),i<=Le)return e;Le=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-We(e)),r|=t[n],e&=~i;return r}function Be(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ze(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ue(24&~e))?ze(10,e):t;case 10:return 0===(t=Ue(192&~e))?ze(8,e):t;case 8:return 0===(t=Ue(3584&~e))&&(0===(t=Ue(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ue(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ue(t){return t&-t}function He(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ve(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-We(e)]=n}var We=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ye(t)/qe|0)|0},Ye=Math.log,qe=Math.LN2;var Ge=o.unstable_UserBlockingPriority,$e=o.unstable_runWithPriority,Xe=!0;function Ke(t,e,n,r){Rt||It();var i=Je,o=Rt;Rt=!0;try{Nt(i,t,e,n,r)}finally{(Rt=o)||Bt()}}function Ze(t,e,n,r){$e(Ge,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){var i;if(Xe)if((i=0===(4&e))&&0<ae.length&&-1<he.indexOf(t))t=pe(null,t,e,n,r),ae.push(t);else{var o=Qe(t,e,n,r);if(null===o)i&&ve(t,r);else{if(i){if(-1<he.indexOf(t))return t=pe(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return ue=ge(ue,t,e,n,r,i),!0;case"dragenter":return se=ge(se,t,e,n,r,i),!0;case"mouseover":return le=ge(le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ce.set(o,ge(ce.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fe.set(o,ge(fe.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ve(t,r)}Ir(t,e,r,null,n)}}}function Qe(t,e,n,r){var i=Ot(r);if(null!==(i=ni(i))){var o=Kt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Zt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ir(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function un(){return!1}function sn(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:un,this.isPropagationStopped=un,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var ln,cn,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=i({},dn,{view:0,detail:0}),vn=sn(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fn&&(fn&&"mousemove"===t.type?(ln=t.screenX-fn.screenX,cn=t.screenY-fn.screenY):cn=ln=0,fn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),mn=sn(gn),yn=sn(i({},gn,{dataTransfer:0})),xn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sn=sn(wn),kn=sn(i({},dn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=On[t])&&!!e[t]}function _n(){return Mn}var An=i({},pn,{key:function(t){if(t.key){var e=Cn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=sn(An),Pn=sn(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Fn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=i({},gn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),In=sn(Nn),Ln=[9,13,27,32],Rn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Bn=f&&"TextEvent"in window&&!jn,zn=f&&(!Rn||jn&&8<jn&&11>=jn),Un=String.fromCharCode(32),Hn=!1;function Vn(t,e){switch(t){case"keyup":return-1!==Ln.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Yn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!qn[t.type]:"textarea"===e}function $n(t,e,n,r){Pt(r),0<(e=Rr(e,"onChange")).length&&(n=new hn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xn=null,Kn=null;function Zn(t){Ar(t,0)}function Jn(t){if(Z(ii(t)))return t}function Qn(t,e){if("change"===t)return e}var tr=!1;if(f){var er;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}er=nr}else er=!1;tr=er&&(!document.documentMode||9<document.documentMode)}function ir(){Xn&&(Xn.detachEvent("onpropertychange",or),Kn=Xn=null)}function or(t){if("value"===t.propertyName&&Jn(Kn)){var e=[];if($n(e,Kn,t,Ot(t)),t=Zn,Rt)t(e);else{Rt=!0;try{Ft(t,e)}finally{Rt=!1,Bt()}}}}function ar(t,e,n){"focusin"===t?(ir(),Kn=n,(Xn=e).attachEvent("onpropertychange",or)):"focusout"===t&&ir()}function ur(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Jn(Kn)}function sr(t,e){if("click"===t)return Jn(e)}function lr(t,e){if("input"===t||"change"===t)return Jn(e)}var cr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},fr=Object.prototype.hasOwnProperty;function dr(t,e){if(cr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(e,n[r])||!cr(t[n[r]],e[n[r]]))return!1;return!0}function hr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pr(t,e){var n,r=hr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hr(r)}}function vr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?vr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function gr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function mr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,xr=null,br=null,wr=null,Sr=!1;function kr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==xr||xr!==J(r)||("selectionStart"in(r=xr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Rr(br,"onSelect")).length&&(e=new hn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xr)))}Ie("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ie("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ie(Ne,2);for(var Cr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Cr.length;Er++)Fe.set(Cr[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function _r(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,u,s,l){if(Xt.apply(this,arguments),Wt){if(!Wt)throw Error(a(198));var c=Yt;Wt=!1,Yt=null,qt||(qt=!0,Gt=c)}}(r,e,void 0,t),t.currentTarget=null}function Ar(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break t;_r(i,u,l),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,l=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break t;_r(i,u,l),o=s}}}if(qt)throw t=Gt,qt=!1,Gt=null,t}function Tr(t,e){var n=ai(e),r=t+"__bubble";n.has(r)||(Nr(e,t,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Dr(t){t[Pr]||(t[Pr]=!0,u.forEach((function(e){Mr.has(e)||Fr(e,!1,t,null),Fr(e,!0,t,null)})))}function Fr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Mr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ai(o),u=t+"__"+(e?"capture":"bubble");a.has(u)||(e&&(i|=4),Nr(o,t,i,e),a.add(u))}function Nr(t,e,n,r){var i=Fe.get(e);switch(void 0===i?2:i){case 0:i=Ke;break;case 1:i=Ze;break;default:i=Je}n=i.bind(null,e,n,t),i=void 0,!Ut||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ir(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=ni(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue t}u=u.parentNode}}r=r.return}!function(t,e,n){if(jt)return t(e,n);jt=!0;try{Lt(t,e,n)}finally{jt=!1,Bt()}}((function(){var r=o,i=Ot(n),a=[];t:{var u=De.get(t);if(void 0!==u){var s=hn,l=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":s=Tn;break;case"focusin":l="focus",s=xn;break;case"focusout":l="blur",s=xn;break;case"beforeblur":case"afterblur":s=xn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Dn;break;case _e:case Ae:case Te:s=bn;break;case Pe:s=Fn;break;case"scroll":s=vn;break;case"wheel":s=In;break;case"copy":case"cut":case"paste":s=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Pn}var c=0!==(4&e),f=!c&&"scroll"===t,d=c?null!==u?u+"Capture":null:u;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=zt(p,d))&&c.push(Lr(p,v,h)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),a.push({event:u,listeners:c}))}}if(0===(7&e)){if(s="mouseout"===t||"pointerout"===t,(!(u="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ti])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(f=Kt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=mn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Pn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ii(s),h=null==l?u:ii(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,ni(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,s&&l)t:{for(d=l,p=0,h=c=s;h;h=jr(h))p++;for(h=0,v=d;v;v=jr(v))h++;for(;0<p-h;)c=jr(c),p--;for(;0<h-p;)d=jr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=jr(c),d=jr(d)}c=null}else c=null;null!==s&&Br(a,u,s,c,!1),null!==l&&null!==f&&Br(a,f,l,c,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var g=Qn;else if(Gn(u))if(tr)g=lr;else{g=ur;var m=ar}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(g=sr);switch(g&&(g=g(t,r))?$n(a,g,n,i):(m&&m(t,u,r),"focusout"===t&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&it(u,"number",u.value)),m=r?ii(r):window,t){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(xr=m,br=r,wr=null);break;case"focusout":wr=br=xr=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,kr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(a,n,i)}var y;if(Rn)t:{switch(t){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else Yn?Vn(t,n)&&(x="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(x="onCompositionStart");x&&(zn&&"ko"!==n.locale&&(Yn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Yn&&(y=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,Yn=!0)),0<(m=Rr(r,x)).length&&(x=new kn(x,t,null,n,i),a.push({event:x,listeners:m}),y?x.data=y:null!==(y=Wn(n))&&(x.data=y))),(y=Bn?function(t,e){switch(t){case"compositionend":return Wn(e);case"keypress":return 32!==e.which?null:(Hn=!0,Un);case"textInput":return(t=e.data)===Un&&Hn?null:t;default:return null}}(t,n):function(t,e){if(Yn)return"compositionend"===t||!Rn&&Vn(t,e)?(t=rn(),nn=en=tn=null,Yn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Rr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ar(a,e)}))}function Lr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=zt(t,n))&&r.unshift(Lr(t,o,i)),null!=(o=zt(t,e))&&r.push(Lr(t,o,i))),t=t.return}return r}function jr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Br(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=zt(n,o))&&a.unshift(Lr(n,s,u)):i||null!=(s=zt(n,o))&&a.push(Lr(n,s,u))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function zr(){}var Ur=null,Hr=null;function Vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Wr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Yr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function $r(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Xr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Kr=0;var Zr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Zr,Qr="__reactProps$"+Zr,ti="__reactContainer$"+Zr,ei="__reactEvents$"+Zr;function ni(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[Jr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Xr(t);null!==t;){if(n=t[Jr])return n;t=Xr(t)}return e}n=(t=n).parentNode}return null}function ri(t){return!(t=t[Jr]||t[ti])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ii(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function oi(t){return t[Qr]||null}function ai(t){var e=t[ei];return void 0===e&&(e=t[ei]=new Set),e}var ui=[],si=-1;function li(t){return{current:t}}function ci(t){0>si||(t.current=ui[si],ui[si]=null,si--)}function fi(t,e){si++,ui[si]=t.current,t.current=e}var di={},hi=li(di),pi=li(!1),vi=di;function gi(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){ci(pi),ci(hi)}function xi(t,e,n){if(hi.current!==di)throw Error(a(168));fi(hi,e),fi(pi,n)}function bi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,G(e)||"Unknown",o));return i({},n,r)}function wi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,vi=hi.current,fi(hi,t),fi(pi,pi.current),!0}function Si(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=bi(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,ci(pi),ci(hi),fi(hi,t)):ci(pi),fi(pi,n)}var ki=null,Ci=null,Ei=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Mi=o.unstable_cancelCallback,_i=o.unstable_shouldYield,Ai=o.unstable_requestPaint,Ti=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Fi=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Ri={},ji=void 0!==Ai?Ai:function(){},Bi=null,zi=null,Ui=!1,Hi=Ti(),Vi=1e4>Hi?Ti:function(){return Ti()-Hi};function Wi(){switch(Pi()){case Di:return 99;case Fi:return 98;case Ni:return 97;case Ii:return 96;case Li:return 95;default:throw Error(a(332))}}function Yi(t){switch(t){case 99:return Di;case 98:return Fi;case 97:return Ni;case 96:return Ii;case 95:return Li;default:throw Error(a(332))}}function qi(t,e){return t=Yi(t),Ei(t,e)}function Gi(t,e,n){return t=Yi(t),Oi(t,e,n)}function $i(){if(null!==zi){var t=zi;zi=null,Mi(t)}Xi()}function Xi(){if(!Ui&&null!==Bi){Ui=!0;var t=0;try{var e=Bi;qi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(t+1)),Oi(Di,$i),n}finally{Ui=!1}}}var Ki=w.ReactCurrentBatchConfig;function Zi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Ji=li(null),Qi=null,to=null,eo=null;function no(){eo=to=Qi=null}function ro(t){var e=Ji.current;ci(Ji),t.type._context._currentValue=e}function io(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function oo(t,e){Qi=t,eo=to=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Ra=!0),t.firstContext=null)}function ao(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===Qi)throw Error(a(308));to=e,Qi.dependencies={lanes:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var uo=!1;function so(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function co(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ho(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function po(t,e,n,r){var o=t.updateQueue;uo=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===u?a=c:u.next=c,u=l;var f=t.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=l)}}if(null!==a){for(d=o.baseState,u=0,f=c=l=null;;){s=a.lane;var h=a.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,v=a;switch(s=e,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,s);break t}d=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(h,d,s):p)||void 0===s)break t;d=i({},d,s);break t;case 2:uo=!0}}null!==a.callback&&(t.flags|=32,null===(s=o.effects)?o.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=h,l=d):f=f.next=h,u|=s;if(null===(a=a.next)){if(null===(s=o.shared.pending))break;a=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===f&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Uu|=u,t.lanes=u,t.memoizedState=d}}function vo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function mo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternals)&&Kt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ds(),i=hs(t),o=co(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),fo(t,o),ps(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ds(),i=hs(t),o=co(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),fo(t,o),ps(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ds(),r=hs(t),i=co(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),fo(t,i),ps(t,r,n)}};function xo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function bo(t,e,n){var r=!1,i=di,o=e.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=mi(e)?vi:hi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?gi(t,i):di),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function So(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=go,so(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=mi(e)?vi:hi.current,i.context=gi(t,o)),po(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(mo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var ko=Array.isArray;function Co(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===go&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Eo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Oo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=qs(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function u(e){return t&&null===e.alternate&&(e.flags=2),e}function s(t,e,n,r){return null===e||6!==e.tag?((e=Ks(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Co(t,e,n),r.return=t,r):((r=Gs(n.type,n.key,n.props,null,t.mode,r)).ref=Co(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Zs(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=$s(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Ks(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case S:return(n=Gs(e.type,e.key,e.props,null,t.mode,n)).ref=Co(t,null,e),n.return=t,n;case k:return(e=Zs(e,t.mode,n)).return=t,e}if(ko(e)||H(e))return(e=$s(e,t.mode,n,null)).return=t,e;Eo(t,e)}return null}function h(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===C?f(t,e,n.props.children,r,i):l(t,e,n,r):null;case k:return n.key===i?c(t,e,n,r):null}if(ko(n)||H(n))return null!==i?null:f(t,e,n,r,null);Eo(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return s(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return t=t.get(null===r.key?n:r.key)||null,r.type===C?f(e,t,r.props.children,i,r.key):l(e,t,r,i);case k:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||H(r))return f(e,t=t.get(n)||null,r,i,null);Eo(e,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,g=null;null!==f&&v<u.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=h(i,f,u[v],s);if(null===m){null===f&&(f=g);break}t&&f&&null===m.alternate&&e(i,f),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,f=g}if(v===u.length)return n(i,f),l;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<u.length;v++)null!==(g=p(f,i,v,u[v],s))&&(t&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g);return t&&f.forEach((function(t){return e(i,t)})),l}function g(i,u,s,l){var c=H(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,g=u=0,m=null,y=s.next();null!==v&&!y.done;g++,y=s.next()){v.index>g?(m=v,v=null):m=v.sibling;var x=h(i,v,y.value,l);if(null===x){null===v&&(v=m);break}t&&v&&null===x.alternate&&e(i,v),u=o(x,u,g),null===f?c=x:f.sibling=x,f=x,v=m}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;g++,y=s.next())null!==(y=d(i,y.value,l))&&(u=o(y,u,g),null===f?c=y:f.sibling=y,f=y);return c}for(v=r(i,v);!y.done;g++,y=s.next())null!==(y=p(v,i,g,y.value,l))&&(t&&null!==y.alternate&&v.delete(null===y.key?g:y.key),u=o(y,u,g),null===f?c=y:f.sibling=y,f=y);return t&&v.forEach((function(t){return e(i,t)})),c}return function(t,r,o,s){var l="object"===typeof o&&null!==o&&o.type===C&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case S:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===C){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}}else if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=Co(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===C?((r=$s(o.props.children,t.mode,s,o.key)).return=t,t=r):((s=Gs(o.type,o.key,o.props,null,t.mode,s)).ref=Co(t,r,o),s.return=t,t=s)}return u(t);case k:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Zs(o,t.mode,s)).return=t,t=r}return u(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Ks(o,t.mode,s)).return=t,t=r),u(t);if(ko(o))return v(t,r,o,s);if(H(o))return g(t,r,o,s);if(c&&Eo(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(t.type)||"Component"))}return n(t,r)}}var Mo=Oo(!0),_o=Oo(!1),Ao={},To=li(Ao),Po=li(Ao),Do=li(Ao);function Fo(t){if(t===Ao)throw Error(a(174));return t}function No(t,e){switch(fi(Do,e),fi(Po,t),fi(To,Ao),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ci(To),fi(To,e)}function Io(){ci(To),ci(Po),ci(Do)}function Lo(t){Fo(Do.current);var e=Fo(To.current),n=pt(e,t.type);e!==n&&(fi(Po,t),fi(To,n))}function Ro(t){Po.current===t&&(ci(To),ci(Po))}var jo=li(0);function Bo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zo=null,Uo=null,Ho=!1;function Vo(t,e){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Wo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Yo(t){if(Ho){var e=Uo;if(e){var n=e;if(!Wo(t,e)){if(!(e=$r(n.nextSibling))||!Wo(t,e))return t.flags=-1025&t.flags|2,Ho=!1,void(zo=t);Vo(zo,n)}zo=t,Uo=$r(e.firstChild)}else t.flags=-1025&t.flags|2,Ho=!1,zo=t}}function qo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;zo=t}function Go(t){if(t!==zo)return!1;if(!Ho)return qo(t),Ho=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Wr(e,t.memoizedProps))for(e=Uo;e;)Vo(t,e),e=$r(e.nextSibling);if(qo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Uo=$r(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Uo=null}}else Uo=zo?$r(t.stateNode.nextSibling):null;return!0}function $o(){Uo=zo=null,Ho=!1}var Xo=[];function Ko(){for(var t=0;t<Xo.length;t++)Xo[t]._workInProgressVersionPrimary=null;Xo.length=0}var Zo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Qo=0,ta=null,ea=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function ua(t,e,n,r,i,o){if(Qo=o,ta=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zo.current=null===t||null===t.memoizedState?Fa:Na,t=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ea=null,e.updateQueue=null,Zo.current=Ia,t=n(r,i)}while(ia)}if(Zo.current=Da,e=null!==ea&&null!==ea.next,Qo=0,na=ea=ta=null,ra=!1,e)throw Error(a(300));return t}function sa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ta.memoizedState=na=t:na=na.next=t,na}function la(){if(null===ea){var t=ta.alternate;t=null!==t?t.memoizedState:null}else t=ea.next;var e=null===na?ta.memoizedState:na.next;if(null!==e)na=e,ea=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ea=t).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===na?ta.memoizedState=na=t:na=na.next=t}return na}function ca(t,e){return"function"===typeof e?e(t):e}function fa(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=o=null,l=i;do{var c=l.lane;if((Qo&c)===c)null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(u=s=f,o=r):s=s.next=f,ta.lanes|=c,Uu|=c}l=l.next}while(null!==l&&l!==i);null===s?o=r:s.next=u,cr(r,e.memoizedState)||(Ra=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=s,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function da(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=t(o,u.action),u=u.next}while(u!==i);cr(o,e.memoizedState)||(Ra=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Qo&t)===t)&&(e._workInProgressVersionPrimary=r,Xo.push(e))),t)return n(e._source);throw Xo.push(e),Error(a(350))}function pa(t,e,n,r){var i=Fu;if(null===i)throw Error(a(349));var o=e._getVersion,u=o(e._source),s=Zo.current,l=s.useState((function(){return ha(i,e,n)})),c=l[1],f=l[0];l=na;var d=t.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var g=ta;return t.memoizedState={refs:h,source:e,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var t=o(e._source);if(!cr(u,t)){t=n(e._source),cr(f,t)||(c(t),t=hs(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var s=31-We(a),l=1<<s;r[s]|=t,a&=~l}}}),[n,e,r]),s.useEffect((function(){return r(e._source,(function(){var t=h.getSnapshot,n=h.setSnapshot;try{n(t(e._source));var r=hs(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),cr(p,n)&&cr(v,e)&&cr(d,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=c=Pa.bind(null,ta,t),l.queue=t,l.baseQueue=null,f=ha(i,e,n),l.memoizedState=l.baseState=f),f}function va(t,e,n){return pa(la(),t,e,n)}function ga(t){var e=sa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t}).dispatch=Pa.bind(null,ta,t),[e.memoizedState,t]}function ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ta.updateQueue)?(e={lastEffect:null},ta.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ya(t){return t={current:t},sa().memoizedState=t}function xa(){return la().memoizedState}function ba(t,e,n,r){var i=sa();ta.flags|=t,i.memoizedState=ma(1|e,n,void 0,void 0===r?null:r)}function wa(t,e,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ma(e,n,o,r)}ta.flags|=t,i.memoizedState=ma(1|e,n,o,r)}function Sa(t,e){return ba(516,4,t,e)}function ka(t,e){return wa(516,4,t,e)}function Ca(t,e){return wa(4,2,t,e)}function Ea(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Oa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,wa(4,2,Ea.bind(null,e,t),n)}function Ma(){}function _a(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Aa(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ta(t,e){var n=Wi();qi(98>n?98:n,(function(){t(!0)})),qi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{t(!1),e()}finally{Jo.transition=n}}))}function Pa(t,e,n){var r=ds(),i=hs(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===ta||null!==a&&a===ta)ia=ra=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var u=e.lastRenderedState,s=a(u,n);if(o.eagerReducer=a,o.eagerState=s,cr(s,u))return}catch(l){}ps(t,i,r)}}var Da={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Fa={readContext:ao,useCallback:function(t,e){return sa().memoizedState=[t,void 0===e?null:e],t},useContext:ao,useEffect:Sa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ba(4,2,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ba(4,2,t,e)},useMemo:function(t,e){var n=sa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Pa.bind(null,ta,t),[r.memoizedState,t]},useRef:ya,useState:ga,useDebugValue:Ma,useDeferredValue:function(t){var e=ga(t),n=e[0],r=e[1];return Sa((function(){var e=Jo.transition;Jo.transition=1;try{r(t)}finally{Jo.transition=e}}),[t]),n},useTransition:function(){var t=ga(!1),e=t[0];return ya(t=Ta.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=sa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},pa(r,t,e,n)},useOpaqueIdentifier:function(){if(Ho){var t=!1,e=function(t){return{$$typeof:I,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Kr++).toString(36))),Error(a(355))})),n=ga(e)[1];return 0===(2&ta.mode)&&(ta.flags|=516,ma(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),e}return ga(e="r:"+(Kr++).toString(36)),e},unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:_a,useContext:ao,useEffect:ka,useImperativeHandle:Oa,useLayoutEffect:Ca,useMemo:Aa,useReducer:fa,useRef:xa,useState:function(){return fa(ca)},useDebugValue:Ma,useDeferredValue:function(t){var e=fa(ca),n=e[0],r=e[1];return ka((function(){var e=Jo.transition;Jo.transition=1;try{r(t)}finally{Jo.transition=e}}),[t]),n},useTransition:function(){var t=fa(ca)[0];return[xa().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Ia={readContext:ao,useCallback:_a,useContext:ao,useEffect:ka,useImperativeHandle:Oa,useLayoutEffect:Ca,useMemo:Aa,useReducer:da,useRef:xa,useState:function(){return da(ca)},useDebugValue:Ma,useDeferredValue:function(t){var e=da(ca),n=e[0],r=e[1];return ka((function(){var e=Jo.transition;Jo.transition=1;try{r(t)}finally{Jo.transition=e}}),[t]),n},useTransition:function(){var t=da(ca)[0];return[xa().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,Ra=!1;function ja(t,e,n,r){e.child=null===t?_o(e,null,n,r):Mo(e,t.child,n,r)}function Ba(t,e,n,r,i){n=n.render;var o=e.ref;return oo(e,i),r=ua(t,e,n,r,o,i),null===t||Ra?(e.flags|=1,ja(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ou(t,e,i))}function za(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Ys(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Gs(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ua(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&t.ref===e.ref)?ou(t,e,o):(e.flags|=1,(t=qs(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ua(t,e,n,r,i,o){if(null!==t&&dr(t.memoizedProps,r)&&t.ref===e.ref){if(Ra=!1,0===(o&i))return e.lanes=t.lanes,ou(t,e,o);0!==(16384&t.flags)&&(Ra=!0)}return Wa(t,e,n,r,o)}function Ha(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},Ss(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Ss(e,t),null;e.memoizedState={baseLanes:0},Ss(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ss(e,r);return ja(t,e,i,n),e.child}function Va(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Wa(t,e,n,r,i){var o=mi(n)?vi:hi.current;return o=gi(e,o),oo(e,i),n=ua(t,e,n,r,o,i),null===t||Ra?(e.flags|=1,ja(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ou(t,e,i))}function Ya(t,e,n,r,i){if(mi(n)){var o=!0;wi(e)}else o=!1;if(oo(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),bo(e,n,r),So(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,u=e.memoizedProps;a.props=u;var s=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=gi(e,l=mi(n)?vi:hi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==l)&&wo(e,a,r,l),uo=!1;var d=e.memoizedState;a.state=d,po(e,r,a,i),s=e.memoizedState,u!==r||d!==s||pi.current||uo?("function"===typeof c&&(mo(e,n,c,r),s=e.memoizedState),(u=uo||xo(e,n,u,r,d,s,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=s),a.props=r,a.state=s,a.context=l,r=u):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,lo(t,e),u=e.memoizedProps,l=e.type===e.elementType?u:Zi(e.type,u),a.props=l,f=e.pendingProps,d=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=ao(s):s=gi(e,s=mi(n)?vi:hi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||d!==s)&&wo(e,a,r,s),uo=!1,d=e.memoizedState,a.state=d,po(e,r,a,i);var p=e.memoizedState;u!==f||d!==p||pi.current||uo?("function"===typeof h&&(mo(e,n,h,r),p=e.memoizedState),(l=uo||xo(e,n,l,r,d,p,s))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=s,r=l):("function"!==typeof a.componentDidUpdate||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),r=!1)}return qa(t,e,n,r,o,i)}function qa(t,e,n,r,i,o){Va(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&Si(e,n,!1),ou(t,e,o);r=e.stateNode,La.current=e;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Mo(e,t.child,null,o),e.child=Mo(e,null,u,o)):ja(t,e,u,o),e.memoizedState=r.state,i&&Si(e,n,!0),e.child}function Ga(t){var e=t.stateNode;e.pendingContext?xi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&xi(0,e.context,!1),No(t,e.containerInfo)}var $a,Xa,Ka,Za={dehydrated:null,retryLane:0};function Ja(t,e,n){var r,i=e.pendingProps,o=jo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(jo,1&o),null===t?(void 0!==i.fallback&&Yo(e),t=i.children,o=i.fallback,a?(t=Qa(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,t):"number"===typeof i.unstable_expectedLoadTime?(t=Qa(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,e.lanes=33554432,t):((n=Xs({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=eu(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Za,i):(n=tu(t,e,i.children,n),e.memoizedState=null,n))}function Qa(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Xs(e,i,0,null),n=$s(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function tu(t,e,n,r){var i=t.child;return t=i.sibling,n=qs(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function eu(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var u={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=u,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=qs(a,u),null!==t?r=qs(t,r):(r=$s(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function nu(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),io(t.return,e)}function ru(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function iu(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ja(t,e,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&nu(t,n);else if(19===t.tag)nu(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fi(jo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Bo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ru(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Bo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ru(e,!0,n,null,o,e.lastEffect);break;case"together":ru(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ou(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Uu|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=qs(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=qs(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function au(t,e){if(!Ho)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function uu(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(e.type)&&yi(),null;case 3:return Io(),ci(pi),ci(hi),Ko(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Go(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Ro(e);var o=Fo(Do.current);if(n=e.type,null!==t&&null!=e.stateNode)Xa(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Fo(To.current),Go(e)){r=e.stateNode,n=e.type;var u=e.memoizedProps;switch(r[Jr]=e,r[Qr]=u,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(t=0;t<Or.length;t++)Tr(Or[t],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":tt(r,u),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Tr("invalid",r);break;case"textarea":st(r,u),Tr("invalid",r)}for(var l in Ct(n,u),t=null,u)u.hasOwnProperty(l)&&(o=u[l],"children"===l?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):s.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Tr("scroll",r));switch(n){case"input":K(r),rt(r,u,!0);break;case"textarea":K(r),ct(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=zr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,t===ft&&(t=ht(n)),t===ft?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Jr]=e,t[Qr]=r,$a(t,e),e.stateNode=t,l=Et(n,r),n){case"dialog":Tr("cancel",t),Tr("close",t),o=r;break;case"iframe":case"object":case"embed":Tr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)Tr(Or[o],t);o=r;break;case"source":Tr("error",t),o=r;break;case"img":case"image":case"link":Tr("error",t),Tr("load",t),o=r;break;case"details":Tr("toggle",t),o=r;break;case"input":tt(t,r),o=Q(t,r),Tr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",t);break;case"textarea":st(t,r),o=ut(t,r),Tr("invalid",t);break;default:o=r}Ct(n,o);var c=o;for(u in c)if(c.hasOwnProperty(u)){var f=c[u];"style"===u?St(t,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&mt(t,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&yt(t,f):"number"===typeof f&&yt(t,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Tr("scroll",t):null!=f&&b(t,u,f,l))}switch(n){case"input":K(t),rt(t,r,!1);break;case"textarea":K(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+$(r.value));break;case"select":t.multiple=!!r.multiple,null!=(u=r.value)?at(t,!!r.multiple,u,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=zr)}Vr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ka(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Fo(Do.current),Fo(To.current),Go(e)?(r=e.stateNode,n=e.memoizedProps,r[Jr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=e,e.stateNode=r)}return null;case 13:return ci(jo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Go(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Fu||0===(134217727&Uu)&&0===(134217727&Hu)||ys(Fu,Iu))),(r||n)&&(e.flags|=4),null);case 4:return Io(),null===t&&Dr(e.stateNode.containerInfo),null;case 10:return ro(e),null;case 19:if(ci(jo),null===(r=e.memoizedState))return null;if(u=0!==(64&e.flags),null===(l=r.rendering))if(u)au(r,!1);else{if(0!==ju||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(l=Bo(t))){for(e.flags|=64,au(r,!1),null!==(u=l.updateQueue)&&(e.updateQueue=u,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(l=u.alternate)?(u.childLanes=0,u.lanes=t,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=l.childLanes,u.lanes=l.lanes,u.child=l.child,u.memoizedProps=l.memoizedProps,u.memoizedState=l.memoizedState,u.updateQueue=l.updateQueue,u.type=l.type,t=l.dependencies,u.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fi(jo,1&jo.current|2),e.child}t=t.sibling}null!==r.tail&&Vi()>qu&&(e.flags|=64,u=!0,au(r,!1),e.lanes=33554432)}else{if(!u)if(null!==(t=Bo(l))){if(e.flags|=64,u=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),au(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Ho)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>qu&&1073741824!==n&&(e.flags|=64,u=!0,au(r,!1),e.lanes=33554432);r.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=r.last)?n.sibling=l:e.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,e=jo.current,fi(jo,u?1&e|2:1&e),n):null;case 23:case 24:return ks(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function su(t){switch(t.tag){case 1:mi(t.type)&&yi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Io(),ci(pi),ci(hi),Ko(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Ro(t),null;case 13:return ci(jo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ci(jo),null;case 4:return Io(),null;case 10:return ro(t),null;case 23:case 24:return ks(),null;default:return null}}function lu(t,e){try{var n="",r=e;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function cu(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}$a=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xa=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Fo(To.current);var a,u=null;switch(n){case"input":o=Q(t,o),r=Q(t,r),u=[];break;case"option":o=ot(t,o),r=ot(t,r),u=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":o=ut(t,o),r=ut(t,r),u=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=zr)}for(f in Ct(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(u||(u=[]),u.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(u=u||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(u=u||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Tr("scroll",t),u||l===c||(u=[])):"object"===typeof c&&null!==c&&c.$$typeof===I?c.toString():(u=u||[]).push(f,c))}n&&(u=u||[]).push("style",n);var f=u;(e.updateQueue=f)&&(e.flags|=4)}},Ka=function(t,e,n,r){n!==r&&(e.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function du(t,e,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ku||(Ku=!0,Zu=r),cu(0,e)},n}function hu(t,e,n){(n=co(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return cu(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),cu(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){zs(t,n)}else e.current=null}function gu(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Zi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Gr(e.stateNode.containerInfo))}throw Error(a(163))}function mu(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Rs(n,t),Ls(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Zi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&vo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}vo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Vr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Se(n)))))}throw Error(a(163))}function yu(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=wt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function xu(t,e){if(Ci&&"function"===typeof Ci.onCommitFiberUnmount)try{Ci.onCommitFiberUnmount(ki,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Rs(e,n);else{r=e;try{i()}catch(o){zs(r,o)}}n=n.next}while(n!==t)}break;case 1:if(vu(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){zs(e,o)}break;case 5:vu(e);break;case 4:Eu(t,e)}}function bu(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function wu(t){return 5===t.tag||3===t.tag||4===t.tag}function Su(t){t:{for(var e=t.return;null!==e;){if(wu(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(yt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?ku(t,n,e):Cu(t,n,e)}function ku(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=zr));else if(4!==r&&null!==(t=t.child))for(ku(t,e,n),t=t.sibling;null!==t;)ku(t,e,n),t=t.sibling}function Cu(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(Cu(t,e,n),t=t.sibling;null!==t;)Cu(t,e,n),t=t.sibling}function Eu(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var u=t,s=i,l=s;;)if(xu(u,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break t;for(;null===l.sibling;){if(null===l.return||l.return===s)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(xu(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ou(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Qr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Et(t,i),e=Et(t,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?St(n,s):"dangerouslySetInnerHTML"===u?mt(n,s):"children"===u?yt(n,s):b(n,u,s,e)}switch(t){case"input":nt(n,r);break;case"textarea":lt(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,Se(n.containerInfo)));case 13:return null!==e.memoizedState&&(Yu=Vi(),yu(e.child,!0)),void Mu(e);case 19:return void Mu(e);case 23:case 24:return void yu(e,null!==e.memoizedState)}throw Error(a(163))}function Mu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new pu),e.forEach((function(e){var r=Hs.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function _u(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Au=Math.ceil,Tu=w.ReactCurrentDispatcher,Pu=w.ReactCurrentOwner,Du=0,Fu=null,Nu=null,Iu=0,Lu=0,Ru=li(0),ju=0,Bu=null,zu=0,Uu=0,Hu=0,Vu=0,Wu=null,Yu=0,qu=1/0;function Gu(){qu=Vi()+500}var $u,Xu=null,Ku=!1,Zu=null,Ju=null,Qu=!1,ts=null,es=90,ns=[],rs=[],is=null,os=0,as=null,us=-1,ss=0,ls=0,cs=null,fs=!1;function ds(){return 0!==(48&Du)?Vi():-1!==us?us:us=Vi()}function hs(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Wi()?1:2;if(0===ss&&(ss=zu),0!==Ki.transition){0!==ls&&(ls=null!==Wu?Wu.pendingLanes:0),t=ss;var e=4186112&~ls;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Wi(),0!==(4&Du)&&98===t?t=ze(12,ss):t=ze(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ss),t}function ps(t,e,n){if(50<os)throw os=0,as=null,Error(a(185));if(null===(t=vs(t,e)))return null;Ve(t,e,n),t===Fu&&(Hu|=e,4===ju&&ys(t,Iu));var r=Wi();1===e?0!==(8&Du)&&0===(48&Du)?xs(t):(gs(t,n),0===Du&&(Gu(),$i())):(0===(4&Du)||98!==r&&99!==r||(null===is?is=new Set([t]):is.add(t)),gs(t,n)),Wu=t}function vs(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function gs(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,u=t.pendingLanes;0<u;){var s=31-We(u),l=1<<s,c=o[s];if(-1===c){if(0===(l&r)||0!==(l&i)){c=e,Re(l);var f=Le;o[s]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);u&=~l}if(r=je(t,t===Fu?Iu:0),e=Le,0===r)null!==n&&(n!==Ri&&Mi(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Ri&&Mi(n)}15===e?(n=xs.bind(null,t),null===Bi?(Bi=[n],zi=Oi(Di,Xi)):Bi.push(n),n=Ri):14===e?n=Gi(99,xs.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Gi(n,ms.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function ms(t){if(us=-1,ls=ss=0,0!==(48&Du))throw Error(a(327));var e=t.callbackNode;if(Is()&&t.callbackNode!==e)return null;var n=je(t,t===Fu?Iu:0);if(0===n)return null;var r=n,i=Du;Du|=16;var o=Os();for(Fu===t&&Iu===r||(Gu(),Cs(t,r));;)try{As();break}catch(s){Es(t,s)}if(no(),Tu.current=o,Du=i,null!==Nu?r=0:(Fu=null,Iu=0,r=ju),0!==(zu&Hu))Cs(t,0);else if(0!==r){if(2===r&&(Du|=64,t.hydrate&&(t.hydrate=!1,Gr(t.containerInfo)),0!==(n=Be(t))&&(r=Ms(t,n))),1===r)throw e=Bu,Cs(t,0),ys(t,n),gs(t,Vi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ds(t);break;case 3:if(ys(t,n),(62914560&n)===n&&10<(r=Yu+500-Vi())){if(0!==je(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ds(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yr(Ds.bind(null,t),r);break}Ds(t);break;case 4:if(ys(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var u=31-We(n);o=1<<u,(u=r[u])>i&&(i=u),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){t.timeoutHandle=Yr(Ds.bind(null,t),n);break}Ds(t);break;default:throw Error(a(329))}}return gs(t,Vi()),t.callbackNode===e?ms.bind(null,t):null}function ys(t,e){for(e&=~Vu,e&=~Hu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-We(e),r=1<<n;t[n]=-1,e&=~r}}function xs(t){if(0!==(48&Du))throw Error(a(327));if(Is(),t===Fu&&0!==(t.expiredLanes&Iu)){var e=Iu,n=Ms(t,e);0!==(zu&Hu)&&(n=Ms(t,e=je(t,e)))}else n=Ms(t,e=je(t,0));if(0!==t.tag&&2===n&&(Du|=64,t.hydrate&&(t.hydrate=!1,Gr(t.containerInfo)),0!==(e=Be(t))&&(n=Ms(t,e))),1===n)throw n=Bu,Cs(t,0),ys(t,e),gs(t,Vi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t),gs(t,Vi()),null}function bs(t,e){var n=Du;Du|=1;try{return t(e)}finally{0===(Du=n)&&(Gu(),$i())}}function ws(t,e){var n=Du;Du&=-2,Du|=8;try{return t(e)}finally{0===(Du=n)&&(Gu(),$i())}}function Ss(t,e){fi(Ru,Lu),Lu|=e,zu|=e}function ks(){Lu=Ru.current,ci(Ru)}function Cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,qr(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Io(),ci(pi),ci(hi),Ko();break;case 5:Ro(r);break;case 4:Io();break;case 13:case 19:ci(jo);break;case 10:ro(r);break;case 23:case 24:ks()}n=n.return}Fu=t,Nu=qs(t.current,null),Iu=Lu=zu=e,ju=0,Bu=null,Vu=Hu=Uu=0}function Es(t,e){for(;;){var n=Nu;try{if(no(),Zo.current=Da,ra){for(var r=ta.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Qo=0,na=ea=ta=null,ia=!1,Pu.current=null,null===n||null===n.return){ju=1,Bu=e,Nu=null;break}t:{var o=t,a=n.return,u=n,s=e;if(e=Iu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&jo.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var g=d.updateQueue;if(null===g){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=co(-1,1);y.tag=2,fo(u,y)}u.lanes|=1;break t}s=void 0,u=e;var x=o.pingCache;if(null===x?(x=o.pingCache=new fu,s=new Set,x.set(l,s)):void 0===(s=x.get(l))&&(s=new Set,x.set(l,s)),!s.has(u)){s.add(u);var b=Us.bind(null,o,l,u);l.then(b,b)}d.flags|=4096,d.lanes=e;break t}d=d.return}while(null!==d);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=lu(s,u),d=a;do{switch(d.tag){case 3:o=s,d.flags|=4096,e&=-e,d.lanes|=e,ho(d,du(0,o,e));break t;case 1:o=s;var w=d.type,S=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Ju||!Ju.has(S)))){d.flags|=4096,e&=-e,d.lanes|=e,ho(d,hu(d,o,e));break t}}d=d.return}while(null!==d)}Ps(n)}catch(k){e=k,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function Os(){var t=Tu.current;return Tu.current=Da,null===t?Da:t}function Ms(t,e){var n=Du;Du|=16;var r=Os();for(Fu===t&&Iu===e||Cs(t,e);;)try{_s();break}catch(i){Es(t,i)}if(no(),Du=n,Tu.current=r,null!==Nu)throw Error(a(261));return Fu=null,Iu=0,ju}function _s(){for(;null!==Nu;)Ts(Nu)}function As(){for(;null!==Nu&&!_i();)Ts(Nu)}function Ts(t){var e=$u(t.alternate,t,Lu);t.memoizedProps=t.pendingProps,null===e?Ps(t):Nu=e,Pu.current=null}function Ps(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=uu(n,e,Lu)))return void(Nu=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Lu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=su(e)))return n.flags&=2047,void(Nu=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Nu=e);Nu=e=t}while(null!==e);0===ju&&(ju=5)}function Ds(t){var e=Wi();return qi(99,Fs.bind(null,t,e)),null}function Fs(t,e){do{Is()}while(null!==ts);if(0!==(48&Du))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var u=t.eventTimes,s=t.expirationTimes;0<o;){var l=31-We(o),c=1<<l;i[l]=0,u[l]=-1,s[l]=-1,o&=~c}if(null!==is&&0===(24&r)&&is.has(t)&&is.delete(t),t===Fu&&(Nu=Fu=null,Iu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Du,Du|=32,Pu.current=null,Ur=Xe,mr(u=gr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else t:if(s=(s=u.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{s.nodeType,l.nodeType}catch(O){s=null;break t}var f=0,d=-1,h=-1,p=0,v=0,g=u,m=null;e:for(;;){for(var y;g!==s||0!==o&&3!==g.nodeType||(d=f+o),g!==l||0!==c&&3!==g.nodeType||(h=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)m=g,g=y;for(;;){if(g===u)break e;if(m===s&&++p===o&&(d=f),m===l&&++v===c&&(h=f),null!==(y=g.nextSibling))break;m=(g=m).parentNode}g=y}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Hr={focusedElem:u,selectionRange:s},Xe=!1,cs=null,fs=!1,Xu=r;do{try{Ns()}catch(O){if(null===Xu)throw Error(a(330));zs(Xu,O),Xu=Xu.nextEffect}}while(null!==Xu);cs=null,Xu=r;do{try{for(u=t;null!==Xu;){var x=Xu.flags;if(16&x&&yt(Xu.stateNode,""),128&x){var b=Xu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&x){case 2:Su(Xu),Xu.flags&=-3;break;case 6:Su(Xu),Xu.flags&=-3,Ou(Xu.alternate,Xu);break;case 1024:Xu.flags&=-1025;break;case 1028:Xu.flags&=-1025,Ou(Xu.alternate,Xu);break;case 4:Ou(Xu.alternate,Xu);break;case 8:Eu(u,s=Xu);var S=s.alternate;bu(s),null!==S&&bu(S)}Xu=Xu.nextEffect}}catch(O){if(null===Xu)throw Error(a(330));zs(Xu,O),Xu=Xu.nextEffect}}while(null!==Xu);if(w=Hr,b=gr(),x=w.focusedElem,u=w.selectionRange,b!==x&&x&&x.ownerDocument&&vr(x.ownerDocument.documentElement,x)){null!==u&&mr(x)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in x?(x.selectionStart=b,x.selectionEnd=Math.min(w,x.value.length)):(w=(b=x.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=x.textContent.length,S=Math.min(u.start,s),u=void 0===u.end?S:Math.min(u.end,s),!w.extend&&S>u&&(s=u,u=S,S=s),s=pr(x,S),o=pr(x,u),s&&o&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),S>u?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=x;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<b.length;x++)(w=b[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Xe=!!Ur,Hr=Ur=null,t.current=n,Xu=r;do{try{for(x=t;null!==Xu;){var k=Xu.flags;if(36&k&&mu(x,Xu.alternate,Xu),128&k){b=void 0;var C=Xu.ref;if(null!==C){var E=Xu.stateNode;Xu.tag,b=E,"function"===typeof C?C(b):C.current=b}}Xu=Xu.nextEffect}}catch(O){if(null===Xu)throw Error(a(330));zs(Xu,O),Xu=Xu.nextEffect}}while(null!==Xu);Xu=null,ji(),Du=i}else t.current=n;if(Qu)Qu=!1,ts=t,es=e;else for(Xu=r;null!==Xu;)e=Xu.nextEffect,Xu.nextEffect=null,8&Xu.flags&&((k=Xu).sibling=null,k.stateNode=null),Xu=e;if(0===(r=t.pendingLanes)&&(Ju=null),1===r?t===as?os++:(os=0,as=t):os=0,n=n.stateNode,Ci&&"function"===typeof Ci.onCommitFiberRoot)try{Ci.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(O){}if(gs(t,Vi()),Ku)throw Ku=!1,t=Zu,Zu=null,t;return 0!==(8&Du)||$i(),null}function Ns(){for(;null!==Xu;){var t=Xu.alternate;fs||null===cs||(0!==(8&Xu.flags)?te(Xu,cs)&&(fs=!0):13===Xu.tag&&_u(t,Xu)&&te(Xu,cs)&&(fs=!0));var e=Xu.flags;0!==(256&e)&&gu(t,Xu),0===(512&e)||Qu||(Qu=!0,Gi(97,(function(){return Is(),null}))),Xu=Xu.nextEffect}}function Is(){if(90!==es){var t=97<es?97:es;return es=90,qi(t,js)}return!1}function Ls(t,e){ns.push(e,t),Qu||(Qu=!0,Gi(97,(function(){return Is(),null})))}function Rs(t,e){rs.push(e,t),Qu||(Qu=!0,Gi(97,(function(){return Is(),null})))}function js(){if(null===ts)return!1;var t=ts;if(ts=null,0!==(48&Du))throw Error(a(331));var e=Du;Du|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(l){if(null===o)throw Error(a(330));zs(o,l)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(l){if(null===o)throw Error(a(330));zs(o,l)}}for(s=t.current.firstEffect;null!==s;)t=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=t;return Du=e,$i(),!0}function Bs(t,e,n){fo(t,e=du(0,e=lu(n,e),1)),e=ds(),null!==(t=vs(t,1))&&(Ve(t,1,e),gs(t,e))}function zs(t,e){if(3===t.tag)Bs(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Bs(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=hu(n,t=lu(e,t),1);if(fo(n,i),i=ds(),null!==(n=vs(n,1)))Ve(n,1,i),gs(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Us(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ds(),t.pingedLanes|=t.suspendedLanes&n,Fu===t&&(Iu&n)===n&&(4===ju||3===ju&&(62914560&Iu)===Iu&&500>Vi()-Yu?Cs(t,0):Vu|=n),gs(t,e)}function Hs(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Wi()?1:2:(0===ss&&(ss=zu),0===(e=Ue(62914560&~ss))&&(e=4194304))),n=ds(),null!==(t=vs(t,e))&&(Ve(t,e,n),gs(t,n))}function Vs(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(t,e,n,r){return new Vs(t,e,n,r)}function Ys(t){return!(!(t=t.prototype)||!t.isReactComponent)}function qs(t,e){var n=t.alternate;return null===n?((n=Ws(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gs(t,e,n,r,i,o){var u=2;if(r=t,"function"===typeof t)Ys(t)&&(u=1);else if("string"===typeof t)u=5;else t:switch(t){case C:return $s(n.children,i,o,e);case L:u=8,i|=16;break;case E:u=8,i|=1;break;case O:return(t=Ws(12,n,e,8|i)).elementType=O,t.type=O,t.lanes=o,t;case T:return(t=Ws(13,n,e,i)).type=T,t.elementType=T,t.lanes=o,t;case P:return(t=Ws(19,n,e,i)).elementType=P,t.lanes=o,t;case R:return Xs(n,i,o,e);case j:return(t=Ws(24,n,e,i)).elementType=j,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case M:u=10;break t;case _:u=9;break t;case A:u=11;break t;case D:u=14;break t;case F:u=16,r=null;break t;case N:u=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Ws(u,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function $s(t,e,n,r){return(t=Ws(7,t,r,e)).lanes=n,t}function Xs(t,e,n,r){return(t=Ws(23,t,r,e)).elementType=R,t.lanes=n,t}function Ks(t,e,n){return(t=Ws(6,t,null,e)).lanes=n,t}function Zs(t,e,n){return(e=Ws(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Js(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=He(0),this.expirationTimes=He(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.mutableSourceEagerHydrationData=null}function Qs(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function tl(t,e,n,r){var i=e.current,o=ds(),u=hs(i);t:if(n){e:{if(Kt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=bi(n,l,s);break t}}n=s}else n=di;return null===e.context?e.context=n:e.pendingContext=n,(e=co(o,u)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),fo(i,e),ps(i,u,o),u}function el(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function nl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function rl(t,e){nl(t,e),(t=t.alternate)&&nl(t,e)}function il(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(t,e,null!=n&&!0===n.hydrate),e=Ws(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,so(e),t[ti]=n.current,Dr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function ol(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function al(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var u=i;i=function(){var t=el(a);u.call(t)}}tl(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new il(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var t=el(a);s.call(t)}}ws((function(){tl(e,a,t,i)}))}return el(a)}function ul(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(e))throw Error(a(200));return Qs(t,e,null,n)}$u=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||pi.current)Ra=!0;else{if(0===(n&r)){switch(Ra=!1,e.tag){case 3:Ga(e),$o();break;case 5:Lo(e);break;case 1:mi(e.type)&&wi(e);break;case 4:No(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Ja(t,e,n):(fi(jo,1&jo.current),null!==(e=ou(t,e,n))?e.sibling:null);fi(jo,1&jo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return iu(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(jo,jo.current),r)break;return null;case 23:case 24:return e.lanes=0,Ha(t,e,n)}return ou(t,e,n)}Ra=0!==(16384&t.flags)}else Ra=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=gi(e,hi.current),oo(e,n),i=ua(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)){var o=!0;wi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(e);var u=r.getDerivedStateFromProps;"function"===typeof u&&mo(e,r,u,t),i.updater=yo,e.stateNode=i,i._reactInternals=e,So(e,r,t,n),e=qa(null,e,r,!0,o,n)}else e.tag=0,ja(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Ys(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===A)return 11;if(t===D)return 14}return 2}(i),t=Zi(i,t),o){case 0:e=Wa(null,e,i,t,n);break t;case 1:e=Ya(null,e,i,t,n);break t;case 11:e=Ba(null,e,i,t,n);break t;case 14:e=za(null,e,i,Zi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Wa(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ya(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 3:if(Ga(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lo(t,e),po(e,r,null,n),(r=e.memoizedState.element)===i)$o(),e=ou(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Uo=$r(e.stateNode.containerInfo.firstChild),zo=e,o=Ho=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Xo.push(o);for(n=_o(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(t,e,r,n),$o();e=e.child}return e;case 5:return Lo(e),null===t&&Yo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==o&&Wr(r,o)&&(e.flags|=16),Va(t,e),ja(t,e,u,n),e.child;case 6:return null===t&&Yo(e),null;case 13:return Ja(t,e,n);case 4:return No(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Mo(e,null,r,n):ja(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ba(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 7:return ja(t,e,e.pendingProps,n),e.child;case 8:case 12:return ja(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,u=e.memoizedProps,o=i.value;var s=e.type._context;if(fi(Ji,s._currentValue),s._currentValue=o,null!==u)if(s=u.value,0===(o=cr(s,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(u.children===i.children&&!pi.current){e=ou(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){u=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===s.tag&&((c=co(-1,n&-n)).tag=2,fo(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),io(s.return,n),l.lanes|=n;break}c=c.next}}else u=10===s.tag&&s.type===e.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===e){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}ja(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,oo(e,n),r=r(i=ao(i,o.unstable_observedBits)),e.flags|=1,ja(t,e,r,n),e.child;case 14:return o=Zi(i=e.type,e.pendingProps),za(t,e,i,o=Zi(i.type,o),r,n);case 15:return Ua(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,mi(r)?(t=!0,wi(e)):t=!1,oo(e,n),bo(e,r,i),So(e,r,i,n),qa(null,e,r,!0,t,n);case 19:return iu(t,e,n);case 23:case 24:return Ha(t,e,n)}throw Error(a(156,e.tag))},il.prototype.render=function(t){tl(t,this._internalRoot,null,null)},il.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;tl(null,t,null,(function(){e[ti]=null}))},ee=function(t){13===t.tag&&(ps(t,4,ds()),rl(t,4))},ne=function(t){13===t.tag&&(ps(t,67108864,ds()),rl(t,67108864))},re=function(t){if(13===t.tag){var e=ds(),n=hs(t);ps(t,n,e),rl(t,n)}},ie=function(t,e){return e()},Mt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oi(r);if(!i)throw Error(a(90));Z(r),nt(r,i)}}}break;case"textarea":lt(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Ft=bs,Nt=function(t,e,n,r,i){var o=Du;Du|=4;try{return qi(98,t.bind(null,e,n,r,i))}finally{0===(Du=o)&&(Gu(),$i())}},It=function(){0===(49&Du)&&(function(){if(null!==is){var t=is;is=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,gs(t,Vi())}))}$i()}(),Is())},Lt=function(t,e){var n=Du;Du|=2;try{return t(e)}finally{0===(Du=n)&&(Gu(),$i())}};var sl={Events:[ri,ii,oi,Pt,Dt,Is,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Qt(t))?null:t.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{ki=fl.inject(cl),Ci=fl}catch(gt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl,e.createPortal=ul,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Qt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Du;if(0!==(48&n))return t(e);Du|=1;try{if(t)return qi(99,t.bind(null,e))}finally{Du=n,$i()}},e.hydrate=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!0,n)},e.render=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ol(t))throw Error(a(40));return!!t._reactRootContainer&&(ws((function(){al(null,null,t,!1,(function(){t._reactRootContainer=null,t[ti]=null}))})),!0)},e.unstable_batchedUpdates=bs,e.unstable_createPortal=function(t,e){return ul(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ol(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return al(t,e,n,!1,r)},e.version="17.0.2"},4164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4463)},1372:function(t,e){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,u=60109,s=60110,l=60112,c=60113,f=60120,d=60115,h=60116,p=60121,v=60122,g=60117,m=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),r=x("react.portal"),i=x("react.fragment"),o=x("react.strict_mode"),a=x("react.profiler"),u=x("react.provider"),s=x("react.context"),l=x("react.forward_ref"),c=x("react.suspense"),f=x("react.suspense_list"),d=x("react.memo"),h=x("react.lazy"),p=x("react.block"),v=x("react.server.block"),g=x("react.fundamental"),m=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function b(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case i:case a:case o:case c:case f:return t;default:switch(t=t&&t.$$typeof){case s:case l:case h:case d:case u:return t;default:return e}}case r:return e}}}e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===i||t===a||t===m||t===o||t===c||t===f||t===y||"object"===typeof t&&null!==t&&(t.$$typeof===h||t.$$typeof===d||t.$$typeof===u||t.$$typeof===s||t.$$typeof===l||t.$$typeof===g||t.$$typeof===p||t[0]===v)},e.typeOf=b},7441:function(t,e,n){"use strict";t.exports=n(1372)},6374:function(t,e,n){"use strict";n(1725);var r=n(2791),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)u.call(e,r)&&!s.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:c,props:o,_owner:a.current}}e.jsx=l,e.jsxs=l},9117:function(t,e,n){"use strict";var r=n(1725),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,u=60110,s=60112;e.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),e.Fragment=f("react.fragment"),e.StrictMode=f("react.strict_mode"),e.Profiler=f("react.profiler"),a=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),e.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}function m(){}function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(h(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},m.prototype=g.prototype;var x=y.prototype=new m;x.constructor=y,r(x,g.prototype),x.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r,o={},a=null,u=null;if(null!=e)for(r in void 0!==e.ref&&(u=e.ref),void 0!==e.key&&(a=""+e.key),e)w.call(e,r)&&!S.hasOwnProperty(r)&&(o[r]=e[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:t,key:a,ref:u,props:o,_owner:b.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var E=/\/+/g;function O(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,n,r,a){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var s=!1;if(null===t)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case i:case o:s=!0}}if(s)return a=a(s=t),t=""===r?"."+O(s,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(E,"$&/")+"/"),M(a,e,n,"",(function(t){return t}))):null!=a&&(C(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+t)),e.push(a)),1;if(s=0,r=""===r?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=r+O(u=t[l],l);s+=M(u,e,n,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(u=t.next()).done;)s+=M(u=u.value,e,n,c=r+O(u,l++),a);else if("object"===u)throw e=""+t,Error(h(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function _(t,e,n){if(null==t)return t;var r=[],i=0;return M(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function A(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var T={current:null};function P(){var t=T.current;if(null===t)throw Error(h(321));return t}var D={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:_,forEach:function(t,e,n){_(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return _(t,(function(){e++})),e},toArray:function(t){return _(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error(h(143));return t}},e.Component=g,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(h(267,t));var o=r({},t.props),a=t.key,u=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(u=e.ref,s=b.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:i,type:t.type,key:a,ref:u,props:o,_owner:s}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:u,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:s,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:l,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return P().useCallback(t,e)},e.useContext=function(t,e){return P().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return P().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return P().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return P().useLayoutEffect(t,e)},e.useMemo=function(t,e){return P().useMemo(t,e)},e.useReducer=function(t,e,n){return P().useReducer(t,e,n)},e.useRef=function(t){return P().useRef(t)},e.useState=function(t){return P().useState(t)},e.version="17.0.2"},2791:function(t,e,n){"use strict";t.exports=n(9117)},184:function(t,e,n){"use strict";t.exports=n(6374)},9727:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(P){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new _(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=E(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=c(t,e,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function g(){}function m(){}function y(){}var x={};s(x,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,o)&&(x=w);var S=y.prototype=g.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(i,o,a,u){var s=c(t[i],t,o);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return m.prototype=y,s(S,"constructor",y),s(y,"constructor",m),m.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},k(C.prototype),s(C.prototype,a,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),s(S,u,"Generator"),s(S,o,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},6813:function(t,e){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();e.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,f=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}};n=function(t){null!==l?setTimeout(n,0,t):(l=t,setTimeout(f,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,m=-1,y=5,x=0;e.unstable_shouldYield=function(){return e.unstable_now()>=x},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();x=t+y;try{g(!0,t)?w.postMessage(null):(v=!1,g=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(t){g=t,v||(v=!0,w.postMessage(null))},r=function(t,n){m=d((function(){t(e.unstable_now())}),n)},i=function(){h(m),m=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<E(i,e)))break t;t[r]=e,t[n]=i,n=r}}function k(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],u=o+1,s=t[u];if(void 0!==a&&0>E(a,n))void 0!==s&&0>E(s,a)?(t[r]=s,t[u]=n,r=u):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==s&&0>E(s,n)))break t;t[r]=s,t[u]=n,r=u}}}return e}return null}function E(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var O=[],M=[],_=1,A=null,T=3,P=!1,D=!1,F=!1;function N(t){for(var e=k(M);null!==e;){if(null===e.callback)C(M);else{if(!(e.startTime<=t))break;C(M),e.sortIndex=e.expirationTime,S(O,e)}e=k(M)}}function I(t){if(F=!1,N(t),!D)if(null!==k(O))D=!0,n(L);else{var e=k(M);null!==e&&r(I,e.startTime-t)}}function L(t,n){D=!1,F&&(F=!1,i()),P=!0;var o=T;try{for(N(n),A=k(O);null!==A&&(!(A.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,T=A.priorityLevel;var u=a(A.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?A.callback=u:A===k(O)&&C(O),N(n)}else C(O);A=k(O)}if(null!==A)var s=!0;else{var l=k(M);null!==l&&r(I,l.startTime-n),s=!1}return s}finally{A=null,T=o,P=!1}}var R=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){D||P||(D=!0,n(L))},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return k(O)},e.unstable_next=function(t){switch(T){case 1:case 2:case 3:var e=3;break;default:e=T}var n=T;T=e;try{return t()}finally{T=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=R,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=T;T=t;try{return e()}finally{T=n}},e.unstable_scheduleCallback=function(t,o,a){var u=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?u+a:u:a=u,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:_++,callback:o,priorityLevel:t,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>u?(t.sortIndex=a,S(M,t),null===k(O)&&t===k(M)&&(F?i():F=!0,r(I,a-u))):(t.sortIndex=s,S(O,t),D||P||(D=!0,n(L))),t},e.unstable_wrapCallback=function(t){var e=T;return function(){var n=T;T=e;try{return t.apply(this,arguments)}finally{T=n}}}},5296:function(t,e,n){"use strict";t.exports=n(6813)},9613:function(t){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(e),s=0;s<o.length;s++){var l=o[s];if(!u(l))return!1;var c=t[l],f=e[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}},3010:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SensorTabIndex=e.SensorClassName=e.SizeSensorId=void 0;e.SizeSensorId="size-sensor-id";e.SensorClassName="size-sensor-object";e.SensorTabIndex="-1"},8281:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){t.apply(r,o)}),e)}}},2904:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=1;e.default=function(){return"".concat(n++)}},315:function(t,e,n){"use strict";e.ak=void 0;var r=n(4374);e.ak=function(t,e){var n=(0,r.getSensor)(t);return n.bind(e),function(){n.unbind(e)}}},4374:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeSensor=e.getSensor=void 0;var r,i=(r=n(2904))&&r.__esModule?r:{default:r},o=n(6413),a=n(3010);var u={};e.getSensor=function(t){var e=t.getAttribute(a.SizeSensorId);if(e&&u[e])return u[e];var n=(0,i.default)();t.setAttribute(a.SizeSensorId,n);var r=(0,o.createSensor)(t);return u[n]=r,r};e.removeSensor=function(t){var e=t.element.getAttribute(a.SizeSensorId);t.element.removeAttribute(a.SizeSensorId),t.destroy(),e&&u[e]&&delete u[e]}},6413:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r=n(8850),i=n(4881),o="undefined"!==typeof ResizeObserver?i.createSensor:r.createSensor;e.createSensor=o},8850:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r,i=(r=n(8281))&&r.__esModule?r:{default:r},o=n(3010);e.createSensor=function(t){var e=void 0,n=[],r=(0,i.default)((function(){n.forEach((function(e){e(t)}))})),a=function(){e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",r),e.parentNode.removeChild(e),e=void 0,n=[])};return{element:t,bind:function(i){e||(e=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",r),r()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",o.SensorClassName),e.setAttribute("tabindex",o.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===n.indexOf(i)&&n.push(i)},destroy:a,unbind:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&e&&a()}}}},4881:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r,i=(r=n(8281))&&r.__esModule?r:{default:r};e.createSensor=function(t){var e=void 0,n=[],r=(0,i.default)((function(){n.forEach((function(e){e(t)}))})),o=function(){e.disconnect(),n=[],e=void 0};return{element:t,bind:function(i){e||(e=function(){var e=new ResizeObserver(r);return e.observe(t),r(),e}()),-1===n.indexOf(i)&&n.push(i)},destroy:o,unbind:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&e&&o()}}}},9388:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},pi:function(){return o},_T:function(){return a},pr:function(){return u},ev:function(){return s}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;function u(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}function s(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create},5510:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0});var i={};e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(7678)),a=n(123);function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))}));var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"state",void 0),l(this,"props",void 0),this.state=o.getInitialState(),this.props=o.getInitialProps(e),this.handleSwipeStart=this.handleSwipeStart.bind(this),this.handleSwipeMove=this.handleSwipeMove.bind(this),this.handleSwipeEnd=this.handleSwipeEnd.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}var e,n,r;return e=t,n=[{key:"init",value:function(){this.setupTouchListeners(),this.setupMouseListeners()}},{key:"update",value:function(t){var e=this.props,n=Object.assign({},e,t);if(e.element!==n.element||e.target!==n.target)return this.destroy(),this.props=n,void this.init();this.props=n,e.mouseTrackingEnabled===n.mouseTrackingEnabled&&e.preventTrackingOnMouseleave===n.preventTrackingOnMouseleave||(this.cleanupMouseListeners(),n.mouseTrackingEnabled?this.setupMouseListeners():this.cleanupMouseListeners()),e.touchTrackingEnabled!==n.touchTrackingEnabled&&(this.cleanupTouchListeners(),n.touchTrackingEnabled?this.setupTouchListeners():this.cleanupTouchListeners())}},{key:"destroy",value:function(){this.cleanupMouseListeners(),this.cleanupTouchListeners(),this.state=o.getInitialState(),this.props=o.getInitialProps()}},{key:"setupTouchListeners",value:function(){var t=this.props,e=t.element,n=t.target,r=t.touchTrackingEnabled;if(e&&r){var i=n||e,a=o.checkIsPassiveSupported(),u=o.getOptions(a);i.addEventListener("touchstart",this.handleSwipeStart,u),i.addEventListener("touchmove",this.handleSwipeMove,u),i.addEventListener("touchend",this.handleSwipeEnd,u)}}},{key:"cleanupTouchListeners",value:function(){var t=this.props,e=t.element,n=t.target||e;n&&(n.removeEventListener("touchstart",this.handleSwipeStart),n.removeEventListener("touchmove",this.handleSwipeMove),n.removeEventListener("touchend",this.handleSwipeEnd))}},{key:"setupMouseListeners",value:function(){var t=this.props,e=t.element,n=t.mouseTrackingEnabled,r=t.preventTrackingOnMouseleave;n&&e&&(e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("mousemove",this.handleMouseMove),e.addEventListener("mouseup",this.handleMouseUp),r&&e.addEventListener("mouseleave",this.handleMouseLeave))}},{key:"cleanupMouseListeners",value:function(){var t=this.props.element;t&&(t.removeEventListener("mousedown",this.handleMouseDown),t.removeEventListener("mousemove",this.handleMouseMove),t.removeEventListener("mouseup",this.handleMouseUp),t.removeEventListener("mouseleave",this.handleMouseLeave))}},{key:"getEventData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{directionDelta:0},n=this.props.rotationAngle,r=e.directionDelta,i=o.calculateMovingPosition(t),a=o.rotateByAngle(i,n);return o.calculatePosition(this.state,{rotatePosition:a,directionDelta:r})}},{key:"handleSwipeStart",value:function(t){if(!o.checkIsMoreThanSingleTouches(t)){var e=this.props.rotationAngle,n=o.calculateMovingPosition(t),r=o.rotateByAngle(n,e),i=r.x,a=r.y;this.state=o.getInitialState({isSwiping:!1,start:Date.now(),x:i,y:a})}}},{key:"handleSwipeMove",value:function(t){var e=this.state,n=e.x,r=e.y,i=e.isSwiping;if(n&&r&&!o.checkIsMoreThanSingleTouches(t)){var a=this.getEventData(t),u=a.absX,s=a.absY,l=a.deltaX,c=a.deltaY,f=a.directionX,d=a.directionY,h=a.duration,p=a.velocity,v=this.props,g=v.delta,m=v.preventDefaultTouchmoveEvent,y=v.onSwipeStart,x=v.onSwiping;t.cancelable&&m&&t.preventDefault(),u<Number(g)&&s<Number(g)&&!i||(y&&!i&&y(t,{deltaX:l,deltaY:c,absX:u,absY:s,directionX:f,directionY:d,duration:h,velocity:p}),this.state.isSwiping=!0,x&&x(t,{deltaX:l,deltaY:c,absX:u,absY:s,directionX:f,directionY:d,duration:h,velocity:p}))}}},{key:"handleSwipeEnd",value:function(t){var e=this.props,n=e.onSwiped,r=e.onTap;if(this.state.isSwiping){var i=this.props.directionDelta||0,a=this.getEventData(t,{directionDelta:i});n&&n(t,a)}else{var u=this.getEventData(t);r&&r(t,u)}this.state=o.getInitialState()}},{key:"handleMouseDown",value:function(t){var e=this.props.target;e?e===t.target&&this.handleSwipeStart(t):this.handleSwipeStart(t)}},{key:"handleMouseMove",value:function(t){this.handleSwipeMove(t)}},{key:"handleMouseUp",value:function(t){var e=this.state.isSwiping,n=this.props.target;n?(n===t.target||e)&&this.handleSwipeEnd(t):this.handleSwipeEnd(t)}},{key:"handleMouseLeave",value:function(t){this.state.isSwiping&&this.handleSwipeEnd(t)}}],n&&s(e.prototype,n),r&&s(e,r),t}();e.default=c},123:function(t,e){"use strict";var n,r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.Axis=e.Direction=e.TraceDirectionKey=void 0,e.TraceDirectionKey=n,function(t){t.NEGATIVE="NEGATIVE",t.POSITIVE="POSITIVE",t.NONE="NONE"}(n||(e.TraceDirectionKey=n={})),e.Direction=r,function(t){t.TOP="TOP",t.LEFT="LEFT",t.RIGHT="RIGHT",t.BOTTOM="BOTTOM",t.NONE="NONE"}(r||(e.Direction=r={})),e.Axis=i,function(t){t.X="x",t.Y="y"}(i||(e.Axis=i={}))},6634:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateDirection=function(t){var e,n=r.TraceDirectionKey.NEGATIVE,i=r.TraceDirectionKey.POSITIVE,o=t[t.length-1],a=t[t.length-2]||0;if(t.every((function(t){return 0===t})))return r.TraceDirectionKey.NONE;e=o>a?i:n,0===o&&(e=a<0?i:n);return e};var r=n(123)},3876:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateDirectionDelta=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.length,o=n-1,a=r.TraceDirectionKey.NONE;o>=0;o--){var u=t[o],s=(0,i.getDirectionKey)(u),l=(0,i.getDirectionValue)(u[s]),c=t[o-1]||{},f=(0,i.getDirectionKey)(c),d=(0,i.getDirectionValue)(c[f]),h=(0,i.getDifference)(l,d);if(h>=e){a=s;break}a=f}return a};var r=n(123),i=n(7678)},1695:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateDuration=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?e-t:0}},3159:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateMovingPosition=function(t){if("changedTouches"in t){var e=t.changedTouches&&t.changedTouches[0];return{x:e&&e.clientX,y:e&&e.clientY}}return{x:t.clientX,y:t.clientY}}},579:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.calculatePosition=function(t,e){var n=t.start,r=t.x,a=t.y,u=t.traceX,s=t.traceY,l=e.rotatePosition,c=e.directionDelta,f=l.x-r,d=a-l.y,h=Math.abs(f),p=Math.abs(d);i.updateTrace(u,f),i.updateTrace(s,d);var v=i.resolveDirection(u,o.Axis.X,c),g=i.resolveDirection(s,o.Axis.Y,c),m=i.calculateDuration(n,Date.now()),y=i.calculateVelocity(h,p,m);return{absX:h,absY:p,deltaX:f,deltaY:d,directionX:v,directionY:g,duration:m,positionX:l.x,positionY:l.y,velocity:y}};var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=i?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(7678)),o=n(123);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}},5243:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateTraceDirections=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=r.TraceDirectionKey.POSITIVE,o=r.TraceDirectionKey.NEGATIVE,a=0,u=[],s=r.TraceDirectionKey.NONE;a<t.length;a++){var l=t[a],c=t[a-1];if(u.length){var f=l>c?n:o;s===r.TraceDirectionKey.NONE&&(s=f),f===s?u.push(l):(e.push(i({},s,u.slice())),(u=[]).push(l),s=f)}else 0!==l&&(s=l>0?n:o),u.push(l)}u.length&&e.push(i({},s,u));return e};var r=n(123);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},6284:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateVelocity=function(t,e,n){return Math.sqrt(t*t+e*e)/(n||1)}},8234:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkIsMoreThanSingleTouches=void 0;e.checkIsMoreThanSingleTouches=function(t){return Boolean(t.touches&&t.touches.length>1)}},3058:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkIsPassiveSupported=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={isPassiveSupported:t};try{var n=(0,r.createOptions)(e);window.addEventListener("checkIsPassiveSupported",i,n),window.removeEventListener("checkIsPassiveSupported",i,n)}catch(o){}return e.isPassiveSupported},e.noop=void 0;var r=n(4720);var i=function(){};e.noop=i},6536:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveAxisDirection=e.getDifference=e.getDirectionValue=e.getDirectionKey=void 0;var r=n(123);e.getDirectionKey=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.keys(t).toString();switch(e){case r.TraceDirectionKey.POSITIVE:return r.TraceDirectionKey.POSITIVE;case r.TraceDirectionKey.NEGATIVE:return r.TraceDirectionKey.NEGATIVE;default:return r.TraceDirectionKey.NONE}};e.getDirectionValue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t[t.length-1]||0};e.getDifference=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.abs(t-e)};e.resolveAxisDirection=function(t,e){var n=r.Direction.LEFT,i=r.Direction.RIGHT,o=r.Direction.NONE;return t===r.Axis.Y&&(n=r.Direction.BOTTOM,i=r.Direction.TOP),e===r.TraceDirectionKey.NEGATIVE&&(o=n),e===r.TraceDirectionKey.POSITIVE&&(o=i),o}},4720:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.defineProperty(t,"passive",{get:function(){return this.isPassiveSupported=!0,!0},enumerable:!0}),t}},7733:function(t,e){"use strict";function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.getInitialProps=void 0;e.getInitialProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r({element:null,delta:10,directionDelta:0,rotationAngle:0,mouseTrackingEnabled:!1,touchTrackingEnabled:!0,preventDefaultTouchmoveEvent:!1,preventTrackingOnMouseleave:!1},t)}},1531:function(t,e){"use strict";function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.getInitialState=void 0;e.getInitialState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r({x:0,y:0,start:0,isSwiping:!1,traceX:[],traceY:[]},t)}},5862:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return{passive:!1};return{}}},7678:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6634);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i=n(3876);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var o=n(1695);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var a=n(3159);Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}));var u=n(579);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}));var s=n(5243);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}));var l=n(6284);Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})}));var c=n(8234);Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})}));var f=n(3058);Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})}));var d=n(6536);Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})}));var h=n(4720);Object.keys(h).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})}));var p=n(1531);Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})}));var v=n(7733);Object.keys(v).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})}));var g=n(5862);Object.keys(g).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})}));var m=n(9408);Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})}));var y=n(5987);Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})}));var x=n(4935);Object.keys(x).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return x[t]}})}))},9408:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveDirection=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Axis.X,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n){var r=i.calculateTraceDirections(t),a=i.calculateDirectionDelta(r,n);return i.resolveAxisDirection(e,a)}var u=i.calculateDirection(t);return i.resolveAxisDirection(e,u)};var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=i?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(7678)),o=n(123);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}},5987:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rotateByAngle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===e)return t;var n=t.x,r=t.y,i=Math.PI/180*e,o=n*Math.cos(i)+r*Math.sin(i),a=r*Math.cos(i)-n*Math.sin(i);return{x:o,y:a}}},4935:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateTrace=function(t,e){t[t.length-1]!==e&&t.push(e);return t}},2391:function(t){"use strict";var e=function(){};t.exports=e},3414:function(t,e,n){"use strict";t.exports=n.p+"static/media/image1.1318e39b01bf11529cf3.jpg"},8488:function(t,e,n){"use strict";t.exports=n.p+"static/media/image2.f776c5d6a727c5fdc18f.jpg"},3582:function(t,e,n){"use strict";t.exports=n.p+"static/media/image3.df75dd30dbca1293df96.jpg"},9236:function(t,e,n){"use strict";t.exports=n.p+"static/media/image4.49f2c8cd2f590e9f324d.jpg"},6662:function(t){"use strict";var e=/("(?:[^\\"]|\\.)*")|[:,]/g;t.exports=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,void 0===n.indent?2:n.indent).slice(2,-3),i=""===r?1/0:void 0===n.maxLength?80:n.maxLength,o=n.replacer,function t(n,a,u){var s,l,c,f,d,h,p,v,g,m,y,x;if(n&&"function"===typeof n.toJSON&&(n=n.toJSON()),void 0===(y=JSON.stringify(n,o)))return y;if(p=i-a.length-u,y.length<=p&&(g=y.replace(e,(function(t,e){return e||t+" "}))).length<=p)return g;if(null!=o&&(n=JSON.parse(y),o=void 0),"object"===typeof n&&null!==n){if(v=a+r,c=[],l=0,Array.isArray(n))for(m="[",s="]",p=n.length;l<p;l++)c.push(t(n[l],v,l===p-1?0:1)||"null");else for(m="{",s="}",p=(h=Object.keys(n)).length;l<p;l++)f=h[l],d=JSON.stringify(f)+": ",void 0!==(x=t(n[f],v,d.length+(l===p-1?0:1)))&&c.push(d+x);if(c.length>0)return[m,r+c.join(",\n"+v),s].join("\n"+a)}return y}(t,"",0)}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))},n.u=function(t){return"static/js/"+t+".95595c12.chunk.js"},n.miniCssF=function(t){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="raga.ai:";n.l=function(r,i,o,a){if(t[r])t[r].push(i);else{var u,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==e+o){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",e+o),u.src=r),t[r]=[i];var d=function(e,n){u.onerror=u.onload=null,clearTimeout(h);var i=t[r];if(delete t[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},n.p="/",function(){var t={179:0};n.f.j=function(e,r){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=t[e]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(e),u=new Error;n.l(a,(function(r){if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,i[1](u)}}),"chunk-"+e,e)}};var e=function(e,r){var i,o,a=r[0],u=r[1],s=r[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(e&&e(r);l<a.length;l++)o=a[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkraga_ai=self.webpackChunkraga_ai||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),function(){"use strict";var t={};n.r(t),n.d(t,{FILE:function(){return RC},HTML:function(){return zC},TEXT:function(){return BC},URL:function(){return jC}});var e={};n.r(e),n.d(e,{assign:function(){return OO},default:function(){return qO},defaultI18n:function(){return TO},format:function(){return WO},parse:function(){return YO},setGlobalDateI18n:function(){return DO},setGlobalDateMasks:function(){return VO}});var r={};n.r(r),n.d(r,{Arc:function(){return Z_},DataMarker:function(){return rA},DataRegion:function(){return oA},Html:function(){return gA},Image:function(){return eA},Line:function(){return G_},Region:function(){return Q_},RegionFilter:function(){return uA},Shape:function(){return lA},Text:function(){return X_}});var i={};n.r(i),n.d(i,{ellipsisHead:function(){return SA},ellipsisMiddle:function(){return CA},ellipsisTail:function(){return kA},getDefault:function(){return wA}});var o={};n.r(o),n.d(o,{equidistance:function(){return FA},equidistanceWithReverseBoth:function(){return NA},getDefault:function(){return AA},reserveBoth:function(){return DA},reserveFirst:function(){return TA},reserveLast:function(){return PA}});var a={};n.r(a),n.d(a,{fixedAngle:function(){return RA},getDefault:function(){return LA},unfixedAngle:function(){return jA}});var u={};n.r(u),n.d(u,{autoEllipsis:function(){return i},autoHide:function(){return o},autoRotate:function(){return a}});var s={};n.r(s),n.d(s,{Base:function(){return YA},Circle:function(){return XA},Html:function(){return eT},Line:function(){return GA}});var l={};n.r(l),n.d(l,{CONTAINER_CLASS:function(){return bT},CROSSHAIR_X:function(){return MT},CROSSHAIR_Y:function(){return _T},LIST_CLASS:function(){return ST},LIST_ITEM_CLASS:function(){return kT},MARKER_CLASS:function(){return CT},NAME_CLASS:function(){return OT},TITLE_CLASS:function(){return wT},VALUE_CLASS:function(){return ET}});var c={};n.r(c),n.d(c,{Base:function(){return SI},Circle:function(){return CI},Ellipse:function(){return MI},Image:function(){return TI},Line:function(){return NI},Marker:function(){return RI},Path:function(){return GI},Polygon:function(){return KI},Polyline:function(){return JI},Rect:function(){return tL},Text:function(){return nL}});var f={};n.r(f),n.d(f,{Canvas:function(){return uL},Group:function(){return bI},Shape:function(){return c},getArcParams:function(){return JN},version:function(){return sL}});var d={};n.r(d),n.d(d,{Base:function(){return wL},Circle:function(){return kL},Dom:function(){return EL},Ellipse:function(){return ML},Image:function(){return AL},Line:function(){return PL},Marker:function(){return IL},Path:function(){return RL},Polygon:function(){return BL},Polyline:function(){return UL},Rect:function(){return VL},Text:function(){return XL}});var h={};n.r(h),n.d(h,{Canvas:function(){return vR},Group:function(){return xL},Shape:function(){return d},version:function(){return gR}});var p={};n.r(p),n.d(p,{cluster:function(){return aK},hierarchy:function(){return XX},pack:function(){return OK},packEnclose:function(){return uK},packSiblings:function(){return bK},partition:function(){return YX},stratify:function(){return NK},tree:function(){return UK},treemap:function(){return qK},treemapBinary:function(){return GK},treemapDice:function(){return WX},treemapResquarify:function(){return XK},treemapSlice:function(){return HK},treemapSliceDice:function(){return $K},treemapSquarify:function(){return YK}});var v={};n.r(v),n.d(v,{JsonPatchError:function(){return P3},_areEquals:function(){return U3},applyOperation:function(){return L3},applyPatch:function(){return R3},applyReducer:function(){return j3},deepClone:function(){return D3},getValueByPointer:function(){return I3},validate:function(){return z3},validator:function(){return B3}});var g={};n.r(g),n.d(g,{compare:function(){return X3},generate:function(){return G3},observe:function(){return q3},unobserve:function(){return Y3}});var m={};n.r(m),n.d(m,{aggregate:function(){return $rt},bin:function(){return Xrt},collect:function(){return Zrt},compare:function(){return Jrt},countpattern:function(){return tit},cross:function(){return eit},density:function(){return oit},dotbin:function(){return cit},expression:function(){return fit},extent:function(){return hit},facet:function(){return vit},field:function(){return git},filter:function(){return yit},flatten:function(){return xit},fold:function(){return bit},formula:function(){return wit},generate:function(){return Sit},impute:function(){return Eit},joinaggregate:function(){return Oit},kde:function(){return Mit},key:function(){return _it},load:function(){return Tit},lookup:function(){return Dit},multiextent:function(){return Fit},multivalues:function(){return Iit},params:function(){return Rit},pivot:function(){return jit},prefacet:function(){return Bit},project:function(){return zit},proxy:function(){return Uit},quantile:function(){return Hit},relay:function(){return Vit},sample:function(){return Wit},sequence:function(){return Yit},sieve:function(){return qit},subflow:function(){return pit},timeunit:function(){return Git},tupleindex:function(){return Xit},values:function(){return Kit},window:function(){return eot}});var y={};n.r(y),n.d(y,{interpolate:function(){return rut},interpolateArray:function(){return Xat},interpolateBasis:function(){return Lat},interpolateBasisClosed:function(){return Rat},interpolateCubehelix:function(){return Uft},interpolateCubehelixLong:function(){return Hft},interpolateDate:function(){return Zat},interpolateDiscrete:function(){return Wct},interpolateHcl:function(){return Eft},interpolateHclLong:function(){return Oft},interpolateHsl:function(){return nft},interpolateHslLong:function(){return rft},interpolateHue:function(){return Yct},interpolateLab:function(){return kft},interpolateNumber:function(){return Jat},interpolateNumberArray:function(){return Gat},interpolateObject:function(){return Qat},interpolateRgb:function(){return Vat},interpolateRgbBasis:function(){return Yat},interpolateRgbBasisClosed:function(){return qat},interpolateRound:function(){return iut},interpolateString:function(){return nut},interpolateTransformCss:function(){return Zct},interpolateTransformSvg:function(){return Jct},interpolateZoom:function(){return tft},piecewise:function(){return _ct},quantize:function(){return Vft}});var x={};n.r(x),n.d(x,{bound:function(){return yyt},identifier:function(){return wyt},mark:function(){return Syt},overlap:function(){return kyt},render:function(){return Tyt},viewlayout:function(){return Jyt}});var b={};n.r(b),n.d(b,{axisticks:function(){return mxt},datajoin:function(){return yxt},encode:function(){return bxt},legendentries:function(){return wxt},linkpath:function(){return Oxt},pie:function(){return Pxt},scale:function(){return Nxt},sortitems:function(){return jxt},stack:function(){return Vxt}});var w={};n.r(w),n.d(w,{contour:function(){return sCt},geojson:function(){return fCt},geopath:function(){return dCt},geopoint:function(){return hCt},geoshape:function(){return pCt},graticule:function(){return vCt},heatmap:function(){return gCt},isocontour:function(){return Jkt},kde2d:function(){return oCt},projection:function(){return yCt}});var S={};n.r(S),n.d(S,{force:function(){return JCt}});var k={};n.r(k),n.d(k,{nest:function(){return iOt},pack:function(){return cOt},partition:function(){return dOt},stratify:function(){return hOt},tree:function(){return gOt},treelinks:function(){return mOt},treemap:function(){return bOt}});var C={};n.r(C),n.d(C,{label:function(){return HOt}});var E={};n.r(E),n.d(E,{loess:function(){return WOt},regression:function(){return qOt}});var O={};n.r(O),n.d(O,{voronoi:function(){return EMt}});var M={};n.r(M),n.d(M,{wordcloud:function(){return zMt}});var _={};n.r(_),n.d(_,{crossfilter:function(){return JMt},resolvefilter:function(){return QMt}});var A={};n.r(A),n.d(A,{Bounds:function(){return opt},CanvasHandler:function(){return Lgt},CanvasRenderer:function(){return Ugt},DATE:function(){return x8},DAY:function(){return b8},DAYOFYEAR:function(){return w8},Dataflow:function(){return snt},Debug:function(){return g5},Error:function(){return h5},EventStream:function(){return Het},Gradient:function(){return lht},GroupItem:function(){return upt},HOURS:function(){return S8},Handler:function(){return ygt},Info:function(){return v5},Item:function(){return apt},MILLISECONDS:function(){return E8},MINUTES:function(){return k8},MONTH:function(){return m8},Marks:function(){return ngt},MultiPulse:function(){return ent},None:function(){return d5},Operator:function(){return Bet},Parameters:function(){return Let},Pulse:function(){return Zet},QUARTER:function(){return g8},RenderType:function(){return Pmt},Renderer:function(){return bgt},ResourceLoader:function(){return spt},SECONDS:function(){return C8},SVGHandler:function(){return Vgt},SVGRenderer:function(){return pmt},SVGStringRenderer:function(){return _mt},Scenegraph:function(){return cgt},TIME_UNITS:function(){return O8},Transform:function(){return cnt},View:function(){return qFt},WEEK:function(){return y8},Warn:function(){return p5},YEAR:function(){return v8},accessor:function(){return K3},accessorFields:function(){return J3},accessorName:function(){return Z3},array:function(){return V5},ascending:function(){return G5},bandwidthNRD:function(){return Pnt},bin:function(){return Dnt},bootstrapCI:function(){return Int},boundClip:function(){return Bmt},boundContext:function(){return Apt},boundItem:function(){return rgt},boundMark:function(){return ogt},boundStroke:function(){return fpt},changeset:function(){return Net},clampRange:function(){return W5},codegenExpression:function(){return SAt},compare:function(){return q5},constant:function(){return Z5},cumulativeLogNormal:function(){return Knt},cumulativeNormal:function(){return Wnt},cumulativeUniform:function(){return nrt},dayofyear:function(){return F8},debounce:function(){return J5},defaultLocale:function(){return Btt},definition:function(){return dnt},densityLogNormal:function(){return Xnt},densityNormal:function(){return Vnt},densityUniform:function(){return ert},domChild:function(){return pgt},domClear:function(){return vgt},domCreate:function(){return dgt},domFind:function(){return hgt},dotbin:function(){return Lnt},error:function(){return n5},expressionFunction:function(){return kDt},extend:function(){return Q5},extent:function(){return t6},extentIndex:function(){return e6},falsy:function(){return c5},fastmap:function(){return o6},field:function(){return i5},flush:function(){return a6},font:function(){return $vt},fontFamily:function(){return Gvt},fontSize:function(){return Hvt},format:function(){return pet},formatLocale:function(){return Ptt},formats:function(){return vet},hasOwnProperty:function(){return r6},id:function(){return o5},identity:function(){return a5},inferType:function(){return aet},inferTypes:function(){return uet},ingest:function(){return _et},inherits:function(){return u6},inrange:function(){return s6},interpolate:function(){return Fdt},interpolateColors:function(){return Tdt},interpolateRange:function(){return Adt},intersect:function(){return Nmt},intersectBoxLine:function(){return zpt},intersectPath:function(){return Lpt},intersectPoint:function(){return Rpt},intersectRule:function(){return Bpt},isArray:function(){return y5},isBoolean:function(){return l6},isDate:function(){return c6},isFunction:function(){return Y5},isIterable:function(){return f6},isNumber:function(){return d6},isObject:function(){return x5},isRegExp:function(){return h6},isString:function(){return p6},isTuple:function(){return Eet},key:function(){return v6},lerp:function(){return g6},lineHeight:function(){return Vvt},loader:function(){return yet},locale:function(){return jtt},logger:function(){return m5},lruCache:function(){return m6},markup:function(){return amt},merge:function(){return y6},mergeConfig:function(){return w5},multiLineOffset:function(){return Yvt},one:function(){return s5},pad:function(){return b6},panLinear:function(){return D5},panLog:function(){return F5},panPow:function(){return N5},panSymlog:function(){return I5},parse:function(){return QRt},parseExpression:function(){return xAt},parseSelector:function(){return rNt},path:function(){return iat},pathCurves:function(){return fht},pathEqual:function(){return Umt},pathParse:function(){return mht},pathRectangle:function(){return Uht},pathRender:function(){return _ht},pathSymbols:function(){return Dht},pathTrail:function(){return Hht},peek:function(){return C5},point:function(){return mgt},projection:function(){return akt},quantileLogNormal:function(){return Znt},quantileNormal:function(){return Ynt},quantileUniform:function(){return rrt},quantiles:function(){return Ant},quantizeInterpolator:function(){return Pdt},quarter:function(){return U5},quartiles:function(){return Tnt},random:function(){return Fnt},randomInteger:function(){return jnt},randomKDE:function(){return Gnt},randomLCG:function(){return Rnt},randomLogNormal:function(){return Jnt},randomMixture:function(){return Qnt},randomNormal:function(){return qnt},randomUniform:function(){return irt},read:function(){return met},regressionExp:function(){return frt},regressionLinear:function(){return lrt},regressionLoess:function(){return grt},regressionLog:function(){return crt},regressionPoly:function(){return prt},regressionPow:function(){return drt},regressionQuad:function(){return hrt},renderModule:function(){return Fmt},repeat:function(){return x6},resetDefaultLocale:function(){return ztt},resetSVGClipId:function(){return rpt},resetSVGDefIds:function(){return Hmt},responseType:function(){return get},runtimeContext:function(){return FDt},sampleCurve:function(){return brt},sampleLogNormal:function(){return $nt},sampleNormal:function(){return Hnt},sampleUniform:function(){return trt},scale:function(){return xdt},sceneEqual:function(){return zmt},sceneFromJSON:function(){return sgt},scenePickVisit:function(){return Zpt},sceneToJSON:function(){return ugt},sceneVisit:function(){return Kpt},sceneZOrder:function(){return Xpt},scheme:function(){return Rdt},serializeXML:function(){return umt},setRandom:function(){return Nnt},span:function(){return w6},splitAccessPath:function(){return r5},stringValue:function(){return S6},textMetrics:function(){return Lvt},timeBin:function(){return k9},timeFloor:function(){return X8},timeFormatLocale:function(){return Ltt},timeInterval:function(){return e9},timeOffset:function(){return i9},timeSequence:function(){return u9},timeUnitSpecifier:function(){return T8},timeUnits:function(){return _8},toBoolean:function(){return k6},toDate:function(){return E6},toNumber:function(){return E5},toSet:function(){return M6},toString:function(){return O6},transform:function(){return hnt},transforms:function(){return fnt},truncate:function(){return _6},truthy:function(){return l5},tupleid:function(){return Oet},typeParsers:function(){return ret},utcFloor:function(){return J8},utcInterval:function(){return n9},utcOffset:function(){return o9},utcSequence:function(){return s9},utcdayofyear:function(){return B8},utcquarter:function(){return H5},utcweek:function(){return z8},version:function(){return tjt},visitArray:function(){return A6},week:function(){return N8},writeConfig:function(){return S5},zero:function(){return u5},zoomLinear:function(){return R5},zoomLog:function(){return j5},zoomPow:function(){return B5},zoomSymlog:function(){return z5}});var T={};n.r(T),n.d(T,{accessPathDepth:function(){return qjt},accessPathWithDatum:function(){return zjt},compile:function(){return KQt},contains:function(){return bjt},deepEqual:function(){return djt},deleteNestedProperty:function(){return jjt},duplicate:function(){return hjt},entries:function(){return Njt},every:function(){return Sjt},fieldIntersection:function(){return Tjt},flatAccessWithDatum:function(){return Ujt},getFirstDefined:function(){return Gjt},hasIntersection:function(){return _jt},hash:function(){return yjt},internalField:function(){return Zjt},isBoolean:function(){return Ijt},isEmpty:function(){return Pjt},isEqual:function(){return Ojt},isInternalField:function(){return Jjt},isNullOrFalse:function(){return xjt},isNumeric:function(){return tBt},keys:function(){return Djt},logicalExpr:function(){return Rjt},mergeDeep:function(){return kjt},never:function(){return pjt},normalize:function(){return i$t},normalizeAngle:function(){return Qjt},omit:function(){return gjt},pick:function(){return vjt},prefixGenerator:function(){return Ajt},removePathFromField:function(){return Yjt},replaceAll:function(){return Wjt},replacePathInField:function(){return Vjt},resetIdCounter:function(){return Kjt},setEqual:function(){return Mjt},some:function(){return wjt},stringify:function(){return mjt},titleCase:function(){return Bjt},unique:function(){return Ejt},uniqueId:function(){return Xjt},vals:function(){return Fjt},varName:function(){return Ljt},version:function(){return QQt}});var P,D=n(2791),F=n(4164);function N(t){if(Array.isArray(t))return t}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L(t,e){if(t){if("string"===typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(t,e){return N(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(t,e)||L(t,e)||R()}function B(){return B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(P||(P={}));var z=function(t){return t};var U="beforeunload",H="popstate";function V(t){t.preventDefault(),t.returnValue=""}function W(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function Y(){return Math.random().toString(36).substr(2,8)}function q(t){var e=t.pathname,n=void 0===e?"/":e,r=t.search,i=void 0===r?"":r,o=t.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function G(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $(t,e){if(!t)throw new Error(e)}var X=(0,D.createContext)(null);var K=(0,D.createContext)(null);var Z=(0,D.createContext)({outlet:null,matches:[]});function J(t){$(!1)}function Q(t){var e=t.basename,n=void 0===e?"/":e,r=t.children,i=void 0===r?null:r,o=t.location,a=t.navigationType,u=void 0===a?P.Pop:a,s=t.navigator,l=t.static,c=void 0!==l&&l;et()&&$(!1);var f=ht(n),d=(0,D.useMemo)((function(){return{basename:f,navigator:s,static:c}}),[f,s,c]);"string"===typeof o&&(o=G(o));var h=o,p=h.pathname,v=void 0===p?"/":p,g=h.search,m=void 0===g?"":g,y=h.hash,x=void 0===y?"":y,b=h.state,w=void 0===b?null:b,S=h.key,k=void 0===S?"default":S,C=(0,D.useMemo)((function(){var t=ft(v,f);return null==t?null:{pathname:t,search:m,hash:x,state:w,key:k}}),[f,v,m,x,w,k]);return null==C?null:(0,D.createElement)(X.Provider,{value:d},(0,D.createElement)(K.Provider,{children:i,value:{location:C,navigationType:u}}))}function tt(t){var e=t.children,n=t.location;return function(t,e){et()||$(!1);var n=(0,D.useContext)(Z).matches,r=n[n.length-1],i=r?r.params:{},o=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var a,u=nt();if(e){var s,l="string"===typeof e?G(e):e;"/"===o||(null==(s=l.pathname)?void 0:s.startsWith(o))||$(!1),a=l}else a=u;var c=a.pathname||"/",f="/"===o?c:c.slice(o.length)||"/",d=function(t,e,n){void 0===n&&(n="/");var r=ft(("string"===typeof e?G(e):e).pathname||"/",n);if(null==r)return null;var i=it(t);!function(t){t.sort((function(t,e){return t.score!==e.score?e.score-t.score:function(t,e){var n=t.length===e.length&&t.slice(0,-1).every((function(t,n){return t===e[n]}));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((function(t){return t.childrenIndex})),e.routesMeta.map((function(t){return t.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=st(i[a],r);return o}(t,{pathname:f});0;return lt(d&&d.map((function(t){return Object.assign({},t,{params:Object.assign({},i,t.params),pathname:dt([o,t.pathname]),pathnameBase:"/"===t.pathnameBase?o:dt([o,t.pathnameBase])})})),n)}(rt(e),n)}function et(){return null!=(0,D.useContext)(K)}function nt(){return et()||$(!1),(0,D.useContext)(K).location}function rt(t){var e=[];return D.Children.forEach(t,(function(t){if((0,D.isValidElement)(t))if(t.type!==D.Fragment){t.type!==J&&$(!1);var n={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(n.children=rt(t.props.children)),e.push(n)}else e.push.apply(e,rt(t.props.children))})),e}function it(t,e,n,r){return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=""),t.forEach((function(t,i){var o={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||$(!1),o.relativePath=o.relativePath.slice(r.length));var a=dt([r,o.relativePath]),u=n.concat(o);t.children&&t.children.length>0&&(!0===t.index&&$(!1),it(t.children,e,u,a)),(null!=t.path||t.index)&&e.push({path:a,score:ut(a,t.index),routesMeta:u})})),e}var ot=/^:\w+$/,at=function(t){return"*"===t};function ut(t,e){var n=t.split("/"),r=n.length;return n.some(at)&&(r+=-2),e&&(r+=2),n.filter((function(t){return!at(t)})).reduce((function(t,e){return t+(ot.test(e)?3:""===e?1:10)}),r)}function st(t,e){for(var n=t.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var u=n[a],s=a===n.length-1,l="/"===i?e:e.slice(i.length)||"/",c=ct({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var f=u.route;o.push({params:r,pathname:dt([i,c.pathname]),pathnameBase:ht(dt([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=dt([i,c.pathnameBase]))}return o}function lt(t,e){return void 0===e&&(e=[]),null==t?null:t.reduceRight((function(n,r,i){return(0,D.createElement)(Z.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}})}),null)}function ct(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});var n=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);var r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(t,e){return r.push(e),"([^\\/]+)"}));t.endsWith("*")?(r.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,e?void 0:"i"),r]}(t.path,t.caseSensitive,t.end),r=j(n,2),i=r[0],o=r[1],a=e.match(i);if(!a)return null;var u=a[0],s=u.replace(/(.)\/+$/,"$1"),l=a.slice(1),c=o.reduce((function(t,e,n){if("*"===e){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n5){return t}}(l[n]||""),t}),{});return{params:c,pathname:u,pathnameBase:s,pattern:t}}function ft(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;var n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}var dt=function(t){return t.join("/").replace(/\/\/+/g,"/")},ht=function(t){return t.replace(/\/+$/,"").replace(/^\/*/,"/")},pt=n(184);var vt=function(){return(0,pt.jsx)(pt.Fragment,{children:(0,pt.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse",width:"100%",textAlign:"right",marginTop:"10px"},children:(0,pt.jsx)("div",{children:(0,pt.jsx)("a",{href:"/",children:(0,pt.jsx)("div",{style:{width:"150px",height:"45px",backgroundColor:"#F99F8C",borderRadius:"1px solid red",textAlign:"center",fontFamily:"georgia",verticalAlign:"middle",paddingTop:"10px",color:"#ffffff"},children:"Dashboard"})})})})})};var gt=function(){return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(vt,{}),(0,pt.jsx)("hr",{})]})};function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach((function(e){mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bt(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function wt(t,e){if(null==t)return{};var n,r,i=bt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function St(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(n5){return void n(n5)}u.done?e(s):Promise.resolve(s).then(r,i)}function kt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){St(o,r,i,a,u,"next",t)}function u(t){St(o,r,i,a,u,"throw",t)}a(void 0)}))}}var Ct=n(7757),Et=n.n(Ct),Ot=n(1694),Mt=n.n(Ot),_t=D.createContext({prefixes:{}});_t.Consumer,_t.Provider;function At(t,e){var n=(0,D.useContext)(_t).prefixes;return t||n[e]||e}var Tt=["bsPrefix","className","as"],Pt=["xxl","xl","lg","md","sm","xs"],Dt=D.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,o=void 0===i?"div":i,a=wt(t,Tt),u=At(n,"row"),s="".concat(u,"-cols"),l=[];return Pt.forEach((function(t){var e,n=a[t];delete a[t],e=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==t?"-".concat(t):"";null!=e&&l.push("".concat(s).concat(r,"-").concat(e))})),(0,pt.jsx)(o,xt(xt({ref:e},a),{},{className:Mt().apply(void 0,[r,u].concat(l))}))}));Dt.displayName="Row";var Ft=Dt,Nt=["as","bsPrefix","className"],It=["className"],Lt=["xxl","xl","lg","md","sm","xs"];var Rt=D.forwardRef((function(t,e){var n=function(t){var e=t.as,n=t.bsPrefix,r=t.className,i=wt(t,Nt);n=At(n,"col");var o=[],a=[];return Lt.forEach((function(t){var e,r,u,s=i[t];delete i[t],"object"===typeof s&&null!=s?(e=s.span,r=s.offset,u=s.order):e=s;var l="xs"!==t?"-".concat(t):"";e&&o.push(!0===e?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(e)),null!=u&&a.push("order".concat(l,"-").concat(u)),null!=r&&a.push("offset".concat(l,"-").concat(r))})),[xt(xt({},i),{},{className:Mt().apply(void 0,[r].concat(o,a))}),{as:e,bsPrefix:n,spans:o}]}(t),r=j(n,2),i=r[0],o=i.className,a=wt(i,It),u=r[1],s=u.as,l=void 0===s?"div":s,c=u.bsPrefix,f=u.spans;return(0,pt.jsx)(l,xt(xt({},a),{},{ref:e,className:Mt()(o,!f.length&&c)}))}));Rt.displayName="Col";var jt=Rt,Bt=n(2007),zt=n.n(Bt),Ut=["as","className","type","tooltip"],Ht={type:zt().string,tooltip:zt().bool,as:zt().elementType},Vt=D.forwardRef((function(t,e){var n=t.as,r=void 0===n?"div":n,i=t.className,o=t.type,a=void 0===o?"valid":o,u=t.tooltip,s=void 0!==u&&u,l=wt(t,Ut);return(0,pt.jsx)(r,xt(xt({},l),{},{ref:e,className:Mt()(i,"".concat(a,"-").concat(s?"tooltip":"feedback"))}))}));Vt.displayName="Feedback",Vt.propTypes=Ht;var Wt=Vt,Yt=D.createContext({}),qt=["id","bsPrefix","className","type","isValid","isInvalid","as"],Gt=D.forwardRef((function(t,e){var n=t.id,r=t.bsPrefix,i=t.className,o=t.type,a=void 0===o?"checkbox":o,u=t.isValid,s=void 0!==u&&u,l=t.isInvalid,c=void 0!==l&&l,f=t.as,d=void 0===f?"input":f,h=wt(t,qt),p=(0,D.useContext)(Yt).controlId;return r=At(r,"form-check-input"),(0,pt.jsx)(d,xt(xt({},h),{},{ref:e,type:a,id:n||p,className:Mt()(i,r,s&&"is-valid",c&&"is-invalid")}))}));Gt.displayName="FormCheckInput";var $t=Gt,Xt=["bsPrefix","className","htmlFor"],Kt=D.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,i=t.htmlFor,o=wt(t,Xt),a=(0,D.useContext)(Yt).controlId;return n=At(n,"form-check-label"),(0,pt.jsx)("label",xt(xt({},o),{},{ref:e,htmlFor:i||a,className:Mt()(r,n)}))}));Kt.displayName="FormCheckLabel";var Zt=Kt;var Jt=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Qt=D.forwardRef((function(t,e){var n=t.id,r=t.bsPrefix,i=t.bsSwitchPrefix,o=t.inline,a=void 0!==o&&o,u=t.disabled,s=void 0!==u&&u,l=t.isValid,c=void 0!==l&&l,f=t.isInvalid,d=void 0!==f&&f,h=t.feedbackTooltip,p=void 0!==h&&h,v=t.feedback,g=t.feedbackType,m=t.className,y=t.style,x=t.title,b=void 0===x?"":x,w=t.type,S=void 0===w?"checkbox":w,k=t.label,C=t.children,E=t.as,O=void 0===E?"input":E,M=wt(t,Jt);r=At(r,"form-check"),i=At(i,"form-switch");var _=(0,D.useContext)(Yt).controlId,A=(0,D.useMemo)((function(){return{controlId:n||_}}),[_,n]),T=!C&&null!=k&&!1!==k||function(t,e){return D.Children.toArray(t).some((function(t){return D.isValidElement(t)&&t.type===e}))}(C,Zt),P=(0,pt.jsx)($t,xt(xt({},M),{},{type:"switch"===S?"checkbox":S,ref:e,isValid:c,isInvalid:d,disabled:s,as:O}));return(0,pt.jsx)(Yt.Provider,{value:A,children:(0,pt.jsx)("div",{style:y,className:Mt()(m,T&&r,a&&"".concat(r,"-inline"),"switch"===S&&i),children:C||(0,pt.jsxs)(pt.Fragment,{children:[P,T&&(0,pt.jsx)(Zt,{title:b,children:k}),v&&(0,pt.jsx)(Wt,{type:g,tooltip:p,children:v})]})})})}));Qt.displayName="FormCheck";var te=Object.assign(Qt,{Input:$t,Label:Zt}),ee=n(2391),ne=n.n(ee),re=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],ie=D.forwardRef((function(t,e){var n,r,i=t.bsPrefix,o=t.type,a=t.size,u=t.htmlSize,s=t.id,l=t.className,c=t.isValid,f=void 0!==c&&c,d=t.isInvalid,h=void 0!==d&&d,p=t.plaintext,v=t.readOnly,g=t.as,m=void 0===g?"input":g,y=wt(t,re),x=(0,D.useContext)(Yt).controlId;(i=At(i,"form-control"),p)?n=mt({},"".concat(i,"-plaintext"),!0):(mt(r={},i,!0),mt(r,"".concat(i,"-").concat(a),a),n=r);return(0,pt.jsx)(m,xt(xt({},y),{},{type:o,size:u,ref:e,readOnly:v,id:s||x,className:Mt()(l,n,f&&"is-valid",h&&"is-invalid","color"===o&&"".concat(i,"-color"))}))}));ie.displayName="FormControl";var oe=Object.assign(ie,{Feedback:Wt}),ae=/-(.)/g;var ue=["className","bsPrefix","as"],se=function(t){return t[0].toUpperCase()+function(t){return t.replace(ae,(function(t,e){return e.toUpperCase()}))}(t).slice(1)};function le(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.displayName,r=void 0===n?se(t):n,i=e.Component,o=e.defaultProps,a=D.forwardRef((function(e,n){var r=e.className,o=e.bsPrefix,a=e.as,u=void 0===a?i||"div":a,s=wt(e,ue),l=At(o,t);return(0,pt.jsx)(u,xt({ref:n,className:Mt()(r,l)},s))}));return a.defaultProps=o,a.displayName=r,a}var ce=le("form-floating"),fe=["controlId","as"],de=D.forwardRef((function(t,e){var n=t.controlId,r=t.as,i=void 0===r?"div":r,o=wt(t,fe),a=(0,D.useMemo)((function(){return{controlId:n}}),[n]);return(0,pt.jsx)(Yt.Provider,{value:a,children:(0,pt.jsx)(i,xt(xt({},o),{},{ref:e}))})}));de.displayName="FormGroup";var he=de,pe=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],ve=D.forwardRef((function(t,e){var n=t.as,r=void 0===n?"label":n,i=t.bsPrefix,o=t.column,a=t.visuallyHidden,u=t.className,s=t.htmlFor,l=wt(t,pe),c=(0,D.useContext)(Yt).controlId;i=At(i,"form-label");var f="col-form-label";"string"===typeof o&&(f="".concat(f," ").concat(f,"-").concat(o));var d=Mt()(u,i,a&&"visually-hidden",o&&f);return s=s||c,o?(0,pt.jsx)(jt,xt({ref:e,as:"label",className:d,htmlFor:s},l)):(0,pt.jsx)(r,xt({ref:e,className:d,htmlFor:s},l))}));ve.displayName="FormLabel",ve.defaultProps={column:!1,visuallyHidden:!1};var ge=ve,me=["bsPrefix","className","id"],ye=D.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,i=t.id,o=wt(t,me),a=(0,D.useContext)(Yt).controlId;return n=At(n,"form-range"),(0,pt.jsx)("input",xt(xt({},o),{},{type:"range",ref:e,className:Mt()(r,n),id:i||a}))}));ye.displayName="FormRange";var xe=ye,be=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],we=D.forwardRef((function(t,e){var n=t.bsPrefix,r=t.size,i=t.htmlSize,o=t.className,a=t.isValid,u=void 0!==a&&a,s=t.isInvalid,l=void 0!==s&&s,c=t.id,f=wt(t,be),d=(0,D.useContext)(Yt).controlId;return n=At(n,"form-select"),(0,pt.jsx)("select",xt(xt({},f),{},{size:i,ref:e,className:Mt()(o,n,r&&"".concat(n,"-").concat(r),u&&"is-valid",l&&"is-invalid"),id:c||d}))}));we.displayName="FormSelect";var Se=we,ke=["bsPrefix","className","as","muted"],Ce=D.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,o=void 0===i?"small":i,a=t.muted,u=wt(t,ke);return n=At(n,"form-text"),(0,pt.jsx)(o,xt(xt({},u),{},{ref:e,className:Mt()(r,n,a&&"text-muted")}))}));Ce.displayName="FormText";var Ee=Ce,Oe=D.forwardRef((function(t,e){return(0,pt.jsx)(te,xt(xt({},t),{},{ref:e,type:"switch"}))}));Oe.displayName="Switch";var Me=Object.assign(Oe,{Input:te.Input,Label:te.Label}),_e=["bsPrefix","className","children","controlId","label"],Ae=D.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,i=t.children,o=t.controlId,a=t.label,u=wt(t,_e);return n=At(n,"form-floating"),(0,pt.jsxs)(he,xt(xt({ref:e,className:Mt()(r,n),controlId:o},u),{},{children:[i,(0,pt.jsx)("label",{htmlFor:o,children:a})]}))}));Ae.displayName="FloatingLabel";var Te=Ae,Pe=["className","validated","as"],De={_ref:zt().any,validated:zt().bool,as:zt().elementType},Fe=D.forwardRef((function(t,e){var n=t.className,r=t.validated,i=t.as,o=void 0===i?"form":i,a=wt(t,Pe);return(0,pt.jsx)(o,xt(xt({},a),{},{ref:e,className:Mt()(n,r&&"was-validated")}))}));Fe.displayName="Form",Fe.propTypes=De;var Ne=Object.assign(Fe,{Group:he,Control:oe,Floating:ce,Check:te,Switch:Me,Label:ge,Text:Ee,Range:xe,Select:Se,FloatingLabel:Te}),Ie=["as","disabled"];function Le(t){var e=t.tagName,n=t.disabled,r=t.href,i=t.target,o=t.rel,a=t.onClick,u=t.tabIndex,s=void 0===u?0:u,l=t.type;e||(e=null!=r||null!=i||null!=o?"a":"button");var c={tagName:e};if("button"===e)return[{type:l||"button",disabled:n},c];var f=function(t){(n||"a"===e&&function(t){return!t||"#"===t.trim()}(r))&&t.preventDefault(),n?t.stopPropagation():null==a||a(t)};return"a"===e&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:r,target:"a"===e?i:void 0,"aria-disabled":n||void 0,rel:"a"===e?o:void 0,onClick:f,onKeyDown:function(t){" "===t.key&&(t.preventDefault(),f(t))}},c]}var Re=D.forwardRef((function(t,e){var n=t.as,r=t.disabled,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Ie),o=j(Le(Object.assign({tagName:n,disabled:r},i)),2),a=o[0],u=o[1].tagName;return(0,pt.jsx)(u,Object.assign({},i,a,{ref:e}))}));Re.displayName="Button";var je=["as","bsPrefix","variant","size","active","className"],Be=D.forwardRef((function(t,e){var n=t.as,r=t.bsPrefix,i=t.variant,o=t.size,a=t.active,u=t.className,s=wt(t,je),l=At(r,"btn"),c=j(Le(xt({tagName:n},s)),2),f=c[0],d=c[1].tagName;return(0,pt.jsx)(d,xt(xt(xt({},f),s),{},{ref:e,className:Mt()(u,l,a&&"active",i&&"".concat(l,"-").concat(i),o&&"".concat(l,"-").concat(o),s.href&&s.disabled&&"disabled")}))}));Be.displayName="Button",Be.defaultProps={variant:"primary",active:!1,disabled:!1};var ze=Be;function Ue(){return(0,D.useState)(null)}var He=function(t){return t&&"function"!==typeof t?function(e){t.current=e}:t};var Ve=function(t,e){return(0,D.useMemo)((function(){return function(t,e){var n=He(t),r=He(e);return function(t){n&&n(t),r&&r(t)}}(t,e)}),[t,e])};function We(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Ye(t){return function(t){if(Array.isArray(t))return I(t)}(t)||We(t)||L(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=L(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}var Ge=Object.prototype.hasOwnProperty;function $e(t,e,n){var r,i=qe(t.keys());try{for(i.s();!(r=i.n()).done;)if(Xe(n=r.value,e))return n}catch(o){i.e(o)}finally{i.f()}}function Xe(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Xe(t[r],e[r]););return-1===r}if(n===Set){if(t.size!==e.size)return!1;var o,a=qe(t);try{for(a.s();!(o=a.n()).done;){if((i=r=o.value)&&"object"===typeof i&&!(i=$e(e,i)))return!1;if(!e.has(i))return!1}}catch(l){a.e(l)}finally{a.f()}return!0}if(n===Map){if(t.size!==e.size)return!1;var u,s=qe(t);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=$e(e,i)))return!1;if(!Xe(r[1],e.get(i)))return!1}}catch(l){s.e(l)}finally{s.f()}return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return-1===r}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return-1===r}if(!n||"object"===typeof t){for(n in r=0,t){if(Ge.call(t,n)&&++r&&!Ge.call(e,n))return!1;if(!(n in e)||!Xe(t[n],e[n]))return!1}return Object.keys(e).length===r}}return t!==t&&e!==e}var Ke=function(t){var e=function(){var t=(0,D.useRef)(!0),e=(0,D.useRef)((function(){return t.current}));return(0,D.useEffect)((function(){return function(){t.current=!1}}),[]),e.current}();return[t[0],(0,D.useCallback)((function(n){if(e())return t[1](n)}),[e,t[1]])]};function Ze(t){return t.split("-")[0]}function Je(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qe(t){return t instanceof Je(t).Element||t instanceof Element}function tn(t){return t instanceof Je(t).HTMLElement||t instanceof HTMLElement}function en(t){return"undefined"!==typeof ShadowRoot&&(t instanceof Je(t).ShadowRoot||t instanceof ShadowRoot)}var nn=Math.max,rn=Math.min,on=Math.round;function an(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(tn(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(r=on(n.width)/a||1),o>0&&(i=on(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function un(t){var e=an(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function sn(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&en(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ln(t){return t?(t.nodeName||"").toLowerCase():null}function cn(t){return Je(t).getComputedStyle(t)}function fn(t){return["table","td","th"].indexOf(ln(t))>=0}function dn(t){return((Qe(t)?t.ownerDocument:t.document)||window.document).documentElement}function hn(t){return"html"===ln(t)?t:t.assignedSlot||t.parentNode||(en(t)?t.host:null)||dn(t)}function pn(t){return tn(t)&&"fixed"!==cn(t).position?t.offsetParent:null}function vn(t){for(var e=Je(t),n=pn(t);n&&fn(n)&&"static"===cn(n).position;)n=pn(n);return n&&("html"===ln(n)||"body"===ln(n)&&"static"===cn(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&tn(t)&&"fixed"===cn(t).position)return null;for(var n=hn(t);tn(n)&&["html","body"].indexOf(ln(n))<0;){var r=cn(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}function gn(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function mn(t,e,n){return nn(t,rn(e,n))}function yn(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function xn(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var bn="top",wn="bottom",Sn="right",kn="left",Cn="auto",En=[bn,wn,Sn,kn],On="start",Mn="end",_n="viewport",An="popper",Tn=En.reduce((function(t,e){return t.concat([e+"-"+On,e+"-"+Mn])}),[]),Pn=[].concat(En,[Cn]).reduce((function(t,e){return t.concat([e,e+"-"+On,e+"-"+Mn])}),[]),Dn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var Fn={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,u=Ze(n.placement),s=gn(u),l=[kn,Sn].indexOf(u)>=0?"height":"width";if(o&&a){var c=function(t,e){return yn("number"!==typeof(t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:xn(t,En))}(i.padding,n),f=un(o),d="y"===s?bn:kn,h="y"===s?wn:Sn,p=n.rects.reference[l]+n.rects.reference[s]-a[s]-n.rects.popper[l],v=a[s]-n.rects.reference[s],g=vn(o),m=g?"y"===s?g.clientHeight||0:g.clientWidth||0:0,y=p/2-v/2,x=c[d],b=m-f[l]-c[h],w=m/2-f[l]/2+y,S=mn(x,w,b),k=s;n.modifiersData[r]=((e={})[k]=S,e.centerOffset=S-w,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=e.elements.popper.querySelector(r)))&&sn(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nn(t){return t.split("-")[1]}var In={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ln(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,u=t.position,s=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=a.x,h=void 0===d?0:d,p=a.y,v=void 0===p?0:p,g="function"===typeof c?c({x:h,y:v}):{x:h,y:v};h=g.x,v=g.y;var m=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),x=kn,b=bn,w=window;if(l){var S=vn(n),k="clientHeight",C="clientWidth";if(S===Je(n)&&"static"!==cn(S=dn(n)).position&&"absolute"===u&&(k="scrollHeight",C="scrollWidth"),S=S,i===bn||(i===kn||i===Sn)&&o===Mn)b=wn,v-=(f&&w.visualViewport?w.visualViewport.height:S[k])-r.height,v*=s?1:-1;if(i===kn||(i===bn||i===wn)&&o===Mn)x=Sn,h-=(f&&w.visualViewport?w.visualViewport.width:S[C])-r.width,h*=s?1:-1}var E,O=Object.assign({position:u},l&&In),M=!0===c?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:on(e*r)/r||0,y:on(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=M.x,v=M.y,s?Object.assign({},O,((E={})[b]=y?"0":"",E[x]=m?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",E)):Object.assign({},O,((e={})[b]=y?v+"px":"",e[x]=m?h+"px":"",e.transform="",e))}var Rn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,u=n.roundOffsets,s=void 0===u||u,l={placement:Ze(e.placement),variation:Nn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Ln(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:s})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ln(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},jn={passive:!0};var Bn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,u=void 0===a||a,s=Je(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach((function(t){t.addEventListener("scroll",n.update,jn)})),u&&s.addEventListener("resize",n.update,jn),function(){o&&l.forEach((function(t){t.removeEventListener("scroll",n.update,jn)})),u&&s.removeEventListener("resize",n.update,jn)}},data:{}},zn={left:"right",right:"left",bottom:"top",top:"bottom"};function Un(t){return t.replace(/left|right|bottom|top/g,(function(t){return zn[t]}))}var Hn={start:"end",end:"start"};function Vn(t){return t.replace(/start|end/g,(function(t){return Hn[t]}))}function Wn(t){var e=Je(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Yn(t){return an(dn(t)).left+Wn(t).scrollLeft}function qn(t){var e=cn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Gn(t){return["html","body","#document"].indexOf(ln(t))>=0?t.ownerDocument.body:tn(t)&&qn(t)?t:Gn(hn(t))}function $n(t,e){var n;void 0===e&&(e=[]);var r=Gn(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=Je(r),a=i?[o].concat(o.visualViewport||[],qn(r)?r:[]):r,u=e.concat(a);return i?u:u.concat($n(hn(a)))}function Xn(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Kn(t,e){return e===_n?Xn(function(t){var e=Je(t),n=dn(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,u=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,u=r.offsetTop)),{width:i,height:o,x:a+Yn(t),y:u}}(t)):Qe(e)?function(t){var e=an(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):Xn(function(t){var e,n=dn(t),r=Wn(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=nn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=nn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Yn(t),s=-r.scrollTop;return"rtl"===cn(i||n).direction&&(u+=nn(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:u,y:s}}(dn(t)))}function Zn(t,e,n){var r="clippingParents"===e?function(t){var e=$n(hn(t)),n=["absolute","fixed"].indexOf(cn(t).position)>=0&&tn(t)?vn(t):t;return Qe(n)?e.filter((function(t){return Qe(t)&&sn(t,n)&&"body"!==ln(t)})):[]}(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(e,n){var r=Kn(t,n);return e.top=nn(r.top,e.top),e.right=rn(r.right,e.right),e.bottom=rn(r.bottom,e.bottom),e.left=nn(r.left,e.left),e}),Kn(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Jn(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?Ze(i):null,a=i?Nn(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(o){case bn:e={x:u,y:n.y-r.height};break;case wn:e={x:u,y:n.y+n.height};break;case Sn:e={x:n.x+n.width,y:s};break;case kn:e={x:n.x-r.width,y:s};break;default:e={x:n.x,y:n.y}}var l=o?gn(o):null;if(null!=l){var c="y"===l?"height":"width";switch(a){case On:e[l]=e[l]-(n[c]/2-r[c]/2);break;case Mn:e[l]=e[l]+(n[c]/2-r[c]/2)}}return e}function Qn(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,u=n.rootBoundary,s=void 0===u?_n:u,l=n.elementContext,c=void 0===l?An:l,f=n.altBoundary,d=void 0!==f&&f,h=n.padding,p=void 0===h?0:h,v=yn("number"!==typeof p?p:xn(p,En)),g=c===An?"reference":An,m=t.rects.popper,y=t.elements[d?g:c],x=Zn(Qe(y)?y:y.contextElement||dn(t.elements.popper),a,s),b=an(t.elements.reference),w=Jn({reference:b,element:m,strategy:"absolute",placement:i}),S=Xn(Object.assign({},m,w)),k=c===An?S:b,C={top:x.top-k.top+v.top,bottom:k.bottom-x.bottom+v.bottom,left:x.left-k.left+v.left,right:k.right-x.right+v.right},E=t.modifiersData.offset;if(c===An&&E){var O=E[i];Object.keys(C).forEach((function(t){var e=[Sn,wn].indexOf(t)>=0?1:-1,n=[bn,wn].indexOf(t)>=0?"y":"x";C[t]+=O[n]*e}))}return C}var tr={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,u=void 0===a||a,s=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,g=e.options.placement,m=Ze(g),y=s||(m===g||!p?[Un(g)]:function(t){if(Ze(t)===Cn)return[];var e=Un(t);return[Vn(t),e,Vn(e)]}(g)),x=[g].concat(y).reduce((function(t,n){return t.concat(Ze(n)===Cn?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,l=void 0===s?Pn:s,c=Nn(r),f=c?u?Tn:Tn.filter((function(t){return Nn(t)===c})):En,d=f.filter((function(t){return l.indexOf(t)>=0}));0===d.length&&(d=f);var h=d.reduce((function(e,n){return e[n]=Qn(t,{placement:n,boundary:i,rootBoundary:o,padding:a})[Ze(n)],e}),{});return Object.keys(h).sort((function(t,e){return h[t]-h[e]}))}(e,{placement:n,boundary:c,rootBoundary:f,padding:l,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=e.rects.reference,w=e.rects.popper,S=new Map,k=!0,C=x[0],E=0;E<x.length;E++){var O=x[E],M=Ze(O),_=Nn(O)===On,A=[bn,wn].indexOf(M)>=0,T=A?"width":"height",P=Qn(e,{placement:O,boundary:c,rootBoundary:f,altBoundary:d,padding:l}),D=A?_?Sn:kn:_?wn:bn;b[T]>w[T]&&(D=Un(D));var F=Un(D),N=[];if(o&&N.push(P[M]<=0),u&&N.push(P[D]<=0,P[F]<=0),N.every((function(t){return t}))){C=O,k=!1;break}S.set(O,N)}if(k)for(var I=function(t){var e=x.find((function(e){var n=S.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},L=p?3:1;L>0;L--){if("break"===I(L))break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function er(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function nr(t){return[bn,Sn,wn,kn].some((function(e){return t[e]>=0}))}var rr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Qn(e,{elementContext:"reference"}),u=Qn(e,{altBoundary:!0}),s=er(a,r),l=er(u,i,o),c=nr(s),f=nr(l);e.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}};var ir={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,a=Pn.reduce((function(t,n){return t[n]=function(t,e,n){var r=Ze(t),i=[kn,bn].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},e,{placement:t})):n,a=o[0],u=o[1];return a=a||0,u=(u||0)*i,[kn,Sn].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}(n,e.rects,o),t}),{}),u=a[e.placement],s=u.x,l=u.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=s,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}};var or={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Jn({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var ar={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,u=void 0!==a&&a,s=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,g=Qn(e,{boundary:s,rootBoundary:l,padding:f,altBoundary:c}),m=Ze(e.placement),y=Nn(e.placement),x=!y,b=gn(m),w=function(t){return"x"===t?"y":"x"}(b),S=e.modifiersData.popperOffsets,k=e.rects.reference,C=e.rects.popper,E="function"===typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,O="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_={x:0,y:0};if(S){if(o){var A,T="y"===b?bn:kn,P="y"===b?wn:Sn,D="y"===b?"height":"width",F=S[b],N=F+g[T],I=F-g[P],L=h?-C[D]/2:0,R=y===On?k[D]:C[D],j=y===On?-C[D]:-k[D],B=e.elements.arrow,z=h&&B?un(B):{width:0,height:0},U=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=U[T],V=U[P],W=mn(0,k[D],z[D]),Y=x?k[D]/2-L-W-H-O.mainAxis:R-W-H-O.mainAxis,q=x?-k[D]/2+L+W+V+O.mainAxis:j+W+V+O.mainAxis,G=e.elements.arrow&&vn(e.elements.arrow),$=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,X=null!=(A=null==M?void 0:M[b])?A:0,K=F+q-X,Z=mn(h?rn(N,F+Y-X-$):N,F,h?nn(I,K):I);S[b]=Z,_[b]=Z-F}if(u){var J,Q="x"===b?bn:kn,tt="x"===b?wn:Sn,et=S[w],nt="y"===w?"height":"width",rt=et+g[Q],it=et-g[tt],ot=-1!==[bn,kn].indexOf(m),at=null!=(J=null==M?void 0:M[w])?J:0,ut=ot?rt:et-k[nt]-C[nt]-at+O.altAxis,st=ot?et+k[nt]+C[nt]-at-O.altAxis:it,lt=h&&ot?function(t,e,n){var r=mn(t,e,n);return r>n?n:r}(ut,et,st):mn(h?ut:rt,et,h?st:it);S[w]=lt,_[w]=lt-et}e.modifiersData[r]=_}},requiresIfExists:["offset"]};function ur(t,e,n){void 0===n&&(n=!1);var r=tn(e),i=tn(e)&&function(t){var e=t.getBoundingClientRect(),n=on(e.width)/t.offsetWidth||1,r=on(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),o=dn(e),a=an(t,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==ln(e)||qn(o))&&(u=function(t){return t!==Je(t)&&tn(t)?{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}:Wn(t);var e}(e)),tn(e)?((s=an(e,!0)).x+=e.clientLeft,s.y+=e.clientTop):o&&(s.x=Yn(o))),{x:a.left+u.scrollLeft-s.x,y:a.top+u.scrollTop-s.y,width:a.width,height:a.height}}function sr(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function lr(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}var cr={placement:"bottom",modifiers:[],strategy:"absolute"};function fr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function dr(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?cr:i;return function(t,e,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},cr,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},o,i.options,u),i.scrollParents={reference:Qe(t)?$n(t):t.contextElement?$n(t.contextElement):[],popper:$n(e)};var c=function(t){var e=sr(t);return Dn.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(t){return t.enabled})),i.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"===typeof o){var u=o({state:i,name:e,instance:s,options:r}),l=function(){};a.push(u||l)}})),s.update()},forceUpdate:function(){if(!u){var t=i.elements,e=t.reference,n=t.popper;if(fr(e,n)){i.rects={reference:ur(e,vn(n),"fixed"===i.options.strategy),popper:un(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,l=o.options,c=void 0===l?{}:l,f=o.name;"function"===typeof a&&(i=a({state:i,options:c,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:lr((function(){return new Promise((function(t){s.forceUpdate(),t(i)}))})),destroy:function(){l(),u=!0}};if(!fr(t,e))return s;function l(){a.forEach((function(t){return t()})),a=[]}return s.setOptions(n).then((function(t){!u&&n.onFirstUpdate&&n.onFirstUpdate(t)})),s}}var hr=dr({defaultModifiers:[rr,or,Rn,Bn,ir,tr,ar,Fn]}),pr=["enabled","placement","strategy","modifiers"];function vr(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var gr={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},mr={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var e=t.state;return function(){var t=e.elements,n=t.reference,r=t.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(t){return t.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(t){var e,n=t.state.elements,r=n.popper,i=n.reference,o=null==(e=r.getAttribute("role"))?void 0:e.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){var a=i.getAttribute("aria-describedby");if(a&&-1!==a.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",a?"".concat(a,",").concat(r.id):r.id)}}},yr=[];var xr=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.enabled,i=void 0===r||r,o=n.placement,a=void 0===o?"bottom":o,u=n.strategy,s=void 0===u?"absolute":u,l=n.modifiers,c=void 0===l?yr:l,f=vr(n,pr),d=(0,D.useRef)(c),h=(0,D.useRef)(),p=(0,D.useCallback)((function(){var t;null==(t=h.current)||t.update()}),[]),v=(0,D.useCallback)((function(){var t;null==(t=h.current)||t.forceUpdate()}),[]),g=Ke((0,D.useState)({placement:a,update:p,forceUpdate:v,attributes:{},styles:{popper:{},arrow:{}}})),m=j(g,2),y=m[0],x=m[1],b=(0,D.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(t){var e=t.state,n={},r={};Object.keys(e.elements).forEach((function(t){n[t]=e.styles[t],r[t]=e.attributes[t]})),x({state:e,styles:n,attributes:r,update:p,forceUpdate:v,placement:e.placement})}}}),[p,v,x]),w=(0,D.useMemo)((function(){return Xe(d.current,c)||(d.current=c),d.current}),[c]);return(0,D.useEffect)((function(){h.current&&i&&h.current.setOptions({placement:a,strategy:s,modifiers:[].concat(Ye(w),[b,gr])})}),[s,a,b,i,w]),(0,D.useEffect)((function(){if(i&&null!=t&&null!=e)return h.current=hr(t,e,Object.assign({},f,{placement:a,strategy:s,modifiers:[].concat(Ye(w),[mr,b])})),function(){null!=h.current&&(h.current.destroy(),h.current=void 0,x((function(t){return Object.assign({},t,{attributes:{},styles:{popper:{}}})})))}}),[i,t,e]),y},br=!("undefined"===typeof window||!window.document||!window.document.createElement),wr=!1,Sr=!1;try{var kr={get passive(){return wr=!0},get once(){return Sr=wr=!0}};br&&(window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,!0))}catch(v1t){}var Cr=function(t,e,n,r){if(r&&"boolean"!==typeof r&&!Sr){var i=r.once,o=r.capture,a=n;!Sr&&i&&(a=n.__once||function t(r){this.removeEventListener(e,t,o),n.call(this,r)},n.__once=a),t.addEventListener(e,a,wr?r:o)}t.addEventListener(e,n,r)};var Er=function(t,e,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)};var Or=function(t,e,n,r){return Cr(t,e,n,r),function(){Er(t,e,n,r)}};function Mr(t){return t&&t.ownerDocument||document}var _r=function(t){var e=(0,D.useRef)(t);return(0,D.useEffect)((function(){e.current=t}),[t]),e};function Ar(t){var e=_r(t);return(0,D.useCallback)((function(){return e.current&&e.current.apply(e,arguments)}),[e])}function Tr(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}var Pr=function(){};function Dr(t){return 0===t.button}function Fr(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var Nr=function(t){return t&&("current"in t?t.current:t)};var Ir=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.disabled,i=n.clickTrigger,o=void 0===i?"click":i,a=(0,D.useRef)(!1),u=(0,D.useCallback)((function(e){var n=Nr(t);ne()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!n||Fr(e)||!Dr(e)||!!Tr(n,e.target)}),[t]),s=Ar((function(t){a.current||e(t)}));(0,D.useEffect)((function(){if(!r&&null!=t){var e=Mr(Nr(t)),n=(e.defaultView||window).event,i=Or(e,o,u,!0),a=Or(e,o,(function(t){t!==n?s(t):n=void 0})),l=[];return"ontouchstart"in e.documentElement&&(l=[].slice.call(e.body.children).map((function(t){return Or(t,"mousemove",Pr)}))),function(){i(),a(),l.forEach((function(t){return t()}))}}}),[t,r,o,u,s])},Lr=function(){};var Rr=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.disabled,i=n.clickTrigger,o=e||Lr;Ir(t,o,{disabled:r,clickTrigger:i});var a=Ar((function(t){27===t.keyCode&&o(t)}));(0,D.useEffect)((function(){if(!r&&null!=t){var e=Mr(Nr(t)),n=(e.defaultView||window).event,i=Or(e,"keyup",(function(t){t!==n?a(t):n=void 0}));return function(){i()}}}),[t,r,a])},jr=(0,D.createContext)(br?window:void 0);jr.Provider;var Br=function(t,e){var n;return br?null==t?(e||Mr()).body:("function"===typeof t&&(t=t()),t&&"current"in t&&(t=t.current),null!=(n=t)&&n.nodeType&&t||null):null};function zr(t,e){var n=(0,D.useContext)(jr),r=j((0,D.useState)((function(){return Br(t,null==n?void 0:n.document)})),2),i=r[0],o=r[1];if(!i){var a=Br(t);a&&o(a)}return(0,D.useEffect)((function(){e&&i&&e(i)}),[e,i]),(0,D.useEffect)((function(){var e=Br(t);e!==i&&o(e)}),[t,i]),i}function Ur(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(t)?t:Object.keys(t).map((function(e){return t[e].name=e,t[e]}))}function Hr(t){var e,n,r,i,o=t.enabled,a=t.enableEvents,u=t.placement,s=t.flip,l=t.offset,c=t.fixed,f=t.containerPadding,d=t.arrowElement,h=t.popperConfig,p=void 0===h?{}:h,v=function(t){var e={};return Array.isArray(t)?(null==t||t.forEach((function(t){e[t.name]=t})),e):t||e}(p.modifiers);return Object.assign({},p,{placement:u,enabled:o,strategy:c?"fixed":p.strategy,modifiers:Ur(Object.assign({},v,{eventListeners:{enabled:a},preventOverflow:Object.assign({},v.preventOverflow,{options:f?Object.assign({padding:f},null==(e=v.preventOverflow)?void 0:e.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:l},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!d,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:d})}),flip:Object.assign({enabled:!!s},v.flip)}))})}var Vr=D.forwardRef((function(t,e){var n=t.flip,r=t.offset,i=t.placement,o=t.containerPadding,a=t.popperConfig,u=void 0===a?{}:a,s=t.transition,l=j(Ue(),2),c=l[0],f=l[1],d=j(Ue(),2),h=d[0],p=d[1],v=Ve(f,e),g=zr(t.container),m=zr(t.target),y=j((0,D.useState)(!t.show),2),x=y[0],b=y[1],w=xr(m,c,Hr({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:n,offset:r,arrowElement:h,popperConfig:u}));t.show?x&&b(!1):t.transition||x||b(!0);var S=t.show||s&&!x;if(Rr(c,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!S)return null;var k=t.children(Object.assign({},w.attributes.popper,{style:w.styles.popper,ref:v}),{popper:w,placement:i,show:!!t.show,arrowProps:Object.assign({},w.attributes.arrow,{style:w.styles.arrow,ref:p})});if(s){var C=t.onExit,E=t.onExiting,O=t.onEnter,M=t.onEntering,_=t.onEntered;k=(0,pt.jsx)(s,{in:t.show,appear:!0,onExit:C,onExiting:E,onExited:function(){b(!0),t.onExited&&t.onExited.apply(t,arguments)},onEnter:O,onEntering:M,onEntered:_,children:k})}return g?F.createPortal(k,g):null}));Vr.displayName="Overlay";var Wr=Vr;var Yr=le("popover-header"),qr=le("popover-body");function Gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $r(t,e,n){return e&&Gr(t.prototype,e),n&&Gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kr(t,e){return Kr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kr(t,e)}function Zr(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kr(t,e)}function Jr(t){return Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jr(t)}function Qr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(v1t){return!1}}function ti(t){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(t)}function ei(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ni(t,e){if(e&&("object"===ti(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ei(t)}function ri(t){var e=Qr();return function(){var n,r=Jr(t);if(e){var i=Jr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni(this,n)}}D.Component;var ii=["bsPrefix","placement","className","style","children","body","arrowProps","popper","show"],oi=D.forwardRef((function(t,e){var n=t.bsPrefix,r=t.placement,i=t.className,o=t.style,a=t.children,u=t.body,s=t.arrowProps,l=(t.popper,t.show,wt(t,ii)),c=At(n,"popover"),f="rtl"===(0,D.useContext)(_t).dir,d=j((null==r?void 0:r.split("-"))||[],1)[0],h=function(t,e){var n=t;return"left"===t?n=e?"end":"start":"right"===t&&(n=e?"start":"end"),n}(d,f);return(0,pt.jsxs)("div",xt(xt({ref:e,role:"tooltip",style:o,"x-placement":d,className:Mt()(i,c,d&&"bs-popover-".concat(h))},l),{},{children:[(0,pt.jsx)("div",xt({className:"popover-arrow"},s)),u?(0,pt.jsx)(qr,{children:a}):a]}))}));oi.defaultProps={placement:"right"};var ai=Object.assign(oi,{Header:Yr,Body:qr,POPPER_OFFSET:[0,8]});var ui=!1,si=D.createContext(null),li="unmounted",ci="exited",fi="entering",di="entered",hi="exiting",pi=function(t){var e,n;function r(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=ci,r.appearStatus=fi):i=di:i=e.unmountOnExit||e.mountOnEnter?li:ci,r.state={status:i},r.nextCallback=null,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Kr(e,n),r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===li?{status:ci}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==fi&&n!==di&&(e=fi):n!==fi&&n!==di||(e=hi)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},i.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===fi?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===ci&&this.setState({status:li})},i.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[F.findDOMNode(this),r],o=i[0],a=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!t&&!n||ui?this.safeSetState({status:di},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:fi},(function(){e.props.onEntering(o,a),e.onTransitionEnd(s,(function(){e.safeSetState({status:di},(function(){e.props.onEntered(o,a)}))}))})))},i.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:F.findDOMNode(this);e&&!ui?(this.props.onExit(r),this.safeSetState({status:hi},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:ci},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:ci},(function(){t.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},i.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:F.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===li)return null;var e=this.props,n=e.children,r=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,bt(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return D.createElement(si.Provider,{value:null},"function"===typeof n?n(t,r):D.cloneElement(D.Children.only(n),r))},r}(D.Component);function vi(){}pi.contextType=si,pi.propTypes={},pi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vi,onEntering:vi,onEntered:vi,onExit:vi,onExiting:vi,onExited:vi},pi.UNMOUNTED=li,pi.EXITED=ci,pi.ENTERING=fi,pi.ENTERED=di,pi.EXITING=hi;var gi=pi;function mi(t,e){return function(t){var e=Mr(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var yi=/([A-Z])/g;var xi=/^ms-/;function bi(t){return function(t){return t.replace(yi,"-$1").toLowerCase()}(t).replace(xi,"-ms-")}var wi=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Si=function(t,e){var n="",r="";if("string"===typeof e)return t.style.getPropertyValue(bi(e))||mi(t).getPropertyValue(bi(e));Object.keys(e).forEach((function(i){var o=e[i];o||0===o?!function(t){return!(!t||!wi.test(t))}(i)?n+=bi(i)+": "+o+";":r+=i+"("+o+") ":t.style.removeProperty(bi(i))})),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n};function ki(t,e,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}(t,"transitionend",!0)}),e+n),o=Or(t,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function Ci(t,e,n,r){null==n&&(n=function(t){var e=Si(t,"transitionDuration")||"",n=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*n}(t)||0);var i=ki(t,n,r),o=Or(t,"transitionend",e);return function(){i(),o()}}function Ei(t,e){var n=Si(t,e)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Oi(t,e){var n=Ei(t,"transitionDuration"),r=Ei(t,"transitionDelay"),i=Ci(t,(function(n){n.target===t&&(i(),e(n))}),n+r)}function Mi(t){return t&&"setState"in t?F.findDOMNode(t):null!=t?t:null}var _i,Ai=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Ti=D.forwardRef((function(t,e){var n=t.onEnter,r=t.onEntering,i=t.onEntered,o=t.onExit,a=t.onExiting,u=t.onExited,s=t.addEndListener,l=t.children,c=t.childRef,f=wt(t,Ai),d=(0,D.useRef)(null),h=Ve(d,c),p=function(t){h(Mi(t))},v=function(t){return function(e){t&&d.current&&t(d.current,e)}},g=(0,D.useCallback)(v(n),[n]),m=(0,D.useCallback)(v(r),[r]),y=(0,D.useCallback)(v(i),[i]),x=(0,D.useCallback)(v(o),[o]),b=(0,D.useCallback)(v(a),[a]),w=(0,D.useCallback)(v(u),[u]),S=(0,D.useCallback)(v(s),[s]);return(0,pt.jsx)(gi,xt(xt({ref:e},f),{},{onEnter:g,onEntered:y,onEntering:m,onExit:x,onExited:w,onExiting:b,addEndListener:S,nodeRef:d,children:"function"===typeof l?function(t,e){return l(t,xt(xt({},e),{},{ref:p}))}:D.cloneElement(l,{ref:p})}))})),Pi=Ti,Di=["className","children","transitionClasses"],Fi=(mt(_i={},fi,"show"),mt(_i,di,"show"),_i),Ni=D.forwardRef((function(t,e){var n=t.className,r=t.children,i=t.transitionClasses,o=void 0===i?{}:i,a=wt(t,Di),u=(0,D.useCallback)((function(t,e){!function(t){t.offsetHeight}(t),null==a.onEnter||a.onEnter(t,e)}),[a]);return(0,pt.jsx)(Pi,xt(xt({ref:e,addEndListener:Oi},a),{},{onEnter:u,childRef:r.ref,children:function(t,e){return D.cloneElement(r,xt(xt({},e),{},{className:Mt()("fade",n,r.props.className,Fi[t],o[t])}))}}))}));Ni.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ni.displayName="Fade";var Ii=Ni,Li=["children","transition","popperConfig"],Ri={transition:Ii,rootClose:!1,show:!1,placement:"top"};var ji=D.forwardRef((function(t,e){var n=t.children,r=t.transition,i=t.popperConfig,o=void 0===i?{}:i,a=wt(t,Li),u=(0,D.useRef)({}),s=function(){var t=(0,D.useRef)(null),e=At(void 0,"popover"),n=(0,D.useMemo)((function(){return{name:"offset",options:{offset:function(){return t.current&&(n=t.current,r=e,n.classList?r&&n.classList.contains(r):-1!==(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+r+" "))?ai.POPPER_OFFSET:[0,0];var n,r}}}}),[e]);return[t,[n]]}(),l=j(s,2),c=l[0],f=l[1],d=Ve(e,c),h=!0===r?Ii:r||void 0;return(0,pt.jsx)(Wr,xt(xt({},a),{},{ref:d,popperConfig:xt(xt({},o),{},{modifiers:f.concat(o.modifiers||[])}),transition:h,children:function(t,e){var i,o,a=e.arrowProps,s=e.popper,l=e.show;!function(t,e){var n=t.ref,r=e.ref;t.ref=n.__wrapped||(n.__wrapped=function(t){return n(Mi(t))}),e.ref=r.__wrapped||(r.__wrapped=function(t){return r(Mi(t))})}(t,a);var c=null==s?void 0:s.placement,f=Object.assign(u.current,{state:null==s?void 0:s.state,scheduleUpdate:null==s?void 0:s.update,placement:c,outOfBoundaries:(null==s||null==(i=s.state)||null==(o=i.modifiersData.hide)?void 0:o.isReferenceHidden)||!1});return"function"===typeof n?n(xt(xt(xt({},t),{},{placement:c,show:l},!r&&l&&{className:"show"}),{},{popper:f,arrowProps:a})):D.cloneElement(n,xt(xt({},t),{},{placement:c,arrowProps:a,popper:f,className:Mt()(n.props.className,!r&&l&&"show"),style:xt(xt({},n.props.style),t.style)}))}}))}));ji.displayName="Overlay",ji.defaultProps=Ri;var Bi=ji;function zi(t,e){var n=xt({},t);return Array.isArray(e)&&e.forEach((function(t){delete n[t]})),n}var Ui=function(t){if(!t)return!1;if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox();if(e.width||e.height)return!0}if(t.getBoundingClientRect){var n=t.getBoundingClientRect();if(n.width||n.height)return!0}return!1},Hi="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),Vi="aria-",Wi="data-";function Yi(t,e){return 0===t.indexOf(e)}function qi(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:xt({},n);var r={};return Object.keys(t).forEach((function(n){(e.aria&&("role"===n||Yi(n,Vi))||e.data&&Yi(n,Wi)||e.attr&&Hi.includes(n))&&(r[n]=t[n])})),r}function Gi(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var $i=function(t){if(Gi()&&window.document.documentElement){var e=Array.isArray(t)?t:[t],n=window.document.documentElement;return e.some((function(t){return t in n.style}))}return!1};function Xi(t,e){return Array.isArray(t)||void 0===e?$i(t):function(t,e){if(!$i(t))return!1;var n=document.createElement("div"),r=n.style[t];return n.style[t]=e,n.style[t]!==r}(t,e)}var Ki=n(9613),Zi=n.n(Ki),Ji={};function Qi(t,e){0}function to(t,e,n){e||Ji[n]||(t(!1,n),Ji[n]=!0)}var eo=function(t,e){to(Qi,t,e)},no=n(3873);function ro(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return D.Children.forEach(t,(function(t){(void 0!==t&&null!==t||e.keepEmpty)&&(Array.isArray(t)?n=n.concat(ro(t)):(0,no.isFragment)(t)&&t.props?n=n.concat(ro(t.props.children,e)):n.push(t))})),n}function io(t,e,n){var r=D.useRef({});return"value"in r.current&&!n(r.current.condition,e)||(r.current.value=t(),r.current.condition=e),r.current.value}function oo(t,e){"function"===typeof t?t(e):"object"===ti(t)&&t&&"current"in t&&(t.current=e)}function ao(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter((function(t){return t}));return r.length<=1?r[0]:function(t){e.forEach((function(e){oo(e,t)}))}}function uo(t){var e,n,r=(0,no.isMemo)(t)?t.type.type:t.type;return!("function"===typeof r&&!(null===(e=r.prototype)||void 0===e?void 0:e.render))&&!("function"===typeof t&&!(null===(n=t.prototype)||void 0===n?void 0:n.render))}function so(t){return t instanceof HTMLElement?t:F.findDOMNode(t)}var lo=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),co="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,fo="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),ho="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(fo):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var po=["top","right","bottom","left","width","height","size","weight"],vo="undefined"!==typeof MutationObserver,go=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&u()}function a(){ho(o)}function u(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=t}return u}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){co&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),vo?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){co&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,r=po.some((function(t){return!!~n.indexOf(t)}));r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),mo=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},yo=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||fo},xo=Eo(0,0,0,0);function bo(t){return parseFloat(t)||0}function wo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+bo(t["border-"+n+"-width"])}),0)}function So(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return xo;var r=yo(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=bo(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,u=bo(r.width),s=bo(r.height);if("border-box"===r.boxSizing&&(Math.round(u+o)!==e&&(u-=wo(r,"left","right")+o),Math.round(s+a)!==n&&(s-=wo(r,"top","bottom")+a)),!function(t){return t===yo(t).document.documentElement}(t)){var l=Math.round(u+o)-e,c=Math.round(s+a)-n;1!==Math.abs(l)&&(u-=l),1!==Math.abs(c)&&(s-=c)}return Eo(i.left,i.top,u,s)}var ko="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof yo(t).SVGGraphicsElement}:function(t){return t instanceof yo(t).SVGElement&&"function"===typeof t.getBBox};function Co(t){return co?ko(t)?function(t){var e=t.getBBox();return Eo(0,0,e.width,e.height)}(t):So(t):xo}function Eo(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Oo=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Eo(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=Co(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),Mo=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return mo(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);mo(this,{target:t,contentRect:n})},_o=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new lo,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof yo(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Oo(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof yo(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new Mo(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Ao="undefined"!==typeof WeakMap?new WeakMap:new lo,To=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=go.getInstance(),r=new _o(e,n,this);Ao.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){To.prototype[t]=function(){var e;return(e=Ao.get(this))[t].apply(e,arguments)}}));var Po="undefined"!==typeof fo.ResizeObserver?fo.ResizeObserver:To,Do=new Map;var Fo=new Po((function(t){t.forEach((function(t){var e,n=t.target;null===(e=Do.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var No=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"render",value:function(){return this.props.children}}]),n}(D.Component),Io=D.createContext(null);function Lo(t){var e=t.children,n=t.disabled,r=D.useRef(null),i=D.useRef(null),o=D.useContext(Io),a="function"===typeof e,u=a?e(r):e,s=D.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!a&&D.isValidElement(u)&&uo(u),c=l?u.ref:null,f=D.useMemo((function(){return ao(c,r)}),[c,r]),d=D.useRef(t);d.current=t;var h=D.useCallback((function(t){var e=d.current,n=e.onResize,r=e.data,i=t.getBoundingClientRect(),a=i.width,u=i.height,l=t.offsetWidth,c=t.offsetHeight,f=Math.floor(a),h=Math.floor(u);if(s.current.width!==f||s.current.height!==h||s.current.offsetWidth!==l||s.current.offsetHeight!==c){var p={width:f,height:h,offsetWidth:l,offsetHeight:c};s.current=p;var v=l===Math.round(a)?a:l,g=c===Math.round(u)?u:c,m=xt(xt({},p),{},{offsetWidth:v,offsetHeight:g});null===o||void 0===o||o(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return D.useEffect((function(){var t,e,o=so(r.current)||so(i.current);return o&&!n&&(t=o,e=h,Do.has(t)||(Do.set(t,new Set),Fo.observe(t)),Do.get(t).add(e)),function(){return function(t,e){Do.has(t)&&(Do.get(t).delete(e),Do.get(t).size||(Fo.unobserve(t),Do.delete(t)))}(o,h)}}),[r.current,n]),D.createElement(No,{ref:i},l?D.cloneElement(u,{ref:f}):u)}function Ro(t){var e=t.children;return("function"===typeof e?[e]:ro(e)).map((function(e,n){var r=(null===e||void 0===e?void 0:e.key)||"".concat("rc-observer-key","-").concat(n);return D.createElement(Lo,B({},t,{key:r}),e)}))}Ro.Collection=function(t){var e=t.children,n=t.onBatchResize,r=D.useRef(0),i=D.useRef([]),o=D.useContext(Io),a=D.useCallback((function(t,e,a){r.current+=1;var u=r.current;i.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){u===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(t,e,a)}),[n,o]);return D.createElement(Io.Provider,{value:a},e)};var jo,Bo=Ro;function zo(t){if("undefined"===typeof document)return 0;if(t||void 0===jo){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),jo=i-o}return jo}function Uo(t){var e=t.match(/^(.*)px$/),n=Number(null===e||void 0===e?void 0:e[1]);return Number.isNaN(n)?zo():n}var Ho=function(t){return null};var Vo=function(t){return null};function Wo(t){return void 0===t||null===t?[]:Array.isArray(t)?t:[t]}function Yo(t,e){if(!e&&"number"!==typeof e)return t;for(var n=Wo(e),r=t,i=0;i<n.length;i+=1){if(!r)return null;r=r[n[i]]}return r}function qo(t){var e=[],n={};return t.forEach((function(t){for(var r=t||{},i=r.key,o=r.dataIndex,a=i||Wo(o).join("-")||"RC_TABLE_KEY";n[a];)a="".concat(a,"_next");n[a]=!0,e.push(a)})),e}function Go(t){return null!==t&&void 0!==t}var $o=D.createContext(!1),Xo=D.createContext({}),Ko=D.createContext({renderWithProps:!1}),Zo=["colSpan","rowSpan","style","className"];function Jo(t){return"string"===typeof t||uo(t)}function Qo(t,e){var n,r,i,o=t.prefixCls,a=t.className,u=t.record,s=t.index,l=t.renderIndex,c=t.dataIndex,f=t.render,d=t.children,h=t.component,p=void 0===h?"td":h,v=t.colSpan,g=t.rowSpan,m=t.fixLeft,y=t.fixRight,x=t.firstFixLeft,b=t.lastFixLeft,w=t.firstFixRight,S=t.lastFixRight,k=t.appendNode,C=t.additionalProps,E=void 0===C?{}:C,O=t.ellipsis,M=t.align,_=t.rowType,A=t.isSticky,T=t.hovering,P=t.onHover,F="".concat(o,"-cell"),N=D.useContext(Ko),I=D.useContext($o),L=D.useMemo((function(){if(Go(d))return[d];var t=Yo(u,c),e=t,n=void 0;if(f){var r=f(t,u,l);!function(t){return t&&"object"===ti(t)&&!Array.isArray(t)&&!D.isValidElement(t)}(r)?e=r:(e=r.children,n=r.props,N.renderWithProps=!0)}return[e,n]}),[N.renderWithProps?Math.random():0,d,c,N,u,f,l]),R=j(L,2),B=R[0],z=R[1],U=B;"object"!==ti(U)||Array.isArray(U)||D.isValidElement(U)||(U=null),O&&(b||w)&&(U=D.createElement("span",{className:"".concat(F,"-content")},U));var H=z||{},V=H.colSpan,W=H.rowSpan,Y=H.style,q=H.className,G=wt(H,Zo),$=null!==(n=void 0!==V?V:v)&&void 0!==n?n:1,X=null!==(r=void 0!==W?W:g)&&void 0!==r?r:1;if(0===$||0===X)return null;var K={},Z="number"===typeof m&&I,J="number"===typeof y&&I;Z&&(K.position="sticky",K.left=m),J&&(K.position="sticky",K.right=y);var Q={};M&&(Q.textAlign=M);var tt,et=!0===O?{showTitle:!0}:O;et&&(et.showTitle||"header"===_)&&("string"===typeof U||"number"===typeof U?tt=U.toString():D.isValidElement(U)&&"string"===typeof U.props.children&&(tt=U.props.children));var nt=xt(xt(xt({title:tt},G),E),{},{colSpan:1!==$?$:null,rowSpan:1!==X?X:null,className:Mt()(F,a,(i={},mt(i,"".concat(F,"-fix-left"),Z&&I),mt(i,"".concat(F,"-fix-left-first"),x&&I),mt(i,"".concat(F,"-fix-left-last"),b&&I),mt(i,"".concat(F,"-fix-right"),J&&I),mt(i,"".concat(F,"-fix-right-first"),w&&I),mt(i,"".concat(F,"-fix-right-last"),S&&I),mt(i,"".concat(F,"-ellipsis"),O),mt(i,"".concat(F,"-with-append"),k),mt(i,"".concat(F,"-fix-sticky"),(Z||J)&&A&&I),mt(i,"".concat(F,"-row-hover"),!z&&T),i),E.className,q),style:xt(xt(xt(xt({},E.style),Q),K),Y),onMouseEnter:function(t){var e;u&&P(s,s+X-1),null===E||void 0===E||null===(e=E.onMouseEnter)||void 0===e||e.call(E,t)},onMouseLeave:function(t){var e;u&&P(-1,-1),null===E||void 0===E||null===(e=E.onMouseLeave)||void 0===e||e.call(E,t)},ref:Jo(p)?e:null});return D.createElement(p,nt,k,U)}var ta=D.forwardRef(Qo);ta.displayName="Cell";var ea=["expanded","className","hovering"],na=D.memo(ta,(function(t,e){return e.shouldCellUpdate?ea.every((function(n){return t[n]===e[n]}))&&!e.shouldCellUpdate(e.record,t.record):Zi()(t,e)})),ra=D.forwardRef((function(t,e){var n=D.useContext(Xo),r=n.onHover,i=n.startRow,o=n.endRow,a=t.index,u=t.additionalProps,s=void 0===u?{}:u,l=t.colSpan,c=t.rowSpan,f=s.colSpan,d=s.rowSpan,h=null!==l&&void 0!==l?l:f,p=null!==c&&void 0!==c?c:d,v=function(t,e,n,r){return t<=r&&t+e-1>=n}(a,p||1,i,o);return D.createElement(na,B({},t,{colSpan:h,rowSpan:p,hovering:v,ref:e,onHover:r}))}));ra.displayName="WrappedCell";var ia=ra,oa=D.createContext(null);function aa(t,e,n,r,i){var o,a,u=n[t]||{},s=n[e]||{};"left"===u.fixed?o=r.left[t]:"right"===s.fixed&&(a=r.right[e]);var l=!1,c=!1,f=!1,d=!1,h=n[e+1],p=n[t-1];if("rtl"===i){if(void 0!==o)d=!(p&&"left"===p.fixed);else if(void 0!==a){f=!(h&&"right"===h.fixed)}}else if(void 0!==o){l=!(h&&"left"===h.fixed)}else if(void 0!==a){c=!(p&&"right"===p.fixed)}return{fixLeft:o,fixRight:a,lastFixLeft:l,firstFixRight:c,lastFixRight:f,firstFixLeft:d,isSticky:r.isSticky}}function ua(t){var e,n=t.cells,r=t.stickyOffsets,i=t.flattenColumns,o=t.rowComponent,a=t.cellComponent,u=t.onHeaderRow,s=t.index,l=D.useContext(oa),c=l.prefixCls,f=l.direction;u&&(e=u(n.map((function(t){return t.column})),s));var d=qo(n.map((function(t){return t.column})));return D.createElement(o,e,n.map((function(t,e){var n,o=t.column,u=aa(t.colStart,t.colEnd,i,r,f);return o&&o.onHeaderCell&&(n=t.column.onHeaderCell(o)),D.createElement(ia,B({},t,{ellipsis:o.ellipsis,align:o.align,component:a,prefixCls:c,key:d[e]},u,{additionalProps:n,rowType:"header"}))})))}ua.displayName="HeaderRow";var sa=ua;var la=function(t){var e=t.stickyOffsets,n=t.columns,r=t.flattenColumns,i=t.onHeaderRow,o=D.useContext(oa),a=o.prefixCls,u=o.getComponent,s=D.useMemo((function(){return function(t){var e=[];!function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e[i]=e[i]||[];var o=r,a=n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:o},a=1,u=n.children;return u&&u.length>0&&(a=t(u,o,i+1).reduce((function(t,e){return t+e}),0),r.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,e[i].push(r),o+=a,a}));return a}(t,0);for(var n=e.length,r=function(t){e[t].forEach((function(e){"rowSpan"in e||e.hasSubColumns||(e.rowSpan=n-t)}))},i=0;i<n;i+=1)r(i);return e}(n)}),[n]),l=u(["header","wrapper"],"thead"),c=u(["header","row"],"tr"),f=u(["header","cell"],"th");return D.createElement(l,{className:"".concat(a,"-thead")},s.map((function(t,n){return D.createElement(sa,{key:n,flattenColumns:r,cells:t,stickyOffsets:e,rowComponent:c,cellComponent:f,onHeaderRow:i,index:n})})))},ca=D.createContext(null),fa=D.createContext(null);var da=function(t){var e=t.prefixCls,n=t.children,r=t.component,i=t.cellComponent,o=t.className,a=t.expanded,u=t.colSpan,s=t.isEmpty,l=D.useContext(oa).scrollbarSize,c=D.useContext(fa),f=c.fixHeader,d=c.fixColumn,h=c.componentWidth,p=c.horizonScroll;return D.useMemo((function(){var t=n;return(s?p:d)&&(t=D.createElement("div",{style:{width:h-(f?l:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(e,"-expanded-row-fixed")},t)),D.createElement(r,{className:o,style:{display:a?null:"none"}},D.createElement(ia,{component:i,prefixCls:e,colSpan:u},t))}),[n,r,o,a,u,s,l,h,d,f,p])},ha=D.createContext(null);function pa(t){var e=t.className,n=t.style,r=t.record,i=t.index,o=t.renderIndex,a=t.rowKey,u=t.rowExpandable,s=t.expandedKeys,l=t.onRow,c=t.indent,f=void 0===c?0:c,d=t.rowComponent,h=t.cellComponent,p=t.childrenColumnName,v=D.useContext(oa),g=v.prefixCls,m=v.fixedInfoList,y=D.useContext(ca),x=y.flattenColumns,b=y.expandableType,w=y.expandRowByClick,S=y.onTriggerExpand,k=y.rowClassName,C=y.expandedRowClassName,E=y.indentSize,O=y.expandIcon,M=y.expandedRowRender,_=y.expandIconColumnIndex,A=j(D.useState(!1),2),T=A[0],P=A[1],F=s&&s.has(t.recordKey);D.useEffect((function(){F&&P(!0)}),[F]);var N="row"===b&&(!u||u(r)),I="nest"===b,L=p&&r&&r[p],R=N||I,z=D.useRef(S);z.current=S;var U,H=function(){z.current.apply(z,arguments)};l&&(U=l(r,i));var V;"string"===typeof k?V=k:"function"===typeof k&&(V=k(r,i,f));var W,Y=qo(x),q=D.createElement(d,B({},U,{"data-row-key":a,className:Mt()(e,"".concat(g,"-row"),"".concat(g,"-row-level-").concat(f),V,U&&U.className),style:xt(xt({},n),U?U.style:null),onClick:function(t){var e,n;w&&R&&H(r,t);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];null===(e=U)||void 0===e||null===(n=e.onClick)||void 0===n||n.call.apply(n,[e,t].concat(o))}}),x.map((function(t,e){var n,a,u=t.render,s=t.dataIndex,l=t.className,c=Y[e],d=m[e];return e===(_||0)&&I&&(n=D.createElement(D.Fragment,null,D.createElement("span",{style:{paddingLeft:"".concat(E*f,"px")},className:"".concat(g,"-row-indent indent-level-").concat(f)}),O({prefixCls:g,expanded:F,expandable:L,record:r,onExpand:H}))),t.onCell&&(a=t.onCell(r,i)),D.createElement(ia,B({className:l,ellipsis:t.ellipsis,align:t.align,component:h,prefixCls:g,key:c,record:r,index:i,renderIndex:o,dataIndex:s,render:u,shouldCellUpdate:t.shouldCellUpdate,expanded:n&&F},d,{appendNode:n,additionalProps:a}))})));if(N&&(T||F)){var G=M(r,i,f+1,F),$=C&&C(r,i,f);W=D.createElement(da,{expanded:F,className:Mt()("".concat(g,"-expanded-row"),"".concat(g,"-expanded-row-level-").concat(f+1),$),prefixCls:g,component:d,cellComponent:h,colSpan:x.length,isEmpty:!1},G)}return D.createElement(D.Fragment,null,q,W)}pa.displayName="BodyRow";var va=pa;function ga(t,e,n,r,i,o){var a=[];a.push({record:t,indent:e,index:o});var u=i(t),s=null===r||void 0===r?void 0:r.has(u);if(t&&Array.isArray(t[n])&&s)for(var l=0;l<t[n].length;l+=1){var c=ga(t[n][l],e+1,n,r,i,l);a.push.apply(a,Ye(c))}return a}function ma(t){var e=t.columnKey,n=t.onColumnResize,r=D.useRef();return D.useEffect((function(){r.current&&n(e,r.current.offsetWidth)}),[]),D.createElement(Bo,{data:e},D.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},D.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}var ya=function(t){return+setTimeout(t,16)},xa=function(t){return clearTimeout(t)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(ya=function(t){return window.requestAnimationFrame(t)},xa=function(t){return window.cancelAnimationFrame(t)});var ba=0,wa=new Map;function Sa(t){wa.delete(t)}function ka(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=ba+=1;function r(e){if(0===e)Sa(n),t();else{var i=ya((function(){r(e-1)}));wa.set(n,i)}}return r(e),n}function Ca(t){var e=t.prefixCls,n=t.columnsKey,r=t.onColumnResize,i=D.useRef(new Map),o=D.useRef(null);return D.useEffect((function(){return function(){ka.cancel(o.current)}}),[]),D.createElement("tr",{"aria-hidden":"true",className:"".concat(e,"-measure-row"),style:{height:0,fontSize:0}},D.createElement(Bo.Collection,{onBatchResize:function(t){t.forEach((function(t){var e=t.data,n=t.size;i.current.set(e,n.offsetWidth)})),null===o.current&&(o.current=ka((function(){i.current.forEach((function(t,e){r(e,t)})),i.current.clear(),o.current=null}),2))}},n.map((function(t){return D.createElement(ma,{key:t,columnKey:t,onColumnResize:r})}))))}function Ea(t){var e=t.data,n=t.getRowKey,r=t.measureColumnWidth,i=t.expandedKeys,o=t.onRow,a=t.rowExpandable,u=t.emptyNode,s=t.childrenColumnName,l=D.useContext(ha).onColumnResize,c=D.useContext(oa),f=c.prefixCls,d=c.getComponent,h=D.useContext(ca).flattenColumns,p=function(t,e,n,r){var i=D.useMemo((function(){if(null===n||void 0===n?void 0:n.size){for(var i=[],o=0;o<(null===t||void 0===t?void 0:t.length);o+=1){var a=t[o];i.push.apply(i,Ye(ga(a,0,e,n,r,o)))}return i}return null===t||void 0===t?void 0:t.map((function(t,e){return{record:t,indent:0,index:e}}))}),[t,e,n,r]);return i}(e,s,i,n),v=D.useRef({renderWithProps:!1}),g=j(D.useState(-1),2),m=g[0],y=g[1],x=j(D.useState(-1),2),b=x[0],w=x[1],S=D.useCallback((function(t,e){y(t),w(e)}),[]),k=D.useMemo((function(){return{startRow:m,endRow:b,onHover:S}}),[S,m,b]),C=D.useMemo((function(){var t,c=d(["body","wrapper"],"tbody"),v=d(["body","row"],"tr"),g=d(["body","cell"],"td");t=e.length?p.map((function(t,e){var r=t.record,u=t.indent,l=t.index,c=n(r,e);return D.createElement(va,{key:c,rowKey:c,record:r,recordKey:c,index:e,renderIndex:l,rowComponent:v,cellComponent:g,expandedKeys:i,onRow:o,getRowKey:n,rowExpandable:a,childrenColumnName:s,indent:u})})):D.createElement(da,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:v,cellComponent:g,colSpan:h.length,isEmpty:!0},u);var m=qo(h);return D.createElement(c,{className:"".concat(f,"-tbody")},r&&D.createElement(Ca,{prefixCls:f,columnsKey:m,onColumnResize:l}),t)}),[e,f,o,r,i,n,d,u,h,s,l,a,p]);return D.createElement(Ko.Provider,{value:v.current},D.createElement(Xo.Provider,{value:k},C))}ka.cancel=function(t){var e=wa.get(t);return Sa(e),xa(e)};var Oa=D.memo(Ea);Oa.displayName="Body";var Ma=Oa,_a=["expandable"],Aa="RC_TABLE_INTERNAL_COL_DEFINE";var Ta={},Pa=["children"],Da=["fixed"];function Fa(t){return ro(t).filter((function(t){return D.isValidElement(t)})).map((function(t){var e=t.key,n=t.props,r=n.children,i=xt({key:e},wt(n,Pa));return r&&(i.children=Fa(r)),i}))}function Na(t){return t.reduce((function(t,e){var n=e.fixed,r=!0===n?"left":n,i=e.children;return i&&i.length>0?[].concat(Ye(t),Ye(Na(i).map((function(t){return xt({fixed:r},t)})))):[].concat(Ye(t),[xt(xt({},e),{},{fixed:r})])}),[])}var Ia=function(t,e){var n=t.prefixCls,r=t.columns,i=t.children,o=t.expandable,a=t.expandedKeys,u=t.getRowKey,s=t.onTriggerExpand,l=t.expandIcon,c=t.rowExpandable,f=t.expandIconColumnIndex,d=t.direction,h=t.expandRowByClick,p=t.columnWidth,v=t.fixed,g=D.useMemo((function(){return r||Fa(i)}),[r,i]),m=D.useMemo((function(){if(o){var t,e=g.slice();if(!e.includes(Ta)){var r=f||0;r>=0&&e.splice(r,0,Ta)}0;var i=e.indexOf(Ta);e=e.filter((function(t,e){return t!==Ta||e===i}));var d,m=g[i];d="left"!==v&&!v||f?"right"!==v&&!v||f!==g.length?m?m.fixed:null:"right":"left";var y=(mt(t={},Aa,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),mt(t,"title",""),mt(t,"fixed",d),mt(t,"className","".concat(n,"-row-expand-icon-cell")),mt(t,"width",p),mt(t,"render",(function(t,e,r){var i=u(e,r),o=a.has(i),f=!c||c(e),d=l({prefixCls:n,expanded:o,expandable:f,record:e,onExpand:s});return h?D.createElement("span",{onClick:function(t){return t.stopPropagation()}},d):d})),t);return e.map((function(t){return t===Ta?y:t}))}return g.filter((function(t){return t!==Ta}))}),[o,g,u,a,l,d]),y=D.useMemo((function(){var t=m;return e&&(t=e(t)),t.length||(t=[{render:function(){return null}}]),t}),[e,m,d]),x=D.useMemo((function(){return"rtl"===d?function(t){return t.map((function(t){var e=t.fixed,n=e;return"left"===e?n="right":"right"===e&&(n="left"),xt({fixed:n},wt(t,Da))}))}(Na(y)):Na(y)}),[y,d]);return[y,x]};function La(t){var e=(0,D.useRef)(t),n=j((0,D.useState)({}),2)[1],r=(0,D.useRef)(null),i=(0,D.useRef)([]);return(0,D.useEffect)((function(){return function(){r.current=null}}),[]),[e.current,function(t){i.current.push(t);var o=Promise.resolve();r.current=o,o.then((function(){if(r.current===o){var t=i.current,a=e.current;i.current=[],t.forEach((function(t){e.current=t(e.current)})),r.current=null,a!==e.current&&n({})}}))}]}var Ra=function(t,e,n){var r=(0,D.useMemo)((function(){for(var r=[],i=[],o=0,a=0,u=0;u<e;u+=1)if("rtl"===n){i[u]=a,a+=t[u]||0;var s=e-u-1;r[s]=o,o+=t[s]||0}else{r[u]=o,o+=t[u]||0;var l=e-u-1;i[l]=a,a+=t[l]||0}return{left:r,right:i}}),[t,e,n]);return r},ja=["columnType"];var Ba=function(t){for(var e=t.colWidths,n=t.columns,r=[],i=!1,o=(t.columCount||n.length)-1;o>=0;o-=1){var a=e[o],u=n&&n[o],s=u&&u[Aa];if(a||s||i){var l=s||{},c=(l.columnType,wt(l,ja));r.unshift(D.createElement("col",B({key:o,style:{width:a}},c))),i=!0}}return D.createElement("colgroup",null,r)};var za=function(t){var e=t.className,n=t.children;return D.createElement("div",{className:e},n)};var Ua=["children"];var Ha=D.createContext({});function Va(t){return t.children}Va.Row=function(t){var e=t.children,n=wt(t,Ua);return D.createElement("tr",n,e)},Va.Cell=function(t){var e=t.className,n=t.index,r=t.children,i=t.colSpan,o=void 0===i?1:i,a=t.rowSpan,u=t.align,s=D.useContext(oa),l=s.prefixCls,c=s.direction,f=D.useContext(Ha),d=f.scrollColumnIndex,h=f.stickyOffsets,p=n+o-1+1===d?o+1:o,v=aa(n,n+p-1,f.flattenColumns,h,c);return D.createElement(ia,B({className:e,index:n,component:"td",prefixCls:l,record:null,dataIndex:null,align:u,colSpan:p,rowSpan:a,render:function(){return r}},v))};var Wa=Va;var Ya=function(t){var e=t.children,n=t.stickyOffsets,r=t.flattenColumns,i=D.useContext(oa).prefixCls,o=r.length-1,a=r[o],u=D.useMemo((function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:(null===a||void 0===a?void 0:a.scrollbar)?o:null}}),[a,r,o,n]);return D.createElement(Ha.Provider,{value:u},D.createElement("tfoot",{className:"".concat(i,"-summary")},e))},qa=Wa;function Ga(t){var e,n=t.prefixCls,r=t.record,i=t.onExpand,o=t.expanded,a=t.expandable,u="".concat(n,"-row-expand-icon");if(!a)return D.createElement("span",{className:Mt()(u,"".concat(n,"-row-spaced"))});return D.createElement("span",{className:Mt()(u,(e={},mt(e,"".concat(n,"-row-expanded"),o),mt(e,"".concat(n,"-row-collapsed"),!o),e)),onClick:function(t){i(r,t),t.stopPropagation()}})}function $a(t,e,n,r){var i=F.unstable_batchedUpdates?function(t){F.unstable_batchedUpdates(n,t)}:n;return t.addEventListener&&t.addEventListener(e,i,r),{remove:function(){t.removeEventListener&&t.removeEventListener(e,i)}}}function Xa(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var Ka=function(t,e){var n,r,i=t.scrollBodyRef,o=t.onScroll,a=t.offsetScroll,u=t.container,s=D.useContext(oa).prefixCls,l=(null===(n=i.current)||void 0===n?void 0:n.scrollWidth)||0,c=(null===(r=i.current)||void 0===r?void 0:r.clientWidth)||0,f=l&&c*(c/l),d=D.useRef(),h=j(La({scrollLeft:0,isHiddenScrollBar:!1}),2),p=h[0],v=h[1],g=D.useRef({delta:0,x:0}),m=j(D.useState(!1),2),y=m[0],x=m[1],b=function(){x(!1)},w=function(t){var e,n=(t||(null===(e=window)||void 0===e?void 0:e.event)).buttons;if(y&&0!==n){var r=g.current.x+t.pageX-g.current.x-g.current.delta;r<=0&&(r=0),r+f>=c&&(r=c-f),o({scrollLeft:r/c*(l+2)}),g.current.x=t.pageX}else y&&x(!1)},S=function(){if(i.current){var t=Xa(i.current).top,e=t+i.current.offsetHeight,n=u===window?document.documentElement.scrollTop+window.innerHeight:Xa(u).top+u.clientHeight;e-zo()<=n||t>=n-a?v((function(t){return xt(xt({},t),{},{isHiddenScrollBar:!0})})):v((function(t){return xt(xt({},t),{},{isHiddenScrollBar:!1})}))}},k=function(t){v((function(e){return xt(xt({},e),{},{scrollLeft:t/l*c||0})}))};return D.useImperativeHandle(e,(function(){return{setScrollLeft:k}})),D.useEffect((function(){var t=$a(document.body,"mouseup",b,!1),e=$a(document.body,"mousemove",w,!1);return S(),function(){t.remove(),e.remove()}}),[f,y]),D.useEffect((function(){var t=$a(u,"scroll",S,!1),e=$a(window,"resize",S,!1);return function(){t.remove(),e.remove()}}),[u]),D.useEffect((function(){p.isHiddenScrollBar||v((function(t){var e=i.current;return e?xt(xt({},t),{},{scrollLeft:e.scrollLeft/e.scrollWidth*e.clientWidth}):t}))}),[p.isHiddenScrollBar]),l<=c||!f||p.isHiddenScrollBar?null:D.createElement("div",{style:{height:zo(),width:c,bottom:a},className:"".concat(s,"-sticky-scroll")},D.createElement("div",{onMouseDown:function(t){t.persist(),g.current.delta=t.pageX-p.scrollLeft,g.current.x=0,x(!0),t.preventDefault()},ref:d,className:Mt()("".concat(s,"-sticky-scroll-bar"),mt({},"".concat(s,"-sticky-scroll-bar-active"),y)),style:{width:"".concat(f,"px"),transform:"translate3d(".concat(p.scrollLeft,"px, 0, 0)")}}))},Za=D.forwardRef(Ka),Ja=Gi()?window:null;var Qa=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var tu=D.forwardRef((function(t,e){var n=t.className,r=t.noData,i=t.columns,o=t.flattenColumns,a=t.colWidths,u=t.columCount,s=t.stickyOffsets,l=t.direction,c=t.fixHeader,f=t.stickyTopOffset,d=t.stickyBottomOffset,h=t.stickyClassName,p=t.onScroll,v=t.maxContentScroll,g=t.children,m=wt(t,Qa),y=D.useContext(oa),x=y.prefixCls,b=y.scrollbarSize,w=y.isSticky,S=w&&!c?0:b,k=D.useRef(null),C=D.useCallback((function(t){oo(e,t),oo(k,t)}),[]);D.useEffect((function(){var t;function e(t){var e=t.currentTarget,n=t.deltaX;n&&(p({currentTarget:e,scrollLeft:e.scrollLeft+n}),t.preventDefault())}return null===(t=k.current)||void 0===t||t.addEventListener("wheel",e),function(){var t;null===(t=k.current)||void 0===t||t.removeEventListener("wheel",e)}}),[]);var E=D.useMemo((function(){return o.every((function(t){return t.width>=0}))}),[o]),O=o[o.length-1],M={fixed:O?O.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(x,"-cell-scrollbar")}}},_=(0,D.useMemo)((function(){return S?[].concat(Ye(i),[M]):i}),[S,i]),A=(0,D.useMemo)((function(){return S?[].concat(Ye(o),[M]):o}),[S,o]),T=(0,D.useMemo)((function(){var t=s.right,e=s.left;return xt(xt({},s),{},{left:"rtl"===l?[].concat(Ye(e.map((function(t){return t+S}))),[0]):e,right:"rtl"===l?t:[].concat(Ye(t.map((function(t){return t+S}))),[0]),isSticky:w})}),[S,s,w]),P=function(t,e){return(0,D.useMemo)((function(){for(var n=[],r=0;r<e;r+=1){var i=t[r];if(void 0===i)return null;n[r]=i}return n}),[t.join("_"),e])}(a,u);return D.createElement("div",{style:xt({overflow:"hidden"},w?{top:f,bottom:d}:{}),ref:C,className:Mt()(n,mt({},h,!!h))},D.createElement("table",{style:{tableLayout:"fixed",visibility:r||P?null:"hidden"}},(!r||!v||E)&&D.createElement(Ba,{colWidths:P?[].concat(Ye(P),[S]):[],columCount:u+1,columns:A}),g(xt(xt({},m),{},{stickyOffsets:T,columns:_,flattenColumns:A}))))}));tu.displayName="FixedHolder";var eu=tu,nu=[],ru={},iu="rc-table-internal-hook",ou=D.memo((function(t){return t.children}),(function(t,e){return!!Zi()(t.props,e.props)&&(t.pingLeft!==e.pingLeft||t.pingRight!==e.pingRight)}));function au(t){var e,n=t.prefixCls,r=t.className,i=t.rowClassName,o=t.style,a=t.data,u=t.rowKey,s=t.scroll,l=t.tableLayout,c=t.direction,f=t.title,d=t.footer,h=t.summary,p=t.id,v=t.showHeader,g=t.components,m=t.emptyText,y=t.onRow,x=t.onHeaderRow,b=t.internalHooks,w=t.transformColumns,S=t.internalRefs,k=t.sticky,C=a||nu,E=!!C.length;var O=D.useMemo((function(){return function(){var t={};function e(t,n){n&&Object.keys(n).forEach((function(r){var i=n[r];i&&"object"===ti(i)?(t[r]=t[r]||{},e(t[r],i)):t[r]=i}))}for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach((function(n){e(t,n)})),t}(g,{})}),[g]),M=D.useCallback((function(t,e){return Yo(O,t)||e}),[O]),_=D.useMemo((function(){return"function"===typeof u?u:function(t){return t&&t[u]}}),[u]),A=function(t){var e,n=t.expandable,r=wt(t,_a);return!1===(e="expandable"in t?xt(xt({},r),n):r).showExpandColumn&&(e.expandIconColumnIndex=-1),e}(t),T=A.expandIcon,P=A.expandedRowKeys,F=A.defaultExpandedRowKeys,N=A.defaultExpandAllRows,I=A.expandedRowRender,L=A.onExpand,R=A.onExpandedRowsChange,z=A.expandRowByClick,U=A.rowExpandable,H=A.expandIconColumnIndex,V=A.expandedRowClassName,W=A.childrenColumnName,Y=A.indentSize,q=T||Ga,G=W||"children",$=D.useMemo((function(){return I?"row":!!(t.expandable&&b===iu&&t.expandable.__PARENT_RENDER_ICON__||C.some((function(t){return t&&"object"===ti(t)&&t[G]})))&&"nest"}),[!!I,C]),X=D.useState((function(){return F||(N?function(t,e,n){var r=[];return function t(i){(i||[]).forEach((function(i,o){r.push(e(i,o)),t(i[n])}))}(t),r}(C,_,G):[])})),K=j(X,2),Z=K[0],J=K[1],Q=D.useMemo((function(){return new Set(P||Z||[])}),[P,Z]),tt=D.useCallback((function(t){var e,n=_(t,C.indexOf(t)),r=Q.has(n);r?(Q.delete(n),e=Ye(Q)):e=[].concat(Ye(Q),[n]),J(e),L&&L(!r,t),R&&R(e)}),[_,Q,C,L,R]);var et,nt,rt,it=j(D.useState(0),2),ot=it[0],at=it[1],ut=j(Ia(xt(xt(xt({},t),A),{},{expandable:!!I,expandedKeys:Q,getRowKey:_,onTriggerExpand:tt,expandIcon:q,expandIconColumnIndex:H,direction:c}),b===iu?w:null),2),st=ut[0],lt=ut[1],ct=D.useMemo((function(){return{columns:st,flattenColumns:lt}}),[st,lt]),ft=D.useRef(),dt=D.useRef(),ht=D.useRef(),pt=D.useRef(),vt=j(D.useState(!1),2),gt=vt[0],yt=vt[1],bt=j(D.useState(!1),2),St=bt[0],kt=bt[1],Ct=j(La(new Map),2),Et=Ct[0],Ot=Ct[1],_t=qo(lt).map((function(t){return Et.get(t)})),At=D.useMemo((function(){return _t}),[_t.join("_")]),Tt=Ra(At,lt.length,c),Pt=s&&Go(s.y),Dt=s&&Go(s.x)||Boolean(A.fixed),Ft=Dt&&lt.some((function(t){return t.fixed})),Nt=D.useRef(),It=function(t,e){var n="object"===ti(t)?t:{},r=n.offsetHeader,i=void 0===r?0:r,o=n.offsetSummary,a=void 0===o?0:o,u=n.offsetScroll,s=void 0===u?0:u,l=n.getContainer,c=(void 0===l?function(){return Ja}:l)()||Ja;return D.useMemo((function(){var n=!!t;return{isSticky:n,stickyClassName:n?"".concat(e,"-sticky-holder"):"",offsetHeader:i,offsetSummary:a,offsetScroll:s,container:c}}),[s,i,a,e,c])}(k,n),Lt=It.isSticky,Rt=It.offsetHeader,jt=It.offsetSummary,Bt=It.offsetScroll,zt=It.stickyClassName,Ut=It.container,Ht=null===h||void 0===h?void 0:h(C),Vt=(Pt||Lt)&&D.isValidElement(Ht)&&Ht.type===Wa&&Ht.props.fixed;Pt&&(nt={overflowY:"scroll",maxHeight:s.y}),Dt&&(et={overflowX:"auto"},Pt||(nt={overflowY:"hidden"}),rt={width:!0===s.x?"auto":s.x,minWidth:"100%"});var Wt=D.useCallback((function(t,e){Ui(ft.current)&&Ot((function(n){if(n.get(t)!==e){var r=new Map(n);return r.set(t,e),r}return n}))}),[]),Yt=j(function(t){var e=(0,D.useRef)(t||null),n=(0,D.useRef)();function r(){window.clearTimeout(n.current)}return(0,D.useEffect)((function(){return r}),[]),[function(t){e.current=t,r(),n.current=window.setTimeout((function(){e.current=null,n.current=void 0}),100)},function(){return e.current}]}(null),2),qt=Yt[0],Gt=Yt[1];function $t(t,e){e&&("function"===typeof e?e(t):e.scrollLeft!==t&&(e.scrollLeft=t))}var Xt=function(t){var e,n=t.currentTarget,r=t.scrollLeft,i="rtl"===c,o="number"===typeof r?r:n.scrollLeft,a=n||ru;Gt()&&Gt()!==a||(qt(a),$t(o,dt.current),$t(o,ht.current),$t(o,pt.current),$t(o,null===(e=Nt.current)||void 0===e?void 0:e.setScrollLeft));if(n){var u=n.scrollWidth,s=n.clientWidth;i?(yt(-o<u-s),kt(-o>0)):(yt(o>0),kt(o<u-s))}},Kt=function(){Dt&&ht.current?Xt({currentTarget:ht.current}):(yt(!1),kt(!1))},Zt=D.useRef(!1);D.useEffect((function(){Zt.current&&Kt()}),[Dt,a,st.length]),D.useEffect((function(){Zt.current=!0}),[]);var Jt=j(D.useState(0),2),Qt=Jt[0],te=Jt[1],ee=j(D.useState(!0),2),ne=ee[0],re=ee[1];D.useEffect((function(){te(function(t){if("undefined"===typeof document||!t||!(t instanceof Element))return{width:0,height:0};var e=getComputedStyle(t,"::-webkit-scrollbar"),n=e.width,r=e.height;return{width:Uo(n),height:Uo(r)}}(ht.current).width),re(Xi("position","sticky"))}),[]),D.useEffect((function(){b===iu&&S&&(S.body.current=ht.current)}));var ie,oe=M(["table"],"table"),ae=D.useMemo((function(){return l||(Ft?"max-content"===s.x?"auto":"fixed":Pt||Lt||lt.some((function(t){return t.ellipsis}))?"fixed":"auto")}),[Pt,Ft,lt,l,Lt]),ue={colWidths:At,columCount:lt.length,stickyOffsets:Tt,onHeaderRow:x,fixHeader:Pt,scroll:s},se=D.useMemo((function(){return E?null:"function"===typeof m?m():m}),[E,m]),le=D.createElement(Ma,{data:C,measureColumnWidth:Pt||Dt||Lt,expandedKeys:Q,rowExpandable:U,getRowKey:_,onRow:y,emptyNode:se,childrenColumnName:G}),ce=D.createElement(Ba,{colWidths:lt.map((function(t){return t.width})),columns:lt}),fe=M(["body"]);if(Pt||Lt){var de;"function"===typeof fe?(de=fe(C,{scrollbarSize:Qt,ref:ht,onScroll:Xt}),ue.colWidths=lt.map((function(t,e){var n=t.width,r=e===st.length-1?n-Qt:n;return"number"!==typeof r||Number.isNaN(r)?(eo(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):de=D.createElement("div",{style:xt(xt({},et),nt),onScroll:Xt,ref:ht,className:Mt()("".concat(n,"-body"))},D.createElement(oe,{style:xt(xt({},rt),{},{tableLayout:ae})},ce,le,!Vt&&Ht&&D.createElement(Ya,{stickyOffsets:Tt,flattenColumns:lt},Ht)));var he=xt(xt(xt({noData:!C.length,maxContentScroll:Dt&&"max-content"===s.x},ue),ct),{},{direction:c,stickyClassName:zt,onScroll:Xt});ie=D.createElement(D.Fragment,null,!1!==v&&D.createElement(eu,B({},he,{stickyTopOffset:Rt,className:"".concat(n,"-header"),ref:dt}),(function(t){return D.createElement(D.Fragment,null,D.createElement(la,t),"top"===Vt&&D.createElement(Ya,t,Ht))})),de,Vt&&"top"!==Vt&&D.createElement(eu,B({},he,{stickyBottomOffset:jt,className:"".concat(n,"-summary"),ref:pt}),(function(t){return D.createElement(Ya,t,Ht)})),Lt&&D.createElement(Za,{ref:Nt,offsetScroll:Bt,scrollBodyRef:ht,onScroll:Xt,container:Ut}))}else ie=D.createElement("div",{style:xt(xt({},et),nt),className:Mt()("".concat(n,"-content")),onScroll:Xt,ref:ht},D.createElement(oe,{style:xt(xt({},rt),{},{tableLayout:ae})},ce,!1!==v&&D.createElement(la,B({},ue,ct)),le,Ht&&D.createElement(Ya,{stickyOffsets:Tt,flattenColumns:lt},Ht)));var pe=qi(t,{aria:!0,data:!0}),ve=D.createElement("div",B({className:Mt()(n,r,(e={},mt(e,"".concat(n,"-rtl"),"rtl"===c),mt(e,"".concat(n,"-ping-left"),gt),mt(e,"".concat(n,"-ping-right"),St),mt(e,"".concat(n,"-layout-fixed"),"fixed"===l),mt(e,"".concat(n,"-fixed-header"),Pt),mt(e,"".concat(n,"-fixed-column"),Ft),mt(e,"".concat(n,"-scroll-horizontal"),Dt),mt(e,"".concat(n,"-has-fix-left"),lt[0]&&lt[0].fixed),mt(e,"".concat(n,"-has-fix-right"),lt[lt.length-1]&&"right"===lt[lt.length-1].fixed),e)),style:o,id:p,ref:ft},pe),D.createElement(ou,{pingLeft:gt,pingRight:St,props:xt(xt({},t),{},{stickyOffsets:Tt,mergedExpandedKeys:Q})},f&&D.createElement(za,{className:"".concat(n,"-title")},f(C)),D.createElement("div",{className:"".concat(n,"-container")},ie),d&&D.createElement(za,{className:"".concat(n,"-footer")},d(C))));Dt&&(ve=D.createElement(Bo,{onResize:function(t){var e=t.width;e!==ot&&(Kt(),at(ft.current?ft.current.offsetWidth:e))}},ve));var ge=D.useMemo((function(){return{prefixCls:n,getComponent:M,scrollbarSize:Qt,direction:c,fixedInfoList:lt.map((function(t,e){return aa(e,e,lt,Tt,c)})),isSticky:Lt}}),[n,M,Qt,c,lt,Tt,c,Lt]),me=D.useMemo((function(){return xt(xt({},ct),{},{tableLayout:ae,rowClassName:i,expandedRowClassName:V,expandIcon:q,expandableType:$,expandRowByClick:z,expandedRowRender:I,onTriggerExpand:tt,expandIconColumnIndex:H,indentSize:Y})}),[ct,ae,i,V,q,$,z,I,tt,H,Y]),ye=D.useMemo((function(){return{componentWidth:ot,fixHeader:Pt,fixColumn:Ft,horizonScroll:Dt}}),[ot,Pt,Ft,Dt]),xe=D.useMemo((function(){return{onColumnResize:Wt}}),[Wt]);return D.createElement($o.Provider,{value:ne},D.createElement(oa.Provider,{value:ge},D.createElement(ca.Provider,{value:me},D.createElement(fa.Provider,{value:ye},D.createElement(ha.Provider,{value:xe},ve)))))}au.EXPAND_COLUMN=Ta,au.Column=Vo,au.ColumnGroup=Ho,au.Summary=qa,au.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var uu=au,su=n(8573),lu=n.n(su),cu={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},fu={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},du={lang:B({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:B({},fu)},hu="${label} is not a valid ${type}",pu={locale:"en",Pagination:cu,DatePicker:du,TimePicker:fu,Calendar:du,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:hu,method:hu,array:hu,object:hu,number:hu,date:hu,boolean:hu,integer:hu,float:hu,regexp:hu,email:hu,url:hu,hex:hu},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},vu=pu,gu=(0,D.createContext)(void 0),mu=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"getLocale",value:function(){var t=this.props,e=t.componentName,n=t.defaultLocale||vu[null!==e&&void 0!==e?e:"global"],r=this.context,i=e&&r?r[e]:{};return B(B({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var t=this.context,e=t&&t.locale;return t&&t.exist&&!e?vu.locale:e}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(D.Component);mu.defaultProps={componentName:"global"},mu.contextType=gu;var yu=function(){var t=(0,D.useContext(Ou).getPrefixCls)("empty-img-default");return D.createElement("svg",{className:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},D.createElement("g",{fill:"none",fillRule:"evenodd"},D.createElement("g",{transform:"translate(24 31.67)"},D.createElement("ellipse",{className:"".concat(t,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),D.createElement("path",{className:"".concat(t,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),D.createElement("path",{className:"".concat(t,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),D.createElement("path",{className:"".concat(t,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),D.createElement("path",{className:"".concat(t,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),D.createElement("path",{className:"".concat(t,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),D.createElement("g",{className:"".concat(t,"-g"),transform:"translate(149.65 15.383)"},D.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),D.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},xu=function(){var t=(0,D.useContext(Ou).getPrefixCls)("empty-img-simple");return D.createElement("svg",{className:t,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},D.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},D.createElement("ellipse",{className:"".concat(t,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),D.createElement("g",{className:"".concat(t,"-g"),fillRule:"nonzero"},D.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),D.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(t,"-path")}))))},bu=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},wu=D.createElement(yu,null),Su=D.createElement(xu,null),ku=function(t){var e=t.className,n=t.prefixCls,r=t.image,i=void 0===r?wu:r,o=t.description,a=t.children,u=t.imageStyle,s=bu(t,["className","prefixCls","image","description","children","imageStyle"]),l=D.useContext(Ou),c=l.getPrefixCls,f=l.direction;return D.createElement(mu,{componentName:"Empty"},(function(t){var r,l=c("empty",n),d="undefined"!==typeof o?o:t.description,h="string"===typeof d?d:"empty",p=null;return p="string"===typeof i?D.createElement("img",{alt:h,src:i}):i,D.createElement("div",B({className:Mt()(l,(r={},mt(r,"".concat(l,"-normal"),i===Su),mt(r,"".concat(l,"-rtl"),"rtl"===f),r),e)},s),D.createElement("div",{className:"".concat(l,"-image"),style:u},p),d&&D.createElement("div",{className:"".concat(l,"-description")},d),a&&D.createElement("div",{className:"".concat(l,"-footer")},a))}))};ku.PRESENTED_IMAGE_DEFAULT=wu,ku.PRESENTED_IMAGE_SIMPLE=Su;var Cu=ku,Eu=function(t){return D.createElement(Mu,null,(function(e){var n=(0,e.getPrefixCls)("empty");switch(t){case"Table":case"List":return D.createElement(Cu,{image:Cu.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return D.createElement(Cu,{image:Cu.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return D.createElement(Cu,null)}}))},Ou=D.createContext({getPrefixCls:function(t,e){return e||(t?"ant-".concat(t):"ant")},renderEmpty:Eu}),Mu=Ou.Consumer;var _u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e},Au=D.isValidElement;function Tu(t,e){return function(t,e,n){return Au(t)?D.cloneElement(t,"function"===typeof n?n(t.props||{}):n):e}(t,t,e)}var Pu=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Du=(_u("small","default","large"),null);var Fu=function(t){Zr(n,t);var e=ri(n);function n(t){var r;Xr(this,n),(r=e.call(this,t)).debouncifyUpdateSpinning=function(t){var e=(t||r.props).delay;e&&(r.cancelExistingSpin(),r.updateSpinning=lu()(r.originalUpdateSpinning,e))},r.updateSpinning=function(){var t=r.props.spinning;r.state.spinning!==t&&r.setState({spinning:t})},r.renderSpin=function(t){var e,n=t.getPrefixCls,i=t.direction,o=r.props,a=o.prefixCls,u=o.className,s=o.size,l=o.tip,c=o.wrapperClassName,f=o.style,d=Pu(o,["prefixCls","className","size","tip","wrapperClassName","style"]),h=r.state.spinning,p=n("spin",a),v=Mt()(p,(mt(e={},"".concat(p,"-sm"),"small"===s),mt(e,"".concat(p,"-lg"),"large"===s),mt(e,"".concat(p,"-spinning"),h),mt(e,"".concat(p,"-show-text"),!!l),mt(e,"".concat(p,"-rtl"),"rtl"===i),e),u),g=zi(d,["spinning","delay","indicator"]),m=D.createElement("div",B({},g,{style:f,className:v}),function(t,e){var n=e.indicator,r="".concat(t,"-dot");return null===n?null:Au(n)?Tu(n,{className:Mt()(n.props.className,r)}):Au(Du)?Tu(Du,{className:Mt()(Du.props.className,r)}):D.createElement("span",{className:Mt()(r,"".concat(t,"-dot-spin"))},D.createElement("i",{className:"".concat(t,"-dot-item")}),D.createElement("i",{className:"".concat(t,"-dot-item")}),D.createElement("i",{className:"".concat(t,"-dot-item")}),D.createElement("i",{className:"".concat(t,"-dot-item")}))}(p,r.props),l?D.createElement("div",{className:"".concat(p,"-text")},l):null);if(r.isNestedPattern()){var y=Mt()("".concat(p,"-container"),mt({},"".concat(p,"-blur"),h));return D.createElement("div",B({},g,{className:Mt()("".concat(p,"-nested-loading"),c)}),h&&D.createElement("div",{key:"loading"},m),D.createElement("div",{className:y,key:"container"},r.props.children))}return m};var i=t.spinning,o=function(t,e){return!!t&&!!e&&!isNaN(Number(e))}(i,t.delay);return r.state={spinning:i&&!o},r.originalUpdateSpinning=r.updateSpinning,r.debouncifyUpdateSpinning(t),r}return $r(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var t=this.updateSpinning;t&&t.cancel&&t.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return D.createElement(Mu,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(t){Du=t}}]),n}(D.Component);Fu.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var Nu=Fu,Iu=function(t){var e,n="".concat(t.rootPrefixCls,"-item"),r=Mt()(n,"".concat(n,"-").concat(t.page),(mt(e={},"".concat(n,"-active"),t.active),mt(e,"".concat(n,"-disabled"),!t.page),mt(e,t.className,!!t.className),e));return D.createElement("li",{title:t.showTitle?t.page:null,className:r,onClick:function(){t.onClick(t.page)},onKeyPress:function(e){t.onKeyPress(e,t.onClick,t.page)},tabIndex:"0"},t.itemRender(t.page,"page",D.createElement("a",{rel:"nofollow"},t.page)))},Lu=13,Ru=38,ju=40,Bu=function(t){Zr(n,t);var e=ri(n);function n(){var t;Xr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={goInputText:""},t.buildOptionText=function(e){return"".concat(e," ").concat(t.props.locale.items_per_page)},t.changeSize=function(e){t.props.changeSize(Number(e))},t.handleChange=function(e){t.setState({goInputText:e.target.value})},t.handleBlur=function(e){var n=t.props,r=n.goButton,i=n.quickGo,o=n.rootPrefixCls,a=t.state.goInputText;r||""===a||(t.setState({goInputText:""}),e.relatedTarget&&(e.relatedTarget.className.indexOf("".concat(o,"-item-link"))>=0||e.relatedTarget.className.indexOf("".concat(o,"-item"))>=0)||i(t.getValidValue()))},t.go=function(e){""!==t.state.goInputText&&(e.keyCode!==Lu&&"click"!==e.type||(t.setState({goInputText:""}),t.props.quickGo(t.getValidValue())))},t}return $r(n,[{key:"getValidValue",value:function(){var t=this.state.goInputText;return!t||isNaN(t)?void 0:Number(t)}},{key:"getPageSizeOptions",value:function(){var t=this.props,e=t.pageSize,n=t.pageSizeOptions;return n.some((function(t){return t.toString()===e.toString()}))?n:n.concat([e.toString()]).sort((function(t,e){return(isNaN(Number(t))?0:Number(t))-(isNaN(Number(e))?0:Number(e))}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.pageSize,r=e.locale,i=e.rootPrefixCls,o=e.changeSize,a=e.quickGo,u=e.goButton,s=e.selectComponentClass,l=e.buildOptionText,c=e.selectPrefixCls,f=e.disabled,d=this.state.goInputText,h="".concat(i,"-options"),p=s,v=null,g=null,m=null;if(!o&&!a)return null;var y=this.getPageSizeOptions();if(o&&p){var x=y.map((function(e,n){return D.createElement(p.Option,{key:n,value:e.toString()},(l||t.buildOptionText)(e))}));v=D.createElement(p,{disabled:f,prefixCls:c,showSearch:!1,className:"".concat(h,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||y[0]).toString(),onChange:this.changeSize,getPopupContainer:function(t){return t.parentNode},"aria-label":r.page_size,defaultOpen:!1},x)}return a&&(u&&(m="boolean"===typeof u?D.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(h,"-quick-jumper-button")},r.jump_to_confirm):D.createElement("span",{onClick:this.go,onKeyUp:this.go},u)),g=D.createElement("div",{className:"".concat(h,"-quick-jumper")},r.jump_to,D.createElement("input",{disabled:f,type:"text",value:d,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,m)),D.createElement("li",{className:"".concat(h)},v,g)}}]),n}(D.Component);Bu.defaultProps={pageSizeOptions:["10","20","50","100"]};var zu=Bu;function Uu(){}function Hu(t){var e=Number(t);return"number"===typeof e&&!isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function Vu(t,e,n){var r="undefined"===typeof t?e.pageSize:t;return Math.floor((n.total-1)/r)+1}var Wu=function(t){Zr(n,t);var e=ri(n);function n(t){var r;Xr(this,n),(r=e.call(this,t)).getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(Vu(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(t,e){var n=r.props.prefixCls,i=t||D.createElement("button",{type:"button","aria-label":e,className:"".concat(n,"-item-link")});return"function"===typeof t&&(i=D.createElement(t,xt({},r.props))),i},r.savePaginationNode=function(t){r.paginationNode=t},r.isValid=function(t){var e=r.props.total;return Hu(t)&&t!==r.state.current&&Hu(e)&&e>0},r.shouldDisplayQuickJumper=function(){var t=r.props,e=t.showQuickJumper;return!(t.total<=r.state.pageSize)&&e},r.handleKeyDown=function(t){t.keyCode!==Ru&&t.keyCode!==ju||t.preventDefault()},r.handleKeyUp=function(t){var e=r.getValidValue(t);e!==r.state.currentInputValue&&r.setState({currentInputValue:e}),t.keyCode===Lu?r.handleChange(e):t.keyCode===Ru?r.handleChange(e-1):t.keyCode===ju&&r.handleChange(e+1)},r.handleBlur=function(t){var e=r.getValidValue(t);r.handleChange(e)},r.changePageSize=function(t){var e=r.state.current,n=Vu(t,r.state,r.props);e=e>n?n:e,0===n&&(e=r.state.current),"number"===typeof t&&("pageSize"in r.props||r.setState({pageSize:t}),"current"in r.props||r.setState({current:e,currentInputValue:e})),r.props.onShowSizeChange(e,t),"onChange"in r.props&&r.props.onChange&&r.props.onChange(e,t)},r.handleChange=function(t){var e=r.props.disabled,n=t;if(r.isValid(n)&&!e){var i=Vu(void 0,r.state,r.props);n>i?n=i:n<1&&(n=1),"current"in r.props||r.setState({current:n,currentInputValue:n});var o=r.state.pageSize;return r.props.onChange(n,o),n}return r.state.current},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<Vu(void 0,r.state,r.props)},r.runIfEnter=function(t,e){if("Enter"===t.key||13===t.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e.apply(void 0,r)}},r.runIfEnterPrev=function(t){r.runIfEnter(t,r.prev)},r.runIfEnterNext=function(t){r.runIfEnter(t,r.next)},r.runIfEnterJumpPrev=function(t){r.runIfEnter(t,r.jumpPrev)},r.runIfEnterJumpNext=function(t){r.runIfEnter(t,r.jumpNext)},r.handleGoTO=function(t){t.keyCode!==Lu&&"click"!==t.type||r.handleChange(r.state.currentInputValue)};var i=t.onChange!==Uu;"current"in t&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var o=t.defaultCurrent;"current"in t&&(o=t.current);var a=t.defaultPageSize;return"pageSize"in t&&(a=t.pageSize),o=Math.min(o,Vu(a,void 0,t)),r.state={current:o,currentInputValue:o,pageSize:a},r}return $r(n,[{key:"componentDidUpdate",value:function(t,e){var n=this.props.prefixCls;if(e.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(e.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(t){var e=t.target.value,n=Vu(void 0,this.state,this.props),r=this.state.currentInputValue;return""===e?e:isNaN(Number(e))?r:e>=n?n:Number(e)}},{key:"getShowSizeChanger",value:function(){var t=this.props,e=t.showSizeChanger,n=t.total,r=t.totalBoundaryShowSizeChanger;return"undefined"!==typeof e?e:n>r}},{key:"renderPrev",value:function(t){var e=this.props,n=e.prevIcon,r=(0,e.itemRender)(t,"prev",this.getItemIcon(n,"prev page")),i=!this.hasPrev();return(0,D.isValidElement)(r)?(0,D.cloneElement)(r,{disabled:i}):r}},{key:"renderNext",value:function(t){var e=this.props,n=e.nextIcon,r=(0,e.itemRender)(t,"next",this.getItemIcon(n,"next page")),i=!this.hasNext();return(0,D.isValidElement)(r)?(0,D.cloneElement)(r,{disabled:i}):r}},{key:"render",value:function(){var t=this,e=this.props,n=e.prefixCls,r=e.className,i=e.style,o=e.disabled,a=e.hideOnSinglePage,u=e.total,s=e.locale,l=e.showQuickJumper,c=e.showLessItems,f=e.showTitle,d=e.showTotal,h=e.simple,p=e.itemRender,v=e.showPrevNextJumpers,g=e.jumpPrevIcon,m=e.jumpNextIcon,y=e.selectComponentClass,x=e.selectPrefixCls,b=e.pageSizeOptions,w=this.state,S=w.current,k=w.pageSize,C=w.currentInputValue;if(!0===a&&u<=k)return null;var E=Vu(void 0,this.state,this.props),O=[],M=null,_=null,A=null,T=null,P=null,F=l&&l.goButton,N=c?1:2,I=S-1>0?S-1:0,L=S+1<E?S+1:E,R=Object.keys(this.props).reduce((function(e,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(e[n]=t.props[n]),e}),{});if(h)return F&&(P="boolean"===typeof F?D.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},s.jump_to_confirm):D.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},F),P=D.createElement("li",{title:f?"".concat(s.jump_to).concat(S,"/").concat(E):null,className:"".concat(n,"-simple-pager")},P)),D.createElement("ul",B({className:Mt()(n,"".concat(n,"-simple"),mt({},"".concat(n,"-disabled"),o),r),style:i,ref:this.savePaginationNode},R),D.createElement("li",{title:f?s.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:Mt()("".concat(n,"-prev"),mt({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(I)),D.createElement("li",{title:f?"".concat(S,"/").concat(E):null,className:"".concat(n,"-simple-pager")},D.createElement("input",{type:"text",value:C,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),D.createElement("span",{className:"".concat(n,"-slash")},"/"),E),D.createElement("li",{title:f?s.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:Mt()("".concat(n,"-next"),mt({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(L)),P);if(E<=3+2*N){var j={locale:s,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:f,itemRender:p};E||O.push(D.createElement(Iu,B({},j,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var z=1;z<=E;z+=1){var U=S===z;O.push(D.createElement(Iu,B({},j,{key:z,page:z,active:U})))}}else{var H=c?s.prev_3:s.prev_5,V=c?s.next_3:s.next_5;v&&(M=D.createElement("li",{title:f?H:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:Mt()("".concat(n,"-jump-prev"),mt({},"".concat(n,"-jump-prev-custom-icon"),!!g))},p(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(g,"prev page"))),_=D.createElement("li",{title:f?V:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:Mt()("".concat(n,"-jump-next"),mt({},"".concat(n,"-jump-next-custom-icon"),!!m))},p(this.getJumpNextPage(),"jump-next",this.getItemIcon(m,"next page")))),T=D.createElement(Iu,{locale:s,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:E,page:E,active:!1,showTitle:f,itemRender:p}),A=D.createElement(Iu,{locale:s,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:f,itemRender:p});var W=Math.max(1,S-N),Y=Math.min(S+N,E);S-1<=N&&(Y=1+2*N),E-S<=N&&(W=E-2*N);for(var q=W;q<=Y;q+=1){var G=S===q;O.push(D.createElement(Iu,{locale:s,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:q,page:q,active:G,showTitle:f,itemRender:p}))}S-1>=2*N&&3!==S&&(O[0]=(0,D.cloneElement)(O[0],{className:"".concat(n,"-item-after-jump-prev")}),O.unshift(M)),E-S>=2*N&&S!==E-2&&(O[O.length-1]=(0,D.cloneElement)(O[O.length-1],{className:"".concat(n,"-item-before-jump-next")}),O.push(_)),1!==W&&O.unshift(A),Y!==E&&O.push(T)}var $=null;d&&($=D.createElement("li",{className:"".concat(n,"-total-text")},d(u,[0===u?0:(S-1)*k+1,S*k>u?u:S*k])));var X=!this.hasPrev()||!E,K=!this.hasNext()||!E;return D.createElement("ul",B({className:Mt()(n,r,mt({},"".concat(n,"-disabled"),o)),style:i,unselectable:"unselectable",ref:this.savePaginationNode},R),$,D.createElement("li",{title:f?s.prev_page:null,onClick:this.prev,tabIndex:X?null:0,onKeyPress:this.runIfEnterPrev,className:Mt()("".concat(n,"-prev"),mt({},"".concat(n,"-disabled"),X)),"aria-disabled":X},this.renderPrev(I)),O,D.createElement("li",{title:f?s.next_page:null,onClick:this.next,tabIndex:K?null:0,onKeyPress:this.runIfEnterNext,className:Mt()("".concat(n,"-next"),mt({},"".concat(n,"-disabled"),K)),"aria-disabled":K},this.renderNext(L)),D.createElement(zu,{disabled:o,locale:s,rootPrefixCls:n,selectComponentClass:y,selectPrefixCls:x,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:S,pageSize:k,pageSizeOptions:b,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:F}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n={};if("current"in t&&(n.current=t.current,t.current!==e.current&&(n.currentInputValue=n.current)),"pageSize"in t&&t.pageSize!==e.pageSize){var r=e.current,i=Vu(t.pageSize,e,t);r=r>i?i:r,"current"in t||(n.current=r,n.currentInputValue=r),n.pageSize=t.pageSize}return n}}]),n}(D.Component);Wu.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Uu,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Uu,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(t,e,n){return n},totalBoundaryShowSizeChanger:50};var Yu=Wu,qu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Gu=(0,D.createContext)({});function $u(t,e){(function(t){return"string"===typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"===typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function Xu(t){return Math.min(1,Math.max(0,t))}function Ku(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Zu(t){return t<=1?100*Number(t)+"%":t}function Ju(t){return 1===t.length?"0"+t:String(t)}function Qu(t,e,n){t=$u(t,255),e=$u(e,255),n=$u(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=0,u=(r+i)/2;if(r===i)a=0,o=0;else{var s=r-i;switch(a=u>.5?s/(2-r-i):s/(r+i),r){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4}o/=6}return{h:o,s:a,l:u}}function ts(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function es(t,e,n){t=$u(t,255),e=$u(e,255),n=$u(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=r,u=r-i,s=0===r?0:u/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;case n:o=(t-e)/u+4}o/=6}return{h:o,s:s,v:a}}function ns(t,e,n,r){var i=[Ju(Math.round(t).toString(16)),Ju(Math.round(e).toString(16)),Ju(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function rs(t){return Math.round(255*parseFloat(t)).toString(16)}function is(t){return os(t)/255}function os(t){return parseInt(t,16)}var as={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function us(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,u=!1;return"string"===typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var e=!1;if(as[t])t=as[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=fs.rgb.exec(t);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=fs.rgba.exec(t))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=fs.hsl.exec(t))return{h:n[1],s:n[2],l:n[3]};if(n=fs.hsla.exec(t))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=fs.hsv.exec(t))return{h:n[1],s:n[2],v:n[3]};if(n=fs.hsva.exec(t))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=fs.hex8.exec(t))return{r:os(n[1]),g:os(n[2]),b:os(n[3]),a:is(n[4]),format:e?"name":"hex8"};if(n=fs.hex6.exec(t))return{r:os(n[1]),g:os(n[2]),b:os(n[3]),format:e?"name":"hex"};if(n=fs.hex4.exec(t))return{r:os(n[1]+n[1]),g:os(n[2]+n[2]),b:os(n[3]+n[3]),a:is(n[4]+n[4]),format:e?"name":"hex8"};if(n=fs.hex3.exec(t))return{r:os(n[1]+n[1]),g:os(n[2]+n[2]),b:os(n[3]+n[3]),format:e?"name":"hex"};return!1}(t)),"object"===typeof t&&(ds(t.r)&&ds(t.g)&&ds(t.b)?(e=function(t,e,n){return{r:255*$u(t,255),g:255*$u(e,255),b:255*$u(n,255)}}(t.r,t.g,t.b),a=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):ds(t.h)&&ds(t.s)&&ds(t.v)?(r=Zu(t.s),i=Zu(t.v),e=function(t,e,n){t=6*$u(t,360),e=$u(e,100),n=$u(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),u=n*(1-(1-i)*e),s=r%6;return{r:255*[n,a,o,o,u,n][s],g:255*[u,n,n,a,o,o][s],b:255*[o,o,u,n,n,a][s]}}(t.h,r,i),a=!0,u="hsv"):ds(t.h)&&ds(t.s)&&ds(t.l)&&(r=Zu(t.s),o=Zu(t.l),e=function(t,e,n){var r,i,o;if(t=$u(t,360),e=$u(e,100),n=$u(n,100),0===e)i=n,o=n,r=n;else{var a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;r=ts(u,a,t+1/3),i=ts(u,a,t),o=ts(u,a,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,o),a=!0,u="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=Ku(n),{ok:a,format:t.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var ss="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",ls="[\\s|\\(]+("+ss+")[,|\\s]+("+ss+")[,|\\s]+("+ss+")\\s*\\)?",cs="[\\s|\\(]+("+ss+")[,|\\s]+("+ss+")[,|\\s]+("+ss+")[,|\\s]+("+ss+")\\s*\\)?",fs={CSS_UNIT:new RegExp(ss),rgb:new RegExp("rgb"+ls),rgba:new RegExp("rgba"+cs),hsl:new RegExp("hsl"+ls),hsla:new RegExp("hsla"+cs),hsv:new RegExp("hsv"+ls),hsva:new RegExp("hsva"+cs),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ds(t){return Boolean(fs.CSS_UNIT.exec(String(t)))}var hs=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ps(t){var e=es(t.r,t.g,t.b);return{h:360*e.h,s:e.s,v:e.v}}function vs(t){var e=t.r,n=t.g,r=t.b;return"#".concat(ns(e,n,r,!1))}function gs(t,e,n){var r=n/100;return{r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b}}function ms(t,e,n){var r;return(r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-2*e:Math.round(t.h)+2*e:n?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?r+=360:r>=360&&(r-=360),r}function ys(t,e,n){return 0===t.h&&0===t.s?t.s:((r=n?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)>1&&(r=1),n&&5===e&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function xs(t,e,n){var r;return(r=n?t.v+.05*e:t.v-.15*e)>1&&(r=1),Number(r.toFixed(2))}function bs(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=us(t),i=5;i>0;i-=1){var o=ps(r),a=vs(us({h:ms(o,i,!0),s:ys(o,i,!0),v:xs(o,i,!0)}));n.push(a)}n.push(vs(r));for(var u=1;u<=4;u+=1){var s=ps(r),l=vs(us({h:ms(s,u),s:ys(s,u),v:xs(s,u)}));n.push(l)}return"dark"===e.theme?hs.map((function(t){var r=t.index,i=t.opacity;return vs(gs(us(e.backgroundColor||"#141414"),us(n[r]),100*i))})):n}var ws={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ss={},ks={};Object.keys(ws).forEach((function(t){Ss[t]=bs(ws[t]),Ss[t].primary=Ss[t][5],ks[t]=bs(ws[t],{theme:"dark",backgroundColor:"#141414"}),ks[t].primary=ks[t][5]}));Ss.red,Ss.volcano,Ss.gold,Ss.orange,Ss.yellow,Ss.lime,Ss.green,Ss.cyan,Ss.blue,Ss.geekblue,Ss.purple,Ss.magenta,Ss.grey;var Cs="rc-util-key";function Es(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Cs}function Os(t){return t.attachTo?t.attachTo:document.querySelector("head")||document.body}function Ms(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Gi())return null;var r,i=document.createElement("style");(null===(e=n.csp)||void 0===e?void 0:e.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=t;var o=Os(n),a=o.firstChild;return n.prepend&&o.prepend?o.prepend(i):n.prepend&&a?o.insertBefore(i,a):o.appendChild(i),i}var _s=new Map;function As(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Os(e);return Array.from(_s.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Es(e))===t}))}function Ts(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Os(n);if(!_s.has(r)){var i=Ms("",n),o=i.parentNode;_s.set(r,o),o.removeChild(i)}var a=As(e,n);if(a){var u,s,l;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&a.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))a.nonce=null===(l=n.csp)||void 0===l?void 0:l.nonce;return a.innerHTML!==t&&(a.innerHTML=t),a}var c=Ms(t,n);return c.setAttribute(Es(n),e),c}function Ps(t){return"object"===ti(t)&&"string"===typeof t.name&&"string"===typeof t.theme&&("object"===ti(t.icon)||"function"===typeof t.icon)}function Ds(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce((function(e,n){var r=t[n];if("class"===n)e.className=r,delete e.class;else e[n]=r;return e}),{})}function Fs(t,e,n){return n?D.createElement(t.tag,xt(xt({key:e},Ds(t.attrs)),n),(t.children||[]).map((function(n,r){return Fs(n,"".concat(e,"-").concat(t.tag,"-").concat(r))}))):D.createElement(t.tag,xt({key:e},Ds(t.attrs)),(t.children||[]).map((function(n,r){return Fs(n,"".concat(e,"-").concat(t.tag,"-").concat(r))})))}function Ns(t){return bs(t)[0]}function Is(t){return t?Array.isArray(t)?t:[t]:[]}var Ls="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Rs=["icon","className","onClick","style","primaryColor","secondaryColor"],js={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Bs=function(t){var e=t.icon,n=t.className,r=t.onClick,i=t.style,o=t.primaryColor,a=t.secondaryColor,u=wt(t,Rs),s=js;if(o&&(s={primaryColor:o,secondaryColor:a||Ns(o)}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ls,e=(0,D.useContext)(Gu).csp;(0,D.useEffect)((function(){Ts(t,"@ant-design-icons",{prepend:!0,csp:e})}),[])}(),function(t,e){eo(t,"[@ant-design/icons] ".concat(e))}(Ps(e),"icon should be icon definiton, but got ".concat(e)),!Ps(e))return null;var l=e;return l&&"function"===typeof l.icon&&(l=xt(xt({},l),{},{icon:l.icon(s.primaryColor,s.secondaryColor)})),Fs(l.icon,"svg-".concat(l.name),xt({className:n,onClick:r,style:i,"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u))};Bs.displayName="IconReact",Bs.getTwoToneColors=function(){return xt({},js)},Bs.setTwoToneColors=function(t){var e=t.primaryColor,n=t.secondaryColor;js.primaryColor=e,js.secondaryColor=n||Ns(e),js.calculated=!!n};var zs=Bs;function Us(t){var e=j(Is(t),2),n=e[0],r=e[1];return zs.setTwoToneColors({primaryColor:n,secondaryColor:r})}var Hs=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Us("#1890ff");var Vs=D.forwardRef((function(t,e){var n,r=t.className,i=t.icon,o=t.spin,a=t.rotate,u=t.tabIndex,s=t.onClick,l=t.twoToneColor,c=wt(t,Hs),f=D.useContext(Gu).prefixCls,d=void 0===f?"anticon":f,h=Mt()(d,(mt(n={},"".concat(d,"-").concat(i.name),!!i.name),mt(n,"".concat(d,"-spin"),!!o||"loading"===i.name),n),r),p=u;void 0===p&&s&&(p=-1);var v=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,g=j(Is(l),2),m=g[0],y=g[1];return D.createElement("span",xt(xt({role:"img","aria-label":i.name},c),{},{ref:e,tabIndex:p,onClick:s,className:h}),D.createElement(zs,{icon:i,primaryColor:m,secondaryColor:y,style:v}))}));Vs.displayName="AntdIcon",Vs.getTwoToneColor=function(){var t=zs.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor},Vs.setTwoToneColor=Us;var Ws=Vs,Ys=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:qu}))};Ys.displayName="LeftOutlined";var qs=D.forwardRef(Ys),Gs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},$s=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Gs}))};$s.displayName="RightOutlined";var Xs=D.forwardRef($s),Ks={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},Zs=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Ks}))};Zs.displayName="DoubleLeftOutlined";var Js=D.forwardRef(Zs),Qs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},tl=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Qs}))};tl.displayName="DoubleRightOutlined";var el=D.forwardRef(tl);function nl(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,u=function(t){var e=D.useRef(!1),n=j(D.useState(t),2),r=n[0],i=n[1];return D.useEffect((function(){return function(){e.current=!0}}),[]),[r,function(t,n){n&&e.current||i(t)}]}((function(){return void 0!==i?i:void 0!==r?"function"===typeof r?r():r:"function"===typeof t?t():t})),s=j(u,2),l=s[0],c=s[1],f=void 0!==i?i:l;a&&(f=a(f));var d=D.useRef(o);d.current=o;var h=D.useCallback((function(t,e){c(t,e),f!==t&&d.current&&d.current(t,f)}),[f,d]),p=D.useRef(!0);return D.useEffect((function(){p.current?p.current=!1:void 0===i&&c(i)}),[i]),[f,h]}var rl={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var e=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||e>=rl.F1&&e<=rl.F12)return!1;switch(e){case rl.ALT:case rl.CAPS_LOCK:case rl.CONTEXT_MENU:case rl.CTRL:case rl.DOWN:case rl.END:case rl.ESC:case rl.HOME:case rl.INSERT:case rl.LEFT:case rl.MAC_FF_META:case rl.META:case rl.NUMLOCK:case rl.NUM_CENTER:case rl.PAGE_DOWN:case rl.PAGE_UP:case rl.PAUSE:case rl.PRINT_SCREEN:case rl.RIGHT:case rl.SHIFT:case rl.UP:case rl.WIN_KEY:case rl.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=rl.ZERO&&t<=rl.NINE)return!0;if(t>=rl.NUM_ZERO&&t<=rl.NUM_MULTIPLY)return!0;if(t>=rl.A&&t<=rl.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===t)return!0;switch(t){case rl.SPACE:case rl.QUESTION_MARK:case rl.NUM_PLUS:case rl.NUM_MINUS:case rl.NUM_PERIOD:case rl.NUM_DIVISION:case rl.SEMICOLON:case rl.DASH:case rl.EQUALS:case rl.COMMA:case rl.PERIOD:case rl.SLASH:case rl.APOSTROPHE:case rl.SINGLE_QUOTE:case rl.OPEN_SQUARE_BRACKET:case rl.BACKSLASH:case rl.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},il=rl,ol=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===t||void 0===t?void 0:t.substr(0,4)))},al=Gi()?D.useLayoutEffect:D.useEffect;function ul(t){return N(t)||We(t)||L(t)||R()}function sl(t,e){var n,r=t.key;return"value"in t&&(n=t.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(e)}function ll(t,e){var n=t||{};return{label:n.label||(e?"children":"label"),value:n.value||"value",options:n.options||"options"}}function cl(t){var e=xt({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return eo(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function fl(t,e){return!!t&&t.contains(e)}var dl=(0,D.forwardRef)((function(t,e){var n=t.didUpdate,r=t.getContainer,i=t.children,o=(0,D.useRef)();(0,D.useImperativeHandle)(e,(function(){return{}}));var a=(0,D.useRef)(!1);return!a.current&&Gi()&&(o.current=r(),a.current=!0),(0,D.useEffect)((function(){null===n||void 0===n||n(t)})),(0,D.useEffect)((function(){return function(){var t,e;null===(t=o.current)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(o.current)}}),[]),o.current?F.createPortal(i,o.current):null})),hl=dl;function pl(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function vl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}var gl=function(t,e){var n={animationend:vl("Animation","AnimationEnd"),transitionend:vl("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}(Gi(),"undefined"!==typeof window?window:{}),ml={};if(Gi()){var yl=document.createElement("div");ml=yl.style}var xl={};function bl(t){if(xl[t])return xl[t];var e=gl[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in ml)return xl[t]=e[o],xl[t]}return""}var wl=bl("animationend"),Sl=bl("transitionend"),kl=!(!wl||!Sl),Cl=wl||"animationend",El=Sl||"transitionend";function Ol(t,e){if(!t)return null;if("object"===ti(t)){var n=e.replace(/-\w/g,(function(t){return t[1].toUpperCase()}));return t[n]}return"".concat(t,"-").concat(e)}var Ml="none",_l="appear",Al="enter",Tl="leave",Pl="none",Dl="prepare",Fl="start",Nl="active",Il="end";function Ll(t){var e=(0,D.useRef)(!1),n=j((0,D.useState)(t),2),r=n[0],i=n[1];return(0,D.useEffect)((function(){return function(){e.current=!0}}),[]),[r,function(t){e.current||i(t)}]}var Rl=Gi()?D.useLayoutEffect:D.useEffect,jl=[Dl,Fl,Nl,Il];function Bl(t){return t===Nl||t===Il}var zl=function(t,e){var n=j(Ll(Pl),2),r=n[0],i=n[1],o=function(){var t=D.useRef(null);function e(){ka.cancel(t.current)}return D.useEffect((function(){return function(){e()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;e();var o=ka((function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)}));t.current=o},e]}(),a=j(o,2),u=a[0],s=a[1];return Rl((function(){if(r!==Pl&&r!==Il){var t=jl.indexOf(r),n=jl[t+1],o=e(r);false===o?i(n):u((function(t){function e(){t.isCanceled()||i(n)}!0===o?e():Promise.resolve(o).then(e)}))}}),[t,r]),D.useEffect((function(){return function(){s()}}),[]),[function(){i(Dl)},r]};function Ul(t,e,n,r){var i=r.motionEnter,o=void 0===i||i,a=r.motionAppear,u=void 0===a||a,s=r.motionLeave,l=void 0===s||s,c=r.motionDeadline,f=r.motionLeaveImmediately,d=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,v=r.onAppearStart,g=r.onEnterStart,m=r.onLeaveStart,y=r.onAppearActive,x=r.onEnterActive,b=r.onLeaveActive,w=r.onAppearEnd,S=r.onEnterEnd,k=r.onLeaveEnd,C=r.onVisibleChanged,E=j(Ll(),2),O=E[0],M=E[1],_=j(Ll(Ml),2),A=_[0],T=_[1],P=j(Ll(null),2),F=P[0],N=P[1],I=(0,D.useRef)(!1),L=(0,D.useRef)(null),R=(0,D.useRef)(!1),B=(0,D.useRef)(null);function z(){return n()||B.current}var U=(0,D.useRef)(!1);function H(t){var e,n=z();t&&!t.deadline&&t.target!==n||(A===_l&&U.current?e=null===w||void 0===w?void 0:w(n,t):A===Al&&U.current?e=null===S||void 0===S?void 0:S(n,t):A===Tl&&U.current&&(e=null===k||void 0===k?void 0:k(n,t)),!1===e||R.current||(T(Ml),N(null)))}var V=function(t){var e=(0,D.useRef)(),n=(0,D.useRef)(t);n.current=t;var r=D.useCallback((function(t){n.current(t)}),[]);function i(t){t&&(t.removeEventListener(El,r),t.removeEventListener(Cl,r))}return D.useEffect((function(){return function(){i(e.current)}}),[]),[function(t){e.current&&e.current!==t&&i(e.current),t&&t!==e.current&&(t.addEventListener(El,r),t.addEventListener(Cl,r),e.current=t)},i]}(H),W=j(V,1)[0],Y=D.useMemo((function(){var t,e,n;switch(A){case _l:return mt(t={},Dl,d),mt(t,Fl,v),mt(t,Nl,y),t;case Al:return mt(e={},Dl,h),mt(e,Fl,g),mt(e,Nl,x),e;case Tl:return mt(n={},Dl,p),mt(n,Fl,m),mt(n,Nl,b),n;default:return{}}}),[A]),q=j(zl(A,(function(t){if(t===Dl){var e=Y.prepare;return!!e&&e(z())}var n;$ in Y&&N((null===(n=Y[$])||void 0===n?void 0:n.call(Y,z(),null))||null);return $===Nl&&(W(z()),c>0&&(clearTimeout(L.current),L.current=setTimeout((function(){H({deadline:!0})}),c))),true})),2),G=q[0],$=q[1],X=Bl($);U.current=X,Rl((function(){M(e);var n,r=I.current;(I.current=!0,t)&&(!r&&e&&u&&(n=_l),r&&e&&o&&(n=Al),(r&&!e&&l||!r&&f&&!e&&l)&&(n=Tl),n&&(T(n),G()))}),[e]),(0,D.useEffect)((function(){(A===_l&&!u||A===Al&&!o||A===Tl&&!l)&&T(Ml)}),[u,o,l]),(0,D.useEffect)((function(){return function(){clearTimeout(L.current),R.current=!0}}),[]),(0,D.useEffect)((function(){void 0!==O&&A===Ml&&(null===C||void 0===C||C(O))}),[O,A]);var K=F;return Y.prepare&&$===Fl&&(K=xt({transition:"none"},K)),[A,$,K,null!==O&&void 0!==O?O:e]}var Hl=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"render",value:function(){return this.props.children}}]),n}(D.Component),Vl=Hl;var Wl=function(t){var e=t;function n(t){return!(!t.motionName||!e)}"object"===ti(t)&&(e=t.transitionSupport);var r=D.forwardRef((function(t,e){var r=t.visible,i=void 0===r||r,o=t.removeOnLeave,a=void 0===o||o,u=t.forceRender,s=t.children,l=t.motionName,c=t.leavedClassName,f=t.eventProps,d=n(t),h=(0,D.useRef)(),p=(0,D.useRef)();var v=j(Ul(d,i,(function(){try{return h.current instanceof HTMLElement?h.current:so(p.current)}catch(v1t){return null}}),t),4),g=v[0],m=v[1],y=v[2],x=v[3],b=D.useRef(x);x&&(b.current=!0);var w,S=D.useCallback((function(t){h.current=t,oo(e,t)}),[]),k=xt(xt({},f),{},{visible:i});if(s)if(g!==Ml&&n(t)){var C,E;m===Dl?E="prepare":Bl(m)?E="active":m===Fl&&(E="start"),w=s(xt(xt({},k),{},{className:Mt()(Ol(l,g),(C={},mt(C,Ol(l,"".concat(g,"-").concat(E)),E),mt(C,l,"string"===typeof l),C)),style:y}),S)}else w=x?s(xt({},k),S):!a&&b.current?s(xt(xt({},k),{},{className:c}),S):u?s(xt(xt({},k),{},{style:{display:"none"}}),S):null;else w=null;return D.createElement(Vl,{ref:p},w)}));return r.displayName="CSSMotion",r}(kl),Yl="add",ql="keep",Gl="remove",$l="removed";function Xl(t){var e;return xt(xt({},e=t&&"object"===ti(t)&&"key"in t?t:{key:t}),{},{key:String(e.key)})}function Kl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(Xl)}function Zl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=e.length,o=Kl(t),a=Kl(e);o.forEach((function(t){for(var e=!1,o=r;o<i;o+=1){var u=a[o];if(u.key===t.key){r<o&&(n=n.concat(a.slice(r,o).map((function(t){return xt(xt({},t),{},{status:Yl})}))),r=o),n.push(xt(xt({},u),{},{status:ql})),r+=1,e=!0;break}}e||n.push(xt(xt({},t),{},{status:Gl}))})),r<i&&(n=n.concat(a.slice(r).map((function(t){return xt(xt({},t),{},{status:Yl})}))));var u={};n.forEach((function(t){var e=t.key;u[e]=(u[e]||0)+1}));var s=Object.keys(u).filter((function(t){return u[t]>1}));return s.forEach((function(t){n=n.filter((function(e){var n=e.key,r=e.status;return n!==t||r!==Gl})),n.forEach((function(e){e.key===t&&(e.status=ql)}))})),n}var Jl=["component","children","onVisibleChanged"],Ql=["status"],tc=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var ec,nc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wl,n=function(t){Zr(r,t);var n=ri(r);function r(){var t;Xr(this,r);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))).state={keyEntities:[]},t.removeKey=function(e){t.setState((function(t){return{keyEntities:t.keyEntities.map((function(t){return t.key!==e?t:xt(xt({},t),{},{status:$l})}))}}))},t}return $r(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged,u=wt(r,Jl),s=i||D.Fragment,l={};return tc.forEach((function(t){l[t]=u[t],delete u[t]})),delete u.keys,D.createElement(s,u,n.map((function(n){var r=n.status,i=wt(n,Ql),u=r===Yl||r===ql;return D.createElement(e,B({},l,{key:i.key,visible:u,eventProps:i,onVisibleChanged:function(e){null===a||void 0===a||a(e,{key:i.key}),e||t.removeKey(i.key)}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.keys,r=e.keyEntities,i=Kl(n);return{keyEntities:Zl(r,i).filter((function(t){var e=r.find((function(e){var n=e.key;return t.key===n}));return!e||e.status!==$l||t.status!==Gl}))}}}]),r}(D.Component);return n.defaultProps={component:"div"},n}(kl),rc=Wl;function ic(t){var e=t.prefixCls,n=t.motion,r=t.animation,i=t.transitionName;return n||(r?{motionName:"".concat(e,"-").concat(r)}:i?{motionName:i}:null)}function oc(t){var e=t.prefixCls,n=t.visible,r=t.zIndex,i=t.mask,o=t.maskMotion,a=t.maskAnimation,u=t.maskTransitionName;if(!i)return null;var s={};return(o||u||a)&&(s=xt({motionAppear:!0},ic({motion:o,prefixCls:e,transitionName:u,animation:a}))),D.createElement(rc,B({},s,{visible:n,removeOnLeave:!0}),(function(t){var n=t.className;return D.createElement("div",{style:{zIndex:r},className:Mt()("".concat(e,"-mask"),n)})}))}function ac(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ac(Object(n),!0).forEach((function(e){lc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sc(t){return sc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(t)}function lc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cc={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function fc(){if(void 0!==ec)return ec;ec="";var t=document.createElement("p").style;for(var e in cc)e+"Transform"in t&&(ec=e);return ec}function dc(){return fc()?"".concat(fc(),"TransitionProperty"):"transitionProperty"}function hc(){return fc()?"".concat(fc(),"Transform"):"transform"}function pc(t,e){var n=dc();n&&(t.style[n]=e,"transitionProperty"!==n&&(t.style.transitionProperty=e))}function vc(t,e){var n=hc();n&&(t.style[n]=e,"transform"!==n&&(t.style.transform=e))}var gc,mc=/matrix\((.*)\)/,yc=/matrix3d\((.*)\)/;function xc(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function bc(t,e,n){var r=n;if("object"!==sc(e))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(t.style[e]=r)):gc(t,e);for(var i in e)e.hasOwnProperty(i)&&bc(t,i,e[i])}function wc(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if("number"!==typeof n){var i=t.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function Sc(t){return wc(t)}function kc(t){return wc(t,!0)}function Cc(t){var e=function(t){var e,n,r,i=t.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(e=t.getBoundingClientRect()).left,r=e.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=Sc(r),e.top+=kc(r),e}function Ec(t){return null!==t&&void 0!==t&&t==t.window}function Oc(t){return Ec(t)?t.document:9===t.nodeType?t:t.ownerDocument}var Mc=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),_c=/^(top|right|bottom|left)$/;function Ac(t,e){return"left"===t?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function Tc(t){return"left"===t?"right":"right"===t?"left":"top"===t?"bottom":"bottom"===t?"top":void 0}function Pc(t,e,n){"static"===bc(t,"position")&&(t.style.position="relative");var r=-999,i=-999,o=Ac("left",n),a=Ac("top",n),u=Tc(o),s=Tc(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var l,c="",f=Cc(t);("left"in e||"top"in e)&&(c=(l=t).style.transitionProperty||l.style[dc()]||"",pc(t,"none")),"left"in e&&(t.style[u]="",t.style[o]="".concat(r,"px")),"top"in e&&(t.style[s]="",t.style[a]="".concat(i,"px")),xc(t);var d=Cc(t),h={};for(var p in e)if(e.hasOwnProperty(p)){var v=Ac(p,n),g="left"===p?r:i,m=f[p]-d[p];h[v]=v===p?g+m:g-m}bc(t,h),xc(t),("left"in e||"top"in e)&&pc(t,c);var y={};for(var x in e)if(e.hasOwnProperty(x)){var b=Ac(x,n),w=e[x]-f[x];y[b]=x===b?h[b]+w:h[b]-w}bc(t,y)}function Dc(t,e){var n=Cc(t),r=function(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(hc());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(t),i={x:r.x,y:r.y};"left"in e&&(i.x=r.x+e.left-n.left),"top"in e&&(i.y=r.y+e.top-n.top),function(t,e){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("transform")||n.getPropertyValue(hc());if(r&&"none"!==r){var i,o=r.match(mc);o?((i=(o=o[1]).split(",").map((function(t){return parseFloat(t,10)})))[4]=e.x,i[5]=e.y,vc(t,"matrix(".concat(i.join(","),")"))):((i=r.match(yc)[1].split(",").map((function(t){return parseFloat(t,10)})))[12]=e.x,i[13]=e.y,vc(t,"matrix3d(".concat(i.join(","),")")))}else vc(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}(t,i)}function Fc(t,e){for(var n=0;n<t.length;n++)e(t[n])}function Nc(t){return"border-box"===gc(t,"boxSizing")}"undefined"!==typeof window&&(gc=window.getComputedStyle?function(t,e,n){var r=n,i="",o=Oc(t);return(r=r||o.defaultView.getComputedStyle(t,null))&&(i=r.getPropertyValue(e)||r[e]),i}:function(t,e){var n=t.currentStyle&&t.currentStyle[e];if(Mc.test(n)&&!_c.test(e)){var r=t.style,i=r.left,o=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,r.left="fontSize"===e?"1em":n||0,n=r.pixelLeft+"px",r.left=i,t.runtimeStyle.left=o}return""===n?"auto":n});var Ic=["margin","border","padding"];function Lc(t,e,n){var r,i={},o=t.style;for(r in e)e.hasOwnProperty(r)&&(i[r]=o[r],o[r]=e[r]);for(r in n.call(t),e)e.hasOwnProperty(r)&&(o[r]=i[r])}function Rc(t,e,n){var r,i,o,a=0;for(i=0;i<e.length;i++)if(r=e[i])for(o=0;o<n.length;o++){var u=void 0;u="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(gc(t,u))||0}return a}var jc={getParent:function(t){var e=t;do{e=11===e.nodeType&&e.host?e.host:e.parentNode}while(e&&1!==e.nodeType&&9!==e.nodeType);return e}};function Bc(t,e,n){var r=n;if(Ec(t))return"width"===e?jc.viewportWidth(t):jc.viewportHeight(t);if(9===t.nodeType)return"width"===e?jc.docWidth(t):jc.docHeight(t);var i="width"===e?["Left","Right"]:["Top","Bottom"],o="width"===e?t.getBoundingClientRect().width:t.getBoundingClientRect().height,a=Nc(t),u=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(u=gc(t,e))||void 0===u||Number(u)<0)&&(u=t.style[e]||0),u=parseFloat(u)||0),void 0===r&&(r=a?1:-1);var s=void 0!==o||a,l=o||u;return-1===r?s?l-Rc(t,["border","padding"],i):u:s?1===r?l:l+(2===r?-Rc(t,["border"],i):Rc(t,["margin"],i)):u+Rc(t,Ic.slice(r),i)}Fc(["Width","Height"],(function(t){jc["doc".concat(t)]=function(e){var n=e.document;return Math.max(n.documentElement["scroll".concat(t)],n.body["scroll".concat(t)],jc["viewport".concat(t)](n))},jc["viewport".concat(t)]=function(e){var n="client".concat(t),r=e.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var zc={position:"absolute",visibility:"hidden",display:"block"};function Uc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e[0];return 0!==i.offsetWidth?r=Bc.apply(void 0,e):Lc(i,zc,(function(){r=Bc.apply(void 0,e)})),r}function Hc(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Fc(["width","height"],(function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);jc["outer".concat(e)]=function(e,n){return e&&Uc(e,t,n?0:1)};var n="width"===t?["Left","Right"]:["Top","Bottom"];jc[t]=function(e,r){var i=r;return void 0!==i?e?(Nc(e)&&(i+=Rc(e,["padding","border"],n)),bc(e,t,i)):void 0:e&&Uc(e,t,-1)}}));var Vc={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow},getDocument:Oc,offset:function(t,e,n){if("undefined"===typeof e)return Cc(t);!function(t,e,n){if(n.ignoreShake){var r=Cc(t),i=r.left.toFixed(0),o=r.top.toFixed(0),a=e.left.toFixed(0),u=e.top.toFixed(0);if(i===a&&o===u)return}n.useCssRight||n.useCssBottom?Pc(t,e,n):n.useCssTransform&&hc()in document.body.style?Dc(t,e):Pc(t,e,n)}(t,e,n||{})},isWindow:Ec,each:Fc,css:bc,clone:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);if(t.overflow)for(e in t)t.hasOwnProperty(e)&&(n.overflow[e]=t.overflow[e]);return n},mix:Hc,getWindowScrollLeft:function(t){return Sc(t)},getWindowScrollTop:function(t){return kc(t)},merge:function(){for(var t={},e=0;e<arguments.length;e++)Vc.mix(t,e<0||arguments.length<=e?void 0:arguments[e]);return t},viewportWidth:0,viewportHeight:0};Hc(Vc,jc);var Wc=Vc.getParent;function Yc(t){if(Vc.isWindow(t)||9===t.nodeType)return null;var e,n=Vc.getDocument(t).body,r=Vc.css(t,"position");if(!("fixed"===r||"absolute"===r))return"html"===t.nodeName.toLowerCase()?null:Wc(t);for(e=Wc(t);e&&e!==n&&9!==e.nodeType;e=Wc(e))if("static"!==(r=Vc.css(e,"position")))return e;return null}var qc=Vc.getParent;function Gc(t,e){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Yc(t),i=Vc.getDocument(t),o=i.defaultView||i.parentWindow,a=i.body,u=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===u||"visible"===Vc.css(r,"overflow")){if(r===a||r===u)break}else{var s=Vc.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=Yc(r)}var l=null;Vc.isWindow(t)||9===t.nodeType||(l=t.style.position,"absolute"===Vc.css(t,"position")&&(t.style.position="fixed"));var c=Vc.getWindowScrollLeft(o),f=Vc.getWindowScrollTop(o),d=Vc.viewportWidth(o),h=Vc.viewportHeight(o),p=u.scrollWidth,v=u.scrollHeight,g=window.getComputedStyle(a);if("hidden"===g.overflowX&&(p=o.innerWidth),"hidden"===g.overflowY&&(v=o.innerHeight),t.style&&(t.style.position=l),e||function(t){if(Vc.isWindow(t)||9===t.nodeType)return!1;var e=Vc.getDocument(t),n=e.body,r=null;for(r=qc(t);r&&r!==n&&r!==e;r=qc(r))if("fixed"===Vc.css(r,"position"))return!0;return!1}(t))n.left=Math.max(n.left,c),n.top=Math.max(n.top,f),n.right=Math.min(n.right,c+d),n.bottom=Math.min(n.bottom,f+h);else{var m=Math.max(p,c+d);n.right=Math.min(n.right,m);var y=Math.max(v,f+h);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function $c(t){var e,n,r;if(Vc.isWindow(t)||9===t.nodeType){var i=Vc.getWindow(t);e={left:Vc.getWindowScrollLeft(i),top:Vc.getWindowScrollTop(i)},n=Vc.viewportWidth(i),r=Vc.viewportHeight(i)}else e=Vc.offset(t),n=Vc.outerWidth(t),r=Vc.outerHeight(t);return e.width=n,e.height=r,e}function Xc(t,e){var n=e.charAt(0),r=e.charAt(1),i=t.width,o=t.height,a=t.left,u=t.top;return"c"===n?u+=o/2:"b"===n&&(u+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:u}}function Kc(t,e,n,r,i){var o=Xc(e,n[1]),a=Xc(t,n[0]),u=[a.left-o.left,a.top-o.top];return{left:Math.round(t.left-u[0]+r[0]-i[0]),top:Math.round(t.top-u[1]+r[1]-i[1])}}function Zc(t,e,n){return t.left<n.left||t.left+e.width>n.right}function Jc(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function Qc(t,e,n){var r=[];return Vc.each(t,(function(t){r.push(t.replace(e,(function(t){return n[t]})))})),r}function tf(t,e){return t[e]=-t[e],t}function ef(t,e){return(/%$/.test(t)?parseInt(t.substring(0,t.length-1),10)/100*e:parseInt(t,10))||0}function nf(t,e){t[0]=ef(t[0],e.width),t[1]=ef(t[1],e.height)}function rf(t,e,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],u=n.overflow,s=n.source||t;o=[].concat(o),a=[].concat(a);var l={},c=0,f=Gc(s,!(!(u=u||{})||!u.alwaysByViewport)),d=$c(s);nf(o,d),nf(a,e);var h=Kc(d,e,i,o,a),p=Vc.merge(d,h);if(f&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&Zc(h,d,f)){var v=Qc(i,/[lr]/gi,{l:"r",r:"l"}),g=tf(o,0),m=tf(a,0);(function(t,e,n){return t.left>n.right||t.left+e.width<n.left})(Kc(d,e,v,g,m),d,f)||(c=1,i=v,o=g,a=m)}if(u.adjustY&&Jc(h,d,f)){var y=Qc(i,/[tb]/gi,{t:"b",b:"t"}),x=tf(o,1),b=tf(a,1);(function(t,e,n){return t.top>n.bottom||t.top+e.height<n.top})(Kc(d,e,y,x,b),d,f)||(c=1,i=y,o=x,a=b)}c&&(h=Kc(d,e,i,o,a),Vc.mix(p,h));var w=Zc(h,d,f),S=Jc(h,d,f);if(w||S){var k=i;w&&(k=Qc(i,/[lr]/gi,{l:"r",r:"l"})),S&&(k=Qc(i,/[tb]/gi,{t:"b",b:"t"})),i=k,o=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=u.adjustX&&w,l.adjustY=u.adjustY&&S,(l.adjustX||l.adjustY)&&(p=function(t,e,n,r){var i=Vc.clone(t),o={width:e.width,height:e.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Vc.mix(i,o)}(h,d,f,l))}return p.width!==d.width&&Vc.css(s,"width",Vc.width(s)+p.width-d.width),p.height!==d.height&&Vc.css(s,"height",Vc.height(s)+p.height-d.height),Vc.offset(s,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function of(t,e,n){var r=n.target||e,i=$c(r),o=!function(t,e){var n=Gc(t,e),r=$c(t);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return rf(t,i,n,o)}of.__getOffsetParent=Yc,of.__getVisibleRectForElement=Gc;var af=n(8111),uf=n.n(af);function sf(t,e){var n=null,r=null;var i=new Po((function(t){var i=j(t,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,u=o.height,s=Math.floor(a),l=Math.floor(u);n===s&&r===l||Promise.resolve().then((function(){e({width:s,height:l})})),n=s,r=l}}));return t&&i.observe(t),function(){i.disconnect()}}function lf(t){return"function"!==typeof t?null:t()}function cf(t){return"object"===ti(t)&&t?t:null}var ff=function(t,e){var n=t.children,r=t.disabled,i=t.target,o=t.align,a=t.onAlign,u=t.monitorWindowResize,s=t.monitorBufferTime,l=void 0===s?0:s,c=D.useRef({}),f=D.useRef(),d=D.Children.only(n),h=D.useRef({});h.current.disabled=r,h.current.target=i,h.current.align=o,h.current.onAlign=a;var p=function(t,e){var n=D.useRef(!1),r=D.useRef(null);function i(){window.clearTimeout(r.current)}return[function o(a){if(n.current&&!0!==a)i(),r.current=window.setTimeout((function(){n.current=!1,o()}),e);else{if(!1===t())return;n.current=!0,i(),r.current=window.setTimeout((function(){n.current=!1}),e)}},function(){n.current=!1,i()}]}((function(){var t=h.current,e=t.disabled,n=t.target,r=t.align,i=t.onAlign;if(!e&&n){var o,a=f.current,u=lf(n),s=cf(n);c.current.element=u,c.current.point=s,c.current.align=r;var l=document.activeElement;return u&&Ui(u)?o=of(a,u,r):s&&(o=function(t,e,n){var r,i,o=Vc.getDocument(t),a=o.defaultView||o.parentWindow,u=Vc.getWindowScrollLeft(a),s=Vc.getWindowScrollTop(a),l=Vc.viewportWidth(a),c=Vc.viewportHeight(a),f={left:r="pageX"in e?e.pageX:u+e.clientX,top:i="pageY"in e?e.pageY:s+e.clientY,width:0,height:0},d=r>=0&&r<=u+l&&i>=0&&i<=s+c,h=[n.points[0],"cc"];return rf(t,f,uc(uc({},n),{},{points:h}),d)}(a,s,r)),function(t,e){t!==document.activeElement&&fl(e,t)&&"function"===typeof t.focus&&t.focus()}(l,a),i&&o&&i(a,o),!0}return!1}),l),v=j(p,2),g=v[0],m=v[1],y=D.useRef({cancel:function(){}}),x=D.useRef({cancel:function(){}});D.useEffect((function(){var t,e,n=lf(i),r=cf(i);f.current!==x.current.element&&(x.current.cancel(),x.current.element=f.current,x.current.cancel=sf(f.current,g)),c.current.element===n&&((t=c.current.point)===(e=r)||t&&e&&("pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e&&t.clientX===e.clientX&&t.clientY===e.clientY))&&uf()(c.current.align,o)||(g(),y.current.element!==n&&(y.current.cancel(),y.current.element=n,y.current.cancel=sf(n,g)))})),D.useEffect((function(){r?m():g()}),[r]);var b=D.useRef(null);return D.useEffect((function(){u?b.current||(b.current=$a(window,"resize",g)):b.current&&(b.current.remove(),b.current=null)}),[u]),D.useEffect((function(){return function(){y.current.cancel(),x.current.cancel(),b.current&&b.current.remove(),m()}}),[]),D.useImperativeHandle(e,(function(){return{forceAlign:function(){return g(!0)}}})),D.isValidElement(d)&&(d=D.cloneElement(d,{ref:ao(d.ref,f)})),d},df=D.forwardRef(ff);df.displayName="Align";var hf=df,pf=["measure","align",null,"motion"],vf=D.forwardRef((function(t,e){var n=t.visible,r=t.prefixCls,i=t.className,o=t.style,a=t.children,u=t.zIndex,s=t.stretch,l=t.destroyPopupOnHide,c=t.forceRender,f=t.align,d=t.point,h=t.getRootDomNode,p=t.getClassNameFromAlign,v=t.onAlign,g=t.onMouseEnter,m=t.onMouseLeave,y=t.onMouseDown,x=t.onTouchStart,b=(0,D.useRef)(),w=(0,D.useRef)(),S=j((0,D.useState)(),2),k=S[0],C=S[1],E=function(t){var e=j(D.useState({width:0,height:0}),2),n=e[0],r=e[1],i=D.useMemo((function(){var e={};if(t){var r=n.width,i=n.height;-1!==t.indexOf("height")&&i?e.height=i:-1!==t.indexOf("minHeight")&&i&&(e.minHeight=i),-1!==t.indexOf("width")&&r?e.width=r:-1!==t.indexOf("minWidth")&&r&&(e.minWidth=r)}return e}),[t,n]);return[i,function(t){r({width:t.offsetWidth,height:t.offsetHeight})}]}(s),O=j(E,2),M=O[0],_=O[1];var A=function(t,e){var n=j((0,D.useState)(null),2),r=n[0],i=n[1],o=(0,D.useRef)(),a=(0,D.useRef)(!1);function u(t){a.current||i(t)}function s(){ka.cancel(o.current)}return(0,D.useEffect)((function(){u("measure")}),[t]),(0,D.useEffect)((function(){"measure"===r&&e(),r&&(o.current=ka(kt(Et().mark((function t(){var e,n;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=pf.indexOf(r),(n=pf[e+1])&&-1!==e&&u(n);case 3:case"end":return t.stop()}}),t)})))))}),[r]),(0,D.useEffect)((function(){return function(){a.current=!0,s()}}),[]),[r,function(t){s(),o.current=ka((function(){u((function(t){switch(r){case"align":return"motion";case"motion":return"stable"}return t})),null===t||void 0===t||t()}))}]}(n,(function(){s&&_(h())})),T=j(A,2),P=T[0],F=T[1],N=(0,D.useRef)();function I(){var t;null===(t=b.current)||void 0===t||t.forceAlign()}function L(t,e){var n=p(e);k!==n&&C(n),"align"===P&&(k!==n?Promise.resolve().then((function(){I()})):F((function(){var t;null===(t=N.current)||void 0===t||t.call(N)})),null===v||void 0===v||v(t,e))}var R=xt({},ic(t));function z(){return new Promise((function(t){N.current=t}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(t){var e=R[t];R[t]=function(t,n){return F(),null===e||void 0===e?void 0:e(t,n)}})),D.useEffect((function(){R.motionName||"motion"!==P||F()}),[R.motionName,P]),D.useImperativeHandle(e,(function(){return{forceAlign:I,getElement:function(){return w.current}}}));var U=xt(xt({},M),{},{zIndex:u,opacity:"motion"!==P&&"stable"!==P&&n?0:void 0,pointerEvents:"stable"===P?void 0:"none"},o),H=!0;!(null===f||void 0===f?void 0:f.points)||"align"!==P&&"stable"!==P||(H=!1);var V=a;return D.Children.count(a)>1&&(V=D.createElement("div",{className:"".concat(r,"-content")},a)),D.createElement(rc,B({visible:n,ref:w,leavedClassName:"".concat(r,"-hidden")},R,{onAppearPrepare:z,onEnterPrepare:z,removeOnLeave:l,forceRender:c}),(function(t,e){var n=t.className,o=t.style,a=Mt()(r,i,k,n);return D.createElement(hf,{target:d||h,key:"popup",ref:b,monitorWindowResize:!0,disabled:H,align:f,onAlign:L},D.createElement("div",{ref:e,className:a,onMouseEnter:g,onMouseLeave:m,onMouseDownCapture:y,onTouchStartCapture:x,style:xt(xt({},o),U)},V))}))}));vf.displayName="PopupInner";var gf=vf,mf=D.forwardRef((function(t,e){var n=t.prefixCls,r=t.visible,i=t.zIndex,o=t.children,a=t.mobile,u=(a=void 0===a?{}:a).popupClassName,s=a.popupStyle,l=a.popupMotion,c=void 0===l?{}:l,f=a.popupRender,d=D.useRef();D.useImperativeHandle(e,(function(){return{forceAlign:function(){},getElement:function(){return d.current}}}));var h=xt({zIndex:i},s),p=o;return D.Children.count(o)>1&&(p=D.createElement("div",{className:"".concat(n,"-content")},o)),f&&(p=f(p)),D.createElement(rc,B({visible:r,ref:d,removeOnLeave:!0},c),(function(t,e){var r=t.className,i=t.style,o=Mt()(n,u,r);return D.createElement("div",{ref:e,className:o,style:xt(xt({},i),h)},p)}))}));mf.displayName="MobilePopupInner";var yf=mf,xf=["visible","mobile"],bf=D.forwardRef((function(t,e){var n=t.visible,r=t.mobile,i=wt(t,xf),o=j((0,D.useState)(n),2),a=o[0],u=o[1],s=j((0,D.useState)(!1),2),l=s[0],c=s[1],f=xt(xt({},i),{},{visible:a});(0,D.useEffect)((function(){u(n),n&&r&&c(ol())}),[n,r]);var d=l?D.createElement(yf,B({},f,{mobile:r,ref:e})):D.createElement(gf,B({},f,{ref:e}));return D.createElement("div",null,D.createElement(oc,f),d)}));bf.displayName="Popup";var wf=bf,Sf=D.createContext(null);function kf(){}function Cf(){return""}function Ef(t){return t?t.ownerDocument:window.document}var Of=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Mf=function(t){var e=function(e){Zr(r,e);var n=ri(r);function r(t){var e,i;return Xr(this,r),(e=n.call(this,t)).popupRef=D.createRef(),e.triggerRef=D.createRef(),e.attachId=void 0,e.clickOutsideHandler=void 0,e.touchOutsideHandler=void 0,e.contextMenuOutsideHandler1=void 0,e.contextMenuOutsideHandler2=void 0,e.mouseDownTimeout=void 0,e.focusTime=void 0,e.preClickTime=void 0,e.preTouchTime=void 0,e.delayTimer=void 0,e.hasPopupMouseDown=void 0,e.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},e.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},e.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},e.onPopupMouseEnter=function(){e.clearDelayTimer()},e.onPopupMouseLeave=function(t){var n;t.relatedTarget&&!t.relatedTarget.setTimeout&&fl(null===(n=e.popupRef.current)||void 0===n?void 0:n.getElement(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},e.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},e.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},e.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},e.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},e.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},e.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},e.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,e.isClickToShow()&&(e.isClickToHide()||e.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault();var r=!e.state.popupVisible;(e.isClickToHide()&&!r||r&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},e.onPopupMouseDown=function(){var t;(e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=window.setTimeout((function(){e.hasPopupMouseDown=!1}),0),e.context)&&(t=e.context).onPopupMouseDown.apply(t,arguments)},e.onDocumentClick=function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target,r=e.getRootDomNode(),i=e.getPopupDomNode();fl(r,n)&&!e.isContextMenuOnly()||fl(i,n)||e.hasPopupMouseDown||e.close()}},e.getRootDomNode=function(){var t=e.props.getTriggerDOMNode;if(t)return t(e.triggerRef.current);try{var n=so(e.triggerRef.current);if(n)return n}catch(r){}return F.findDOMNode(ei(e))},e.getPopupClassNameFromAlign=function(t){var n=[],r=e.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,u=r.alignPoint,s=r.getPopupClassNameFromAlign;return i&&o&&n.push(function(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var u=o[a];if(pl(t[u].points,i,r))return"".concat(e,"-placement-").concat(u)}return""}(o,a,t,u)),s&&n.push(s(t)),n.join(" ")},e.getComponent=function(){var t=e.props,n=t.prefixCls,r=t.destroyPopupOnHide,i=t.popupClassName,o=t.onPopupAlign,a=t.popupMotion,u=t.popupAnimation,s=t.popupTransitionName,l=t.popupStyle,c=t.mask,f=t.maskAnimation,d=t.maskTransitionName,h=t.maskMotion,p=t.zIndex,v=t.popup,g=t.stretch,m=t.alignPoint,y=t.mobile,x=t.forceRender,b=e.state,w=b.popupVisible,S=b.point,k=e.getPopupAlign(),C={};return e.isMouseEnterToShow()&&(C.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(C.onMouseLeave=e.onPopupMouseLeave),C.onMouseDown=e.onPopupMouseDown,C.onTouchStart=e.onPopupMouseDown,D.createElement(wf,B({prefixCls:n,destroyPopupOnHide:r,visible:w,point:m&&S,className:i,align:k,onAlign:o,animation:u,getClassNameFromAlign:e.getPopupClassNameFromAlign},C,{stretch:g,getRootDomNode:e.getRootDomNode,style:l,mask:c,zIndex:p,transitionName:s,maskAnimation:f,maskTransitionName:d,maskMotion:h,ref:e.popupRef,motion:a,mobile:y,forceRender:x}),"function"===typeof v?v():v)},e.attachParent=function(t){ka.cancel(e.attachId);var n,r=e.props,i=r.getPopupContainer,o=r.getDocument,a=e.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(e.getRootDomNode()).body,n?n.appendChild(t):e.attachId=ka((function(){e.attachParent(t)}))},e.getContainer=function(){var t=(0,e.props.getDocument)(e.getRootDomNode()).createElement("div");return t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",e.attachParent(t),t},e.setPoint=function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},e.handlePortalUpdate=function(){e.state.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},e.triggerContextValue={onPopupMouseDown:e.onPopupMouseDown},i="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,e.state={prevPopupVisible:i,popupVisible:i},Of.forEach((function(t){e["fire".concat(t)]=function(n){e.fireEvents(t,n)}})),e}return $r(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var t,e=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(t=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=$a(t,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(t=t||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=$a(t,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(t=t||e.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=$a(t,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=$a(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),ka.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var t;return(null===(t=this.popupRef.current)||void 0===t?void 0:t.getElement())||null}},{key:"getPopupAlign",value:function(){var t=this.props,e=t.popupPlacement,n=t.popupAlign,r=t.builtinPlacements;return e&&r?function(t,e,n){return xt(xt({},t[e]||{}),n)}(r,e,n):n}},{key:"setPopupVisible",value:function(t,e){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==t&&("popupVisible"in this.props||this.setState({popupVisible:t,prevPopupVisible:r}),this.props.onPopupVisibleChange(t)),n&&e&&t&&this.setPoint(e)}},{key:"delaySetPopupVisible",value:function(t,e,n){var r=this,i=1e3*e;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(t,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(t,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(t){var e=this.props.children.props,n=this.props;return e[t]&&n[t]?this["fire".concat(t)]:e[t]||n[t]}},{key:"isClickToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var t=this.props.action;return"contextMenu"===t||1===t.length&&"contextMenu"===t[0]}},{key:"isContextMenuToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var t;this.state.popupVisible&&(null===(t=this.popupRef.current)||void 0===t||t.forceAlign())}},{key:"fireEvents",value:function(t,e){var n=this.props.children.props[t];n&&n(e);var r=this.props[t];r&&r(e)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,n=this.props,r=n.children,i=n.forceRender,o=n.alignPoint,a=n.className,u=n.autoDestroy,s=D.Children.only(r),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var c=Mt()(s&&s.props&&s.props.className,a);c&&(l.className=c);var f=xt({},l);uo(s)&&(f.ref=ao(this.triggerRef,s.ref));var d,h=D.cloneElement(s,f);return(e||this.popupRef.current||i)&&(d=D.createElement(t,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&u&&(d=null),D.createElement(Sf.Provider,{value:this.triggerContextValue},h,d)}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.popupVisible,r={};return void 0!==n&&e.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=e.popupVisible),r}}]),r}(D.Component);return e.contextType=Sf,e.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Cf,getDocument:Ef,onPopupVisibleChange:kf,afterPopupVisibleChange:kf,onPopupAlign:kf,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},e}(hl),_f=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Af=function(t,e){var n=t.prefixCls,r=(t.disabled,t.visible),i=t.children,o=t.popupElement,a=t.containerWidth,u=t.animation,s=t.transitionName,l=t.dropdownStyle,c=t.dropdownClassName,f=t.direction,d=void 0===f?"ltr":f,h=t.placement,p=t.dropdownMatchSelectWidth,v=t.dropdownRender,g=t.dropdownAlign,m=t.getPopupContainer,y=t.empty,x=t.getTriggerDOMNode,b=t.onPopupVisibleChange,w=t.onPopupMouseEnter,S=wt(t,_f),k="".concat(n,"-dropdown"),C=o;v&&(C=v(o));var E=D.useMemo((function(){return function(t){var e=!0===t?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}}}}(p)}),[p]),O=u?"".concat(k,"-").concat(u):s,M=D.useRef(null);D.useImperativeHandle(e,(function(){return{getPopupElement:function(){return M.current}}}));var _=xt({minWidth:a},l);return"number"===typeof p?_.width=p:p&&(_.width=a),D.createElement(Mf,B({},S,{showAction:b?["click"]:[],hideAction:b?["click"]:[],popupPlacement:h||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:E,prefixCls:k,popupTransitionName:O,popup:D.createElement("div",{ref:M,onMouseEnter:w},C),popupAlign:g,popupVisible:r,getPopupContainer:m,popupClassName:Mt()(c,mt({},"".concat(k,"-empty"),y)),popupStyle:_,getTriggerDOMNode:x,onPopupVisibleChange:b}),i)},Tf=D.forwardRef(Af);Tf.displayName="SelectTrigger";var Pf=Tf,Df=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"],Ff=void 0;function Nf(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,a=t.responsive,u=t.registerSize,s=t.itemKey,l=t.className,c=t.style,f=t.children,d=t.display,h=t.order,p=t.component,v=void 0===p?"div":p,g=wt(t,Df),m=a&&!d;function y(t){u(s,t)}D.useEffect((function(){return function(){y(null)}}),[]);var x,b=o&&i!==Ff?o(i):f;r||(x={opacity:m?0:1,height:m?0:Ff,overflowY:m?"hidden":Ff,order:a?h:Ff,pointerEvents:m?"none":Ff,position:m?"absolute":Ff});var w={};m&&(w["aria-hidden"]=!0);var S=D.createElement(v,B({className:Mt()(!r&&n,l),style:xt(xt({},x),c)},w,g,{ref:e}),b);return a&&(S=D.createElement(Bo,{onResize:function(t){y(t.offsetWidth)}},S)),S}var If=D.forwardRef(Nf);If.displayName="Item";var Lf=If;var Rf=["component"],jf=["className"],Bf=["className"],zf=function(t,e){var n=D.useContext(Wf);if(!n){var r=t.component,i=void 0===r?"div":r,o=wt(t,Rf);return D.createElement(i,B({},o,{ref:e}))}var a=n.className,u=wt(n,jf),s=t.className,l=wt(t,Bf);return D.createElement(Wf.Provider,{value:null},D.createElement(Lf,B({ref:e,className:Mt()(a,s)},u,l)))},Uf=D.forwardRef(zf);Uf.displayName="RawItem";var Hf=Uf,Vf=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Wf=D.createContext(null),Yf="responsive",qf="invalidate";function Gf(t){return"+ ".concat(t.length," ...")}function $f(t,e){var n=t.prefixCls,r=void 0===n?"rc-overflow":n,i=t.data,o=void 0===i?[]:i,a=t.renderItem,u=t.renderRawItem,s=t.itemKey,l=t.itemWidth,c=void 0===l?10:l,f=t.ssr,d=t.style,h=t.className,p=t.maxCount,v=t.renderRest,g=t.renderRawRest,m=t.suffix,y=t.component,x=void 0===y?"div":y,b=t.itemComponent,w=t.onVisibleChange,S=wt(t,Vf),k=function(){var t=j((0,D.useState)({}),2)[1],e=(0,D.useRef)([]),n=(0,D.useRef)(!1),r=0,i=0;return(0,D.useEffect)((function(){return function(){n.current=!0}}),[]),function(o){var a=r;return r+=1,e.current.length<a+1&&(e.current[a]=o),[e.current[a],function(r){e.current[a]="function"===typeof r?r(e.current[a]):r,ka.cancel(i),i=ka((function(){n.current||t({})}))}]}}(),C="full"===f,E=j(k(null),2),O=E[0],M=E[1],_=O||0,A=j(k(new Map),2),T=A[0],P=A[1],F=j(k(0),2),N=F[0],I=F[1],L=j(k(0),2),R=L[0],z=L[1],U=j(k(0),2),H=U[0],V=U[1],W=j((0,D.useState)(null),2),Y=W[0],q=W[1],G=j((0,D.useState)(null),2),$=G[0],X=G[1],K=D.useMemo((function(){return null===$&&C?Number.MAX_SAFE_INTEGER:$||0}),[$,O]),Z=j((0,D.useState)(!1),2),J=Z[0],Q=Z[1],tt="".concat(r,"-item"),et=Math.max(N,R),nt=o.length&&p===Yf,rt=p===qf,it=nt||"number"===typeof p&&o.length>p,ot=(0,D.useMemo)((function(){var t=o;return nt?t=null===O&&C?o:o.slice(0,Math.min(o.length,_/c)):"number"===typeof p&&(t=o.slice(0,p)),t}),[o,c,O,p,nt]),at=(0,D.useMemo)((function(){return nt?o.slice(K+1):o.slice(ot.length)}),[o,ot,nt,K]),ut=(0,D.useCallback)((function(t,e){var n;return"function"===typeof s?s(t):null!==(n=s&&(null===t||void 0===t?void 0:t[s]))&&void 0!==n?n:e}),[s]),st=(0,D.useCallback)(a||function(t){return t},[a]);function lt(t,e){X(t),e||(Q(t<o.length-1),null===w||void 0===w||w(t))}function ct(t,e){P((function(n){var r=new Map(n);return null===e?r.delete(t):r.set(t,e),r}))}function ft(t){return T.get(ut(ot[t],t))}al((function(){if(_&&et&&ot){var t=H,e=ot.length,n=e-1;if(!e)return lt(0),void q(null);for(var r=0;r<e;r+=1){var i=ft(r);if(void 0===i){lt(r-1,!0);break}if(t+=i,0===n&&t<=_||r===n-1&&t+ft(n)<=_){lt(n),q(null);break}if(t+et>_){lt(r-1),q(t-i-H+R);break}}m&&ft(0)+H>_&&q(null)}}),[_,T,R,H,ut,ot]);var dt=J&&!!at.length,ht={};null!==Y&&nt&&(ht={position:"absolute",left:Y,top:0});var pt,vt={prefixCls:tt,responsive:nt,component:b,invalidate:rt},gt=u?function(t,e){var n=ut(t,e);return D.createElement(Wf.Provider,{key:n,value:xt(xt({},vt),{},{order:e,item:t,itemKey:n,registerSize:ct,display:e<=K})},u(t,e))}:function(t,e){var n=ut(t,e);return D.createElement(Lf,B({},vt,{order:e,key:n,item:t,renderItem:st,itemKey:n,registerSize:ct,display:e<=K}))},mt={order:dt?K:Number.MAX_SAFE_INTEGER,className:"".concat(tt,"-rest"),registerSize:function(t,e){z(e),I(R)},display:dt};if(g)g&&(pt=D.createElement(Wf.Provider,{value:xt(xt({},vt),mt)},g(at)));else{var yt=v||Gf;pt=D.createElement(Lf,B({},vt,mt),"function"===typeof yt?yt(at):yt)}var bt=D.createElement(x,B({className:Mt()(!rt&&r,h),style:d,ref:e},S),ot.map(gt),it?pt:null,m&&D.createElement(Lf,B({},vt,{order:K,className:"".concat(tt,"-suffix"),registerSize:function(t,e){V(e)},display:!0,style:ht}),m));return nt&&(bt=D.createElement(Bo,{onResize:function(t,e){M(e.clientWidth)}},bt)),bt}var Xf=D.forwardRef($f);Xf.displayName="Overflow",Xf.Item=Hf,Xf.RESPONSIVE=Yf,Xf.INVALIDATE=qf;var Kf=Xf,Zf=function(t){var e,n=t.className,r=t.customizeIcon,i=t.customizeIconProps,o=t.onMouseDown,a=t.onClick,u=t.children;return e="function"===typeof r?r(i):r,D.createElement("span",{className:n,onMouseDown:function(t){t.preventDefault(),o&&o(t)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==e?e:D.createElement("span",{className:Mt()(n.split(/\s+/).map((function(t){return"".concat(t,"-icon")})))},u))},Jf=function(t,e){var n,r,i=t.prefixCls,o=t.id,a=t.inputElement,u=t.disabled,s=t.tabIndex,l=t.autoFocus,c=t.autoComplete,f=t.editable,d=t.activeDescendantId,h=t.value,p=t.maxLength,v=t.onKeyDown,g=t.onMouseDown,m=t.onChange,y=t.onPaste,x=t.onCompositionStart,b=t.onCompositionEnd,w=t.open,S=t.attrs,k=a||D.createElement("input",null),C=k,E=C.ref,O=C.props,M=O.onKeyDown,_=O.onChange,A=O.onMouseDown,T=O.onCompositionStart,P=O.onCompositionEnd,F=O.style;return k=D.cloneElement(k,xt(xt(xt({type:"search"},O),{},{id:o,ref:ao(e,E),disabled:u,tabIndex:s,autoComplete:c||"off",autoFocus:l,className:Mt()("".concat(i,"-selection-search-input"),null===(n=k)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-expanded":w,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":d},S),{},{value:f?h:"",maxLength:p,readOnly:!f,unselectable:f?null:"on",style:xt(xt({},F),{},{opacity:f?null:0}),onKeyDown:function(t){v(t),M&&M(t)},onMouseDown:function(t){g(t),A&&A(t)},onChange:function(t){m(t),_&&_(t)},onCompositionStart:function(t){x(t),T&&T(t)},onCompositionEnd:function(t){b(t),P&&P(t)},onPaste:y}))},Qf=D.forwardRef(Jf);Qf.displayName="Input";var td=Qf;function ed(t){return Array.isArray(t)?t:void 0!==t?[t]:[]}var nd="undefined"!==typeof window&&window.document&&window.document.documentElement;var rd=function(t){t.preventDefault(),t.stopPropagation()},id=function(t){var e=t.id,n=t.prefixCls,r=t.values,i=t.open,o=t.searchValue,a=t.inputRef,u=t.placeholder,s=t.disabled,l=t.mode,c=t.showSearch,f=t.autoFocus,d=t.autoComplete,h=t.activeDescendantId,p=t.tabIndex,v=t.removeIcon,g=t.maxTagCount,m=t.maxTagTextLength,y=t.maxTagPlaceholder,x=void 0===y?function(t){return"+ ".concat(t.length," ...")}:y,b=t.tagRender,w=t.onToggleOpen,S=t.onRemove,k=t.onInputChange,C=t.onInputPaste,E=t.onInputKeyDown,O=t.onInputMouseDown,M=t.onInputCompositionStart,_=t.onInputCompositionEnd,A=D.useRef(null),T=j((0,D.useState)(0),2),P=T[0],F=T[1],N=j((0,D.useState)(!1),2),I=N[0],L=N[1],R="".concat(n,"-selection"),B=i||"tags"===l?o:"",z="tags"===l||c&&(i||I);function U(t,e,n,r,i){return D.createElement("span",{className:Mt()("".concat(R,"-item"),mt({},"".concat(R,"-item-disabled"),n)),title:"string"===typeof t||"number"===typeof t?t.toString():void 0},D.createElement("span",{className:"".concat(R,"-item-content")},e),r&&D.createElement(Zf,{className:"".concat(R,"-item-remove"),onMouseDown:rd,onClick:i,customizeIcon:v},"\xd7"))}!function(t,e){nd?D.useLayoutEffect(t,e):D.useEffect(t,e)}((function(){F(A.current.scrollWidth)}),[B]);var H=D.createElement("div",{className:"".concat(R,"-search"),style:{width:P},onFocus:function(){L(!0)},onBlur:function(){L(!1)}},D.createElement(td,{ref:a,open:i,prefixCls:n,id:e,inputElement:null,disabled:s,autoFocus:f,autoComplete:d,editable:z,activeDescendantId:h,value:B,onKeyDown:E,onMouseDown:O,onChange:k,onPaste:C,onCompositionStart:M,onCompositionEnd:_,tabIndex:p,attrs:qi(t,!0)}),D.createElement("span",{ref:A,className:"".concat(R,"-search-mirror"),"aria-hidden":!0},B,"\xa0")),V=D.createElement(Kf,{prefixCls:"".concat(R,"-overflow"),data:r,renderItem:function(t){var e=t.disabled,n=t.label,r=t.value,o=!s&&!e,a=n;if("number"===typeof m&&("string"===typeof n||"number"===typeof n)){var u=String(a);u.length>m&&(a="".concat(u.slice(0,m),"..."))}var l=function(e){e&&e.stopPropagation(),S(t)};return"function"===typeof b?function(t,e,n,r,o){return D.createElement("span",{onMouseDown:function(t){rd(t),w(!i)}},b({label:e,value:t,disabled:n,closable:r,onClose:o}))}(r,a,e,o,l):U(n,a,e,o,l)},renderRest:function(t){var e="function"===typeof x?x(t):x;return U(e,e,!1)},suffix:H,itemKey:"key",maxCount:g});return D.createElement(D.Fragment,null,V,!r.length&&!B&&D.createElement("span",{className:"".concat(R,"-placeholder")},u))},od=function(t){var e=t.inputElement,n=t.prefixCls,r=t.id,i=t.inputRef,o=t.disabled,a=t.autoFocus,u=t.autoComplete,s=t.activeDescendantId,l=t.mode,c=t.open,f=t.values,d=t.placeholder,h=t.tabIndex,p=t.showSearch,v=t.searchValue,g=t.activeValue,m=t.maxLength,y=t.onInputKeyDown,x=t.onInputMouseDown,b=t.onInputChange,w=t.onInputPaste,S=t.onInputCompositionStart,k=t.onInputCompositionEnd,C=j(D.useState(!1),2),E=C[0],O=C[1],M="combobox"===l,_=M||p,A=f[0],T=v||"";M&&g&&!E&&(T=g),D.useEffect((function(){M&&O(!1)}),[M,g]);var P=!("combobox"!==l&&!c&&!p)&&!!T,F=!A||"string"!==typeof A.label&&"number"!==typeof A.label?void 0:A.label.toString();return D.createElement(D.Fragment,null,D.createElement("span",{className:"".concat(n,"-selection-search")},D.createElement(td,{ref:i,prefixCls:n,id:r,open:c,inputElement:e,disabled:o,autoFocus:a,autoComplete:u,editable:_,activeDescendantId:s,value:T,onKeyDown:y,onMouseDown:x,onChange:function(t){O(!0),b(t)},onPaste:w,onCompositionStart:S,onCompositionEnd:k,tabIndex:h,attrs:qi(t,!0),maxLength:M?m:void 0})),!M&&A&&!P&&D.createElement("span",{className:"".concat(n,"-selection-item"),title:F},A.label),function(){if(A)return null;var t=P?{visibility:"hidden"}:void 0;return D.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:t},d)}())};function ad(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,e=D.useRef(null),n=D.useRef(null);function r(r){(r||null===e.current)&&(e.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){e.current=null}),t)}return D.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return e.current},r]}var ud=function(t,e){var n=(0,D.useRef)(null),r=(0,D.useRef)(!1),i=t.prefixCls,o=t.open,a=t.mode,u=t.showSearch,s=t.tokenWithEnter,l=t.onSearch,c=t.onSearchSubmit,f=t.onToggleOpen,d=t.onInputKeyDown,h=t.domRef;D.useImperativeHandle(e,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var p=j(ad(0),2),v=p[0],g=p[1],m=(0,D.useRef)(null),y=function(t){!1!==l(t,!0,r.current)&&f(!0)},x={inputRef:n,onInputKeyDown:function(t){var e,n=t.which;n!==il.UP&&n!==il.DOWN||t.preventDefault(),d&&d(t),n!==il.ENTER||"tags"!==a||r.current||o||null===c||void 0===c||c(t.target.value),e=n,[il.ESC,il.SHIFT,il.BACKSPACE,il.TAB,il.WIN_KEY,il.ALT,il.META,il.WIN_KEY_RIGHT,il.CTRL,il.SEMICOLON,il.EQUALS,il.CAPS_LOCK,il.CONTEXT_MENU,il.F1,il.F2,il.F3,il.F4,il.F5,il.F6,il.F7,il.F8,il.F9,il.F10,il.F11,il.F12].includes(e)||f(!0)},onInputMouseDown:function(){g(!0)},onInputChange:function(t){var e=t.target.value;if(s&&m.current&&/[\r\n]/.test(m.current)){var n=m.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");e=e.replace(n,m.current)}m.current=null,y(e)},onInputPaste:function(t){var e=t.clipboardData.getData("text");m.current=e},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(t){r.current=!1,"combobox"!==a&&y(t.target.value)}},b="multiple"===a||"tags"===a?D.createElement(id,B({},t,x)):D.createElement(od,B({},t,x));return D.createElement("div",{ref:h,className:"".concat(i,"-selector"),onClick:function(t){t.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(t){var e=v();t.target===n.current||e||t.preventDefault(),("combobox"===a||u&&e)&&o||(o&&l("",!0,!1),f())}},b)},sd=D.forwardRef(ud);sd.displayName="Selector";var ld=sd;var cd=D.createContext(null);var fd=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],dd=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function hd(t){return"tags"===t||"multiple"===t}var pd=D.forwardRef((function(t,e){var n,r,i=t.id,o=t.prefixCls,a=t.className,u=t.showSearch,s=t.tagRender,l=t.direction,c=t.omitDomProps,f=t.displayValues,d=t.onDisplayValuesChange,h=t.emptyOptions,p=t.notFoundContent,v=void 0===p?"Not Found":p,g=t.onClear,m=t.mode,y=t.disabled,x=t.loading,b=t.getInputElement,w=t.getRawInputElement,S=t.open,k=t.defaultOpen,C=t.onDropdownVisibleChange,E=t.activeValue,O=t.onActiveValueChange,M=t.activeDescendantId,_=t.searchValue,A=t.onSearch,T=t.onSearchSplit,P=t.tokenSeparators,F=t.allowClear,N=t.showArrow,I=t.inputIcon,L=t.clearIcon,R=t.OptionList,z=t.animation,U=t.transitionName,H=t.dropdownStyle,V=t.dropdownClassName,W=t.dropdownMatchSelectWidth,Y=t.dropdownRender,q=t.dropdownAlign,G=t.placement,$=t.getPopupContainer,X=t.showAction,K=void 0===X?[]:X,Z=t.onFocus,J=t.onBlur,Q=t.onKeyUp,tt=t.onKeyDown,et=t.onMouseDown,nt=wt(t,fd),rt=hd(m),it=(void 0!==u?u:rt)||"combobox"===m,ot=xt({},nt);dd.forEach((function(t){delete ot[t]})),null===c||void 0===c||c.forEach((function(t){delete ot[t]}));var at=j(D.useState(!1),2),ut=at[0],st=at[1];D.useEffect((function(){st(ol())}),[]);var lt=D.useRef(null),ct=D.useRef(null),ft=D.useRef(null),dt=D.useRef(null),ht=D.useRef(null),pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=j(D.useState(!1),2),n=e[0],r=e[1],i=D.useRef(null),o=function(){window.clearTimeout(i.current)};D.useEffect((function(){return o}),[]);var a=function(e,n){o(),i.current=window.setTimeout((function(){r(e),n&&n()}),t)};return[n,a,o]}(),vt=j(pt,3),gt=vt[0],yt=vt[1],bt=vt[2];D.useImperativeHandle(e,(function(){var t,e;return{focus:null===(t=dt.current)||void 0===t?void 0:t.focus,blur:null===(e=dt.current)||void 0===e?void 0:e.blur,scrollTo:function(t){var e;return null===(e=ht.current)||void 0===e?void 0:e.scrollTo(t)}}}));var St=D.useMemo((function(){var t;if("combobox"!==m)return _;var e=null===(t=f[0])||void 0===t?void 0:t.value;return"string"===typeof e||"number"===typeof e?String(e):""}),[_,m,f]),kt="combobox"===m&&"function"===typeof b&&b()||null,Ct="function"===typeof w&&w(),Et=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return io((function(){return ao.apply(void 0,e)}),e,(function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))}))}(ct,null===Ct||void 0===Ct||null===(n=Ct.props)||void 0===n?void 0:n.ref),Ot=j(nl(void 0,{defaultValue:k,value:S}),2),_t=Ot[0],At=Ot[1],Tt=_t,Pt=!v&&h;(y||Pt&&Tt&&"combobox"===m)&&(Tt=!1);var Dt=!Pt&&Tt,Ft=D.useCallback((function(t){var e=void 0!==t?t:!Tt;Tt===e||y||(At(e),null===C||void 0===C||C(e))}),[y,Tt,At,C]),Nt=D.useMemo((function(){return(P||[]).some((function(t){return["\n","\r\n"].includes(t)}))}),[P]),It=function(t,e,n){var r=!0,i=t;null===O||void 0===O||O(null);var o=n?null:function(t,e){if(!e||!e.length)return null;var n=!1,r=function t(e,r){var i=ul(r),o=i[0],a=i.slice(1);if(!o)return[e];var u=e.split(o);return n=n||u.length>1,u.reduce((function(e,n){return[].concat(Ye(e),Ye(t(n,a)))}),[]).filter((function(t){return t}))}(t,e);return n?r:null}(t,P);return"combobox"!==m&&o&&(i="",null===T||void 0===T||T(o),Ft(!1),r=!1),A&&St!==i&&A(i,{source:e?"typing":"effect"}),r};D.useEffect((function(){Tt||rt||"combobox"===m||It("",!1,!1)}),[Tt]),D.useEffect((function(){_t&&y&&At(!1),y&&yt(!1)}),[y]);var Lt=j(ad(),2),Rt=Lt[0],jt=Lt[1],Bt=D.useRef(!1),zt=[];D.useEffect((function(){return function(){zt.forEach((function(t){return clearTimeout(t)})),zt.splice(0,zt.length)}}),[]);var Ut,Ht=j(D.useState(null),2),Vt=Ht[0],Wt=Ht[1],Yt=j(D.useState({}),2)[1];al((function(){if(Dt){var t,e=Math.ceil(null===(t=lt.current)||void 0===t?void 0:t.offsetWidth);Vt===e||Number.isNaN(e)||Wt(e)}}),[Dt]),Ct&&(Ut=function(t){Ft(t)}),function(t,e,n){var r=D.useRef(null);r.current={open:e,triggerOpen:n},D.useEffect((function(){function e(e){var n=e.target;n.shadowRoot&&e.composed&&(n=e.composedPath()[0]||n),r.current.open&&t().filter((function(t){return t})).every((function(t){return!t.contains(n)&&t!==n}))&&r.current.triggerOpen(!1)}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}((function(){var t;return[lt.current,null===(t=ft.current)||void 0===t?void 0:t.getPopupElement()]}),Dt,Ft);var qt,Gt,$t=D.useMemo((function(){return xt(xt({},t),{},{notFoundContent:v,open:Tt,triggerOpen:Dt,id:i,showSearch:it,multiple:rt,toggleOpen:Ft})}),[t,v,Dt,Tt,i,it,rt,Ft]),Xt=void 0!==N?N:x||!rt&&"combobox"!==m;Xt&&(qt=D.createElement(Zf,{className:Mt()("".concat(o,"-arrow"),mt({},"".concat(o,"-arrow-loading"),x)),customizeIcon:I,customizeIconProps:{loading:x,searchValue:St,open:Tt,focused:gt,showSearch:it}}));!y&&F&&(f.length||St)&&(Gt=D.createElement(Zf,{className:"".concat(o,"-clear"),onMouseDown:function(){null===g||void 0===g||g(),d([],{type:"clear",values:f}),It("",!1,!1)},customizeIcon:L},"\xd7"));var Kt,Zt=D.createElement(R,{ref:ht}),Jt=Mt()(o,a,(mt(r={},"".concat(o,"-focused"),gt),mt(r,"".concat(o,"-multiple"),rt),mt(r,"".concat(o,"-single"),!rt),mt(r,"".concat(o,"-allow-clear"),F),mt(r,"".concat(o,"-show-arrow"),Xt),mt(r,"".concat(o,"-disabled"),y),mt(r,"".concat(o,"-loading"),x),mt(r,"".concat(o,"-open"),Tt),mt(r,"".concat(o,"-customize-input"),kt),mt(r,"".concat(o,"-show-search"),it),r)),Qt=D.createElement(Pf,{ref:ft,disabled:y,prefixCls:o,visible:Dt,popupElement:Zt,containerWidth:Vt,animation:z,transitionName:U,dropdownStyle:H,dropdownClassName:V,direction:l,dropdownMatchSelectWidth:W,dropdownRender:Y,dropdownAlign:q,placement:G,getPopupContainer:$,empty:h,getTriggerDOMNode:function(){return ct.current},onPopupVisibleChange:Ut,onPopupMouseEnter:function(){Yt({})}},Ct?D.cloneElement(Ct,{ref:Et}):D.createElement(ld,B({},t,{domRef:ct,prefixCls:o,inputElement:kt,ref:dt,id:i,showSearch:it,mode:m,activeDescendantId:M,tagRender:s,values:f,open:Tt,onToggleOpen:Ft,activeValue:E,searchValue:St,onSearch:It,onSearchSubmit:function(t){t&&t.trim()&&A(t,{source:"submit"})},onRemove:function(t){var e=f.filter((function(e){return e!==t}));d(e,{type:"remove",values:[t]})},tokenWithEnter:Nt})));return Kt=Ct?Qt:D.createElement("div",B({className:Jt},ot,{ref:lt,onMouseDown:function(t){var e,n=t.target,r=null===(e=ft.current)||void 0===e?void 0:e.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var t,e=zt.indexOf(i);-1!==e&&zt.splice(e,1),bt(),ut||r.contains(document.activeElement)||null===(t=dt.current)||void 0===t||t.focus()}));zt.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];null===et||void 0===et||et.apply(void 0,[t].concat(a))},onKeyDown:function(t){var e,n=Rt(),r=t.which;if(r===il.ENTER&&("combobox"!==m&&t.preventDefault(),Tt||Ft(!0)),jt(!!St),r===il.BACKSPACE&&!n&&rt&&!St&&f.length){for(var i=Ye(f),o=null,a=i.length-1;a>=0;a-=1){var u=i[a];if(!u.disabled){i.splice(a,1),o=u;break}}o&&d(i,{type:"remove",values:[o]})}for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];Tt&&ht.current&&(e=ht.current).onKeyDown.apply(e,[t].concat(l)),null===tt||void 0===tt||tt.apply(void 0,[t].concat(l))},onKeyUp:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i;Tt&&ht.current&&(i=ht.current).onKeyUp.apply(i,[t].concat(n)),null===Q||void 0===Q||Q.apply(void 0,[t].concat(n))},onFocus:function(){yt(!0),y||(Z&&!Bt.current&&Z.apply(void 0,arguments),K.includes("focus")&&Ft(!0)),Bt.current=!0},onBlur:function(){yt(!1,(function(){Bt.current=!1,Ft(!1)})),y||(St&&("tags"===m?A(St,{source:"submit"}):"multiple"===m&&A("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),gt&&!Tt&&D.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(f.map((function(t){var e=t.label,n=t.value;return["number","string"].includes(ti(e))?e:n})).join(", "))),Qt,qt,Gt),D.createElement(cd.Provider,{value:$t},Kt)}));var vd=pd;function gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gd(Object(n),!0).forEach((function(e){yd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xd=D.forwardRef((function(t,e){var n=t.height,r=t.offset,i=t.children,o=t.prefixCls,a=t.onInnerResize,u={},s={display:"flex",flexDirection:"column"};return void 0!==r&&(u={height:n,position:"relative",overflow:"hidden"},s=md(md({},s),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),D.createElement("div",{style:u},D.createElement(Bo,{onResize:function(t){t.offsetHeight&&a&&a()}},D.createElement("div",{style:s,className:Mt()(yd({},"".concat(o,"-holder-inner"),o)),ref:e},i)))}));xd.displayName="Filler";var bd=xd;function wd(t){return wd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(t)}function Sd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ed(t,e){return Ed=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ed(t,e)}function Od(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(v1t){return!1}}();return function(){var n,r=_d(t);if(e){var i=_d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Md(this,n)}}function Md(t,e){if(e&&("object"===wd(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_d(t)}function Ad(t){return"touches"in t?t.touches[0].pageY:t.pageY}var Td=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ed(t,e)}(o,t);var e,n,r,i=Od(o);function o(){var t;kd(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).moveRaf=null,t.scrollbarRef=D.createRef(),t.thumbRef=D.createRef(),t.visibleTimeout=null,t.state={dragging:!1,pageY:null,startTop:null,visible:!1},t.delayHidden=function(){clearTimeout(t.visibleTimeout),t.setState({visible:!0}),t.visibleTimeout=setTimeout((function(){t.setState({visible:!1})}),2e3)},t.onScrollbarTouchStart=function(t){t.preventDefault()},t.onContainerMouseDown=function(t){t.stopPropagation(),t.preventDefault()},t.patchEvents=function(){window.addEventListener("mousemove",t.onMouseMove),window.addEventListener("mouseup",t.onMouseUp),t.thumbRef.current.addEventListener("touchmove",t.onMouseMove),t.thumbRef.current.addEventListener("touchend",t.onMouseUp)},t.removeEvents=function(){window.removeEventListener("mousemove",t.onMouseMove),window.removeEventListener("mouseup",t.onMouseUp),t.scrollbarRef.current.removeEventListener("touchstart",t.onScrollbarTouchStart),t.thumbRef.current.removeEventListener("touchstart",t.onMouseDown),t.thumbRef.current.removeEventListener("touchmove",t.onMouseMove),t.thumbRef.current.removeEventListener("touchend",t.onMouseUp),ka.cancel(t.moveRaf)},t.onMouseDown=function(e){var n=t.props.onStartMove;t.setState({dragging:!0,pageY:Ad(e),startTop:t.getTop()}),n(),t.patchEvents(),e.stopPropagation(),e.preventDefault()},t.onMouseMove=function(e){var n=t.state,r=n.dragging,i=n.pageY,o=n.startTop,a=t.props.onScroll;if(ka.cancel(t.moveRaf),r){var u=o+(Ad(e)-i),s=t.getEnableScrollRange(),l=t.getEnableHeightRange(),c=l?u/l:0,f=Math.ceil(c*s);t.moveRaf=ka((function(){a(f)}))}},t.onMouseUp=function(){var e=t.props.onStopMove;t.setState({dragging:!1}),e(),t.removeEvents()},t.getSpinHeight=function(){var e=t.props,n=e.height,r=n/e.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},t.getEnableScrollRange=function(){var e=t.props;return e.scrollHeight-e.height||0},t.getEnableHeightRange=function(){return t.props.height-t.getSpinHeight()||0},t.getTop=function(){var e=t.props.scrollTop,n=t.getEnableScrollRange(),r=t.getEnableHeightRange();return 0===e||0===n?0:e/n*r},t.showScroll=function(){var e=t.props,n=e.height;return e.scrollHeight>n},t}return e=o,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(t){t.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var t=this.state,e=t.dragging,n=t.visible,r=this.props.prefixCls,i=this.getSpinHeight(),o=this.getTop(),a=this.showScroll(),u=a&&n;return D.createElement("div",{ref:this.scrollbarRef,className:Mt()("".concat(r,"-scrollbar"),Sd({},"".concat(r,"-scrollbar-show"),a)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:u?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},D.createElement("div",{ref:this.thumbRef,className:Mt()("".concat(r,"-scrollbar-thumb"),Sd({},"".concat(r,"-scrollbar-thumb-moving"),e)),style:{width:"100%",height:i,top:o,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&Cd(e.prototype,n),r&&Cd(e,r),o}(D.Component);function Pd(t){var e=t.children,n=t.setRef,r=D.useCallback((function(t){n(t)}),[]);return D.cloneElement(e,{ref:r})}function Dd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maps=void 0,this.maps=Object.create(null)}var e,n,r;return e=t,n=[{key:"set",value:function(t,e){this.maps[t]=e}},{key:"get",value:function(t){return this.maps[t]}}],n&&Dd(e.prototype,n),r&&Dd(e,r),t}(),Nd=Fd;function Id(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Ld(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ld(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ld(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rd(t){return Rd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(t)}function jd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Bd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zd(t,e,n){var r=jd(D.useState(t),2),i=r[0],o=r[1],a=jd(D.useState(null),2),u=a[0],s=a[1];return D.useEffect((function(){var r=function(t,e,n){var r,i,o=t.length,a=e.length;if(0===o&&0===a)return null;o<a?(r=t,i=e):(r=e,i=t);var u={__EMPTY_ITEM__:!0};function s(t){return void 0!==t?n(t):u}for(var l=null,c=1!==Math.abs(o-a),f=0;f<i.length;f+=1){var d=s(r[f]);if(d!==s(i[f])){l=f,c=c||d!==s(i[f+1]);break}}return null===l?null:{index:l,multiple:c}}(i||[],t||[],e);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),s(t[r.index])),o(t)}),[t]),[u]}function Ud(t){return Ud="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(t)}var Hd="object"===("undefined"===typeof navigator?"undefined":Ud(navigator))&&/Firefox/i.test(navigator.userAgent),Vd=function(t,e){var n=(0,D.useRef)(!1),r=(0,D.useRef)(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var o=(0,D.useRef)({top:t,bottom:e});return o.current.top=t,o.current.bottom=e,function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t<0&&o.current.top||t>0&&o.current.bottom;return e&&a?(clearTimeout(r.current),n.current=!1):a&&!n.current||i(),!n.current&&a}};var Wd=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function Yd(){return Yd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function qd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qd(Object(n),!0).forEach((function(e){$d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Kd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zd(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Jd=[],Qd={overflowY:"auto",overflowAnchor:"none"};function th(t,e){var n=t.prefixCls,r=void 0===n?"rc-virtual-list":n,i=t.className,o=t.height,a=t.itemHeight,u=t.fullHeight,s=void 0===u||u,l=t.style,c=t.data,f=t.children,d=t.itemKey,h=t.virtual,p=t.component,v=void 0===p?"div":p,g=t.onScroll,m=t.onVisibleChange,y=Zd(t,Wd),x=!(!1===h||!o||!a),b=x&&c&&a*c.length>o,w=Xd((0,D.useState)(0),2),S=w[0],k=w[1],C=Xd((0,D.useState)(!1),2),E=C[0],O=C[1],M=Mt()(r,i),_=c||Jd,A=(0,D.useRef)(),T=(0,D.useRef)(),P=(0,D.useRef)(),F=D.useCallback((function(t){return"function"===typeof d?d(t):null===t||void 0===t?void 0:t[d]}),[d]),N={getKey:F};function I(t){k((function(e){var n=function(t){var e=t;Number.isNaN(Z.current)||(e=Math.min(e,Z.current));return e=Math.max(e,0)}("function"===typeof t?t(e):t);return A.current.scrollTop=n,n}))}var L=(0,D.useRef)({start:0,end:_.length}),R=(0,D.useRef)(),j=Xd(zd(_,F),1)[0];R.current=j;var B=function(t,e,n){var r=Id(D.useState(0),2),i=r[0],o=r[1],a=(0,D.useRef)(new Map),u=(0,D.useRef)(new Nd),s=(0,D.useRef)(0);function l(){s.current+=1;var t=s.current;Promise.resolve().then((function(){t===s.current&&(a.current.forEach((function(t,e){if(t&&t.offsetParent){var n=so(t),r=n.offsetHeight;u.current.get(e)!==r&&u.current.set(e,n.offsetHeight)}})),o((function(t){return t+1})))}))}return[function(r,i){var o=t(r),u=a.current.get(o);i?(a.current.set(o,i),l()):a.current.delete(o),!u!==!i&&(i?null===e||void 0===e||e(r):null===n||void 0===n||n(r))},l,u.current,i]}(F,null,null),z=Xd(B,4),U=z[0],H=z[1],V=z[2],W=z[3],Y=D.useMemo((function(){if(!x)return{scrollHeight:void 0,start:0,end:_.length-1,offset:void 0};var t;if(!b)return{scrollHeight:(null===(t=T.current)||void 0===t?void 0:t.offsetHeight)||0,start:0,end:_.length-1,offset:void 0};for(var e,n,r,i=0,u=_.length,s=0;s<u;s+=1){var l=_[s],c=F(l),f=V.get(c),d=i+(void 0===f?a:f);d>=S&&void 0===e&&(e=s,n=i),d>S+o&&void 0===r&&(r=s),i=d}return void 0===e&&(e=0,n=0),void 0===r&&(r=_.length-1),{scrollHeight:i,start:e,end:r=Math.min(r+1,_.length),offset:n}}),[b,x,S,_,W,o]),q=Y.scrollHeight,G=Y.start,$=Y.end,X=Y.offset;L.current.start=G,L.current.end=$;var K=q-o,Z=(0,D.useRef)(K);Z.current=K;var J=S<=0,Q=S>=K,tt=Vd(J,Q);var et=function(t,e,n,r){var i=(0,D.useRef)(0),o=(0,D.useRef)(null),a=(0,D.useRef)(null),u=(0,D.useRef)(!1),s=Vd(e,n);return[function(e){if(t){ka.cancel(o.current);var n=e.deltaY;i.current+=n,a.current=n,s(n)||(Hd||e.preventDefault(),o.current=ka((function(){var t=u.current?10:1;r(i.current*t),i.current=0})))}},function(e){t&&(u.current=e.detail===a.current)}]}(x,J,Q,(function(t){I((function(e){return e+t}))})),nt=Xd(et,2),rt=nt[0],it=nt[1];!function(t,e,n){var r,i=(0,D.useRef)(!1),o=(0,D.useRef)(0),a=(0,D.useRef)(null),u=(0,D.useRef)(null),s=function(t){if(i.current){var e=Math.ceil(t.touches[0].pageY),r=o.current-e;o.current=e,n(r)&&t.preventDefault(),clearInterval(u.current),u.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(u.current)}),16)}},l=function(){i.current=!1,r()},c=function(t){r(),1!==t.touches.length||i.current||(i.current=!0,o.current=Math.ceil(t.touches[0].pageY),a.current=t.target,a.current.addEventListener("touchmove",s),a.current.addEventListener("touchend",l))};r=function(){a.current&&(a.current.removeEventListener("touchmove",s),a.current.removeEventListener("touchend",l))},D.useLayoutEffect((function(){return t&&e.current.addEventListener("touchstart",c),function(){e.current.removeEventListener("touchstart",c),r(),clearInterval(u.current)}}),[t])}(x,A,(function(t,e){return!tt(t,e)&&(rt({preventDefault:function(){},deltaY:t}),!0)})),(0,D.useLayoutEffect)((function(){function t(t){x&&t.preventDefault()}return A.current.addEventListener("wheel",rt),A.current.addEventListener("DOMMouseScroll",it),A.current.addEventListener("MozMousePixelScroll",t),function(){A.current.removeEventListener("wheel",rt),A.current.removeEventListener("DOMMouseScroll",it),A.current.removeEventListener("MozMousePixelScroll",t)}}),[x]);var ot=function(t,e,n,r,i,o,a,u){var s=D.useRef();return function(l){if(null!==l&&void 0!==l){if(ka.cancel(s.current),"number"===typeof l)a(l);else if(l&&"object"===Rd(l)){var c,f=l.align;c="index"in l?l.index:e.findIndex((function(t){return i(t)===l.key}));var d=l.offset,h=void 0===d?0:d;!function u(l,d){if(!(l<0)&&t.current){var p=t.current.clientHeight,v=!1,g=d;if(p){for(var m=d||f,y=0,x=0,b=0,w=Math.min(e.length,c),S=0;S<=w;S+=1){var k=i(e[S]);x=y;var C=n.get(k);y=b=x+(void 0===C?r:C),S===c&&void 0===C&&(v=!0)}var E=null;switch(m){case"top":E=x-h;break;case"bottom":E=b-p+h;break;default:var O=t.current.scrollTop;x<O?g="top":b>O+p&&(g="bottom")}null!==E&&E!==t.current.scrollTop&&a(E)}s.current=ka((function(){v&&o(),u(l-1,g)}))}}(3)}}else u()}}(A,_,V,a,F,H,I,(function(){var t;null===(t=P.current)||void 0===t||t.delayHidden()}));D.useImperativeHandle(e,(function(){return{scrollTo:ot}})),(0,D.useLayoutEffect)((function(){if(m){var t=_.slice(G,$+1);m(t,_)}}),[G,$,_]);var at=function(t,e,n,r,i,o){var a=o.getKey;return t.slice(e,n+1).map((function(t,n){var o=i(t,e+n,{}),u=a(t);return D.createElement(Pd,{key:u,setRef:function(e){return r(t,e)}},o)}))}(_,G,$,U,f,N),ut=null;return o&&(ut=Gd($d({},s?"height":"maxHeight",o),Qd),x&&(ut.overflowY="hidden",E&&(ut.pointerEvents="none"))),D.createElement("div",Yd({style:Gd(Gd({},l),{},{position:"relative"}),className:M},y),D.createElement(v,{className:"".concat(r,"-holder"),style:ut,ref:A,onScroll:function(t){var e=t.currentTarget.scrollTop;e!==S&&I(e),null===g||void 0===g||g(t)}},D.createElement(bd,{prefixCls:r,height:q,offset:X,onInnerResize:H,ref:T},at)),x&&D.createElement(Td,{ref:P,prefixCls:r,scrollTop:S,height:o,scrollHeight:q,count:_.length,onScroll:function(t){I(t)},onStartMove:function(){O(!0)},onStopMove:function(){O(!1)}}))}var eh=D.forwardRef(th);eh.displayName="List";var nh=eh;var rh=D.createContext(null),ih=["disabled","title","children","style","className"];function oh(t){return"string"===typeof t||"number"===typeof t}var ah=function(t,e){var n=D.useContext(cd),r=n.prefixCls,i=n.id,o=n.open,a=n.multiple,u=n.searchValue,s=n.toggleOpen,l=n.notFoundContent,c=n.onPopupScroll,f=D.useContext(rh),d=f.flattenOptions,h=f.onActiveValue,p=f.defaultActiveFirstOption,v=f.onSelect,g=f.menuItemSelectedIcon,m=f.rawValues,y=f.fieldNames,x=f.virtual,b=f.listHeight,w=f.listItemHeight,S="".concat(r,"-item"),k=io((function(){return d}),[o,d],(function(t,e){return e[0]&&t[1]!==e[1]})),C=D.useRef(null),E=function(t){t.preventDefault()},O=function(t){C.current&&C.current.scrollTo({index:t})},M=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=k.length,r=0;r<n;r+=1){var i=(t+r*e+n)%n,o=k[i],a=o.group,u=o.data;if(!a&&!u.disabled)return i}return-1},_=j(D.useState((function(){return M(0)})),2),A=_[0],T=_[1],P=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];T(t);var n={source:e?"keyboard":"mouse"},r=k[t];r?h(r.value,t,n):h(null,-1,n)};(0,D.useEffect)((function(){P(!1!==p?M(0):-1)}),[k.length,u]),(0,D.useEffect)((function(){var t,e=setTimeout((function(){if(!a&&o&&1===m.size){var t=Array.from(m)[0],e=k.findIndex((function(e){return e.data.value===t}));-1!==e&&(P(e),O(e))}}));o&&(null===(t=C.current)||void 0===t||t.scrollTo(void 0));return function(){return clearTimeout(e)}}),[o,u]);var F=function(t){void 0!==t&&v(t,{selected:!m.has(t)}),a||s(!1)};if(D.useImperativeHandle(e,(function(){return{onKeyDown:function(t){var e=t.which,n=t.ctrlKey;switch(e){case il.N:case il.P:case il.UP:case il.DOWN:var r=0;if(e===il.UP?r=-1:e===il.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(e===il.N?r=1:e===il.P&&(r=-1)),0!==r){var i=M(A+r,r);O(i),P(i,!0)}break;case il.ENTER:var a=k[A];a&&!a.data.disabled?F(a.value):F(void 0),o&&t.preventDefault();break;case il.ESC:s(!1),o&&t.stopPropagation()}},onKeyUp:function(){},scrollTo:function(t){O(t)}}})),0===k.length)return D.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(S,"-empty"),onMouseDown:E},l);var N=Object.keys(y).map((function(t){return y[t]})),I=function(t){return t.label},L=function(t){var e=k[t];if(!e)return null;var n=e.data||{},r=n.value,o=e.group,a=qi(n,!0),u=I(e);return e?D.createElement("div",B({"aria-label":"string"!==typeof u||o?null:u},a,{key:t,role:o?"presentation":"option",id:"".concat(i,"_list_").concat(t),"aria-selected":m.has(r)}),r):null};return D.createElement(D.Fragment,null,D.createElement("div",{role:"listbox",id:"".concat(i,"_list"),style:{height:0,width:0,overflow:"hidden"}},L(A-1),L(A),L(A+1)),D.createElement(nh,{itemKey:"key",ref:C,data:k,height:b,itemHeight:w,fullHeight:!1,onMouseDown:E,onScroll:c,virtual:x},(function(t,e){var n,r=t.group,i=t.groupOption,o=t.data,a=t.label,u=t.value,s=o.key;if(r){var l,c=null!==(l=o.title)&&void 0!==l?l:oh(a)&&a;return D.createElement("div",{className:Mt()(S,"".concat(S,"-group")),title:c},void 0!==a?a:s)}var f=o.disabled,d=o.title,h=(o.children,o.style),p=o.className,v=zi(wt(o,ih),N),y=m.has(u),x="".concat(S,"-option"),b=Mt()(S,x,p,(mt(n={},"".concat(x,"-grouped"),i),mt(n,"".concat(x,"-active"),A===e&&!f),mt(n,"".concat(x,"-disabled"),f),mt(n,"".concat(x,"-selected"),y),n)),w=I(t),k=!g||"function"===typeof g||y,C="number"===typeof w?w:w||u,E=oh(C)?C.toString():void 0;return void 0!==d&&(E=d),D.createElement("div",B({},v,{"aria-selected":y,className:b,title:E,onMouseMove:function(){A===e||f||P(e)},onClick:function(){f||F(u)},style:h}),D.createElement("div",{className:"".concat(x,"-content")},C),D.isValidElement(g)||y,k&&D.createElement(Zf,{className:"".concat(S,"-option-state"),customizeIcon:g,customizeIconProps:{isSelected:y}},y?"\u2713":null))})))},uh=D.forwardRef(ah);uh.displayName="OptionList";var sh=uh,lh=function(){return null};lh.isSelectOption=!0;var ch=lh,fh=function(){return null};fh.isSelectOptGroup=!0;var dh=fh,hh=["children","value"],ph=["children"];function vh(t){var e=t.key,n=t.props,r=n.children,i=n.value;return xt({key:e,value:void 0!==i?i:e,children:r},wt(n,hh))}function gh(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ro(t).map((function(t,n){if(!D.isValidElement(t)||!t.type)return null;var r=t.type.isSelectOptGroup,i=t.key,o=t.props,a=o.children,u=wt(o,ph);return e||!r?vh(t):xt(xt({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},u),{},{options:gh(a)})})).filter((function(t){return t}))}function mh(t,e,n){return D.useMemo((function(){var r=t;!t&&(r=gh(e));var i=new Map,o=new Map;return function t(e){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;a<e.length;a+=1){var u=e[a];!u[n.options]||r?(i.set(u[n.value],u),o.set(u[n.label],u)):t(u[n.options],!0)}}(r),{options:r,valueOptions:i,labelOptions:o}}),[t,e,n])}var yh=0,xh=Gi();function bh(t){var e=j(D.useState(),2),n=e[0],r=e[1];return D.useEffect((function(){r("rc_select_".concat(function(){var t;return xh?(t=yh,yh+=1):t="TEST_OR_SSR",t}()))}),[]),t||n}function wh(t){var e=D.useRef();e.current=t;var n=D.useCallback((function(){return e.current.apply(e,arguments)}),[]);return n}function Sh(t,e){return ed(t).join("").toUpperCase().includes(e)}var kh=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],Ch=["inputValue"];var Eh=D.forwardRef((function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=void 0===i?"rc-select":i,a=t.backfill,u=t.fieldNames,s=t.inputValue,l=t.searchValue,c=t.onSearch,f=t.autoClearSearchValue,d=void 0===f||f,h=t.onSelect,p=t.onDeselect,v=t.dropdownMatchSelectWidth,g=void 0===v||v,m=t.filterOption,y=t.filterSort,x=t.optionFilterProp,b=t.optionLabelProp,w=t.options,S=t.children,k=t.defaultActiveFirstOption,C=t.menuItemSelectedIcon,E=t.virtual,O=t.listHeight,M=void 0===O?200:O,_=t.listItemHeight,A=void 0===_?20:_,T=t.value,P=t.defaultValue,F=t.labelInValue,N=t.onChange,I=wt(t,kh),L=bh(n),R=hd(r),z=!(w||!S),U=D.useMemo((function(){return(void 0!==m||"combobox"!==r)&&m}),[m,r]),H=D.useMemo((function(){return ll(u,z)}),[JSON.stringify(u),z]),V=j(nl("",{value:void 0!==l?l:s,postState:function(t){return t||""}}),2),W=V[0],Y=V[1],q=mh(w,S,H),G=q.valueOptions,$=q.labelOptions,X=q.options,K=D.useCallback((function(t){return ed(t).map((function(t){var e,n,r,i,o;(function(t){return!t||"object"!==ti(t)})(t)?e=t:(r=t.key,n=t.label,e=null!==(o=t.value)&&void 0!==o?o:r);var a,u=G.get(e);u&&(void 0===n&&(n=null===u||void 0===u?void 0:u[b||H.label]),void 0===r&&(r=null!==(a=null===u||void 0===u?void 0:u.key)&&void 0!==a?a:e),i=null===u||void 0===u?void 0:u.disabled);return{label:n,value:e,key:r,disabled:i}}))}),[H,b,G]),Z=j(nl(P,{value:T}),2),J=Z[0],Q=Z[1],tt=D.useMemo((function(){var t,e=K(J);return"combobox"!==r||(null===(t=e[0])||void 0===t?void 0:t.value)?e:[]}),[J,K,r]),et=function(t,e){var n=D.useRef({values:new Map,options:new Map});return[D.useMemo((function(){var r=n.current,i=r.values,o=r.options,a=t.map((function(t){var e;return void 0===t.label?xt(xt({},t),{},{label:null===(e=i.get(t.value))||void 0===e?void 0:e.label}):t})),u=new Map,s=new Map;return a.forEach((function(t){u.set(t.value,t),s.set(t.value,e.get(t.value)||o.get(t.value))})),n.current.values=u,n.current.options=s,a}),[t,e]),D.useCallback((function(t){return e.get(t)||n.current.options.get(t)}),[e])]}(tt,G),nt=j(et,2),rt=nt[0],it=nt[1],ot=D.useMemo((function(){if(!r&&1===rt.length){var t=rt[0];if(null===t.value&&(null===t.label||void 0===t.label))return[]}return rt.map((function(t){var e;return xt(xt({},t),{},{label:null!==(e=t.label)&&void 0!==e?e:t.value})}))}),[r,rt]),at=D.useMemo((function(){return new Set(rt.map((function(t){return t.value})))}),[rt]);D.useEffect((function(){if("combobox"===r){var t,e=null===(t=rt[0])||void 0===t?void 0:t.value;void 0!==e&&null!==e&&Y(String(e))}}),[rt]);var ut=wh((function(t,e){var n,r=null!==e&&void 0!==e?e:t;return mt(n={},H.value,t),mt(n,H.label,r),n})),st=D.useMemo((function(){if("tags"!==r)return X;var t=Ye(X);return Ye(rt).sort((function(t,e){return t.value<e.value?-1:1})).forEach((function(e){var n=e.value;(function(t){return G.has(t)})(n)||t.push(ut(n,e.label))})),t}),[ut,X,G,rt,r]),lt=function(t,e,n,r,i){return D.useMemo((function(){if(!n||!1===r)return t;var o=e.options,a=e.label,u=e.value,s=[],l="function"===typeof r,c=n.toUpperCase(),f=l?r:function(t,e){return i?Sh(e[i],c):e[o]?Sh(e["children"!==a?a:"label"],c):Sh(e[u],c)},d=l?function(t){return cl(t)}:function(t){return t};return t.forEach((function(t){if(t[o])if(f(n,d(t)))s.push(t);else{var e=t[o].filter((function(t){return f(n,d(t))}));e.length&&s.push(xt(xt({},t),{},mt({},o,e)))}else f(n,d(t))&&s.push(t)})),s}),[t,r,i,n,e])}(st,H,W,U,x),ct=D.useMemo((function(){return"tags"!==r||!W||lt.some((function(t){return t[x||"value"]===W}))?lt:[ut(W)].concat(Ye(lt))}),[ut,x,r,lt,W]),ft=D.useMemo((function(){return y?Ye(ct).sort((function(t,e){return y(t,e)})):ct}),[ct,y]),dt=D.useMemo((function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=ll(n,!1),a=o.label,u=o.value,s=o.options;function l(t,e){t.forEach((function(t){var n=t[a];if(e||!(s in t)){var o=t[u];i.push({key:sl(t,i.length),groupOption:e,data:t,label:n,value:o})}else{var c=n;void 0===c&&r&&(c=t.label),i.push({key:sl(t,i.length),group:!0,data:t,label:c}),l(t[s],!0)}}))}return l(t,!1),i}(ft,{fieldNames:H,childrenAsData:z})}),[ft,H,z]),ht=function(t){var e=K(t);if(Q(e),N&&(e.length!==rt.length||e.some((function(t,e){var n;return(null===(n=rt[e])||void 0===n?void 0:n.value)!==(null===t||void 0===t?void 0:t.value)})))){var n=F?e:e.map((function(t){return t.value})),r=e.map((function(t){return cl(it(t.value))}));N(R?n:n[0],R?r:r[0])}},pt=j(D.useState(null),2),vt=pt[0],gt=pt[1],yt=j(D.useState(0),2),bt=yt[0],St=yt[1],kt=void 0!==k?k:"combobox"!==r,Ct=D.useCallback((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.source,o=void 0===i?"keyboard":i;St(e),a&&"combobox"===r&&null!==t&&"keyboard"===o&&gt(String(t))}),[a,r]),Et=function(t,e){var n=function(){var e,n=it(t);return[F?{label:null===n||void 0===n?void 0:n[H.label],value:t,key:null!==(e=null===n||void 0===n?void 0:n.key)&&void 0!==e?e:t}:t,cl(n)]};if(e&&h){var r=j(n(),2),i=r[0],o=r[1];h(i,o)}else if(!e&&p){var a=j(n(),2),u=a[0],s=a[1];p(u,s)}},Ot=wh((function(t,e){var n,i=!R||e.selected;n=i?R?[].concat(Ye(rt),[t]):[t]:rt.filter((function(e){return e.value!==t})),ht(n),Et(t,i),"combobox"===r?gt(""):hd&&!d||(Y(""),gt(""))})),Mt=D.useMemo((function(){var t=!1!==E&&!1!==g;return xt(xt({},q),{},{flattenOptions:dt,onActiveValue:Ct,defaultActiveFirstOption:kt,onSelect:Ot,menuItemSelectedIcon:C,rawValues:at,fieldNames:H,virtual:t,listHeight:M,listItemHeight:A,childrenAsData:z})}),[q,dt,Ct,kt,Ot,C,at,H,E,g,M,A,z]);return D.createElement(rh.Provider,{value:Mt},D.createElement(vd,B({},I,{id:L,prefixCls:o,ref:e,omitDomProps:Ch,mode:r,displayValues:ot,onDisplayValuesChange:function(t,e){ht(t),"remove"!==e.type&&"clear"!==e.type||e.values.forEach((function(t){Et(t.value,!1)}))},searchValue:W,onSearch:function(t,e){if(Y(t),gt(null),"submit"!==e.source)"blur"!==e.source&&("combobox"===r&&ht(t),null===c||void 0===c||c(t));else{var n=(t||"").trim();if(n){var i=Array.from(new Set([].concat(Ye(at),[n])));ht(i),Et(n,!0),Y("")}}},onSearchSplit:function(t){var e=t;"tags"!==r&&(e=t.map((function(t){var e=$.get(t);return null===e||void 0===e?void 0:e.value})).filter((function(t){return void 0!==t})));var n=Array.from(new Set([].concat(Ye(at),Ye(e))));ht(n),n.forEach((function(t){Et(t,!0)}))},dropdownMatchSelectWidth:g,OptionList:sh,emptyOptions:!dt.length,activeValue:vt,activeDescendantId:"".concat(L,"_list_").concat(bt)})))}));var Oh=Eh;Oh.Option=ch,Oh.OptGroup=dh;var Mh=Oh,_h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Ah=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:_h}))};Ah.displayName="DownOutlined";var Th=D.forwardRef(Ah),Ph={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Dh=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Ph}))};Dh.displayName="LoadingOutlined";var Fh=D.forwardRef(Dh),Nh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Ih=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Nh}))};Ih.displayName="CheckOutlined";var Lh=D.forwardRef(Ih),Rh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},jh=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Rh}))};jh.displayName="CloseOutlined";var Bh=D.forwardRef(jh),zh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Uh=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:zh}))};Uh.displayName="CloseCircleFilled";var Hh=D.forwardRef(Uh),Vh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Wh=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Vh}))};Wh.displayName="SearchOutlined";var Yh=D.forwardRef(Wh),qh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},Gh=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:qh}))};Gh.displayName="CheckCircleFilled";var $h=D.forwardRef(Gh),Xh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Kh=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Xh}))};Kh.displayName="ExclamationCircleFilled";var Zh=D.forwardRef(Kh),Jh=(_u("warning","error",""),{success:$h,warning:Zh,error:Hh,validating:Fh}),Qh=function(t,e){var n=e&&Jh[e];return n?D.createElement("span",{className:"".concat(t,"-feedback-icon")},D.createElement(n,null)):null};function tp(t,e,n){var r;return Mt()((mt(r={},"".concat(t,"-status-success"),"success"===e),mt(r,"".concat(t,"-status-warning"),"warning"===e),mt(r,"".concat(t,"-status-error"),"error"===e),mt(r,"".concat(t,"-status-validating"),"validating"===e),mt(r,"".concat(t,"-has-feedback"),n),r))}var ep=function(t,e){return e||t};var np=D.createContext(void 0),rp=function(t){var e=t.children,n=t.size;return D.createElement(np.Consumer,null,(function(t){return D.createElement(np.Provider,{value:n||t},e)}))},ip=np,op="RC_FORM_INTERNAL_HOOKS",ap=function(){eo(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},up=D.createContext({getFieldValue:ap,getFieldsValue:ap,getFieldError:ap,getFieldWarning:ap,getFieldsError:ap,isFieldsTouched:ap,isFieldTouched:ap,isFieldValidating:ap,isFieldsValidating:ap,resetFields:ap,setFields:ap,setFieldsValue:ap,validateFields:ap,submit:ap,getInternalHooks:function(){return ap(),{dispatch:ap,initEntityValue:ap,registerField:ap,useSubscribe:ap,setInitialValues:ap,setCallbacks:ap,getFields:ap,setValidateMessages:ap,setPreserve:ap,getInitialValue:ap}}});function sp(t){return void 0===t||null===t?[]:Array.isArray(t)?t:[t]}function lp(){return lp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cp(t)}function fp(t,e){return fp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fp(t,e)}function dp(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(v1t){return!1}}function hp(t,e,n){return hp=dp()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&fp(i,n.prototype),i},hp.apply(null,arguments)}function pp(t){var e="function"===typeof Map?new Map:void 0;return pp=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return hp(t,arguments,cp(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fp(r,t)},pp(t)}var vp=/%[sdj%]/g;function gp(t){if(!t||!t.length)return null;var e={};return t.forEach((function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)})),e}function mp(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof t)return t.apply(null,n);if("string"===typeof t){var a=t.replace(vp,(function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(Q1){return"[Circular]"}break;default:return t}}));return a}return t}function yp(t,e){return void 0===t||null===t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"date"===t||"pattern"===t}(e)||"string"!==typeof t||t))}function xp(t,e,n){var r=0,i=t.length;!function o(a){if(a&&a.length)n(a);else{var u=r;r+=1,u<i?e(t[u],o):n([])}}([])}var bp=function(t){var e,n;function r(e,n){var r;return(r=t.call(this,"Async Validation Error")||this).errors=e,r.fields=n,r}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,fp(e,n),r}(pp(Error));function wp(t,e,n,r,i){if(e.first){var o=new Promise((function(e,o){var a=function(t){var e=[];return Object.keys(t).forEach((function(n){e.push.apply(e,t[n]||[])})),e}(t);xp(a,n,(function(t){return r(t),t.length?o(new bp(t,gp(t))):e(i)}))}));return o.catch((function(t){return t})),o}var a=!0===e.firstFields?Object.keys(t):e.firstFields||[],u=Object.keys(t),s=u.length,l=0,c=[],f=new Promise((function(e,o){var f=function(t){if(c.push.apply(c,t),++l===s)return r(c),c.length?o(new bp(c,gp(c))):e(i)};u.length||(r(c),e(i)),u.forEach((function(e){var r=t[e];-1!==a.indexOf(e)?xp(r,n,f):function(t,e,n){var r=[],i=0,o=t.length;function a(t){r.push.apply(r,t||[]),++i===o&&n(r)}t.forEach((function(t){e(t,a)}))}(r,n,f)}))}));return f.catch((function(t){return t})),f}function Sp(t,e){return function(n){var r,i;return r=t.fullFields?function(t,e){for(var n=t,r=0;r<e.length;r++){if(void 0==n)return n;n=n[e[r]]}return n}(e,t.fullFields):e[n.field||t.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||t.fullField}}}function kp(t,e){if(e)for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"===typeof r&&"object"===typeof t[n]?t[n]=lp({},t[n],r):t[n]=r}return t}var Cp=function(t,e,n,r,i,o){!t.required||n.hasOwnProperty(t.field)&&!yp(e,o||t.type)||r.push(mp(i.messages.required,t.fullField))},Ep={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Op={integer:function(t){return Op.number(t)&&parseInt(t,10)===t},float:function(t){return Op.number(t)&&!Op.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(v1t){return!1}},date:function(t){return"function"===typeof t.getTime&&"function"===typeof t.getMonth&&"function"===typeof t.getYear&&!isNaN(t.getTime())},number:function(t){return!isNaN(t)&&"number"===typeof t},object:function(t){return"object"===typeof t&&!Op.array(t)},method:function(t){return"function"===typeof t},email:function(t){return"string"===typeof t&&t.length<=320&&!!t.match(Ep.email)},url:function(t){return"string"===typeof t&&t.length<=2048&&!!t.match(Ep.url)},hex:function(t){return"string"===typeof t&&!!t.match(Ep.hex)}},Mp={required:Cp,whitespace:function(t,e,n,r,i){(/^\s+$/.test(e)||""===e)&&r.push(mp(i.messages.whitespace,t.fullField))},type:function(t,e,n,r,i){if(t.required&&void 0===e)Cp(t,e,n,r,i);else{var o=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Op[o](e)||r.push(mp(i.messages.types[o],t.fullField,t.type)):o&&typeof e!==t.type&&r.push(mp(i.messages.types[o],t.fullField,t.type))}},range:function(t,e,n,r,i){var o="number"===typeof t.len,a="number"===typeof t.min,u="number"===typeof t.max,s=e,l=null,c="number"===typeof e,f="string"===typeof e,d=Array.isArray(e);if(c?l="number":f?l="string":d&&(l="array"),!l)return!1;d&&(s=e.length),f&&(s=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?s!==t.len&&r.push(mp(i.messages[l].len,t.fullField,t.len)):a&&!u&&s<t.min?r.push(mp(i.messages[l].min,t.fullField,t.min)):u&&!a&&s>t.max?r.push(mp(i.messages[l].max,t.fullField,t.max)):a&&u&&(s<t.min||s>t.max)&&r.push(mp(i.messages[l].range,t.fullField,t.min,t.max))},enum:function(t,e,n,r,i){t.enum=Array.isArray(t.enum)?t.enum:[],-1===t.enum.indexOf(e)&&r.push(mp(i.messages.enum,t.fullField,t.enum.join(", ")))},pattern:function(t,e,n,r,i){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(mp(i.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"===typeof t.pattern){new RegExp(t.pattern).test(e)||r.push(mp(i.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},_p=function(t,e,n,r,i){var o=t.type,a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e,o)&&!t.required)return n();Mp.required(t,e,r,a,i,o),yp(e,o)||Mp.type(t,e,r,a,i)}n(a)},Ap={string:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e,"string")&&!t.required)return n();Mp.required(t,e,r,o,i,"string"),yp(e,"string")||(Mp.type(t,e,r,o,i),Mp.range(t,e,r,o,i),Mp.pattern(t,e,r,o,i),!0===t.whitespace&&Mp.whitespace(t,e,r,o,i))}n(o)},method:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e)&&!t.required)return n();Mp.required(t,e,r,o,i),void 0!==e&&Mp.type(t,e,r,o,i)}n(o)},number:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(""===e&&(e=void 0),yp(e)&&!t.required)return n();Mp.required(t,e,r,o,i),void 0!==e&&(Mp.type(t,e,r,o,i),Mp.range(t,e,r,o,i))}n(o)},boolean:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e)&&!t.required)return n();Mp.required(t,e,r,o,i),void 0!==e&&Mp.type(t,e,r,o,i)}n(o)},regexp:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e)&&!t.required)return n();Mp.required(t,e,r,o,i),yp(e)||Mp.type(t,e,r,o,i)}n(o)},integer:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e)&&!t.required)return n();Mp.required(t,e,r,o,i),void 0!==e&&(Mp.type(t,e,r,o,i),Mp.range(t,e,r,o,i))}n(o)},float:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e)&&!t.required)return n();Mp.required(t,e,r,o,i),void 0!==e&&(Mp.type(t,e,r,o,i),Mp.range(t,e,r,o,i))}n(o)},array:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if((void 0===e||null===e)&&!t.required)return n();Mp.required(t,e,r,o,i,"array"),void 0!==e&&null!==e&&(Mp.type(t,e,r,o,i),Mp.range(t,e,r,o,i))}n(o)},object:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e)&&!t.required)return n();Mp.required(t,e,r,o,i),void 0!==e&&Mp.type(t,e,r,o,i)}n(o)},enum:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e)&&!t.required)return n();Mp.required(t,e,r,o,i),void 0!==e&&Mp.enum(t,e,r,o,i)}n(o)},pattern:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e,"string")&&!t.required)return n();Mp.required(t,e,r,o,i),yp(e,"string")||Mp.pattern(t,e,r,o,i)}n(o)},date:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e,"date")&&!t.required)return n();var a;if(Mp.required(t,e,r,o,i),!yp(e,"date"))a=e instanceof Date?e:new Date(e),Mp.type(t,a,r,o,i),a&&Mp.range(t,a.getTime(),r,o,i)}n(o)},url:_p,hex:_p,email:_p,required:function(t,e,n,r,i){var o=[],a=Array.isArray(e)?"array":typeof e;Mp.required(t,e,r,o,i,a),n(o)},any:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(yp(e)&&!t.required)return n();Mp.required(t,e,r,o,i)}n(o)}};function Tp(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Pp=Tp(),Dp=function(){function t(t){this.rules=null,this._messages=Pp,this.define(t)}var e=t.prototype;return e.define=function(t){var e=this;if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof t||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach((function(n){var r=t[n];e.rules[n]=Array.isArray(r)?r:[r]}))},e.messages=function(t){return t&&(this._messages=kp(Tp(),t)),this._messages},e.validate=function(e,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=e,a=n,u=r;if("function"===typeof a&&(u=a,a={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,o),Promise.resolve(o);if(a.messages){var s=this.messages();s===Pp&&(s=Tp()),kp(s,a.messages),a.messages=s}else a.messages=this.messages();var l={};(a.keys||Object.keys(this.rules)).forEach((function(t){var n=i.rules[t],r=o[t];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(o===e&&(o=lp({},o)),r=o[t]=a.transform(r)),(a="function"===typeof a?{validator:a}:lp({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=t,a.fullField=a.fullField||t,a.type=i.getType(a),l[t]=l[t]||[],l[t].push({rule:a,value:r,source:o,field:t}))}))}));var c={};return wp(l,a,(function(e,n){var r,i=e.rule,u=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function s(t,e){return lp({},e,{fullField:i.fullField+"."+t,fullFields:i.fullFields?[].concat(i.fullFields,[t]):[t]})}function l(r){void 0===r&&(r=[]);var l=Array.isArray(r)?r:[r];!a.suppressWarning&&l.length&&t.warning("async-validator:",l),l.length&&void 0!==i.message&&(l=[].concat(i.message));var f=l.map(Sp(i,o));if(a.first&&f.length)return c[i.field]=1,n(f);if(u){if(i.required&&!e.value)return void 0!==i.message?f=[].concat(i.message).map(Sp(i,o)):a.error&&(f=[a.error(i,mp(a.messages.required,i.field))]),n(f);var d={};i.defaultField&&Object.keys(e.value).map((function(t){d[t]=i.defaultField})),d=lp({},d,e.rule.fields);var h={};Object.keys(d).forEach((function(t){var e=d[t],n=Array.isArray(e)?e:[e];h[t]=n.map(s.bind(null,t))}));var p=new t(h);p.messages(a.messages),e.rule.options&&(e.rule.options.messages=a.messages,e.rule.options.error=a.error),p.validate(e.value,e.rule.options||a,(function(t){var e=[];f&&f.length&&e.push.apply(e,f),t&&t.length&&e.push.apply(e,t),n(e.length?e:null)}))}else n(f)}u=u&&(i.required||!i.required&&e.value),i.field=e.field,i.asyncValidator?r=i.asyncValidator(i,e.value,l,e.source,a):i.validator&&(!0===(r=i.validator(i,e.value,l,e.source,a))?l():!1===r?l("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?l(r):r instanceof Error&&l(r.message)),r&&r.then&&r.then((function(){return l()}),(function(t){return l(t)}))}),(function(t){!function(t){var e=[],n={};function r(t){var n;Array.isArray(t)?e=(n=e).concat.apply(n,t):e.push(t)}for(var i=0;i<t.length;i++)r(t[i]);e.length?(n=gp(e),u(e,n)):u(null,o)}(t)}),o)},e.getType=function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!==typeof t.validator&&t.type&&!Ap.hasOwnProperty(t.type))throw new Error(mp("Unknown rule type %s",t.type));return t.type||"string"},e.getValidationMethod=function(t){if("function"===typeof t.validator)return t.validator;var e=Object.keys(t),n=e.indexOf("message");return-1!==n&&e.splice(n,1),1===e.length&&"required"===e[0]?Ap.required:Ap[this.getType(t)]||void 0},t}();Dp.register=function(t,e){if("function"!==typeof e)throw new Error("Cannot register a validator by type, validator is not a function");Ap[t]=e},Dp.warning=function(){},Dp.messages=Pp,Dp.validators=Ap;var Fp="'${name}' is not a valid ${type}",Np={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Fp,method:Fp,array:Fp,object:Fp,number:Fp,date:Fp,boolean:Fp,integer:Fp,float:Fp,regexp:Fp,email:Fp,url:Fp,hex:Fp},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Ip(t,e){for(var n=t,r=0;r<e.length;r+=1){if(null===n||void 0===n)return;n=n[e[r]]}return n}function Lp(t,e,n,r){if(!e.length)return n;var i,o=ul(e),a=o[0],u=o.slice(1);return i=t||"number"!==typeof a?Array.isArray(t)?Ye(t):xt({},t):[],r&&void 0===n&&1===u.length?delete i[a][u[0]]:i[a]=Lp(i[a],u,n,r),i}function Rp(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.length&&r&&void 0===n&&!Ip(t,e.slice(0,-1))?t:Lp(t,e,n,r)}function jp(t){return Array.isArray(t)?function(t){return t.map((function(t){return jp(t)}))}(t):"object"===ti(t)&&null!==t?function(t){if(Object.getPrototypeOf(t)===Object.prototype){var e={};for(var n in t)e[n]=jp(t[n]);return e}return t}(t):t}var Bp=jp;function zp(t){return sp(t)}function Up(t,e){return Ip(t,e)}function Hp(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Rp(t,e,n,r);return i}function Vp(t,e){var n={};return e.forEach((function(e){var r=Up(t,e);n=Hp(n,e,r)})),n}function Wp(t,e){return t&&t.some((function(t){return $p(t,e)}))}function Yp(t){return"object"===ti(t)&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function qp(t,e){var n=Array.isArray(t)?Ye(t):xt({},t);return e?(Object.keys(e).forEach((function(t){var r=n[t],i=e[t],o=Yp(r)&&Yp(i);n[t]=o?qp(r,i||{}):Bp(i)})),n):n}function Gp(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(t,e){return qp(t,e)}),t)}function $p(t,e){return!(!t||!e||t.length!==e.length)&&t.every((function(t,n){return e[n]===t}))}function Xp(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&"object"===ti(e.target)&&t in e.target?e.target[t]:e}function Kp(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(Ye(t.slice(0,n)),[i],Ye(t.slice(n,e)),Ye(t.slice(e+1,r))):o<0?[].concat(Ye(t.slice(0,e)),Ye(t.slice(e+1,n+1)),[i],Ye(t.slice(n+1,r))):t}var Zp=Dp;function Jp(t,e){return t.replace(/\$\{\w+\}/g,(function(t){var n=t.slice(2,-1);return e[n]}))}function Qp(t,e,n,r,i){return tv.apply(this,arguments)}function tv(){return tv=kt(Et().mark((function t(e,n,r,i,o){var a,u,s,l,c,f,d,h;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(a=xt({},r)).ruleIndex,u=null,a&&"array"===a.type&&a.defaultField&&(u=a.defaultField,delete a.defaultField),s=new Zp(mt({},e,[a])),l=Gp({},Np,i.validateMessages),s.messages(l),c=[],t.prev=8,t.next=11,Promise.resolve(s.validate(mt({},e,n),xt({},i)));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),t.t0.errors?c=t.t0.errors.map((function(t,e){var n=t.message;return D.isValidElement(n)?D.cloneElement(n,{key:"error_".concat(e)}):n})):(console.error(t.t0),c=[l.default]);case 16:if(c.length||!u){t.next=21;break}return t.next=19,Promise.all(n.map((function(t,n){return Qp("".concat(e,".").concat(n),t,u,i,o)})));case 19:return f=t.sent,t.abrupt("return",f.reduce((function(t,e){return[].concat(Ye(t),Ye(e))}),[]));case 21:return d=xt(xt({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),h=c.map((function(t){return"string"===typeof t?Jp(t,d):t})),t.abrupt("return",h);case 24:case"end":return t.stop()}}),t,null,[[8,13]])}))),tv.apply(this,arguments)}function ev(t,e,n,r,i,o){var a,u=t.join("."),s=n.map((function(t,e){var n=t.validator,r=xt(xt({},t),{},{ruleIndex:e});return n&&(r.validator=function(t,e,r){var i=!1,o=n(t,e,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Promise.resolve().then((function(){eo(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,e)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,eo(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(t){r(t||" ")}))}),r})).sort((function(t,e){var n=t.warningOnly,r=t.ruleIndex,i=e.warningOnly,o=e.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var t=kt(Et().mark((function t(n,i){var a,l,c;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<s.length)){t.next=12;break}return l=s[a],t.next=5,Qp(u,e,l,r,o);case 5:if(!(c=t.sent).length){t.next=9;break}return i([{errors:c,rule:l}]),t.abrupt("return");case 9:a+=1,t.next=1;break;case 12:n([]);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());else{var l=s.map((function(t){return Qp(u,e,t,r,o).then((function(e){return{errors:e,rule:t}}))}));a=(i?function(t){return rv.apply(this,arguments)}(l):function(t){return nv.apply(this,arguments)}(l)).then((function(t){return Promise.reject(t)}))}return a.catch((function(t){return t})),a}function nv(){return(nv=kt(Et().mark((function t(e){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e).then((function(t){var e;return(e=[]).concat.apply(e,Ye(t))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rv(){return rv=kt(Et().mark((function t(e){var n;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=0,t.abrupt("return",new Promise((function(t){e.forEach((function(r){r.then((function(r){r.errors.length&&t([r]),(n+=1)===e.length&&t([])}))}))})));case 2:case"end":return t.stop()}}),t)}))),rv.apply(this,arguments)}var iv=["name"],ov=[];function av(t,e,n,r,i,o){return"function"===typeof t?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var uv=function(t){Zr(n,t);var e=ri(n);function n(t){var r;(Xr(this,n),(r=e.call(this,t)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=ov,r.warnings=ov,r.cancelRegister=function(){var t=r.props,e=t.preserve,n=t.isListField,i=t.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,e,zp(i)),r.cancelRegisterFunc=null},r.getNamePath=function(){var t=r.props,e=t.name,n=t.fieldContext.prefixName;return void 0!==e?[].concat(Ye(void 0===n?[]:n),Ye(e)):[]},r.getRules=function(){var t=r.props,e=t.rules,n=void 0===e?[]:e,i=t.fieldContext;return n.map((function(t){return"function"===typeof t?t(i):t}))},r.refresh=function(){r.mounted&&r.setState((function(t){return{resetCount:t.resetCount+1}}))},r.triggerMetaEvent=function(t){var e=r.props.onMetaChange;null===e||void 0===e||e(xt(xt({},r.getMeta()),{},{destroy:t}))},r.onStoreChange=function(t,e,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,u=void 0===a?[]:a,s=i.onReset,l=n.store,c=r.getNamePath(),f=r.getValue(t),d=r.getValue(l),h=e&&Wp(e,c);switch("valueUpdate"===n.type&&"external"===n.source&&f!==d&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=ov,r.warnings=ov,r.triggerMetaEvent()),n.type){case"reset":if(!e||h)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=ov,r.warnings=ov,r.triggerMetaEvent(),null===s||void 0===s||s(),void r.refresh();break;case"remove":if(o)return void r.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||ov),"warnings"in p&&(r.warnings=p.warnings||ov),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(o&&!c.length&&av(o,t,l,f,d,n))return void r.reRender();break;case"dependenciesUpdate":if(u.map(zp).some((function(t){return Wp(n.relatedFields,t)})))return void r.reRender();break;default:if(h||(!u.length||c.length||o)&&av(o,t,l,f,d,n))return void r.reRender()}!0===o&&r.reRender()},r.validateRules=function(t){var e=r.getNamePath(),n=r.getValue(),i=Promise.resolve().then((function(){if(!r.mounted)return[];var o=r.props,a=o.validateFirst,u=void 0!==a&&a,s=o.messageVariables,l=(t||{}).triggerName,c=r.getRules();l&&(c=c.filter((function(t){var e=t.validateTrigger;return!e||sp(e).includes(l)})));var f=ev(e,n,c,t,u,s);return f.catch((function(t){return t})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ov;if(r.validatePromise===i){r.validatePromise=null;var e=[],n=[];t.forEach((function(t){var r=t.rule.warningOnly,i=t.errors,o=void 0===i?ov:i;r?n.push.apply(n,Ye(o)):e.push.apply(e,Ye(o))})),r.errors=e,r.warnings=n,r.triggerMetaEvent(),r.reRender()}})),f}));return r.validatePromise=i,r.dirty=!0,r.errors=ov,r.warnings=ov,r.triggerMetaEvent(),r.reRender(),i},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(op).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()}},r.getOnlyChild=function(t){if("function"===typeof t){var e=r.getMeta();return xt(xt({},r.getOnlyChild(t(r.getControlled(),e,r.props.fieldContext))),{},{isFunction:!0})}var n=ro(t);return 1===n.length&&D.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(t){var e=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return Up(t||e(!0),n)},r.getControlled=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r.props,n=e.trigger,i=e.validateTrigger,o=e.getValueFromEvent,a=e.normalize,u=e.valuePropName,s=e.getValueProps,l=e.fieldContext,c=void 0!==i?i:l.validateTrigger,f=r.getNamePath(),d=l.getInternalHooks,h=l.getFieldsValue,p=d(op),v=p.dispatch,g=r.getValue(),m=s||function(t){return mt({},u,t)},y=t[n],x=xt(xt({},t),m(g));x[n]=function(){var t;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t=o?o.apply(void 0,n):Xp.apply(void 0,[u].concat(n)),a&&(t=a(t,g,h(!0))),v({type:"updateValue",namePath:f,value:t}),y&&y.apply(void 0,n)};var b=sp(c||[]);return b.forEach((function(t){var e=x[t];x[t]=function(){e&&e.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:t})}})),x},t.fieldContext)&&(0,(0,t.fieldContext.getInternalHooks)(op).initEntityValue)(ei(r));return r}return $r(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.shouldUpdate,n=t.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(op).registerField;this.cancelRegisterFunc=r(this)}!0===e&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,e=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?t=i:D.isValidElement(i)?t=D.cloneElement(i,this.getControlled(i.props)):(eo(!i,"`children` of Field is not validate ReactElement."),t=i),D.createElement(D.Fragment,{key:e},t)}}]),n}(D.Component);uv.contextType=up,uv.defaultProps={trigger:"onChange",valuePropName:"value"};var sv=function(t){var e=t.name,n=wt(t,iv),r=D.useContext(up),i=void 0!==e?zp(e):void 0,o="keep";return n.isListField||(o="_".concat((i||[]).join("_"))),D.createElement(uv,B({key:o,name:i},n,{fieldContext:r}))},lv=D.createContext(null),cv=function(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,a=D.useContext(up),u=D.useRef({keys:[],id:0}).current,s=D.useMemo((function(){var t=zp(a.prefixName)||[];return[].concat(Ye(t),Ye(zp(e)))}),[a.prefixName,e]),l=D.useMemo((function(){return xt(xt({},a),{},{prefixName:s})}),[a,s]),c=D.useMemo((function(){return{getKey:function(t){var e=s.length,n=t[e];return[u.keys[n],t.slice(e+1)]}}}),[s]);if("function"!==typeof r)return eo(!1,"Form.List only accepts function as children."),null;return D.createElement(lv.Provider,{value:c},D.createElement(up.Provider,{value:l},D.createElement(sv,{name:[],shouldUpdate:function(t,e,n){return"internal"!==n.source&&t!==e},rules:i,validateTrigger:o,initialValue:n,isList:!0},(function(t,e){var n=t.value,i=void 0===n?[]:n,o=t.onChange,l=a.getFieldValue,c=function(){return l(s||[])||[]},f={add:function(t,e){var n=c();e>=0&&e<=n.length?(u.keys=[].concat(Ye(u.keys.slice(0,e)),[u.id],Ye(u.keys.slice(e))),o([].concat(Ye(n.slice(0,e)),[t],Ye(n.slice(e))))):(u.keys=[].concat(Ye(u.keys),[u.id]),o([].concat(Ye(n),[t]))),u.id+=1},remove:function(t){var e=c(),n=new Set(Array.isArray(t)?t:[t]);n.size<=0||(u.keys=u.keys.filter((function(t,e){return!n.has(e)})),o(e.filter((function(t,e){return!n.has(e)}))))},move:function(t,e){if(t!==e){var n=c();t<0||t>=n.length||e<0||e>=n.length||(u.keys=Kp(u.keys,t,e),o(Kp(n,t,e)))}}},d=i||[];return Array.isArray(d)||(d=[]),r(d.map((function(t,e){var n=u.keys[e];return void 0===n&&(u.keys[e]=u.id,n=u.keys[e],u.id+=1),{name:e,key:n,isListField:!0}})),f,e)}))))};var fv="__@field_split__";function dv(t){return t.map((function(t){return"".concat(ti(t),":").concat(t)})).join(fv)}var hv=function(){function t(){Xr(this,t),this.kvs=new Map}return $r(t,[{key:"set",value:function(t,e){this.kvs.set(dv(t),e)}},{key:"get",value:function(t){return this.kvs.get(dv(t))}},{key:"update",value:function(t,e){var n=e(this.get(t));n?this.set(t,n):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(dv(t))}},{key:"map",value:function(t){return Ye(this.kvs.entries()).map((function(e){var n=j(e,2),r=n[0],i=n[1],o=r.split(fv);return t({key:o.map((function(t){var e=j(t.match(/^([^:]*):(.*)$/),3),n=e[1],r=e[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var t={};return this.map((function(e){var n=e.key,r=e.value;return t[n.join(".")]=r,null})),t}}]),t}(),pv=hv,vv=["name","errors"],gv=$r((function t(e){var n=this;Xr(this,t),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(t){return t===op?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue}):(eo(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(t){n.subscribable=t},this.setInitialValues=function(t,e){n.initialValues=t||{},e&&(n.store=Gp({},n.store,t))},this.getInitialValue=function(t){return Bp(Up(n.initialValues,t))},this.setCallbacks=function(t){n.callbacks=t},this.setValidateMessages=function(t){n.validateMessages=t},this.setPreserve=function(t){n.preserve=t},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?n.fieldEntities.filter((function(t){return t.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new pv;return n.getFieldEntities(t).forEach((function(t){var n=t.getNamePath();e.set(n,t)})),e},this.getFieldEntitiesForNamePathList=function(t){if(!t)return n.getFieldEntities(!0);var e=n.getFieldsMap(!0);return t.map((function(t){var n=zp(t);return e.get(n)||{INVALIDATE_NAME_PATH:zp(t)}}))},this.getFieldsValue=function(t,e){if(n.warningUnhooked(),!0===t&&!e)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(t)?t:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(t||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(e){var a="getMeta"in n?n.getMeta():null;e(a)&&i.push(o)}else i.push(o)})),Vp(n.store,i.map(zp))},this.getFieldValue=function(t){n.warningUnhooked();var e=zp(t);return Up(n.store,e)},this.getFieldsError=function(t){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(t).map((function(e,n){return e&&!("INVALIDATE_NAME_PATH"in e)?{name:e.getNamePath(),errors:e.getErrors(),warnings:e.getWarnings()}:{name:zp(t[n]),errors:[],warnings:[]}}))},this.getFieldError=function(t){n.warningUnhooked();var e=zp(t);return n.getFieldsError([e])[0].errors},this.getFieldWarning=function(t){n.warningUnhooked();var e=zp(t);return n.getFieldsError([e])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i,o=e[0],a=e[1],u=!1;0===e.length?i=null:1===e.length?Array.isArray(o)?(i=o.map(zp),u=!1):(i=null,u=o):(i=o.map(zp),u=a);var s=n.getFieldEntities(!0),l=function(t){return t.isFieldTouched()};if(!i)return u?s.every(l):s.some(l);var c=new pv;i.forEach((function(t){c.set(t,[])})),s.forEach((function(t){var e=t.getNamePath();i.forEach((function(n){n.every((function(t,n){return e[n]===t}))&&c.update(n,(function(e){return[].concat(Ye(e),[t])}))}))}));var f=function(t){return t.some(l)},d=c.map((function(t){return t.value}));return u?d.every(f):d.some(f)},this.isFieldTouched=function(t){return n.warningUnhooked(),n.isFieldsTouched([t])},this.isFieldsValidating=function(t){n.warningUnhooked();var e=n.getFieldEntities();if(!t)return e.some((function(t){return t.isFieldValidating()}));var r=t.map(zp);return e.some((function(t){var e=t.getNamePath();return Wp(r,e)&&t.isFieldValidating()}))},this.isFieldValidating=function(t){return n.warningUnhooked(),n.isFieldsValidating([t])},this.resetWithFieldInitialValue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new pv,r=n.getFieldEntities(!0);r.forEach((function(t){var n=t.props.initialValue,r=t.getNamePath();if(void 0!==n){var i=e.get(r)||new Set;i.add({entity:t,value:n}),e.set(r,i)}}));var i,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))eo(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=e.get(i);if(o&&o.size>1)eo(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);t.skipExist&&void 0!==a||(n.store=Hp(n.store,i,Ye(o)[0].value))}}}}))};t.entities?i=t.entities:t.namePathList?(i=[],t.namePathList.forEach((function(t){var n,r=e.get(t);r&&(n=i).push.apply(n,Ye(Ye(r).map((function(t){return t.entity}))))}))):i=r,o(i)},this.resetFields=function(t){n.warningUnhooked();var e=n.store;if(!t)return n.store=Gp({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(e,null,{type:"reset"});var r=t.map(zp);r.forEach((function(t){var e=n.getInitialValue(t);n.store=Hp(n.store,t,e)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(e,r,{type:"reset"})},this.setFields=function(t){n.warningUnhooked();var e=n.store;t.forEach((function(t){var r=t.name,i=(t.errors,wt(t,vv)),o=zp(r);"value"in i&&(n.store=Hp(n.store,o,i.value)),n.notifyObservers(e,[o],{type:"setField",data:t})}))},this.getFields=function(){var t=n.getFieldEntities(!0).map((function(t){var e=t.getNamePath(),r=xt(xt({},t.getMeta()),{},{name:e,value:n.getFieldValue(e)});return Object.defineProperty(r,"originRCField",{value:!0}),r}));return t},this.initEntityValue=function(t){var e=t.props.initialValue;if(void 0!==e){var r=t.getNamePath();void 0===Up(n.store,r)&&(n.store=Hp(n.store,r,e))}},this.registerField=function(t){if(n.fieldEntities.push(t),void 0!==t.props.initialValue){var e=n.store;n.resetWithFieldInitialValue({entities:[t],skipExist:!0}),n.notifyObservers(e,[t.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(e){return e!==t}));var o=void 0!==r?r:n.preserve;if(!1===o&&(!e||i.length>1)){var a=t.getNamePath(),u=e?void 0:n.getInitialValue(a);if(a.length&&n.getFieldValue(a)!==u&&n.fieldEntities.every((function(t){return!$p(t.getNamePath(),a)}))){var s=n.store;n.store=Hp(s,a,u,!0),n.notifyObservers(s,[a],{type:"remove"}),n.triggerDependenciesUpdate(s,a)}}}},this.dispatch=function(t){switch(t.type){case"updateValue":var e=t.namePath,r=t.value;n.updateValue(e,r);break;case"validateField":var i=t.namePath,o=t.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(t,e,r){if(n.subscribable){var i=xt(xt({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(t,e,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(t,e){var r=n.getDependencyChildrenFields(e);return r.length&&n.validateFields(r),n.notifyObservers(t,r,{type:"dependenciesUpdate",relatedFields:[e].concat(Ye(r))}),r},this.updateValue=function(t,e){var r=zp(t),i=n.store;n.store=Hp(n.store,r,e),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(Vp(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Ye(o)))},this.setFieldsValue=function(t){n.warningUnhooked();var e=n.store;t&&(n.store=Gp(n.store,t)),n.notifyObservers(e,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(t){var e=new Set,r=[],i=new pv;n.getFieldEntities().forEach((function(t){(t.props.dependencies||[]).forEach((function(e){var n=zp(e);i.update(n,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return e.add(t),e}))}))}));return function t(n){(i.get(n)||new Set).forEach((function(n){if(!e.has(n)){e.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),t(i))}}))}(t),r},this.triggerOnFieldsChange=function(t,e){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(e){var o=new pv;e.forEach((function(t){var e=t.name,n=t.errors;o.set(e,n)})),i.forEach((function(t){t.errors=o.get(t.name)||t.errors}))}r(i.filter((function(e){var n=e.name;return Wp(t,n)})),i)}},this.validateFields=function(t,e){n.warningUnhooked();var r=!!t,i=r?t.map(zp):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null===e||void 0===e?void 0:e.recursive)&&r){var u=a.getNamePath();u.every((function(e,n){return t[n]===e||void 0===t[n]}))&&i.push(u)}if(a.props.rules&&a.props.rules.length){var s=a.getNamePath();if(!r||Wp(i,s)){var l=a.validateRules(xt({validateMessages:xt(xt({},Np),n.validateMessages)},e));o.push(l.then((function(){return{name:s,errors:[],warnings:[]}})).catch((function(t){var e=[],n=[];return t.forEach((function(t){var r=t.rule.warningOnly,i=t.errors;r?n.push.apply(n,Ye(i)):e.push.apply(e,Ye(i))})),e.length?Promise.reject({name:s,errors:e,warnings:n}):{name:s,errors:e,warnings:n}})))}}}));var a=function(t){var e=!1,n=t.length,r=[];return t.length?new Promise((function(i,o){t.forEach((function(t,a){t.catch((function(t){return e=!0,t})).then((function(t){n-=1,r[a]=t,n>0||(e&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(t){return t})).then((function(t){var e=t.map((function(t){return t.name}));n.notifyObservers(n.store,e,{type:"validateFinish"}),n.triggerOnFieldsChange(e,t)}));var u=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(t){var e=t.filter((function(t){return t&&t.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:e,outOfDate:n.lastValidatePromise!==a})}));return u.catch((function(t){return t})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(t){var e=n.callbacks.onFinish;if(e)try{e(t)}catch(r){console.error(r)}})).catch((function(t){var e=n.callbacks.onFinishFailed;e&&e(t)}))},this.forceRootUpdate=e}));var mv=function(t){var e=D.useRef(),n=j(D.useState({}),2)[1];if(!e.current)if(t)e.current=t;else{var r=new gv((function(){n({})}));e.current=r.getForm()}return[e.current]},yv=D.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),xv=function(t){var e=t.validateMessages,n=t.onFormChange,r=t.onFormFinish,i=t.children,o=D.useContext(yv),a=D.useRef({});return D.createElement(yv.Provider,{value:xt(xt({},o),{},{validateMessages:xt(xt({},o.validateMessages),e),triggerFormChange:function(t,e){n&&n(t,{changedFields:e,forms:a.current}),o.triggerFormChange(t,e)},triggerFormFinish:function(t,e){r&&r(t,{values:e,forms:a.current}),o.triggerFormFinish(t,e)},registerForm:function(t,e){t&&(a.current=xt(xt({},a.current),{},mt({},t,e))),o.registerForm(t,e)},unregisterForm:function(t){var e=xt({},a.current);delete e[t],a.current=e,o.unregisterForm(t)}})},i)},bv=yv,wv=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Sv=function(t,e){var n=t.name,r=t.initialValues,i=t.fields,o=t.form,a=t.preserve,u=t.children,s=t.component,l=void 0===s?"form":s,c=t.validateMessages,f=t.validateTrigger,d=void 0===f?"onChange":f,h=t.onValuesChange,p=t.onFieldsChange,v=t.onFinish,g=t.onFinishFailed,m=wt(t,wv),y=D.useContext(bv),x=j(mv(o),1)[0],b=x.getInternalHooks(op),w=b.useSubscribe,S=b.setInitialValues,k=b.setCallbacks,C=b.setValidateMessages,E=b.setPreserve;D.useImperativeHandle(e,(function(){return x})),D.useEffect((function(){return y.registerForm(n,x),function(){y.unregisterForm(n)}}),[y,x,n]),C(xt(xt({},y.validateMessages),c)),k({onValuesChange:h,onFieldsChange:function(t){if(y.triggerFormChange(n,t),p){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];p.apply(void 0,[t].concat(r))}},onFinish:function(t){y.triggerFormFinish(n,t),v&&v(t)},onFinishFailed:g}),E(a);var O=D.useRef(null);S(r,!O.current),O.current||(O.current=!0);var M=u,_="function"===typeof u;_&&(M=u(x.getFieldsValue(!0),x));w(!_);var A=D.useRef();D.useEffect((function(){(function(t,e){if(t===e)return!0;if(!t&&e||t&&!e)return!1;if(!t||!e||"object"!==ti(t)||"object"!==ti(e))return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(Ye(n),Ye(r)));return Ye(i).every((function(n){var r=t[n],i=e[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(A.current||[],i||[])||x.setFields(i||[]),A.current=i}),[i,x]);var T=D.useMemo((function(){return xt(xt({},x),{},{validateTrigger:d})}),[x,d]),P=D.createElement(up.Provider,{value:T},M);return!1===l?P:D.createElement(l,B({},m,{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),x.submit()},onReset:function(t){var e;t.preventDefault(),x.resetFields(),null===(e=m.onReset)||void 0===e||e.call(m,t)}}),P)},kv=D.forwardRef(Sv);kv.FormProvider=xv,kv.Field=sv,kv.List=cv,kv.useForm=mv;var Cv=D.createContext({}),Ev=function(t){var e=t.children,n=(0,D.useMemo)((function(){return{}}),[]);return D.createElement(Cv.Provider,{value:n},e)},Ov=function(){return{height:0,opacity:0}},Mv=function(t){return{height:t.scrollHeight,opacity:1}},_v=function(t,e){return!0===(null===e||void 0===e?void 0:e.deadline)||"height"===e.propertyName},Av={motionName:"ant-motion-collapse",onAppearStart:Ov,onEnterStart:Ov,onAppearActive:Mv,onEnterActive:Mv,onLeaveStart:function(t){return{height:t?t.offsetHeight:0}},onLeaveActive:Ov,onAppearEnd:_v,onEnterEnd:_v,onLeaveEnd:_v,motionDeadline:500},Tv=(_u("bottomLeft","bottomRight","topLeft","topRight"),function(t){return void 0===t||"topLeft"!==t&&"topRight"!==t?"slide-up":"slide-down"}),Pv=function(t,e,n){return void 0!==n?n:"".concat(t,"-").concat(e)},Dv=Av,Fv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Nv="SECRET_COMBOBOX_MODE_DO_NOT_USE",Iv=function(t,e){var n,r,i=t.prefixCls,o=t.bordered,a=void 0===o||o,u=t.className,s=t.getPopupContainer,l=t.dropdownClassName,c=t.listHeight,f=void 0===c?256:c,d=t.placement,h=t.listItemHeight,p=void 0===h?24:h,v=t.size,g=t.notFoundContent,m=t.status,y=t.showArrow,x=Fv(t,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","placement","listItemHeight","size","notFoundContent","status","showArrow"]),b=D.useContext(Ou),w=b.getPopupContainer,S=b.getPrefixCls,k=b.renderEmpty,C=b.direction,E=b.virtual,O=b.dropdownMatchSelectWidth,M=D.useContext(ip),_=S("select",i),A=S(),T=D.useMemo((function(){var t=x.mode;if("combobox"!==t)return t===Nv?"combobox":t}),[x.mode]),P="multiple"===T||"tags"===T,F=void 0!==y?y:x.loading||!(P||"combobox"===T),N=(0,D.useContext)(Cv),I=N.status,L=N.hasFeedback,R=ep(I,m);r=void 0!==g?g:"combobox"===T?null:k("Select");var j=function(t){var e=t.suffixIcon,n=t.clearIcon,r=t.menuItemSelectedIcon,i=t.removeIcon,o=t.loading,a=t.multiple,u=t.hasFeedback,s=t.status,l=t.prefixCls,c=t.showArrow,f=n;n||(f=D.createElement(Hh,null));var d=function(t){return D.createElement(D.Fragment,null,!1!==c&&t,u&&Qh(l,s))},h=null;if(void 0!==e)h=d(e);else if(o)h=d(D.createElement(Fh,{spin:!0}));else{var p="".concat(l,"-suffix");h=function(t){var e=t.open,n=t.showSearch;return d(e&&n?D.createElement(Yh,{className:p}):D.createElement(Th,{className:p}))}}return{clearIcon:f,suffixIcon:h,itemIcon:void 0!==r?r:a?D.createElement(Lh,null):null,removeIcon:void 0!==i?i:D.createElement(Bh,null)}}(B(B({},x),{multiple:P,status:R,hasFeedback:L,showArrow:F,prefixCls:_})),z=j.suffixIcon,U=j.itemIcon,H=j.removeIcon,V=j.clearIcon,W=zi(x,["suffixIcon","itemIcon"]),Y=Mt()(l,mt({},"".concat(_,"-dropdown-").concat(C),"rtl"===C)),q=v||M,G=Mt()((mt(n={},"".concat(_,"-lg"),"large"===q),mt(n,"".concat(_,"-sm"),"small"===q),mt(n,"".concat(_,"-rtl"),"rtl"===C),mt(n,"".concat(_,"-borderless"),!a),n),tp(_,R,L),u);return D.createElement(Mh,B({ref:e,virtual:E,dropdownMatchSelectWidth:O},W,{transitionName:Pv(A,Tv(d),x.transitionName),listHeight:f,listItemHeight:p,mode:T,prefixCls:_,placement:void 0!==d?d:"rtl"===C?"bottomRight":"bottomLeft",direction:C,inputIcon:z,menuItemSelectedIcon:U,removeIcon:H,clearIcon:V,notFoundContent:r,className:G,getPopupContainer:s||w,dropdownClassName:Y,showArrow:L||y}))},Lv=D.forwardRef(Iv);Lv.SECRET_COMBOBOX_MODE_DO_NOT_USE=Nv,Lv.Option=ch,Lv.OptGroup=dh;var Rv=Lv,jv=function(t){return D.createElement(Rv,B({size:"small"},t))};jv.Option=Rv.Option;var Bv=jv;function zv(){var t=D.useReducer((function(t){return t+1}),0);return j(t,2)[1]}var Uv={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Hv=new Map,Vv=-1,Wv={},Yv={matchHandlers:{},dispatch:function(t){return Wv=t,Hv.forEach((function(t){return t(Wv)})),Hv.size>=1},subscribe:function(t){return Hv.size||this.register(),Vv+=1,Hv.set(Vv,t),t(Wv),Vv},unsubscribe:function(t){Hv.delete(t),Hv.size||this.unregister()},unregister:function(){var t=this;Object.keys(Uv).forEach((function(e){var n=Uv[e],r=t.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Hv.clear()},register:function(){var t=this;Object.keys(Uv).forEach((function(e){var n=Uv[e],r=function(n){var r=n.matches;t.dispatch(B(B({},Wv),mt({},e,r)))},i=window.matchMedia(n);i.addListener(r),t.matchHandlers[n]={mql:i,listener:r},r(i)}))}},qv=Yv;var Gv=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=(0,D.useRef)({}),n=zv();return(0,D.useEffect)((function(){var r=qv.subscribe((function(r){e.current=r,t&&n()}));return function(){return qv.unsubscribe(r)}}),[]),e.current},$v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Xv=function(t){var e=t.prefixCls,n=t.selectPrefixCls,r=t.className,i=t.size,o=t.locale,a=t.selectComponentClass,u=t.responsive,s=$v(t,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive"]),l=Gv(u).xs,c=D.useContext(Ou),f=c.getPrefixCls,d=c.direction,h=f("pagination",e),p=function(t){var e=B(B({},t),o),c="small"===i||!(!l||i||!u),p=f("select",n),v=Mt()(mt({mini:c},"".concat(h,"-rtl"),"rtl"===d),r);return D.createElement(Yu,B({},function(){var t=D.createElement("span",{className:"".concat(h,"-item-ellipsis")},"\u2022\u2022\u2022"),e=D.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},D.createElement(qs,null)),n=D.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},D.createElement(Xs,null)),r=D.createElement("a",{className:"".concat(h,"-item-link")},D.createElement("div",{className:"".concat(h,"-item-container")},D.createElement(Js,{className:"".concat(h,"-item-link-icon")}),t)),i=D.createElement("a",{className:"".concat(h,"-item-link")},D.createElement("div",{className:"".concat(h,"-item-container")},D.createElement(el,{className:"".concat(h,"-item-link-icon")}),t));if("rtl"===d){var o=[n,e];e=o[0],n=o[1];var a=[i,r];r=a[0],i=a[1]}return{prevIcon:e,nextIcon:n,jumpPrevIcon:r,jumpNextIcon:i}}(),s,{prefixCls:h,selectPrefixCls:p,className:v,selectComponentClass:a||(c?Bv:Rv),locale:e}))};return D.createElement(mu,{componentName:"Pagination",defaultLocale:cu},p)},Kv=Xv,Zv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Jv(t,e,n){var r=e&&"object"===ti(e)?e:{},i=r.total,o=void 0===i?0:i,a=Zv(r,["total"]),u=j((0,D.useState)((function(){return{current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:10}})),2),s=u[0],l=u[1],c=function(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){e&&Object.keys(e).forEach((function(n){var r=e[n];void 0!==r&&(t[n]=r)}))})),t}(s,a,{total:o>0?o:t}),f=Math.ceil((o||t)/c.pageSize);c.current>f&&(c.current=f||1);var d=function(t,e){l({current:null!==t&&void 0!==t?t:1,pageSize:e||c.pageSize})};return!1===e?[{},function(){}]:[B(B({},c),{onChange:function(t,r){var i;e&&(null===(i=e.onChange)||void 0===i||i.call(e,t,r)),d(t,r),n(t,r||(null===c||void 0===c?void 0:c.pageSize))}}),d]}var Qv=D.createContext(null),tg=function(t){for(var e=t.prefixCls,n=t.level,r=t.isStart,i=t.isEnd,o="".concat(e,"-indent-unit"),a=[],u=0;u<n;u+=1){var s;a.push(D.createElement("span",{key:u,className:Mt()(o,(s={},mt(s,"".concat(o,"-start"),r[u]),mt(s,"".concat(o,"-end"),i[u]),s))}))}return D.createElement("span",{"aria-hidden":"true",className:"".concat(e,"-indent")},a)},eg=D.memo(tg),ng=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],rg="open",ig="close",og=function(t){Zr(n,t);var e=ri(n);function n(){var t;Xr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={dragNodeHighlight:!1},t.selectHandle=void 0,t.onSelectorClick=function(e){(0,t.props.context.onNodeClick)(e,Og(t.props)),t.isSelectable()?t.onSelect(e):t.onCheck(e)},t.onSelectorDoubleClick=function(e){(0,t.props.context.onNodeDoubleClick)(e,Og(t.props))},t.onSelect=function(e){if(!t.isDisabled()){var n=t.props.context.onNodeSelect;e.preventDefault(),n(e,Og(t.props))}},t.onCheck=function(e){if(!t.isDisabled()){var n=t.props,r=n.disableCheckbox,i=n.checked,o=t.props.context.onNodeCheck;if(t.isCheckable()&&!r){e.preventDefault();var a=!i;o(e,Og(t.props),a)}}},t.onMouseEnter=function(e){(0,t.props.context.onNodeMouseEnter)(e,Og(t.props))},t.onMouseLeave=function(e){(0,t.props.context.onNodeMouseLeave)(e,Og(t.props))},t.onContextMenu=function(e){(0,t.props.context.onNodeContextMenu)(e,Og(t.props))},t.onDragStart=function(e){var n=t.props.context.onNodeDragStart;e.stopPropagation(),t.setState({dragNodeHighlight:!0}),n(e,ei(t));try{e.dataTransfer.setData("text/plain","")}catch(n5){}},t.onDragEnter=function(e){var n=t.props.context.onNodeDragEnter;e.preventDefault(),e.stopPropagation(),n(e,ei(t))},t.onDragOver=function(e){var n=t.props.context.onNodeDragOver;e.preventDefault(),e.stopPropagation(),n(e,ei(t))},t.onDragLeave=function(e){var n=t.props.context.onNodeDragLeave;e.stopPropagation(),n(e,ei(t))},t.onDragEnd=function(e){var n=t.props.context.onNodeDragEnd;e.stopPropagation(),t.setState({dragNodeHighlight:!1}),n(e,ei(t))},t.onDrop=function(e){var n=t.props.context.onNodeDrop;e.preventDefault(),e.stopPropagation(),t.setState({dragNodeHighlight:!1}),n(e,ei(t))},t.onExpand=function(e){var n=t.props,r=n.loading,i=n.context.onNodeExpand;r||i(e,Og(t.props))},t.setSelectHandle=function(e){t.selectHandle=e},t.getNodeState=function(){var e=t.props.expanded;return t.isLeaf()?null:e?rg:ig},t.hasChildren=function(){var e=t.props.eventKey;return!!((t.props.context.keyEntities[e]||{}).children||[]).length},t.isLeaf=function(){var e=t.props,n=e.isLeaf,r=e.loaded,i=t.props.context.loadData,o=t.hasChildren();return!1!==n&&(n||!i&&!o||i&&r&&!o)},t.isDisabled=function(){var e=t.props.disabled;return!(!t.props.context.disabled&&!e)},t.isCheckable=function(){var e=t.props.checkable,n=t.props.context.checkable;return!(!n||!1===e)&&n},t.syncLoadData=function(e){var n=e.expanded,r=e.loading,i=e.loaded,o=t.props.context,a=o.loadData,u=o.onNodeLoad;r||a&&n&&!t.isLeaf()&&(t.hasChildren()||i||u(Og(t.props)))},t.isDraggable=function(){var e=t.props,n=e.data,r=e.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},t.renderDragHandler=function(){var e=t.props.context,n=e.draggable,r=e.prefixCls;return(null===n||void 0===n?void 0:n.icon)?D.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},t.renderSwitcherIconDom=function(e){var n=t.props.switcherIcon,r=t.props.context.switcherIcon,i=n||r;return"function"===typeof i?i(xt(xt({},t.props),{},{isLeaf:e})):i},t.renderSwitcher=function(){var e=t.props.expanded,n=t.props.context.prefixCls;if(t.isLeaf()){var r=t.renderSwitcherIconDom(!0);return!1!==r?D.createElement("span",{className:Mt()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var i=Mt()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(e?rg:ig)),o=t.renderSwitcherIconDom(!1);return!1!==o?D.createElement("span",{onClick:t.onExpand,className:i},o):null},t.renderCheckbox=function(){var e=t.props,n=e.checked,r=e.halfChecked,i=e.disableCheckbox,o=t.props.context.prefixCls,a=t.isDisabled(),u=t.isCheckable();if(!u)return null;var s="boolean"!==typeof u?u:null;return D.createElement("span",{className:Mt()("".concat(o,"-checkbox"),n&&"".concat(o,"-checkbox-checked"),!n&&r&&"".concat(o,"-checkbox-indeterminate"),(a||i)&&"".concat(o,"-checkbox-disabled")),onClick:t.onCheck},s)},t.renderIcon=function(){var e=t.props.loading,n=t.props.context.prefixCls;return D.createElement("span",{className:Mt()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(t.getNodeState()||"docu"),e&&"".concat(n,"-icon_loading"))})},t.renderSelector=function(){var e,n,r=t.state.dragNodeHighlight,i=t.props,o=i.title,a=i.selected,u=i.icon,s=i.loading,l=i.data,c=t.props.context,f=c.prefixCls,d=c.showIcon,h=c.icon,p=c.loadData,v=c.titleRender,g=t.isDisabled(),m="".concat(f,"-node-content-wrapper");if(d){var y=u||h;e=y?D.createElement("span",{className:Mt()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof y?y(t.props):y):t.renderIcon()}else p&&s&&(e=t.renderIcon());n="function"===typeof o?o(l):v?v(l):o;var x=D.createElement("span",{className:"".concat(f,"-title")},n);return D.createElement("span",{ref:t.setSelectHandle,title:"string"===typeof o?o:"",className:Mt()("".concat(m),"".concat(m,"-").concat(t.getNodeState()||"normal"),!g&&(a||r)&&"".concat(f,"-node-selected")),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onContextMenu:t.onContextMenu,onClick:t.onSelectorClick,onDoubleClick:t.onSelectorDoubleClick},e,x,t.renderDropIndicator())},t.renderDropIndicator=function(){var e=t.props,n=e.disabled,r=e.eventKey,i=t.props.context,o=i.draggable,a=i.dropLevelOffset,u=i.dropPosition,s=i.prefixCls,l=i.indent,c=i.dropIndicatorRender,f=i.dragOverNodeKey,d=i.direction;return!n&&!1!==o&&f===r?c({dropPosition:u,dropLevelOffset:a,indent:l,prefixCls:s,direction:d}):null},t}return $r(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var t=this.props.selectable,e=this.props.context.selectable;return"boolean"===typeof t?t:e}},{key:"render",value:function(){var t,e=this.props,n=e.eventKey,r=e.className,i=e.style,o=e.dragOver,a=e.dragOverGapTop,u=e.dragOverGapBottom,s=e.isLeaf,l=e.isStart,c=e.isEnd,f=e.expanded,d=e.selected,h=e.checked,p=e.halfChecked,v=e.loading,g=e.domRef,m=e.active,y=(e.data,e.onMouseMove),x=e.selectable,b=wt(e,ng),w=this.props.context,S=w.prefixCls,k=w.filterTreeNode,C=w.keyEntities,E=w.dropContainerKey,O=w.dropTargetKey,M=w.draggingNodeKey,_=this.isDisabled(),A=qi(b,{aria:!0,data:!0}),T=(C[n]||{}).level,P=c[c.length-1],F=this.isDraggable(),N=!_&&F,I=M===n,L=void 0!==x?{"aria-selected":!!x}:void 0;return D.createElement("div",B({ref:g,className:Mt()(r,"".concat(S,"-treenode"),(t={},mt(t,"".concat(S,"-treenode-disabled"),_),mt(t,"".concat(S,"-treenode-switcher-").concat(f?"open":"close"),!s),mt(t,"".concat(S,"-treenode-checkbox-checked"),h),mt(t,"".concat(S,"-treenode-checkbox-indeterminate"),p),mt(t,"".concat(S,"-treenode-selected"),d),mt(t,"".concat(S,"-treenode-loading"),v),mt(t,"".concat(S,"-treenode-active"),m),mt(t,"".concat(S,"-treenode-leaf-last"),P),mt(t,"".concat(S,"-treenode-draggable"),N),mt(t,"dragging",I),mt(t,"drop-target",O===n),mt(t,"drop-container",E===n),mt(t,"drag-over",!_&&o),mt(t,"drag-over-gap-top",!_&&a),mt(t,"drag-over-gap-bottom",!_&&u),mt(t,"filter-node",k&&k(Og(this.props))),t)),style:i,draggable:N,"aria-grabbed":I,onDragStart:N?this.onDragStart:void 0,onDragEnter:F?this.onDragEnter:void 0,onDragOver:F?this.onDragOver:void 0,onDragLeave:F?this.onDragLeave:void 0,onDrop:F?this.onDrop:void 0,onDragEnd:F?this.onDragEnd:void 0,onMouseMove:y},L,A),D.createElement(eg,{prefixCls:S,level:T,isStart:l,isEnd:c}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(D.Component),ag=function(t){return D.createElement(Qv.Consumer,null,(function(e){return D.createElement(og,B({},t,{context:e}))}))};ag.displayName="TreeNode",ag.defaultProps={title:"---"},ag.isTreeNode=1;var ug=ag;function sg(t,e){if(!t)return[];var n=t.slice(),r=n.indexOf(e);return r>=0&&n.splice(r,1),n}function lg(t,e){var n=(t||[]).slice();return-1===n.indexOf(e)&&n.push(e),n}function cg(t){return t.split("-")}function fg(t,e){return"".concat(t,"-").concat(e)}function dg(t,e){var n=[];return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){var r=e.key,i=e.children;n.push(r),t(i)}))}(e[t].children),n}function hg(t){if(t.parent){var e=cg(t.pos);return Number(e[e.length-1])===t.parent.children.length-1}return!1}function pg(t,e,n,r,i,o,a,u,s,l){var c,f=t.clientX,d=t.clientY,h=t.target.getBoundingClientRect(),p=h.top,v=h.height,g=(("rtl"===l?-1:1)*(((null===i||void 0===i?void 0:i.x)||0)-f)-12)/r,m=u[n.props.eventKey];if(d<p+v/2){var y=a.findIndex((function(t){return t.key===m.key})),x=a[y<=0?0:y-1].key;m=u[x]}var b=m.key,w=m,S=m.key,k=0,C=0;if(!s.includes(b))for(var E=0;E<g&&hg(m);E+=1)m=m.parent,C+=1;var O=e.props.data,M=m.node,_=!0;return function(t){var e=cg(t.pos);return 0===Number(e[e.length-1])}(m)&&0===m.level&&d<p+v/2&&o({dragNode:O,dropNode:M,dropPosition:-1})&&m.key===n.props.eventKey?k=-1:(w.children||[]).length&&s.includes(S)?o({dragNode:O,dropNode:M,dropPosition:0})?k=0:_=!1:0===C?g>-1.5?o({dragNode:O,dropNode:M,dropPosition:1})?k=1:_=!1:o({dragNode:O,dropNode:M,dropPosition:0})?k=0:o({dragNode:O,dropNode:M,dropPosition:1})?k=1:_=!1:o({dragNode:O,dropNode:M,dropPosition:1})?k=1:_=!1,{dropPosition:k,dropLevelOffset:C,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:S,dropContainerKey:0===k?null:(null===(c=m.parent)||void 0===c?void 0:c.key)||null,dropAllowed:_}}function vg(t,e){if(t)return e.multiple?t.slice():t.length?[t[0]]:t}function gg(t){if(!t)return null;var e;if(Array.isArray(t))e={checkedKeys:t,halfCheckedKeys:void 0};else{if("object"!==ti(t))return eo(!1,"`checkedKeys` is not an array or an object"),null;e={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0}}return e}function mg(t,e){var n=new Set;function r(t){if(!n.has(t)){var i=e[t];if(i){n.add(t);var o=i.parent;i.node.disabled||o&&r(o.key)}}}return(t||[]).forEach((function(t){r(t)})),Ye(n)}var yg=["children"];function xg(t,e){return null!==t&&void 0!==t?t:e}function bg(t){var e=t||{},n=e.title||"title";return{title:n,_title:e._title||[n],key:e.key||"key",children:e.children||"children"}}function wg(t){return function t(e){return ro(e).map((function(e){if(!function(t){return t&&t.type&&t.type.isTreeNode}(e))return eo(!e,"Tree/TreeNode can only accept TreeNode as children."),null;var n=e.key,r=e.props,i=r.children,o=xt({key:n},wt(r,yg)),a=t(i);return a.length&&(o.children=a),o})).filter((function(t){return t}))}(t)}function Sg(t,e,n){var r=bg(n),i=r._title,o=r.key,a=r.children,u=new Set(!0===e?[]:e),s=[];return function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(l,c){for(var f,d=fg(r?r.pos:"0",c),h=xg(l[o],d),p=0;p<i.length;p+=1){var v=i[p];if(void 0!==l[v]){f=l[v];break}}var g=xt(xt({},zi(l,[].concat(Ye(i),[o,a]))),{},{title:f,key:h,parent:r,pos:d,children:null,data:l,isStart:[].concat(Ye(r?r.isStart:[]),[0===c]),isEnd:[].concat(Ye(r?r.isEnd:[]),[c===n.length-1])});return s.push(g),!0===e||u.has(h)?g.children=t(l[a]||[],g):g.children=[],g}))}(t),s}function kg(t,e,n){var r,i=("object"===ti(n)?n:{externalGetKey:n})||{},o=i.childrenPropName,a=i.externalGetKey,u=bg(i.fieldNames),s=u.key,l=u.children,c=o||l;a?"string"===typeof a?r=function(t){return t[a]}:"function"===typeof a&&(r=function(t){return a(t)}):r=function(t,e){return xg(t[s],e)},function n(i,o,a,u){var s=i?i[c]:t,l=i?fg(a.pos,o):"0",f=i?[].concat(Ye(u),[i]):[];if(i){var d=r(i,l),h={node:i,index:o,pos:l,key:d,parentPos:a.node?a.pos:null,level:a.level+1,nodes:f};e(h)}s&&s.forEach((function(t,e){n(t,e,{node:i,pos:l,level:a?a.level+1:-1},f)}))}(null)}function Cg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.initWrapper,r=e.processEntity,i=e.onProcessFinished,o=e.externalGetKey,a=e.childrenPropName,u=e.fieldNames,s=arguments.length>2?arguments[2]:void 0,l=o||s,c={},f={},d={posEntities:c,keyEntities:f};return n&&(d=n(d)||d),kg(t,(function(t){var e=t.node,n=t.index,i=t.pos,o=t.key,a=t.parentPos,u=t.level,s={node:e,nodes:t.nodes,index:n,key:o,pos:i,level:u},l=xg(o,i);c[i]=s,f[l]=s,s.parent=c[a],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),r&&r(s,d)}),{externalGetKey:l,childrenPropName:a,fieldNames:u}),i&&i(d),d}function Eg(t,e){var n=e.expandedKeys,r=e.selectedKeys,i=e.loadedKeys,o=e.loadingKeys,a=e.checkedKeys,u=e.halfCheckedKeys,s=e.dragOverNodeKey,l=e.dropPosition,c=e.keyEntities[t];return{eventKey:t,expanded:-1!==n.indexOf(t),selected:-1!==r.indexOf(t),loaded:-1!==i.indexOf(t),loading:-1!==o.indexOf(t),checked:-1!==a.indexOf(t),halfChecked:-1!==u.indexOf(t),pos:String(c?c.pos:""),dragOver:s===t&&0===l,dragOverGapTop:s===t&&-1===l,dragOverGapBottom:s===t&&1===l}}function Og(t){var e=t.data,n=t.expanded,r=t.selected,i=t.checked,o=t.loaded,a=t.loading,u=t.halfChecked,s=t.dragOver,l=t.dragOverGapTop,c=t.dragOverGapBottom,f=t.pos,d=t.active,h=t.eventKey,p=xt(xt({},e),{},{expanded:n,selected:r,checked:i,loaded:o,loading:a,halfChecked:u,dragOver:s,dragOverGapTop:l,dragOverGapBottom:c,pos:f,active:d,key:h});return"props"in p||Object.defineProperty(p,"props",{get:function(){return eo(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),p}function Mg(t,e){var n=new Set;return t.forEach((function(t){e.has(t)||n.add(t)})),n}function _g(t){var e=t||{},n=e.disabled,r=e.disableCheckbox,i=e.checkable;return!(!n&&!r)||!1===i}function Ag(t,e,n,r){var i,o=[];i=r||_g;var a,u=new Set(t.filter((function(t){var e=!!n[t];return e||o.push(t),e}))),s=new Map,l=0;return Object.keys(n).forEach((function(t){var e=n[t],r=e.level,i=s.get(r);i||(i=new Set,s.set(r,i)),i.add(e),l=Math.max(l,r)})),eo(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map((function(t){return"'".concat(t,"'")})).join(", "))),a=!0===e?function(t,e,n,r){for(var i=new Set(t),o=new Set,a=0;a<=n;a+=1)(e.get(a)||new Set).forEach((function(t){var e=t.key,n=t.node,o=t.children,a=void 0===o?[]:o;i.has(e)&&!r(n)&&a.filter((function(t){return!r(t.node)})).forEach((function(t){i.add(t.key)}))}));for(var u=new Set,s=n;s>=0;s-=1)(e.get(s)||new Set).forEach((function(t){var e=t.parent,n=t.node;if(!r(n)&&t.parent&&!u.has(t.parent.key))if(r(t.parent.node))u.add(e.key);else{var a=!0,s=!1;(e.children||[]).filter((function(t){return!r(t.node)})).forEach((function(t){var e=t.key,n=i.has(e);a&&!n&&(a=!1),s||!n&&!o.has(e)||(s=!0)})),a&&i.add(e.key),s&&o.add(e.key),u.add(e.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(Mg(o,i))}}(u,s,l,i):function(t,e,n,r,i){for(var o=new Set(t),a=new Set(e),u=0;u<=r;u+=1)(n.get(u)||new Set).forEach((function(t){var e=t.key,n=t.node,r=t.children,u=void 0===r?[]:r;o.has(e)||a.has(e)||i(n)||u.filter((function(t){return!i(t.node)})).forEach((function(t){o.delete(t.key)}))}));a=new Set;for(var s=new Set,l=r;l>=0;l-=1)(n.get(l)||new Set).forEach((function(t){var e=t.parent,n=t.node;if(!i(n)&&t.parent&&!s.has(t.parent.key))if(i(t.parent.node))s.add(e.key);else{var r=!0,u=!1;(e.children||[]).filter((function(t){return!i(t.node)})).forEach((function(t){var e=t.key,n=o.has(e);r&&!n&&(r=!1),u||!n&&!a.has(e)||(u=!0)})),r||o.delete(e.key),u&&a.add(e.key),s.add(e.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Mg(a,o))}}(u,e.halfCheckedKeys,s,l,i),a}var Tg=function(t){Zr(n,t);var e=ri(n);function n(t){var r;Xr(this,n),(r=e.call(this,t)).handleChange=function(t){var e=r.props,n=e.disabled,i=e.onChange;n||("checked"in r.props||r.setState({checked:t.target.checked}),i&&i({target:xt(xt({},r.props),{},{checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},r.saveInput=function(t){r.input=t};var i="checked"in t?t.checked:t.defaultChecked;return r.state={checked:i},r}return $r(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var t,e=this.props,n=e.prefixCls,r=e.className,i=e.style,o=e.name,a=e.id,u=e.type,s=e.disabled,l=e.readOnly,c=e.tabIndex,f=e.onClick,d=e.onFocus,h=e.onBlur,p=e.onKeyDown,v=e.onKeyPress,g=e.onKeyUp,m=e.autoFocus,y=e.value,x=e.required,b=wt(e,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),w=Object.keys(b).reduce((function(t,e){return"aria-"!==e.substr(0,5)&&"data-"!==e.substr(0,5)&&"role"!==e||(t[e]=b[e]),t}),{}),S=this.state.checked,k=Mt()(n,r,(mt(t={},"".concat(n,"-checked"),S),mt(t,"".concat(n,"-disabled"),s),t));return D.createElement("span",{className:k,style:i},D.createElement("input",B({name:o,id:a,type:u,required:x,readOnly:l,disabled:s,tabIndex:c,className:"".concat(n,"-input"),checked:!!S,onClick:f,onFocus:d,onBlur:h,onKeyUp:g,onKeyDown:p,onKeyPress:v,onChange:this.handleChange,autoFocus:m,ref:this.saveInput,value:y},w)),D.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return"checked"in t?xt(xt({},e),{},{checked:t.checked}):null}}]),n}(D.Component);Tg.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var Pg=Tg,Dg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Fg=D.createContext(null),Ng=function(t,e){var n=t.defaultValue,r=t.children,i=t.options,o=void 0===i?[]:i,a=t.prefixCls,u=t.className,s=t.style,l=t.onChange,c=Dg(t,["defaultValue","children","options","prefixCls","className","style","onChange"]),f=D.useContext(Ou),d=f.getPrefixCls,h=f.direction,p=j(D.useState(c.value||n||[]),2),v=p[0],g=p[1],m=j(D.useState([]),2),y=m[0],x=m[1];D.useEffect((function(){"value"in c&&g(c.value||[])}),[c.value]);var b=function(){return o.map((function(t){return"string"===typeof t||"number"===typeof t?{label:t,value:t}:t}))},w=d("checkbox",a),S="".concat(w,"-group"),k=zi(c,["value","disabled"]);o&&o.length>0&&(r=b().map((function(t){return D.createElement(Ug,{prefixCls:w,key:t.value.toString(),disabled:"disabled"in t?t.disabled:c.disabled,value:t.value,checked:-1!==v.indexOf(t.value),onChange:t.onChange,className:"".concat(S,"-item"),style:t.style},t.label)})));var C={toggleOption:function(t){var e=v.indexOf(t.value),n=Ye(v);-1===e?n.push(t.value):n.splice(e,1),"value"in c||g(n);var r=b();null===l||void 0===l||l(n.filter((function(t){return-1!==y.indexOf(t)})).sort((function(t,e){return r.findIndex((function(e){return e.value===t}))-r.findIndex((function(t){return t.value===e}))})))},value:v,disabled:c.disabled,name:c.name,registerValue:function(t){x((function(e){return[].concat(Ye(e),[t])}))},cancelValue:function(t){x((function(e){return e.filter((function(e){return e!==t}))}))}},E=Mt()(S,mt({},"".concat(S,"-rtl"),"rtl"===h),u);return D.createElement("div",B({className:E,style:s},k,{ref:e}),D.createElement(Fg.Provider,{value:C},r))},Ig=D.forwardRef(Ng),Lg=D.memo(Ig),Rg=function(t,e,n){eo(t,"[antd: ".concat(e,"] ").concat(n))},jg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Bg=function(t,e){var n,r=t.prefixCls,i=t.className,o=t.children,a=t.indeterminate,u=void 0!==a&&a,s=t.style,l=t.onMouseEnter,c=t.onMouseLeave,f=t.skipGroup,d=void 0!==f&&f,h=jg(t,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),p=D.useContext(Ou),v=p.getPrefixCls,g=p.direction,m=D.useContext(Fg),y=D.useRef(h.value);D.useEffect((function(){null===m||void 0===m||m.registerValue(h.value),Rg("checked"in h||!!m||!("value"in h),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),D.useEffect((function(){if(!d)return h.value!==y.current&&(null===m||void 0===m||m.cancelValue(y.current),null===m||void 0===m||m.registerValue(h.value),y.current=h.value),function(){return null===m||void 0===m?void 0:m.cancelValue(h.value)}}),[h.value]);var x=v("checkbox",r),b=B({},h);m&&!d&&(b.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),m.toggleOption&&m.toggleOption({label:o,value:h.value})},b.name=m.name,b.checked=-1!==m.value.indexOf(h.value),b.disabled=h.disabled||m.disabled);var w=Mt()((mt(n={},"".concat(x,"-wrapper"),!0),mt(n,"".concat(x,"-rtl"),"rtl"===g),mt(n,"".concat(x,"-wrapper-checked"),b.checked),mt(n,"".concat(x,"-wrapper-disabled"),b.disabled),n),i),S=Mt()(mt({},"".concat(x,"-indeterminate"),u));return D.createElement("label",{className:w,style:s,onMouseEnter:l,onMouseLeave:c},D.createElement(Pg,B({},b,{prefixCls:x,className:S,ref:e})),void 0!==o&&D.createElement("span",null,o))},zg=D.forwardRef(Bg);zg.displayName="Checkbox";var Ug=zg,Hg=Ug;Hg.Group=Lg,Hg.__ANT_CHECKBOX=!0;var Vg=Hg,Wg={adjustX:1,adjustY:1},Yg=[0,0],qg={topLeft:{points:["bl","tl"],overflow:Wg,offset:[0,-4],targetOffset:Yg},topCenter:{points:["bc","tc"],overflow:Wg,offset:[0,-4],targetOffset:Yg},topRight:{points:["br","tr"],overflow:Wg,offset:[0,-4],targetOffset:Yg},bottomLeft:{points:["tl","bl"],overflow:Wg,offset:[0,4],targetOffset:Yg},bottomCenter:{points:["tc","bc"],overflow:Wg,offset:[0,4],targetOffset:Yg},bottomRight:{points:["tr","br"],overflow:Wg,offset:[0,4],targetOffset:Yg}},Gg=il.ESC,$g=il.TAB;function Xg(t){var e=t.visible,n=t.setTriggerVisible,r=t.triggerRef,i=t.menuRef,o=t.menuClassName,a=t.onVisibleChange,u=function(){e&&r.current&&(r.current.triggerRef.current&&r.current.triggerRef.current.focus(),n(!1),"function"===typeof a&&a(!1))},s=function(t){switch(t.keyCode){case Gg:case $g:u()}};D.useEffect((function(){return e?(setTimeout((function(){!function(){if(i.current){var t,e,n,r=(null===(t=i.current.className)||void 0===t?void 0:t.includes(o))?i.current:null===(e=(n=i.current).querySelector)||void 0===e?void 0:e.call(n,o);r&&r.focus()}}(),window.addEventListener("keydown",s)}),100),function(){window.removeEventListener("keydown",s)}):function(){return null}}),[e]);return{returnFocus:function(){e&&r.current&&r.current.triggerRef.current&&setTimeout((function(){var t,e,n;null===(t=r.current)||void 0===t||null===(e=t.triggerRef)||void 0===e||null===(n=e.current)||void 0===n||n.focus()}),100)}}}var Kg=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function Zg(t,e){var n=t.arrow,r=void 0!==n&&n,i=t.prefixCls,o=void 0===i?"rc-dropdown":i,a=t.transitionName,u=t.animation,s=t.align,l=t.placement,c=void 0===l?"bottomLeft":l,f=t.placements,d=void 0===f?qg:f,h=t.getPopupContainer,p=t.showAction,v=t.hideAction,g=t.overlayClassName,m=t.overlayStyle,y=t.visible,x=t.trigger,b=void 0===x?["hover"]:x,w=wt(t,Kg),S=j(D.useState(),2),k=S[0],C=S[1],E="visible"in t?y:k,O=D.useRef(null);D.useImperativeHandle(e,(function(){return O.current}));var M=D.useRef(null),_="".concat(o,"-menu"),A=Xg({visible:E,setTriggerVisible:C,triggerRef:O,menuRef:M,menuClassName:_,onVisibleChange:t.onVisibleChange}).returnFocus,T=function(){var e=t.overlay;return"function"===typeof e?e():e},P=function(e){var n=t.onOverlayClick,r=T().props;C(!1),n&&n(e),r.onClick&&r.onClick(e),A()},F=function(){var t=T(),e={prefixCls:_,onClick:P,ref:uo(t)?M:void 0};return"string"===typeof t.type&&delete e.prefixCls,D.createElement(D.Fragment,null,r&&D.createElement("div",{className:"".concat(o,"-arrow")}),D.cloneElement(t,e))},N=v;return N||-1===b.indexOf("contextMenu")||(N=["click"]),D.createElement(Mf,xt(xt({builtinPlacements:d},w),{},{prefixCls:o,ref:O,popupClassName:Mt()(g,mt({},"".concat(o,"-show-arrow"),r)),popupStyle:m,action:b,showAction:p,hideAction:N||[],popupPlacement:c,popupAlign:s,popupTransitionName:a,popupAnimation:u,popupVisible:E,stretch:function(){var e=t.minOverlayWidthMatchTrigger,n=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?e:!n}()?"minWidth":"",popup:"function"===typeof t.overlay?F:F(),onPopupVisibleChange:function(e){var n=t.onVisibleChange;C(e),"function"===typeof n&&n(e)},getPopupContainer:h}),function(){var e=t.children,n=e.props?e.props:{},r=Mt()(n.className,function(){var e=t.openClassName;return void 0!==e?e:"".concat(o,"-open")}());return E&&e?D.cloneElement(e,{className:r}):e}())}var Jg=D.forwardRef(Zg),Qg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},tm=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Qg}))};tm.displayName="EllipsisOutlined";var em,nm=D.forwardRef(tm),rm=$r((function t(e){Xr(this,t),this.error=new Error("unreachable case: ".concat(JSON.stringify(e)))})),im=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},om=function(t){return D.createElement(Mu,null,(function(e){var n,r=e.getPrefixCls,i=e.direction,o=t.prefixCls,a=t.size,u=t.className,s=im(t,["prefixCls","size","className"]),l=r("btn-group",o),c="";switch(a){case"large":c="lg";break;case"small":c="sm";break;case"middle":case void 0:break;default:console.warn(new rm(a).error)}var f=Mt()(l,(mt(n={},"".concat(l,"-").concat(c),c),mt(n,"".concat(l,"-rtl"),"rtl"===i),n),u);return D.createElement("div",B({},s,{className:f}))}))},am=0,um={};function sm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=am++,r=e;function i(){(r-=1)<=0?(t(),delete um[n]):um[n]=ka(i)}return um[n]=ka(i),n}function lm(t){return!t||null===t.offsetParent||t.hidden}function cm(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(e&&e[1]&&e[2]&&e[3])||!(e[1]===e[2]&&e[2]===e[3])}sm.cancel=function(t){void 0!==t&&(ka.cancel(um[t]),delete um[t])},sm.ids=um;var fm=function(t){Zr(n,t);var e=ri(n);function n(){var t;return Xr(this,n),(t=e.apply(this,arguments)).containerRef=D.createRef(),t.animationStart=!1,t.destroyed=!1,t.onClick=function(e,n){var r,i,o=t.props,a=o.insertExtraNode;if(!(o.disabled||!e||lm(e)||e.className.indexOf("-leave")>=0)){t.extraNode=document.createElement("div");var u=ei(t).extraNode,s=t.context.getPrefixCls;u.className="".concat(s(""),"-click-animating-node");var l=t.getAttributeName();if(e.setAttribute(l,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&cm(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var c=(null===(r=e.getRootNode)||void 0===r?void 0:r.call(e))||e.ownerDocument,f=c instanceof Document?c.body:null!==(i=c.firstChild)&&void 0!==i?i:c;em=Ts("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:t.csp,attachTo:f})}a&&e.appendChild(u),["transition","animation"].forEach((function(n){e.addEventListener("".concat(n,"start"),t.onTransitionStart),e.addEventListener("".concat(n,"end"),t.onTransitionEnd)}))}},t.onTransitionStart=function(e){if(!t.destroyed){var n=t.containerRef.current;e&&e.target===n&&!t.animationStart&&t.resetEffect(n)}},t.onTransitionEnd=function(e){e&&"fadeEffect"===e.animationName&&t.resetEffect(e.target)},t.bindAnimationEvent=function(e){if(e&&e.getAttribute&&!e.getAttribute("disabled")&&!(e.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!lm(n.target)){t.resetEffect(e);var r=getComputedStyle(e).getPropertyValue("border-top-color")||getComputedStyle(e).getPropertyValue("border-color")||getComputedStyle(e).getPropertyValue("background-color");t.clickWaveTimeoutId=window.setTimeout((function(){return t.onClick(e,r)}),0),sm.cancel(t.animationStartId),t.animationStart=!0,t.animationStartId=sm((function(){t.animationStart=!1}),10)}};return e.addEventListener("click",n,!0),{cancel:function(){e.removeEventListener("click",n,!0)}}}},t.renderWave=function(e){var n=e.csp,r=t.props.children;if(t.csp=n,!D.isValidElement(r))return r;var i=t.containerRef;return uo(r)&&(i=ao(r.ref,t.containerRef)),Tu(r,{ref:i})},t}return $r(n,[{key:"componentDidMount",value:function(){var t=this.containerRef.current;t&&1===t.nodeType&&(this.instance=this.bindAnimationEvent(t))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var t=this.context.getPrefixCls,e=this.props.insertExtraNode;return"".concat(t(""),e?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(t){var e=this;if(t&&t!==this.extraNode&&t instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();t.setAttribute(r,"false"),em&&(em.innerHTML=""),n&&this.extraNode&&t.contains(this.extraNode)&&t.removeChild(this.extraNode),["transition","animation"].forEach((function(n){t.removeEventListener("".concat(n,"start"),e.onTransitionStart),t.removeEventListener("".concat(n,"end"),e.onTransitionEnd)}))}}},{key:"render",value:function(){return D.createElement(Mu,null,this.renderWave)}}]),n}(D.Component);fm.contextType=Ou;var dm=function(){return{width:0,opacity:0,transform:"scale(0)"}},hm=function(t){return{width:t.scrollWidth,opacity:1,transform:"scale(1)"}},pm=function(t){var e=t.prefixCls,n=!!t.loading;return t.existIcon?D.createElement("span",{className:"".concat(e,"-loading-icon")},D.createElement(Fh,null)):D.createElement(rc,{visible:n,motionName:"".concat(e,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:dm,onAppearActive:hm,onEnterStart:dm,onEnterActive:hm,onLeaveStart:hm,onLeaveActive:dm},(function(t,n){var r=t.className,i=t.style;return D.createElement("span",{className:"".concat(e,"-loading-icon"),style:i,ref:n},D.createElement(Fh,{className:r}))}))},vm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},gm=/^[\u4e00-\u9fa5]{2}$/,mm=gm.test.bind(gm);function ym(t){return"text"===t||"link"===t}function xm(t,e){if(null!=t){var n,r=e?" ":"";return"string"!==typeof t&&"number"!==typeof t&&function(t){return"string"===typeof t}(t.type)&&mm(t.props.children)?Tu(t,{children:t.props.children.split("").join(r)}):"string"===typeof t?mm(t)?D.createElement("span",null,t.split("").join(r)):D.createElement("span",null,t):(n=t,D.isValidElement(n)&&n.type===D.Fragment?D.createElement("span",null,t):t)}}_u("default","primary","ghost","dashed","link","text"),_u("default","circle","round"),_u("submit","button","reset");var bm=function(t,e){var n,r=t.loading,i=void 0!==r&&r,o=t.prefixCls,a=t.type,u=void 0===a?"default":a,s=t.danger,l=t.shape,c=void 0===l?"default":l,f=t.size,d=t.className,h=t.children,p=t.icon,v=t.ghost,g=void 0!==v&&v,m=t.block,y=void 0!==m&&m,x=t.htmlType,b=void 0===x?"button":x,w=vm(t,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),S=D.useContext(ip),k=j(D.useState(!!i),2),C=k[0],E=k[1],O=j(D.useState(!1),2),M=O[0],_=O[1],A=D.useContext(Ou),T=A.getPrefixCls,P=A.autoInsertSpaceInButton,F=A.direction,N=e||D.createRef(),I=function(){return 1===D.Children.count(h)&&!p&&!ym(u)},L="object"===ti(i)&&i.delay?i.delay||!0:!!i;D.useEffect((function(){var t=null;return"number"===typeof L?t=window.setTimeout((function(){t=null,E(L)}),L):E(L),function(){t&&(window.clearTimeout(t),t=null)}}),[L]),D.useEffect((function(){if(N&&N.current&&!1!==P){var t=N.current.textContent;I()&&mm(t)?M||_(!0):M&&_(!1)}}),[N]);var R=function(e){var n=t.onClick,r=t.disabled;C||r?e.preventDefault():null===n||void 0===n||n(e)};Rg(!("string"===typeof p&&p.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(p,"` at https://ant.design/components/icon")),Rg(!(g&&ym(u)),"Button","`link` or `text` button can't be a `ghost` button.");var z=T("btn",o),U=!1!==P,H=f||S,V=H&&{large:"lg",small:"sm",middle:void 0}[H]||"",W=C?"loading":p,Y=Mt()(z,(mt(n={},"".concat(z,"-").concat(c),"default"!==c&&c),mt(n,"".concat(z,"-").concat(u),u),mt(n,"".concat(z,"-").concat(V),V),mt(n,"".concat(z,"-icon-only"),!h&&0!==h&&!!W),mt(n,"".concat(z,"-background-ghost"),g&&!ym(u)),mt(n,"".concat(z,"-loading"),C),mt(n,"".concat(z,"-two-chinese-chars"),M&&U),mt(n,"".concat(z,"-block"),y),mt(n,"".concat(z,"-dangerous"),!!s),mt(n,"".concat(z,"-rtl"),"rtl"===F),n),d),q=p&&!C?p:D.createElement(pm,{existIcon:!!p,prefixCls:z,loading:!!C}),G=h||0===h?function(t,e){var n=!1,r=[];return D.Children.forEach(t,(function(t){var e=ti(t),i="string"===e||"number"===e;if(n&&i){var o=r.length-1,a=r[o];r[o]="".concat(a).concat(t)}else r.push(t);n=i})),D.Children.map(r,(function(t){return xm(t,e)}))}(h,I()&&U):null,$=zi(w,["navigate"]);if(void 0!==$.href)return D.createElement("a",B({},$,{className:Y,onClick:R,ref:N}),q,G);var X=D.createElement("button",B({},w,{type:b,className:Y,onClick:R,ref:N}),q,G);return ym(u)?X:D.createElement(fm,{disabled:!!C},X)},wm=D.forwardRef(bm);wm.displayName="Button",wm.Group=om,wm.__ANT_BUTTON=!0;var Sm=wm,km=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Cm=Sm.Group,Em=function(t){var e=D.useContext(Ou),n=e.getPopupContainer,r=e.getPrefixCls,i=e.direction,o=t.prefixCls,a=t.type,u=void 0===a?"default":a,s=t.disabled,l=t.loading,c=t.onClick,f=t.htmlType,d=t.children,h=t.className,p=t.overlay,v=t.trigger,g=t.align,m=t.visible,y=t.onVisibleChange,x=t.placement,b=t.getPopupContainer,w=t.href,S=t.icon,k=void 0===S?D.createElement(nm,null):S,C=t.title,E=t.buttonsRender,O=void 0===E?function(t){return t}:E,M=t.mouseEnterDelay,_=t.mouseLeaveDelay,A=t.overlayClassName,T=t.overlayStyle,P=t.destroyPopupOnHide,F=km(t,["prefixCls","type","disabled","loading","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),N=r("dropdown-button",o),I={align:g,overlay:p,disabled:s,trigger:s?[]:v,onVisibleChange:y,getPopupContainer:b||n,mouseEnterDelay:M,mouseLeaveDelay:_,overlayClassName:A,overlayStyle:T,destroyPopupOnHide:P};"visible"in t&&(I.visible=m),I.placement="placement"in t?x:"rtl"===i?"bottomLeft":"bottomRight";var L=j(O([D.createElement(Sm,{type:u,disabled:s,loading:l,onClick:c,htmlType:f,href:w,title:C},d),D.createElement(Sm,{type:u,icon:k})]),2),R=L[0],z=L[1];return D.createElement(Cm,B({},F,{className:Mt()(N,h)}),R,D.createElement(Lm,I,z))};Em.__ANT_BUTTON=!0;var Om=Em,Mm={adjustX:1,adjustY:1},_m=[0,0],Am={left:{points:["cr","cl"],overflow:Mm,offset:[-4,0],targetOffset:_m},right:{points:["cl","cr"],overflow:Mm,offset:[4,0],targetOffset:_m},top:{points:["bc","tc"],overflow:Mm,offset:[0,-4],targetOffset:_m},bottom:{points:["tc","bc"],overflow:Mm,offset:[0,4],targetOffset:_m},topLeft:{points:["bl","tl"],overflow:Mm,offset:[0,-4],targetOffset:_m},leftTop:{points:["tr","tl"],overflow:Mm,offset:[-4,0],targetOffset:_m},topRight:{points:["br","tr"],overflow:Mm,offset:[0,-4],targetOffset:_m},rightTop:{points:["tl","tr"],overflow:Mm,offset:[4,0],targetOffset:_m},bottomRight:{points:["tr","br"],overflow:Mm,offset:[0,4],targetOffset:_m},rightBottom:{points:["bl","br"],overflow:Mm,offset:[4,0],targetOffset:_m},bottomLeft:{points:["tl","bl"],overflow:Mm,offset:[0,4],targetOffset:_m},leftBottom:{points:["br","bl"],overflow:Mm,offset:[-4,0],targetOffset:_m}},Tm={adjustX:1,adjustY:1},Pm={adjustX:0,adjustY:0},Dm=[0,0];function Fm(t){return"boolean"===typeof t?t?Tm:Pm:B(B({},Pm),t)}function Nm(t){var e=t.arrowWidth,n=void 0===e?4:e,r=t.horizontalArrowShift,i=void 0===r?16:r,o=t.verticalArrowShift,a=void 0===o?8:o,u=t.autoAdjustOverflow,s=t.arrowPointAtCenter,l={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(l).forEach((function(t){l[t]=s?B(B({},l[t]),{overflow:Fm(u),targetOffset:Dm}):B(B({},Am[t]),{overflow:Fm(u)}),l[t].ignoreShake=!0})),l}_u("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","top","bottom");var Im=function(t){var e,n=D.useContext(Ou),r=n.getPopupContainer,i=n.getPrefixCls,o=n.direction,a=t.arrow,u=t.prefixCls,s=t.children,l=t.trigger,c=t.disabled,f=t.getPopupContainer,d=t.overlayClassName,h=i("dropdown",u),p=D.Children.only(s),v=Tu(p,{className:Mt()("".concat(h,"-trigger"),mt({},"".concat(h,"-rtl"),"rtl"===o),p.props.className),disabled:c}),g=Mt()(d,mt({},"".concat(h,"-rtl"),"rtl"===o)),m=c?[]:l;m&&-1!==m.indexOf("contextMenu")&&(e=!0);var y=Nm({arrowPointAtCenter:"object"===ti(a)&&a.pointAtCenter,autoAdjustOverflow:!0});return D.createElement(Jg,B({alignPoint:e},t,{builtinPlacements:y,arrow:!!a,overlayClassName:g,prefixCls:h,getPopupContainer:f||r,transitionName:function(){var e=i(),n=t.placement,r=void 0===n?"":n,o=t.transitionName;return void 0!==o?o:r.indexOf("top")>=0?"".concat(e,"-slide-down"):"".concat(e,"-slide-up")}(),trigger:m,overlay:function(){return function(e){var n,r=t.overlay;n="function"===typeof r?r():r;var i=(n=D.Children.only("string"===typeof n?D.createElement("span",null,n):n)).props;Rg(!i.mode||"vertical"===i.mode,"Dropdown",'mode="'.concat(i.mode,"\" is not supported for Dropdown's Menu."));var o=i.selectable,a=void 0!==o&&o,u=i.expandIcon,s="undefined"!==typeof u&&D.isValidElement(u)?u:D.createElement("span",{className:"".concat(e,"-menu-submenu-arrow")},D.createElement(Xs,{className:"".concat(e,"-menu-submenu-arrow-icon")}));return"string"===typeof n.type?n:Tu(n,{mode:"vertical",selectable:a,expandIcon:s})}(h)},placement:function(){var e=t.placement;if(!e)return"rtl"===o?"bottomRight":"bottomLeft";if(e.includes("Center")){var n=e.slice(0,e.indexOf("Center"));return Rg(!e.includes("Center"),"Dropdown","You are using '".concat(e,"' placement in Dropdown, which is deprecated. Try to use '").concat(n,"' instead.")),n}return e}()}),v)};Im.Button=Om,Im.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var Lm=Im,Rm=Lm,jm=["children","locked"],Bm=D.createContext(null);function zm(t){var e=t.children,n=t.locked,r=wt(t,jm),i=D.useContext(Bm),o=io((function(){return function(t,e){var n=xt({},t);return Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)})),n}(i,r)}),[i,r],(function(t,e){return!n&&(t[0]!==e[0]||!Zi()(t[1],e[1]))}));return D.createElement(Bm.Provider,{value:o},e)}function Um(t,e,n,r){var i=D.useContext(Bm),o=i.activeKey,a=i.onActive,u=i.onInactive,s={active:o===t};return e||(s.onMouseEnter=function(e){null===n||void 0===n||n({key:t,domEvent:e}),a(t)},s.onMouseLeave=function(e){null===r||void 0===r||r({key:t,domEvent:e}),u(t)}),s}var Hm=["item"];function Vm(t){var e=t.item,n=wt(t,Hm);return Object.defineProperty(n,"item",{get:function(){return eo(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}function Wm(t){var e=t.icon,n=t.props,r=t.children;return("function"===typeof e?D.createElement(e,xt({},n)):e)||r||null}function Ym(t){var e=D.useContext(Bm),n=e.mode,r=e.rtl,i=e.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:t*i}:{paddingLeft:t*i}}var qm=[],Gm=D.createContext(null);function $m(){return D.useContext(Gm)}var Xm=D.createContext(qm);function Km(t){var e=D.useContext(Xm);return D.useMemo((function(){return void 0!==t?[].concat(Ye(e),[t]):e}),[e,t])}var Zm=D.createContext(null),Jm=D.createContext(null);function Qm(t,e){return void 0===t?null:"".concat(t,"-").concat(e)}function ty(t){return Qm(D.useContext(Jm),t)}var ey=D.createContext({}),ny=["title","attribute","elementRef"],ry=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],iy=["active"],oy=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.attribute,r=t.elementRef,i=zi(wt(t,ny),["eventKey"]);return eo(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),D.createElement(Kf.Item,B({},n,{title:"string"===typeof e?e:void 0},i,{ref:r}))}}]),n}(D.Component),ay=function(t){var e,n=t.style,r=t.className,i=t.eventKey,o=(t.warnKey,t.disabled),a=t.itemIcon,u=t.children,s=t.role,l=t.onMouseEnter,c=t.onMouseLeave,f=t.onClick,d=t.onKeyDown,h=t.onFocus,p=wt(t,ry),v=ty(i),g=D.useContext(Bm),m=g.prefixCls,y=g.onItemClick,x=g.disabled,b=g.overflowDisabled,w=g.itemIcon,S=g.selectedKeys,k=g.onActive,C=D.useContext(ey)._internalRenderMenuItem,E="".concat(m,"-item"),O=D.useRef(),M=D.useRef(),_=x||o,A=Km(i);var T=function(t){return{key:i,keyPath:Ye(A).reverse(),item:O.current,domEvent:t}},P=a||w,F=Um(i,_,l,c),N=F.active,I=wt(F,iy),L=S.includes(i),R=Ym(A.length),j={};"option"===t.role&&(j["aria-selected"]=L);var z=D.createElement(oy,B({ref:O,elementRef:M,role:null===s?"none":s||"menuitem",tabIndex:o?null:-1,"data-menu-id":b&&v?null:v},p,I,j,{component:"li","aria-disabled":o,style:xt(xt({},R),n),className:Mt()(E,(e={},mt(e,"".concat(E,"-active"),N),mt(e,"".concat(E,"-selected"),L),mt(e,"".concat(E,"-disabled"),_),e),r),onClick:function(t){if(!_){var e=T(t);null===f||void 0===f||f(Vm(e)),y(e)}},onKeyDown:function(t){if(null===d||void 0===d||d(t),t.which===il.ENTER){var e=T(t);null===f||void 0===f||f(Vm(e)),y(e)}},onFocus:function(t){k(i),null===h||void 0===h||h(t)}}),u,D.createElement(Wm,{props:xt(xt({},t),{},{isSelected:L}),icon:P}));return C&&(z=C(z,t,{selected:L})),z};var uy=function(t){var e=t.eventKey,n=$m(),r=Km(e);return D.useEffect((function(){if(n)return n.registerPath(e,r),function(){n.unregisterPath(e,r)}}),[r]),n?null:D.createElement(ay,t)};function sy(t,e){return ro(t).map((function(t,n){if(D.isValidElement(t)){var r,i,o=t.key,a=null!==(r=null===(i=t.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:o;(null===a||void 0===a)&&(a="tmp_key-".concat([].concat(Ye(e),[n]).join("-")));var u={key:a,eventKey:a};return D.cloneElement(t,u)}return t}))}function ly(t){var e=D.useRef(t);e.current=t;var n=D.useCallback((function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(t=e.current)||void 0===t?void 0:t.call.apply(t,[e].concat(r))}),[]);return t?n:void 0}var cy=["className","children"],fy=function(t,e){var n=t.className,r=t.children,i=wt(t,cy),o=D.useContext(Bm),a=o.prefixCls,u=o.mode,s=o.rtl;return D.createElement("ul",B({className:Mt()(a,s&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===u?"inline":"vertical"),n)},i,{"data-menu-list":!0,ref:e}),r)},dy=D.forwardRef(fy);dy.displayName="SubMenuList";var hy=dy,py={adjustX:1,adjustY:1},vy={topLeft:{points:["bl","tl"],overflow:py,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:py,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:py,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:py,offset:[4,0]}},gy={topLeft:{points:["bl","tl"],overflow:py,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:py,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:py,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:py,offset:[4,0]}};function my(t,e,n){return e||(n?n[t]||n.other:void 0)}var yy={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function xy(t){var e=t.prefixCls,n=t.visible,r=t.children,i=t.popup,o=t.popupClassName,a=t.popupOffset,u=t.disabled,s=t.mode,l=t.onVisibleChange,c=D.useContext(Bm),f=c.getPopupContainer,d=c.rtl,h=c.subMenuOpenDelay,p=c.subMenuCloseDelay,v=c.builtinPlacements,g=c.triggerSubMenuAction,m=c.forceSubMenuRender,y=c.motion,x=c.defaultMotions,b=j(D.useState(!1),2),w=b[0],S=b[1],k=xt(xt({},d?gy:vy),v),C=yy[s],E=xt(xt({},my(s,y,x)),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),O=D.useRef();return D.useEffect((function(){return O.current=ka((function(){S(n)})),function(){ka.cancel(O.current)}}),[n]),D.createElement(Mf,{prefixCls:e,popupClassName:Mt()("".concat(e,"-popup"),mt({},"".concat(e,"-rtl"),d),o),stretch:"horizontal"===s?"minWidth":null,getPopupContainer:f,builtinPlacements:k,popupPlacement:C,popupVisible:w,popup:i,popupAlign:a&&{offset:a},action:u?[]:[g],mouseEnterDelay:h,mouseLeaveDelay:p,onPopupVisibleChange:l,forceRender:m,popupMotion:E},r)}function by(t){var e=t.id,n=t.open,r=t.keyPath,i=t.children,o="inline",a=D.useContext(Bm),u=a.prefixCls,s=a.forceSubMenuRender,l=a.motion,c=a.defaultMotions,f=a.mode,d=D.useRef(!1);d.current=f===o;var h=j(D.useState(!d.current),2),p=h[0],v=h[1],g=!!d.current&&n;D.useEffect((function(){d.current&&v(!1)}),[f]);var m=xt({},my(o,l,c));r.length>1&&(m.motionAppear=!1);var y=m.onVisibleChanged;return m.onVisibleChanged=function(t){return d.current||t||v(!0),null===y||void 0===y?void 0:y(t)},p?null:D.createElement(zm,{mode:o,locked:!d.current},D.createElement(rc,B({visible:g},m,{forceRender:s,removeOnLeave:!1,leavedClassName:"".concat(u,"-hidden")}),(function(t){var n=t.className,r=t.style;return D.createElement(hy,{id:e,className:n,style:r},i)})))}var wy=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Sy=["active"],ky=function(t){var e,n=t.style,r=t.className,i=t.title,o=t.eventKey,a=(t.warnKey,t.disabled),u=t.internalPopupClose,s=t.children,l=t.itemIcon,c=t.expandIcon,f=t.popupClassName,d=t.popupOffset,h=t.onClick,p=t.onMouseEnter,v=t.onMouseLeave,g=t.onTitleClick,m=t.onTitleMouseEnter,y=t.onTitleMouseLeave,x=wt(t,wy),b=ty(o),w=D.useContext(Bm),S=w.prefixCls,k=w.mode,C=w.openKeys,E=w.disabled,O=w.overflowDisabled,M=w.activeKey,_=w.selectedKeys,A=w.itemIcon,T=w.expandIcon,P=w.onItemClick,F=w.onOpenChange,N=w.onActive,I=D.useContext(ey)._internalRenderSubMenuItem,L=D.useContext(Zm).isSubPathKey,R=Km(),z="".concat(S,"-submenu"),U=E||a,H=D.useRef(),V=D.useRef();var W=l||A,Y=c||T,q=C.includes(o),G=!O&&q,$=L(_,o),X=Um(o,U,m,y),K=X.active,Z=wt(X,Sy),J=j(D.useState(!1),2),Q=J[0],tt=J[1],et=function(t){U||tt(t)},nt=D.useMemo((function(){return K||"inline"!==k&&(Q||L([M],o))}),[k,K,M,Q,o,L]),rt=Ym(R.length),it=ly((function(t){null===h||void 0===h||h(Vm(t)),P(t)})),ot=b&&"".concat(b,"-popup"),at=D.createElement("div",B({role:"menuitem",style:rt,className:"".concat(z,"-title"),tabIndex:U?null:-1,ref:H,title:"string"===typeof i?i:null,"data-menu-id":O&&b?null:b,"aria-expanded":G,"aria-haspopup":!0,"aria-controls":ot,"aria-disabled":U,onClick:function(t){U||(null===g||void 0===g||g({key:o,domEvent:t}),"inline"===k&&F(o,!q))},onFocus:function(){N(o)}},Z),i,D.createElement(Wm,{icon:"horizontal"!==k?Y:null,props:xt(xt({},t),{},{isOpen:G,isSubMenu:!0})},D.createElement("i",{className:"".concat(z,"-arrow")}))),ut=D.useRef(k);if("inline"!==k&&(ut.current=R.length>1?"vertical":k),!O){var st=ut.current;at=D.createElement(xy,{mode:st,prefixCls:z,visible:!u&&G&&"inline"!==k,popupClassName:f,popupOffset:d,popup:D.createElement(zm,{mode:"horizontal"===st?"vertical":st},D.createElement(hy,{id:ot,ref:V},s)),disabled:U,onVisibleChange:function(t){"inline"!==k&&F(o,t)}},at)}var lt=D.createElement(Kf.Item,B({role:"none"},x,{component:"li",style:n,className:Mt()(z,"".concat(z,"-").concat(k),r,(e={},mt(e,"".concat(z,"-open"),G),mt(e,"".concat(z,"-active"),nt),mt(e,"".concat(z,"-selected"),$),mt(e,"".concat(z,"-disabled"),U),e)),onMouseEnter:function(t){et(!0),null===p||void 0===p||p({key:o,domEvent:t})},onMouseLeave:function(t){et(!1),null===v||void 0===v||v({key:o,domEvent:t})}}),at,!O&&D.createElement(by,{id:ot,open:G,keyPath:R},s));return I&&(lt=I(lt,t,{selected:$,active:nt,open:G,disabled:U})),D.createElement(zm,{onItemClick:it,mode:"horizontal"===k?"vertical":k,itemIcon:W,expandIcon:Y},lt)};function Cy(t){var e,n=t.eventKey,r=t.children,i=Km(n),o=sy(r,i),a=$m();return D.useEffect((function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}}),[i]),e=a?o:D.createElement(ky,t,o),D.createElement(Xm.Provider,{value:i},e)}function Ey(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ui(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||"a"===n&&!!t.getAttribute("href"),i=t.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&null===a&&(a=0),r&&t.disabled&&(a=null),null!==a&&(a>=0||e&&a<0)}return!1}function Oy(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ye(t.querySelectorAll("*")).filter((function(t){return Ey(t,e)}));return Ey(t,e)&&n.unshift(t),n}var My=il.LEFT,_y=il.RIGHT,Ay=il.UP,Ty=il.DOWN,Py=il.ENTER,Dy=il.ESC,Fy=il.HOME,Ny=il.END,Iy=[Ay,Ty,My,_y];function Ly(t,e){return Oy(t,!0).filter((function(t){return e.has(t)}))}function Ry(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!t)return null;var i=Ly(t,e),o=i.length,a=i.findIndex((function(t){return n===t}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),i[a=(a+o)%o]}function jy(t,e,n,r,i,o,a,u,s,l){var c=D.useRef(),f=D.useRef();f.current=e;var d=function(){ka.cancel(c.current)};return D.useEffect((function(){return function(){d()}}),[]),function(h){var p=h.which;if([].concat(Iy,[Py,Dy,Fy,Ny]).includes(p)){var v,g,m,y=function(){return v=new Set,g=new Map,m=new Map,o().forEach((function(t){var e=document.querySelector("[data-menu-id='".concat(Qm(r,t),"']"));e&&(v.add(e),m.set(e,t),g.set(t,e))})),v};y();var x=function(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}(g.get(e),v),b=m.get(x),w=function(t,e,n,r){var i,o,a,u,s="prev",l="next",c="children",f="parent";if("inline"===t&&r===Py)return{inlineTrigger:!0};var d=(mt(i={},Ay,s),mt(i,Ty,l),i),h=(mt(o={},My,n?l:s),mt(o,_y,n?s:l),mt(o,Ty,c),mt(o,Py,c),o),p=(mt(a={},Ay,s),mt(a,Ty,l),mt(a,Py,c),mt(a,Dy,f),mt(a,My,n?c:f),mt(a,_y,n?f:c),a);switch(null===(u={inline:d,horizontal:h,vertical:p,inlineSub:d,horizontalSub:p,verticalSub:p}["".concat(t).concat(e?"":"Sub")])||void 0===u?void 0:u[r]){case s:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case c:return{offset:1,sibling:!1};default:return null}}(t,1===a(b,!0).length,n,p);if(!w&&p!==Fy&&p!==Ny)return;(Iy.includes(p)||[Fy,Ny].includes(p))&&h.preventDefault();var S=function(t){if(t){var e=t,n=t.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(e=n);var r=m.get(t);u(r),d(),c.current=ka((function(){f.current===r&&e.focus()}))}};if([Fy,Ny].includes(p)||w.sibling||!x){var k,C;k=x&&"inline"!==t?function(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}(x):i.current;var E=Ly(k,v);C=p===Fy?E[0]:p===Ny?E[E.length-1]:Ry(k,v,x,w.offset),S(C)}else if(w.inlineTrigger)s(b);else if(w.offset>0)s(b,!0),d(),c.current=ka((function(){y();var t=x.getAttribute("aria-controls"),e=Ry(document.getElementById(t),v);S(e)}),5);else if(w.offset<0){var O=a(b,!0),M=O[O.length-2],_=g.get(M);s(M,!1),S(_)}}null===l||void 0===l||l(h)}}var By=Math.random().toFixed(5).toString().slice(2),zy=0;var Uy="__RC_UTIL_PATH_SPLIT__",Hy=function(t){return t.join(Uy)},Vy="rc-menu-more";function Wy(){var t=j(D.useState({}),2)[1],e=(0,D.useRef)(new Map),n=(0,D.useRef)(new Map),r=j(D.useState([]),2),i=r[0],o=r[1],a=(0,D.useRef)(0),u=(0,D.useRef)(!1),s=(0,D.useCallback)((function(r,i){var o=Hy(i);n.current.set(o,r),e.current.set(r,o),a.current+=1;var s,l=a.current;s=function(){l===a.current&&(u.current||t({}))},Promise.resolve().then(s)}),[]),l=(0,D.useCallback)((function(t,r){var i=Hy(r);n.current.delete(i),e.current.delete(t)}),[]),c=(0,D.useCallback)((function(t){o(t)}),[]),f=(0,D.useCallback)((function(t,n){var r=e.current.get(t)||"",o=r.split(Uy);return n&&i.includes(o[0])&&o.unshift(Vy),o}),[i]),d=(0,D.useCallback)((function(t,e){return t.some((function(t){return f(t,!0).includes(e)}))}),[f]),h=(0,D.useCallback)((function(t){var r="".concat(e.current.get(t)).concat(Uy),i=new Set;return Ye(n.current.keys()).forEach((function(t){t.startsWith(r)&&i.add(n.current.get(t))})),i}),[]);return D.useEffect((function(){return function(){u.current=!0}}),[]),{registerPath:s,unregisterPath:l,refreshOverflowKeys:c,isSubPathKey:d,getKeyPath:f,getKeys:function(){var t=Ye(e.current.keys());return i.length&&t.push(Vy),t},getSubPathKeys:h}}var Yy=["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],qy=[],Gy=D.forwardRef((function(t,e){var n,r,i=t.prefixCls,o=void 0===i?"rc-menu":i,a=t.style,u=t.className,s=t.tabIndex,l=void 0===s?0:s,c=t.children,f=t.direction,d=t.id,h=t.mode,p=void 0===h?"vertical":h,v=t.inlineCollapsed,g=t.disabled,m=t.disabledOverflow,y=t.subMenuOpenDelay,x=void 0===y?.1:y,b=t.subMenuCloseDelay,w=void 0===b?.1:b,S=t.forceSubMenuRender,k=t.defaultOpenKeys,C=t.openKeys,E=t.activeKey,O=t.defaultActiveFirst,M=t.selectable,_=void 0===M||M,A=t.multiple,T=void 0!==A&&A,P=t.defaultSelectedKeys,F=t.selectedKeys,N=t.onSelect,I=t.onDeselect,L=t.inlineIndent,R=void 0===L?24:L,z=t.motion,U=t.defaultMotions,H=t.triggerSubMenuAction,V=void 0===H?"hover":H,W=t.builtinPlacements,Y=t.itemIcon,q=t.expandIcon,G=t.overflowedIndicator,$=void 0===G?"...":G,X=t.overflowedIndicatorPopupClassName,K=t.getPopupContainer,Z=t.onClick,J=t.onOpenChange,Q=t.onKeyDown,tt=(t.openAnimation,t.openTransitionName,t._internalRenderMenuItem),et=t._internalRenderSubMenuItem,nt=wt(t,Yy),rt=sy(c,qy),it=j(D.useState(!1),2),ot=it[0],at=it[1],ut=D.useRef(),st=ao(ut,e),lt=function(t){var e=j(nl(t,{value:t}),2),n=e[0],r=e[1];return D.useEffect((function(){zy+=1;var t="".concat(By,"-").concat(zy);r("rc-menu-uuid-".concat(t))}),[]),n}(d),ct="rtl"===f;var ft=j(D.useMemo((function(){return"inline"!==p&&"vertical"!==p||!v?[p,!1]:["vertical",v]}),[p,v]),2),dt=ft[0],ht=ft[1],pt=j(D.useState(0),2),vt=pt[0],gt=pt[1],yt=vt>=rt.length-1||"horizontal"!==dt||m,bt=nl(k,{value:C,postState:function(t){return t||qy}}),St=j(bt,2),kt=St[0],Ct=St[1],Et=function(t){Ct(t),null===J||void 0===J||J(t)},Ot=j(D.useState(kt),2),_t=Ot[0],At=Ot[1],Tt="inline"===dt,Pt=D.useRef(!1);D.useEffect((function(){Tt&&At(kt)}),[kt]),D.useEffect((function(){Pt.current?Tt?Ct(_t):Et(qy):Pt.current=!0}),[Tt]);var Dt=Wy(),Ft=Dt.registerPath,Nt=Dt.unregisterPath,It=Dt.refreshOverflowKeys,Lt=Dt.isSubPathKey,Rt=Dt.getKeyPath,jt=Dt.getKeys,Bt=Dt.getSubPathKeys,zt=D.useMemo((function(){return{registerPath:Ft,unregisterPath:Nt}}),[Ft,Nt]),Ut=D.useMemo((function(){return{isSubPathKey:Lt}}),[Lt]);D.useEffect((function(){It(yt?qy:rt.slice(vt+1).map((function(t){return t.key})))}),[vt,yt]);var Ht=j(nl(E||O&&(null===(n=rt[0])||void 0===n?void 0:n.key),{value:E}),2),Vt=Ht[0],Wt=Ht[1],Yt=ly((function(t){Wt(t)})),qt=ly((function(){Wt(void 0)})),Gt=nl(P||[],{value:F,postState:function(t){return Array.isArray(t)?t:null===t||void 0===t?qy:[t]}}),$t=j(Gt,2),Xt=$t[0],Kt=$t[1],Zt=ly((function(t){null===Z||void 0===Z||Z(Vm(t)),function(t){if(_){var e,n=t.key,r=Xt.includes(n);e=T?r?Xt.filter((function(t){return t!==n})):[].concat(Ye(Xt),[n]):[n],Kt(e);var i=xt(xt({},t),{},{selectedKeys:e});r?null===I||void 0===I||I(i):null===N||void 0===N||N(i)}!T&&kt.length&&"inline"!==dt&&Et(qy)}(t)})),Jt=ly((function(t,e){var n=kt.filter((function(e){return e!==t}));if(e)n.push(t);else if("inline"!==dt){var r=Bt(t);n=n.filter((function(t){return!r.has(t)}))}Zi()(kt,n)||Et(n)})),Qt=ly(K),te=jy(dt,Vt,ct,lt,ut,jt,Rt,Wt,(function(t,e){var n=null!==e&&void 0!==e?e:!kt.includes(t);Jt(t,n)}),Q);D.useEffect((function(){at(!0)}),[]);var ee=D.useMemo((function(){return{_internalRenderMenuItem:tt,_internalRenderSubMenuItem:et}}),[tt,et]),ne="horizontal"!==dt||m?rt:rt.map((function(t,e){return D.createElement(zm,{key:t.key,overflowDisabled:e>vt},t)})),re=D.createElement(Kf,B({id:d,ref:st,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:uy,className:Mt()(o,"".concat(o,"-root"),"".concat(o,"-").concat(dt),u,(r={},mt(r,"".concat(o,"-inline-collapsed"),ht),mt(r,"".concat(o,"-rtl"),ct),r)),dir:f,style:a,role:"menu",tabIndex:l,data:ne,renderRawItem:function(t){return t},renderRawRest:function(t){var e=t.length,n=e?rt.slice(-e):null;return D.createElement(Cy,{eventKey:Vy,title:$,disabled:yt,internalPopupClose:0===e,popupClassName:X},n)},maxCount:"horizontal"!==dt||m?Kf.INVALIDATE:Kf.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(t){gt(t)},onKeyDown:te},nt));return D.createElement(ey.Provider,{value:ee},D.createElement(Jm.Provider,{value:lt},D.createElement(zm,{prefixCls:o,mode:dt,openKeys:kt,rtl:ct,disabled:g,motion:ot?z:null,defaultMotions:ot?U:null,activeKey:Vt,onActive:Yt,onInactive:qt,selectedKeys:Xt,inlineIndent:R,subMenuOpenDelay:x,subMenuCloseDelay:w,forceSubMenuRender:S,builtinPlacements:W,triggerSubMenuAction:V,getPopupContainer:Qt,itemIcon:Y,expandIcon:q,onItemClick:Zt,onOpenChange:Jt},D.createElement(Zm.Provider,{value:Ut},re),D.createElement("div",{style:{display:"none"},"aria-hidden":!0},D.createElement(Gm.Provider,{value:zt},rt)))))})),$y=["className","title","eventKey","children"],Xy=["children"],Ky=function(t){var e=t.className,n=t.title,r=(t.eventKey,t.children),i=wt(t,$y),o=D.useContext(Bm).prefixCls,a="".concat(o,"-item-group");return D.createElement("li",B({},i,{onClick:function(t){return t.stopPropagation()},className:Mt()(a,e)}),D.createElement("div",{className:"".concat(a,"-title"),title:"string"===typeof n?n:void 0},n),D.createElement("ul",{className:"".concat(a,"-list")},r))};function Zy(t){var e=t.children,n=wt(t,Xy),r=sy(e,Km(n.eventKey));return $m()?r:D.createElement(Ky,zi(n,["warnKey"]),r)}function Jy(t){var e=t.className,n=t.style,r=D.useContext(Bm).prefixCls;return $m()?null:D.createElement("li",{className:Mt()("".concat(r,"-item-divider"),e),style:n})}var Qy=Km,tx=Gy;tx.Item=uy,tx.SubMenu=Cy,tx.ItemGroup=Zy,tx.Divider=Jy;var ex=tx,nx=(0,D.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var rx=function(t){var e,n,r=t.popupClassName,i=t.icon,o=t.title,a=t.theme,u=D.useContext(nx),s=u.prefixCls,l=u.inlineCollapsed,c=u.antdMenuTheme,f=Qy();if(i){var d=Au(o)&&"span"===o.type;n=D.createElement(D.Fragment,null,Tu(i,{className:Mt()(Au(i)?null===(e=i.props)||void 0===e?void 0:e.className:"","".concat(s,"-item-icon"))}),d?o:D.createElement("span",{className:"".concat(s,"-title-content")},o))}else n=l&&!f.length&&o&&"string"===typeof o?D.createElement("div",{className:"".concat(s,"-inline-collapsed-noicon")},o.charAt(0)):D.createElement("span",{className:"".concat(s,"-title-content")},o);var h=D.useMemo((function(){return B(B({},u),{firstLevel:!1})}),[u]);return D.createElement(nx.Provider,{value:h},D.createElement(Cy,B({},zi(t,["icon"]),{title:n,popupClassName:Mt()(s,"".concat(s,"-").concat(a||c),r)})))},ix=function(t){var e=t.overlay,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle;return D.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},"function"===typeof e?e():e)},ox=function(t,e){var n=t.overlayClassName,r=t.trigger,i=void 0===r?["hover"]:r,o=t.mouseEnterDelay,a=void 0===o?0:o,u=t.mouseLeaveDelay,s=void 0===u?.1:u,l=t.overlayStyle,c=t.prefixCls,f=void 0===c?"rc-tooltip":c,d=t.children,h=t.onVisibleChange,p=t.afterVisibleChange,v=t.transitionName,g=t.animation,m=t.motion,y=t.placement,x=void 0===y?"right":y,b=t.align,w=void 0===b?{}:b,S=t.destroyTooltipOnHide,k=void 0!==S&&S,C=t.defaultVisible,E=t.getTooltipContainer,O=t.overlayInnerStyle,M=wt(t,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),_=(0,D.useRef)(null);(0,D.useImperativeHandle)(e,(function(){return _.current}));var A=xt({},M);"visible"in t&&(A.popupVisible=t.visible);var T=!1,P=!1;if("boolean"===typeof k)T=k;else if(k&&"object"===ti(k)){var F=k.keepParent;T=!0===F,P=!1===F}return D.createElement(Mf,B({popupClassName:n,prefixCls:f,popup:function(){var e=t.arrowContent,n=void 0===e?null:e,r=t.overlay,i=t.id;return[D.createElement("div",{className:"".concat(f,"-arrow"),key:"arrow"},n),D.createElement(ix,{key:"content",prefixCls:f,id:i,overlay:r,overlayInnerStyle:O})]},action:i,builtinPlacements:Am,popupPlacement:x,ref:_,popupAlign:w,getPopupContainer:E,onPopupVisibleChange:h,afterPopupVisibleChange:p,popupTransitionName:v,popupAnimation:g,popupMotion:m,defaultPopupVisible:C,destroyPopupOnHide:T,autoDestroy:P,mouseLeaveDelay:s,popupStyle:l,mouseEnterDelay:a},A),d)},ax=(0,D.forwardRef)(ox),ux=(_u("success","processing","error","default","warning"),_u("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),sx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},lx=new RegExp("^(".concat(ux.join("|"),")(-inverse)?$"));function cx(t,e){var n=t.type;if((!0===n.__ANT_BUTTON||"button"===t.type)&&t.props.disabled||!0===n.__ANT_SWITCH&&(t.props.disabled||t.props.loading)){var r=function(t,e){var n={},r=B({},t);return e.forEach((function(e){t&&e in t&&(n[e]=t[e],delete r[e])})),{picked:n,omitted:r}}(t.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,a=B(B({display:"inline-block"},i),{cursor:"not-allowed",width:t.props.block?"100%":null}),u=Tu(t,{style:B(B({},o),{pointerEvents:"none"}),className:null});return D.createElement("span",{style:a,className:Mt()(t.props.className,"".concat(e,"-disabled-compatible-wrapper"))},u)}return t}var fx=D.forwardRef((function(t,e){var n,r=D.useContext(Ou),i=r.getPopupContainer,o=r.getPrefixCls,a=r.direction,u=j(nl(!1,{value:t.visible,defaultValue:t.defaultVisible}),2),s=u[0],l=u[1],c=function(){var e=t.title,n=t.overlay;return!e&&!n&&0!==e},f=function(){var e=t.builtinPlacements,n=t.arrowPointAtCenter,r=t.autoAdjustOverflow;return e||Nm({arrowPointAtCenter:n,autoAdjustOverflow:r})},d=t.getPopupContainer,h=sx(t,["getPopupContainer"]),p=t.prefixCls,v=t.openClassName,g=t.getTooltipContainer,m=t.overlayClassName,y=t.color,x=t.overlayInnerStyle,b=t.children,w=o("tooltip",p),S=o(),k=s;!("visible"in t)&&c()&&(k=!1);var C,E=cx(Au(b)?b:D.createElement("span",null,b),w),O=E.props,M=Mt()(O.className,mt({},v||"".concat(w,"-open"),!0)),_=Mt()(m,(mt(n={},"".concat(w,"-rtl"),"rtl"===a),mt(n,"".concat(w,"-").concat(y),y&&lx.test(y)),n)),A=x;return y&&!lx.test(y)&&(A=B(B({},x),{background:y}),C={"--antd-arrow-background-color":y}),D.createElement(ax,B({},h,{prefixCls:w,overlayClassName:_,getTooltipContainer:d||g||i,ref:e,builtinPlacements:f(),overlay:function(){var e=t.title,n=t.overlay;return 0===e?e:n||e||""}(),visible:k,onVisibleChange:function(e){var n;l(!c()&&e),c()||null===(n=t.onVisibleChange)||void 0===n||n.call(t,e)},onPopupAlign:function(t,e){var n=f(),r=Object.keys(n).find((function(t){return n[t].points[0]===e.points[0]&&n[t].points[1]===e.points[1]}));if(r){var i=t.getBoundingClientRect(),o={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?o.top="".concat(i.height-e.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(o.top="".concat(-e.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?o.left="".concat(i.width-e.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(o.left="".concat(-e.offset[0],"px")),t.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:A,arrowContent:D.createElement("span",{className:"".concat(w,"-arrow-content"),style:C}),motion:{motionName:Pv(S,"zoom-big-fast",t.transitionName),motionDeadline:1e3}}),k?Tu(E,{className:M}):E)}));fx.displayName="Tooltip",fx.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var dx=fx,hx={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},px=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:hx}))};px.displayName="BarsOutlined";var vx=D.forwardRef(px),gx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},mx=D.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function yx(t){var e=t.suffixCls,n=t.tagName,r=t.displayName;return function(t){var i=function(r){var i=D.useContext(Ou).getPrefixCls,o=r.prefixCls,a=i(e,o);return D.createElement(t,B({prefixCls:a,tagName:n},r))};return i.displayName=r,i}}var xx=function(t){var e=t.prefixCls,n=t.className,r=t.children,i=t.tagName,o=gx(t,["prefixCls","className","children","tagName"]),a=Mt()(e,n);return D.createElement(i,B({className:a},o),r)},bx=(yx({suffixCls:"layout",tagName:"section",displayName:"Layout"})((function(t){var e,n=D.useContext(Ou).direction,r=j(D.useState([]),2),i=r[0],o=r[1],a=t.prefixCls,u=t.className,s=t.children,l=t.hasSider,c=t.tagName,f=gx(t,["prefixCls","className","children","hasSider","tagName"]),d=Mt()(a,(mt(e={},"".concat(a,"-has-sider"),"boolean"===typeof l?l:i.length>0),mt(e,"".concat(a,"-rtl"),"rtl"===n),e),u),h=D.useMemo((function(){return{siderHook:{addSider:function(t){o((function(e){return[].concat(Ye(e),[t])}))},removeSider:function(t){o((function(e){return e.filter((function(e){return e!==t}))}))}}}}),[]);return D.createElement(mx.Provider,{value:h},D.createElement(c,B({className:d},f),s))})),yx({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(xx),yx({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(xx),yx({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(xx),function(t){return!isNaN(parseFloat(t))&&isFinite(t)}),wx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Sx={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},kx=D.createContext({}),Cx=function(){var t=0;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t+=1,"".concat(e).concat(t)}}(),Ex=D.forwardRef((function(t,e){var n=t.prefixCls,r=t.className,i=t.trigger,o=t.children,a=t.defaultCollapsed,u=void 0!==a&&a,s=t.theme,l=void 0===s?"dark":s,c=t.style,f=void 0===c?{}:c,d=t.collapsible,h=void 0!==d&&d,p=t.reverseArrow,v=void 0!==p&&p,g=t.width,m=void 0===g?200:g,y=t.collapsedWidth,x=void 0===y?80:y,b=t.zeroWidthTriggerStyle,w=t.breakpoint,S=t.onCollapse,k=t.onBreakpoint,C=wx(t,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),E=(0,D.useContext)(mx).siderHook,O=j((0,D.useState)("collapsed"in C?C.collapsed:u),2),M=O[0],_=O[1],A=j((0,D.useState)(!1),2),T=A[0],P=A[1];(0,D.useEffect)((function(){"collapsed"in C&&_(C.collapsed)}),[C.collapsed]);var F=function(t,e){"collapsed"in C||_(t),null===S||void 0===S||S(t,e)},N=(0,D.useRef)();N.current=function(t){P(t.matches),null===k||void 0===k||k(t.matches),M!==t.matches&&F(t.matches,"responsive")},(0,D.useEffect)((function(){function t(t){return N.current(t)}var e;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&w&&w in Sx){e=n("(max-width: ".concat(Sx[w],")"));try{e.addEventListener("change",t)}catch(n5){e.addListener(t)}t(e)}}return function(){try{null===e||void 0===e||e.removeEventListener("change",t)}catch(n5){null===e||void 0===e||e.removeListener(t)}}}),[w]),(0,D.useEffect)((function(){var t=Cx("ant-sider-");return E.addSider(t),function(){return E.removeSider(t)}}),[]);var I=function(){F(!M,"clickTrigger")},L=(0,D.useContext)(Ou).getPrefixCls,R=D.useMemo((function(){return{siderCollapsed:M}}),[M]);return D.createElement(kx.Provider,{value:R},function(){var t,a=L("layout-sider",n),u=zi(C,["collapsed"]),s=M?x:m,c=bx(s)?"".concat(s,"px"):String(s),d=0===parseFloat(String(x||0))?D.createElement("span",{onClick:I,className:Mt()("".concat(a,"-zero-width-trigger"),"".concat(a,"-zero-width-trigger-").concat(v?"right":"left")),style:b},i||D.createElement(vx,null)):null,p={expanded:v?D.createElement(Xs,null):D.createElement(qs,null),collapsed:v?D.createElement(qs,null):D.createElement(Xs,null)}[M?"collapsed":"expanded"],g=null!==i?d||D.createElement("div",{className:"".concat(a,"-trigger"),onClick:I,style:{width:c}},i||p):null,y=B(B({},f),{flex:"0 0 ".concat(c),maxWidth:c,minWidth:c,width:c}),w=Mt()(a,"".concat(a,"-").concat(l),(mt(t={},"".concat(a,"-collapsed"),!!M),mt(t,"".concat(a,"-has-trigger"),h&&null!==i&&!d),mt(t,"".concat(a,"-below"),!!T),mt(t,"".concat(a,"-zero-width"),0===parseFloat(c)),t),r);return D.createElement("aside",B({className:w},u,{style:y,ref:e}),D.createElement("div",{className:"".concat(a,"-children")},o),h||T&&d?g:null)}())}));Ex.displayName="Sider";var Ox=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Mx=function(t){Zr(n,t);var e=ri(n);function n(){var t;return Xr(this,n),(t=e.apply(this,arguments)).renderItem=function(e){var n,r,i=e.siderCollapsed,o=t.context,a=o.prefixCls,u=o.firstLevel,s=o.inlineCollapsed,l=o.direction,c=o.disableMenuItemTitleTooltip,f=t.props,d=f.className,h=f.children,p=t.props,v=p.title,g=p.icon,m=p.danger,y=Ox(p,["title","icon","danger"]),x=v;"undefined"===typeof v?x=u?h:"":!1===v&&(x="");var b={title:x};i||s||(b.title=null,b.visible=!1);var w=ro(h).length,S=D.createElement(uy,B({},y,{className:Mt()((n={},mt(n,"".concat(a,"-item-danger"),m),mt(n,"".concat(a,"-item-only-child"),1===(g?w+1:w)),n),d),title:"string"===typeof v?v:void 0}),Tu(g,{className:Mt()(Au(g)?null===(r=g.props)||void 0===r?void 0:r.className:"","".concat(a,"-item-icon"))}),t.renderItemChildren(s));return c||(S=D.createElement(dx,B({},b,{placement:"rtl"===l?"left":"right",overlayClassName:"".concat(a,"-inline-collapsed-tooltip")}),S)),S},t}return $r(n,[{key:"renderItemChildren",value:function(t){var e=this.context,n=e.prefixCls,r=e.firstLevel,i=this.props,o=i.icon,a=i.children,u=D.createElement("span",{className:"".concat(n,"-title-content")},a);return(!o||Au(a)&&"span"===a.type)&&a&&t&&r&&"string"===typeof a?D.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},a.charAt(0)):u}},{key:"render",value:function(){return D.createElement(kx.Consumer,null,this.renderItem)}}]),n}(D.Component);Mx.contextType=nx;var _x=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Ax=function(t){var e=t.prefixCls,n=t.className,r=t.dashed,i=_x(t,["prefixCls","className","dashed"]),o=(0,D.useContext(Ou).getPrefixCls)("menu",e),a=Mt()(mt({},"".concat(o,"-item-divider-dashed"),!!r),n);return D.createElement(Jy,B({className:a},i))},Tx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Px(t){var e=D.useContext(Ou),n=e.getPrefixCls,r=e.getPopupContainer,i=e.direction,o=n(),a=t.prefixCls,u=t.className,s=t.theme,l=void 0===s?"light":s,c=t.expandIcon,f=t._internalDisableMenuItemTitleTooltip,d=t.inlineCollapsed,h=t.siderCollapsed,p=zi(Tx(t,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed"]),["collapsedWidth"]);Rg(!("inlineCollapsed"in t&&"inline"!==t.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),Rg(!(void 0!==t.siderCollapsed&&"inlineCollapsed"in t),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.");var v=D.useMemo((function(){return void 0!==h?h:d}),[d,h]),g={horizontal:{motionName:"".concat(o,"-slide-up")},inline:Dv,other:{motionName:"".concat(o,"-zoom-big")}},m=n("menu",a),y=Mt()("".concat(m,"-").concat(l),u),x=D.useMemo((function(){return{prefixCls:m,inlineCollapsed:v||!1,antdMenuTheme:l,direction:i,firstLevel:!0,disableMenuItemTitleTooltip:f}}),[m,v,l,i,f]);return D.createElement(nx.Provider,{value:x},D.createElement(ex,B({getPopupContainer:r,overflowedIndicator:D.createElement(nm,null),overflowedIndicatorPopupClassName:"".concat(m,"-").concat(l)},p,{inlineCollapsed:v,className:y,prefixCls:m,direction:i,defaultMotions:g,expandIcon:Tu(c,{className:"".concat(m,"-submenu-expand-icon")})})))}var Dx=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"render",value:function(){var t=this;return D.createElement(kx.Consumer,null,(function(e){return D.createElement(Px,B({},t.props,e))}))}}]),n}(D.Component);Dx.Divider=Ax,Dx.Item=Mx,Dx.SubMenu=rx,Dx.ItemGroup=Zy;var Fx=Dx,Nx=D.createContext(null),Ix=Nx.Provider,Lx=Nx,Rx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},jx=function(t,e){var n,r=D.useContext(Lx),i=D.useContext(Ou),o=i.getPrefixCls,a=i.direction,u=ao(e,D.useRef());D.useEffect((function(){Rg(!("optionType"in t),"Radio","`optionType` is only support in Radio.Group.")}),[]);var s=t.prefixCls,l=t.className,c=t.children,f=t.style,d=Rx(t,["prefixCls","className","children","style"]),h=o("radio",s),p=B({},d);r&&(p.name=r.name,p.onChange=function(e){var n,i;null===(n=t.onChange)||void 0===n||n.call(t,e),null===(i=null===r||void 0===r?void 0:r.onChange)||void 0===i||i.call(r,e)},p.checked=t.value===r.value,p.disabled=t.disabled||r.disabled);var v=Mt()("".concat(h,"-wrapper"),(mt(n={},"".concat(h,"-wrapper-checked"),p.checked),mt(n,"".concat(h,"-wrapper-disabled"),p.disabled),mt(n,"".concat(h,"-wrapper-rtl"),"rtl"===a),n),l);return D.createElement("label",{className:v,style:f,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave},D.createElement(Pg,B({},p,{type:"radio",prefixCls:h,ref:u})),void 0!==c?D.createElement("span",null,c):null)},Bx=D.forwardRef(jx);Bx.displayName="Radio";var zx=Bx;var Ux=D.forwardRef((function(t,e){var n=D.useContext(Ou),r=n.getPrefixCls,i=n.direction,o=D.useContext(ip),a=j(nl(t.defaultValue,{value:t.value}),2),u=a[0],s=a[1];return D.createElement(Ix,{value:{onChange:function(e){var n=u,r=e.target.value;"value"in t||s(r);var i=t.onChange;i&&r!==n&&i(e)},value:u,disabled:t.disabled,name:t.name}},function(){var n,a=t.prefixCls,s=t.className,l=void 0===s?"":s,c=t.options,f=t.optionType,d=t.buttonStyle,h=void 0===d?"outline":d,p=t.disabled,v=t.children,g=t.size,m=t.style,y=t.id,x=t.onMouseEnter,b=t.onMouseLeave,w=r("radio",a),S="".concat(w,"-group"),k=v;if(c&&c.length>0){var C="button"===f?"".concat(w,"-button"):w;k=c.map((function(t){return"string"===typeof t||"number"===typeof t?D.createElement(zx,{key:t.toString(),prefixCls:C,disabled:p,value:t,checked:u===t},t):D.createElement(zx,{key:"radio-group-value-options-".concat(t.value),prefixCls:C,disabled:t.disabled||p,value:t.value,checked:u===t.value,style:t.style},t.label)}))}var E=g||o,O=Mt()(S,"".concat(S,"-").concat(h),(mt(n={},"".concat(S,"-").concat(E),E),mt(n,"".concat(S,"-rtl"),"rtl"===i),n),l);return D.createElement("div",B({},function(t){return Object.keys(t).reduce((function(e,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(e[n]=t[n]),e}),{})}(t),{className:O,style:m,onMouseEnter:x,onMouseLeave:b,id:y,ref:e}),k)}())})),Hx=D.memo(Ux),Vx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Wx=function(t,e){var n=D.useContext(Lx),r=D.useContext(Ou).getPrefixCls,i=t.prefixCls,o=Vx(t,["prefixCls"]),a=r("radio-button",i);return n&&(o.checked=t.value===n.value,o.disabled=t.disabled||n.disabled),D.createElement(zx,B({prefixCls:a},o,{type:"radio",ref:e}))},Yx=D.forwardRef(Wx),qx=zx;qx.Button=Yx,qx.Group=Hx;var Gx=qx,$x={},Xx="SELECT_ALL",Kx="SELECT_INVERT",Zx="SELECT_NONE",Jx=[];function Qx(t,e){var n=[];return(t||[]).forEach((function(t){n.push(t),t&&"object"===ti(t)&&e in t&&(n=[].concat(Ye(n),Ye(Qx(t[e],e))))})),n}function tb(t,e){var n=t||{},r=n.preserveSelectedRowKeys,i=n.selectedRowKeys,o=n.defaultSelectedRowKeys,a=n.getCheckboxProps,u=n.onChange,s=n.onSelect,l=n.onSelectAll,c=n.onSelectInvert,f=n.onSelectNone,d=n.onSelectMultiple,h=n.columnWidth,p=n.type,v=n.selections,g=n.fixed,m=n.renderCell,y=n.hideSelectAll,x=n.checkStrictly,b=void 0===x||x,w=e.prefixCls,S=e.data,k=e.pageData,C=e.getRecordByKey,E=e.getRowKey,O=e.expandType,M=e.childrenColumnName,_=e.locale,A=e.getPopupContainer,T=j(nl(i||o||Jx,{value:i}),2),P=T[0],F=T[1],N=D.useRef(new Map),I=(0,D.useCallback)((function(t){if(r){var e=new Map;t.forEach((function(t){var n=C(t);!n&&N.current.has(t)&&(n=N.current.get(t)),e.set(t,n)})),N.current=e}}),[C,r]);D.useEffect((function(){I(P)}),[P]);var L=(0,D.useMemo)((function(){return b?{keyEntities:null}:Cg(S,{externalGetKey:E,childrenPropName:M})}),[S,E,b,M]).keyEntities,R=(0,D.useMemo)((function(){return Qx(k,M)}),[k,M]),z=(0,D.useMemo)((function(){var t=new Map;return R.forEach((function(e,n){var r=E(e,n),i=(a?a(e):null)||{};t.set(r,i)})),t}),[R,E,a]),U=(0,D.useCallback)((function(t){var e;return!!(null===(e=z.get(E(t)))||void 0===e?void 0:e.disabled)}),[z,E]),H=j((0,D.useMemo)((function(){if(b)return[P||[],[]];var t=Ag(P,!0,L,U);return[t.checkedKeys||[],t.halfCheckedKeys]}),[P,b,L,U]),2),V=H[0],W=H[1],Y=(0,D.useMemo)((function(){var t="radio"===p?V.slice(0,1):V;return new Set(t)}),[V,p]),q=(0,D.useMemo)((function(){return"radio"===p?new Set:new Set(W)}),[W,p]),G=j((0,D.useState)(null),2),$=G[0],X=G[1];D.useEffect((function(){t||F(Jx)}),[!!t]);var K=(0,D.useCallback)((function(t){var e,n;I(t),r?(e=t,n=t.map((function(t){return N.current.get(t)}))):(e=[],n=[],t.forEach((function(t){var r=C(t);void 0!==r&&(e.push(t),n.push(r))}))),F(e),null===u||void 0===u||u(e,n)}),[F,C,u,r]),Z=(0,D.useCallback)((function(t,e,n,r){if(s){var i=n.map((function(t){return C(t)}));s(C(t),e,i,r)}K(n)}),[s,C,K]),J=(0,D.useMemo)((function(){return!v||y?null:(!0===v?[Xx,Kx,Zx]:v).map((function(t){return t===Xx?{key:"all",text:_.selectionAll,onSelect:function(){K(S.map((function(t,e){return E(t,e)})).filter((function(t){var e=z.get(t);return!(null===e||void 0===e?void 0:e.disabled)||Y.has(t)})))}}:t===Kx?{key:"invert",text:_.selectInvert,onSelect:function(){var t=new Set(Y);k.forEach((function(e,n){var r=E(e,n),i=z.get(r);(null===i||void 0===i?void 0:i.disabled)||(t.has(r)?t.delete(r):t.add(r))}));var e=Array.from(t);c&&(Rg(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),c(e)),K(e)}}:t===Zx?{key:"none",text:_.selectNone,onSelect:function(){null===f||void 0===f||f(),K(Array.from(Y).filter((function(t){var e=z.get(t);return null===e||void 0===e?void 0:e.disabled})))}}:t}))}),[v,Y,k,E,c,K]),Q=(0,D.useCallback)((function(e){var n;if(!t)return e.filter((function(t){return t!==$x}));var r,i,o=Ye(e),a=new Set(Y),u=R.map(E).filter((function(t){return!z.get(t).disabled})),s=u.every((function(t){return a.has(t)})),c=u.some((function(t){return a.has(t)}));if("radio"!==p){var f;if(J){var v=D.createElement(Fx,{getPopupContainer:A},J.map((function(t,e){var n=t.key,r=t.text,i=t.onSelect;return D.createElement(Fx.Item,{key:n||e,onClick:function(){null===i||void 0===i||i(u)}},r)})));f=D.createElement("div",{className:"".concat(w,"-selection-extra")},D.createElement(Rm,{overlay:v,getPopupContainer:A},D.createElement("span",null,D.createElement(Th,null))))}var x=R.map((function(t,e){var n=E(t,e),r=z.get(n)||{};return B({checked:a.has(n)},r)})).filter((function(t){return t.disabled})),S=!!x.length&&x.length===R.length,k=S&&x.every((function(t){return t.checked})),M=S&&x.some((function(t){return t.checked}));r=!y&&D.createElement("div",{className:"".concat(w,"-selection")},D.createElement(Vg,{checked:S?k:!!R.length&&s,indeterminate:S?!k&&M:!s&&c,onChange:function(){var t=[];s?u.forEach((function(e){a.delete(e),t.push(e)})):u.forEach((function(e){a.has(e)||(a.add(e),t.push(e))}));var e=Array.from(a);null===l||void 0===l||l(!s,e.map((function(t){return C(t)})),t.map((function(t){return C(t)}))),K(e)},disabled:0===R.length||S,skipGroup:!0}),f)}i="radio"===p?function(t,e,n){var r=E(e,n),i=a.has(r);return{node:D.createElement(Gx,B({},z.get(r),{checked:i,onClick:function(t){return t.stopPropagation()},onChange:function(t){a.has(r)||Z(r,!0,[r],t.nativeEvent)}})),checked:i}}:function(t,e,n){var r,i,o=E(e,n),s=a.has(o),l=q.has(o),c=z.get(o);return"nest"===O?(i=l,Rg("boolean"!==typeof(null===c||void 0===c?void 0:c.indeterminate),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):i=null!==(r=null===c||void 0===c?void 0:c.indeterminate)&&void 0!==r?r:l,{node:D.createElement(Vg,B({},c,{indeterminate:i,checked:s,skipGroup:!0,onClick:function(t){return t.stopPropagation()},onChange:function(t){var e=t.nativeEvent,n=e.shiftKey,r=-1,i=-1;if(n&&b){var l=new Set([$,o]);u.some((function(t,e){if(l.has(t)){if(-1!==r)return i=e,!0;r=e}return!1}))}if(-1!==i&&r!==i&&b){var c=u.slice(r,i+1),f=[];s?c.forEach((function(t){a.has(t)&&(f.push(t),a.delete(t))})):c.forEach((function(t){a.has(t)||(f.push(t),a.add(t))}));var h=Array.from(a);null===d||void 0===d||d(!s,h.map((function(t){return C(t)})),f.map((function(t){return C(t)}))),K(h)}else{var p=V;if(b){var v=s?sg(p,o):lg(p,o);Z(o,!s,v,e)}else{var g=Ag([].concat(Ye(p),[o]),!0,L,U),m=g.checkedKeys,y=g.halfCheckedKeys,x=m;if(s){var w=new Set(m);w.delete(o),x=Ag(Array.from(w),{checked:!1,halfCheckedKeys:y},L,U).checkedKeys}Z(o,!s,x,e)}}X(o)}})),checked:s}};if(!o.includes($x))if(0===o.findIndex((function(t){var e;return"EXPAND_COLUMN"===(null===(e=t[Aa])||void 0===e?void 0:e.columnType)}))){var _=ul(o),T=_[0],P=_.slice(1);o=[T,$x].concat(Ye(P))}else o=[$x].concat(Ye(o));var F=o.indexOf($x);o=o.filter((function(t,e){return t!==$x||e===F}));var N=o[F-1],I=o[F+1],j=g;void 0===j&&(void 0!==(null===I||void 0===I?void 0:I.fixed)?j=I.fixed:void 0!==(null===N||void 0===N?void 0:N.fixed)&&(j=N.fixed)),j&&N&&"EXPAND_COLUMN"===(null===(n=N[Aa])||void 0===n?void 0:n.columnType)&&void 0===N.fixed&&(N.fixed=j);var H=mt({fixed:j,width:h,className:"".concat(w,"-selection-column"),title:t.columnTitle||r,render:function(t,e,n){var r=i(t,e,n),o=r.node,a=r.checked;return m?m(a,e,n,o):o}},Aa,{className:"".concat(w,"-selection-col")});return o.map((function(t){return t===$x?H:t}))}),[E,R,t,V,Y,q,h,J,O,$,z,d,Z,U]);return[Q,Y]}var eb={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},nb=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:eb}))};nb.displayName="CaretDownOutlined";var rb=D.forwardRef(nb),ib={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},ob=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:ib}))};ob.displayName="CaretUpOutlined";var ab=D.forwardRef(ob);function ub(t,e){return"key"in t&&void 0!==t.key&&null!==t.key?t.key:t.dataIndex?Array.isArray(t.dataIndex)?t.dataIndex.join("."):t.dataIndex:e}function sb(t,e){return e?"".concat(e,"-").concat(t):"".concat(t)}function lb(t,e){return"function"===typeof t?t(e):t}var cb="ascend",fb="descend";function db(t){return"object"===ti(t.sorter)&&"number"===typeof t.sorter.multiple&&t.sorter.multiple}function hb(t){return"function"===typeof t?t:!(!t||"object"!==ti(t)||!t.compare)&&t.compare}function pb(t,e,n){var r=[];function i(t,e){r.push({column:t,key:ub(t,e),multiplePriority:db(t),sortOrder:t.sortOrder})}return(t||[]).forEach((function(t,o){var a=sb(o,n);t.children?("sortOrder"in t&&i(t,a),r=[].concat(Ye(r),Ye(pb(t.children,e,a)))):t.sorter&&("sortOrder"in t?i(t,a):e&&t.defaultSortOrder&&r.push({column:t,key:ub(t,a),multiplePriority:db(t),sortOrder:t.defaultSortOrder}))})),r}function vb(t,e,n,r,i,o,a,u){return(e||[]).map((function(e,s){var l=sb(s,u),c=e;if(c.sorter){var f=c.sortDirections||i,d=void 0===c.showSorterTooltip?a:c.showSorterTooltip,h=ub(c,l),p=n.find((function(t){return t.key===h})),v=p?p.sortOrder:null,g=function(t,e){return e?t[t.indexOf(e)+1]:t[0]}(f,v),m=f.includes(cb)&&D.createElement(ab,{className:Mt()("".concat(t,"-column-sorter-up"),{active:v===cb})}),y=f.includes(fb)&&D.createElement(rb,{className:Mt()("".concat(t,"-column-sorter-down"),{active:v===fb})}),x=o||{},b=x.cancelSort,w=x.triggerAsc,S=x.triggerDesc,k=b;g===fb?k=S:g===cb&&(k=w);var C="object"===ti(d)?d:{title:k};c=B(B({},c),{className:Mt()(c.className,mt({},"".concat(t,"-column-sort"),v)),title:function(n){var r=D.createElement("div",{className:"".concat(t,"-column-sorters")},D.createElement("span",{className:"".concat(t,"-column-title")},lb(e.title,n)),D.createElement("span",{className:Mt()("".concat(t,"-column-sorter"),mt({},"".concat(t,"-column-sorter-full"),!(!m||!y)))},D.createElement("span",{className:"".concat(t,"-column-sorter-inner")},m,y)));return d?D.createElement(dx,C,r):r},onHeaderCell:function(n){var i=e.onHeaderCell&&e.onHeaderCell(n)||{},o=i.onClick;return i.onClick=function(t){r({column:e,key:h,sortOrder:g,multiplePriority:db(e)}),o&&o(t)},v&&(i["aria-sort"]="ascend"===v?"ascending":"descending"),i.className=Mt()(i.className,"".concat(t,"-column-has-sorters")),i}})}return"children"in c&&(c=B(B({},c),{children:vb(t,c.children,n,r,i,o,a,l)})),c}))}function gb(t){var e=t.column;return{column:e,order:t.sortOrder,field:e.dataIndex,columnKey:e.key}}function mb(t){var e=t.filter((function(t){return t.sortOrder})).map(gb);return 0===e.length&&t.length?B(B({},gb(t[t.length-1])),{column:void 0}):e.length<=1?e[0]||{}:e}function yb(t,e,n){var r=e.slice().sort((function(t,e){return e.multiplePriority-t.multiplePriority})),i=t.slice(),o=r.filter((function(t){var e=t.column.sorter,n=t.sortOrder;return hb(e)&&n}));return o.length?i.sort((function(t,e){for(var n=0;n<o.length;n+=1){var r=o[n],i=r.column.sorter,a=r.sortOrder,u=hb(i);if(u&&a){var s=u(t,e,a);if(0!==s)return a===cb?s:-s}}return 0})).map((function(t){var r=t[n];return r?B(B({},t),mt({},n,yb(r,e,n))):t})):i}function xb(t){var e=t.prefixCls,n=t.mergedColumns,r=t.onSorterChange,i=t.sortDirections,o=t.tableLocale,a=t.showSorterTooltip,u=j(D.useState(pb(n,!0)),2),s=u[0],l=u[1],c=D.useMemo((function(){var t=!0,e=pb(n,!1);if(!e.length)return s;var r=[];function i(e){t?r.push(e):r.push(B(B({},e),{sortOrder:null}))}var o=null;return e.forEach((function(e){null===o?(i(e),e.sortOrder&&(!1===e.multiplePriority?t=!1:o=!0)):(o&&!1!==e.multiplePriority||(t=!1),i(e))})),r}),[n,s]),f=D.useMemo((function(){var t=c.map((function(t){return{column:t.column,order:t.sortOrder}}));return{sortColumns:t,sortColumn:t[0]&&t[0].column,sortOrder:t[0]&&t[0].order}}),[c]);function d(t){var e;e=!1!==t.multiplePriority&&c.length&&!1!==c[0].multiplePriority?[].concat(Ye(c.filter((function(e){return e.key!==t.key}))),[t]):[t],l(e),r(mb(e),e)}return[function(t){return vb(e,t,c,d,i,o,a)},c,f,function(){return mb(c)}]}var bb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},wb=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:bb}))};wb.displayName="FilterFilled";var Sb=D.forwardRef(wb),kb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},Cb=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:kb}))};Cb.displayName="HolderOutlined";var Eb=D.forwardRef(Cb),Ob=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Mb=function(t,e){var n=t.className,r=t.style,i=t.motion,o=t.motionNodes,a=t.motionType,u=t.onMotionStart,s=t.onMotionEnd,l=t.active,c=t.treeNodeRequiredProps,f=wt(t,Ob),d=j(D.useState(!0),2),h=d[0],p=d[1],v=D.useContext(Qv).prefixCls,g=D.useRef(!1),m=function(){g.current||s(),g.current=!0};return(0,D.useEffect)((function(){o&&"hide"===a&&h&&p(!1)}),[o]),(0,D.useEffect)((function(){return o&&u(),function(){o&&m()}}),[]),o?D.createElement(rc,B({ref:e,visible:h},i,{motionAppear:"show"===a,onAppearEnd:m,onLeaveEnd:m}),(function(t,e){var n=t.className,r=t.style;return D.createElement("div",{ref:e,className:Mt()("".concat(v,"-treenode-motion"),n),style:r},o.map((function(t){var e=B({},t.data),n=t.title,r=t.key,i=t.isStart,o=t.isEnd;delete e.children;var a=Eg(r,c);return D.createElement(ug,B({},e,a,{title:n,active:l,data:t.data,key:r,isStart:i,isEnd:o}))})))})):D.createElement(ug,B({domRef:e,className:n,style:r},f,{active:l}))};Mb.displayName="MotionTreeNode";var _b=D.forwardRef(Mb);function Ab(t,e,n){var r=t.findIndex((function(t){return t.key===n})),i=t[r+1],o=e.findIndex((function(t){return t.key===n}));if(i){var a=e.findIndex((function(t){return t.key===i.key}));return e.slice(o+1,a)}return e.slice(o+1)}var Tb=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Pb={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Db=function(){},Fb="RC_TREE_MOTION_".concat(Math.random()),Nb={key:Fb},Ib={key:Fb,level:0,index:0,pos:"0",node:Nb,nodes:[Nb]},Lb={parent:null,children:[],pos:Ib.pos,data:Nb,title:null,key:Fb,isStart:[],isEnd:[]};function Rb(t,e,n,r){return!1!==e&&n?t.slice(0,Math.ceil(n/r)+1):t}function jb(t){return xg(t.key,t.pos)}var Bb=function(t,e){var n=t.prefixCls,r=t.data,i=(t.selectable,t.checkable,t.expandedKeys),o=t.selectedKeys,a=t.checkedKeys,u=t.loadedKeys,s=t.loadingKeys,l=t.halfCheckedKeys,c=t.keyEntities,f=t.disabled,d=t.dragging,h=t.dragOverNodeKey,p=t.dropPosition,v=t.motion,g=t.height,m=t.itemHeight,y=t.virtual,x=t.focusable,b=t.activeItem,w=t.focused,S=t.tabIndex,k=t.onKeyDown,C=t.onFocus,E=t.onBlur,O=t.onActiveChange,M=t.onListChangeStart,_=t.onListChangeEnd,A=wt(t,Tb),T=D.useRef(null),P=D.useRef(null);D.useImperativeHandle(e,(function(){return{scrollTo:function(t){T.current.scrollTo(t)},getIndentWidth:function(){return P.current.offsetWidth}}}));var F=j(D.useState(i),2),N=F[0],I=F[1],L=j(D.useState(r),2),R=L[0],z=L[1],U=j(D.useState(r),2),H=U[0],V=U[1],W=j(D.useState([]),2),Y=W[0],q=W[1],G=j(D.useState(null),2),$=G[0],X=G[1];function K(){z(r),V(r),q([]),X(null),_()}D.useEffect((function(){I(i);var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.length,r=e.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function i(t,e){var n=new Map;t.forEach((function(t){n.set(t,!0)}));var r=e.filter((function(t){return!n.has(t)}));return 1===r.length?r[0]:null}return n<r?{add:!0,key:i(t,e)}:{add:!1,key:i(e,t)}}(N,i);if(null!==t.key)if(t.add){var e=R.findIndex((function(e){return e.key===t.key})),n=Rb(Ab(R,r,t.key),y,g,m),o=R.slice();o.splice(e+1,0,Lb),V(o),q(n),X("show")}else{var a=r.findIndex((function(e){return e.key===t.key})),u=Rb(Ab(r,R,t.key),y,g,m),s=r.slice();s.splice(a+1,0,Lb),V(s),q(u),X("hide")}else R!==r&&(z(r),V(r))}),[i,r]),D.useEffect((function(){d||K()}),[d]);var Z=v?H:r,J={expandedKeys:i,selectedKeys:o,loadedKeys:u,loadingKeys:s,checkedKeys:a,halfCheckedKeys:l,dragOverNodeKey:h,dropPosition:p,keyEntities:c};return D.createElement(D.Fragment,null,w&&b&&D.createElement("span",{style:Pb,"aria-live":"assertive"},function(t){for(var e=String(t.data.key),n=t;n.parent;)n=n.parent,e="".concat(n.data.key," > ").concat(e);return e}(b)),D.createElement("div",null,D.createElement("input",{style:Pb,disabled:!1===x||f,tabIndex:!1!==x?S:null,onKeyDown:k,onFocus:C,onBlur:E,value:"",onChange:Db,"aria-label":"for screen reader"})),D.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},D.createElement("div",{className:"".concat(n,"-indent")},D.createElement("div",{ref:P,className:"".concat(n,"-indent-unit")}))),D.createElement(nh,B({},A,{data:Z,itemKey:jb,height:g,fullHeight:!1,virtual:y,itemHeight:m,prefixCls:"".concat(n,"-list"),ref:T,onVisibleChange:function(t,e){var n=new Set(t);e.filter((function(t){return!n.has(t)})).some((function(t){return jb(t)===Fb}))&&K()}}),(function(t){var e=t.pos,n=B({},t.data),r=t.title,i=t.key,o=t.isStart,a=t.isEnd,u=xg(i,e);delete n.key,delete n.children;var s=Eg(u,J);return D.createElement(_b,B({},n,s,{title:r,active:!!b&&i===b.key,pos:e,data:t.data,isStart:o,isEnd:a,motion:v,motionNodes:i===Fb?Y:null,motionType:$,onMotionStart:M,onMotionEnd:K,treeNodeRequiredProps:J,onMouseMove:function(){O(null)}}))})))},zb=D.forwardRef(Bb);zb.displayName="NodeList";var Ub=zb;var Hb=function(t){Zr(n,t);var e=ri(n);function n(){var t;Xr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).destroyed=!1,t.delayedDragEnterLogic=void 0,t.loadingRetryTimes={},t.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:bg()},t.dragStartMousePosition=null,t.dragNode=void 0,t.currentMouseOverDroppableNodeKey=null,t.listRef=D.createRef(),t.onNodeDragStart=function(e,n){var r=t.state,i=r.expandedKeys,o=r.keyEntities,a=t.props.onDragStart,u=n.props.eventKey;t.dragNode=n,t.dragStartMousePosition={x:e.clientX,y:e.clientY};var s=sg(i,u);t.setState({draggingNodeKey:u,dragChildrenKeys:dg(u,o),indent:t.listRef.current.getIndentWidth()}),t.setExpandedKeys(s),window.addEventListener("dragend",t.onWindowDragEnd),null===a||void 0===a||a({event:e,node:Og(n.props)})},t.onNodeDragEnter=function(e,n){var r=t.state,i=r.expandedKeys,o=r.keyEntities,a=r.dragChildrenKeys,u=r.flattenNodes,s=r.indent,l=t.props,c=l.onDragEnter,f=l.onExpand,d=l.allowDrop,h=l.direction,p=n.props,v=p.pos,g=p.eventKey,m=ei(t).dragNode;if(t.currentMouseOverDroppableNodeKey!==g&&(t.currentMouseOverDroppableNodeKey=g),m){var y=pg(e,m,n,s,t.dragStartMousePosition,d,u,o,i,h),x=y.dropPosition,b=y.dropLevelOffset,w=y.dropTargetKey,S=y.dropContainerKey,k=y.dropTargetPos,C=y.dropAllowed,E=y.dragOverNodeKey;-1===a.indexOf(w)&&C?(t.delayedDragEnterLogic||(t.delayedDragEnterLogic={}),Object.keys(t.delayedDragEnterLogic).forEach((function(e){clearTimeout(t.delayedDragEnterLogic[e])})),m.props.eventKey!==n.props.eventKey&&(e.persist(),t.delayedDragEnterLogic[v]=window.setTimeout((function(){if(null!==t.state.draggingNodeKey){var r=Ye(i),a=o[n.props.eventKey];a&&(a.children||[]).length&&(r=lg(i,n.props.eventKey)),"expandedKeys"in t.props||t.setExpandedKeys(r),null===f||void 0===f||f(r,{node:Og(n.props),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),m.props.eventKey!==w||0!==b?(t.setState({dragOverNodeKey:E,dropPosition:x,dropLevelOffset:b,dropTargetKey:w,dropContainerKey:S,dropTargetPos:k,dropAllowed:C}),null===c||void 0===c||c({event:e,node:Og(n.props),expandedKeys:i})):t.resetDragState()):t.resetDragState()}else t.resetDragState()},t.onNodeDragOver=function(e,n){var r=t.state,i=r.dragChildrenKeys,o=r.flattenNodes,a=r.keyEntities,u=r.expandedKeys,s=r.indent,l=t.props,c=l.onDragOver,f=l.allowDrop,d=l.direction,h=ei(t).dragNode;if(h){var p=pg(e,h,n,s,t.dragStartMousePosition,f,o,a,u,d),v=p.dropPosition,g=p.dropLevelOffset,m=p.dropTargetKey,y=p.dropContainerKey,x=p.dropAllowed,b=p.dropTargetPos,w=p.dragOverNodeKey;-1===i.indexOf(m)&&x&&(h.props.eventKey===m&&0===g?null===t.state.dropPosition&&null===t.state.dropLevelOffset&&null===t.state.dropTargetKey&&null===t.state.dropContainerKey&&null===t.state.dropTargetPos&&!1===t.state.dropAllowed&&null===t.state.dragOverNodeKey||t.resetDragState():v===t.state.dropPosition&&g===t.state.dropLevelOffset&&m===t.state.dropTargetKey&&y===t.state.dropContainerKey&&b===t.state.dropTargetPos&&x===t.state.dropAllowed&&w===t.state.dragOverNodeKey||t.setState({dropPosition:v,dropLevelOffset:g,dropTargetKey:m,dropContainerKey:y,dropTargetPos:b,dropAllowed:x,dragOverNodeKey:w}),null===c||void 0===c||c({event:e,node:Og(n.props)}))}},t.onNodeDragLeave=function(e,n){t.currentMouseOverDroppableNodeKey!==n.props.eventKey||e.currentTarget.contains(e.relatedTarget)||(t.resetDragState(),t.currentMouseOverDroppableNodeKey=null);var r=t.props.onDragLeave;null===r||void 0===r||r({event:e,node:Og(n.props)})},t.onWindowDragEnd=function(e){t.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",t.onWindowDragEnd)},t.onNodeDragEnd=function(e,n){var r=t.props.onDragEnd;t.setState({dragOverNodeKey:null}),t.cleanDragState(),null===r||void 0===r||r({event:e,node:Og(n.props)}),t.dragNode=null},t.onNodeDrop=function(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.state,a=o.dragChildrenKeys,u=o.dropPosition,s=o.dropTargetKey,l=o.dropTargetPos,c=o.dropAllowed;if(c){var f=t.props.onDrop;if(t.setState({dragOverNodeKey:null}),t.cleanDragState(),null!==s){var d=xt(xt({},Eg(s,t.getTreeNodeRequiredProps())),{},{active:(null===(r=t.getActiveItem())||void 0===r?void 0:r.data.key)===s,data:t.state.keyEntities[s].node}),h=-1!==a.indexOf(s);eo(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var p=cg(l),v={event:e,node:Og(d),dragNode:t.dragNode?Og(t.dragNode.props):null,dragNodesKeys:[t.dragNode.props.eventKey].concat(a),dropToGap:0!==u,dropPosition:u+Number(p[p.length-1])};i||null===f||void 0===f||f(v),t.dragNode=null}}},t.cleanDragState=function(){null!==t.state.draggingNodeKey&&t.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),t.dragStartMousePosition=null,t.currentMouseOverDroppableNodeKey=null},t.onNodeClick=function(e,n){var r=t.props.onClick;null===r||void 0===r||r(e,n)},t.onNodeDoubleClick=function(e,n){var r=t.props.onDoubleClick;null===r||void 0===r||r(e,n)},t.onNodeSelect=function(e,n){var r=t.state.selectedKeys,i=t.state,o=i.keyEntities,a=i.fieldNames,u=t.props,s=u.onSelect,l=u.multiple,c=n.selected,f=n[a.key],d=!c,h=(r=d?l?lg(r,f):[f]:sg(r,f)).map((function(t){var e=o[t];return e?e.node:null})).filter((function(t){return t}));t.setUncontrolledState({selectedKeys:r}),null===s||void 0===s||s(r,{event:"select",selected:d,node:n,selectedNodes:h,nativeEvent:e.nativeEvent})},t.onNodeCheck=function(e,n,r){var i,o=t.state,a=o.keyEntities,u=o.checkedKeys,s=o.halfCheckedKeys,l=t.props,c=l.checkStrictly,f=l.onCheck,d=n.key,h={event:"check",node:n,checked:r,nativeEvent:e.nativeEvent};if(c){var p=r?lg(u,d):sg(u,d);i={checked:p,halfChecked:sg(s,d)},h.checkedNodes=p.map((function(t){return a[t]})).filter((function(t){return t})).map((function(t){return t.node})),t.setUncontrolledState({checkedKeys:p})}else{var v=Ag([].concat(Ye(u),[d]),!0,a),g=v.checkedKeys,m=v.halfCheckedKeys;if(!r){var y=new Set(g);y.delete(d);var x=Ag(Array.from(y),{checked:!1,halfCheckedKeys:m},a);g=x.checkedKeys,m=x.halfCheckedKeys}i=g,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=m,g.forEach((function(t){var e=a[t];if(e){var n=e.node,r=e.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}})),t.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:m})}null===f||void 0===f||f(i,h)},t.onNodeLoad=function(e){var n=e.key,r=new Promise((function(r,i){t.setState((function(o){var a=o.loadedKeys,u=void 0===a?[]:a,s=o.loadingKeys,l=void 0===s?[]:s,c=t.props,f=c.loadData,d=c.onLoad;return f&&-1===u.indexOf(n)&&-1===l.indexOf(n)?(f(e).then((function(){var i=lg(t.state.loadedKeys,n);null===d||void 0===d||d(i,{event:"load",node:e}),t.setUncontrolledState({loadedKeys:i}),t.setState((function(t){return{loadingKeys:sg(t.loadingKeys,n)}})),r()})).catch((function(e){if(t.setState((function(t){return{loadingKeys:sg(t.loadingKeys,n)}})),t.loadingRetryTimes[n]=(t.loadingRetryTimes[n]||0)+1,t.loadingRetryTimes[n]>=10){var o=t.state.loadedKeys;eo(!1,"Retry for `loadData` many times but still failed. No more retry."),t.setUncontrolledState({loadedKeys:lg(o,n)}),r()}i(e)})),{loadingKeys:lg(l,n)}):null}))}));return r.catch((function(){})),r},t.onNodeMouseEnter=function(e,n){var r=t.props.onMouseEnter;null===r||void 0===r||r({event:e,node:n})},t.onNodeMouseLeave=function(e,n){var r=t.props.onMouseLeave;null===r||void 0===r||r({event:e,node:n})},t.onNodeContextMenu=function(e,n){var r=t.props.onRightClick;r&&(e.preventDefault(),r({event:e,node:n}))},t.onFocus=function(){var e=t.props.onFocus;t.setState({focused:!0});for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===e||void 0===e||e.apply(void 0,r)},t.onBlur=function(){var e=t.props.onBlur;t.setState({focused:!1}),t.onActiveChange(null);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===e||void 0===e||e.apply(void 0,r)},t.getTreeNodeRequiredProps=function(){var e=t.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}},t.setExpandedKeys=function(e){var n=t.state,r=Sg(n.treeData,e,n.fieldNames);t.setUncontrolledState({expandedKeys:e,flattenNodes:r},!0)},t.onNodeExpand=function(e,n){var r=t.state.expandedKeys,i=t.state,o=i.listChanging,a=i.fieldNames,u=t.props,s=u.onExpand,l=u.loadData,c=n.expanded,f=n[a.key];if(!o){var d=r.indexOf(f),h=!c;if(eo(c&&-1!==d||!c&&-1===d,"Expand state not sync with index check"),r=h?lg(r,f):sg(r,f),t.setExpandedKeys(r),null===s||void 0===s||s(r,{node:n,expanded:h,nativeEvent:e.nativeEvent}),h&&l){var p=t.onNodeLoad(n);p&&p.then((function(){var e=Sg(t.state.treeData,r,a);t.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=sg(t.state.expandedKeys,f);t.setExpandedKeys(e)}))}}},t.onListChangeStart=function(){t.setUncontrolledState({listChanging:!0})},t.onListChangeEnd=function(){setTimeout((function(){t.setUncontrolledState({listChanging:!1})}))},t.onActiveChange=function(e){var n=t.state.activeKey,r=t.props.onActiveChange;n!==e&&(t.setState({activeKey:e}),null!==e&&t.scrollTo({key:e}),null===r||void 0===r||r(e))},t.getActiveItem=function(){var e=t.state,n=e.activeKey,r=e.flattenNodes;return null===n?null:r.find((function(t){return t.key===n}))||null},t.offsetActiveKey=function(e){var n=t.state,r=n.flattenNodes,i=n.activeKey,o=r.findIndex((function(t){return t.key===i}));-1===o&&e<0&&(o=r.length);var a=r[o=(o+e+r.length)%r.length];if(a){var u=a.key;t.onActiveChange(u)}else t.onActiveChange(null)},t.onKeyDown=function(e){var n=t.state,r=n.activeKey,i=n.expandedKeys,o=n.checkedKeys,a=t.props,u=a.onKeyDown,s=a.checkable,l=a.selectable;switch(e.which){case il.UP:t.offsetActiveKey(-1),e.preventDefault();break;case il.DOWN:t.offsetActiveKey(1),e.preventDefault()}var c=t.getActiveItem();if(c&&c.data){var f=t.getTreeNodeRequiredProps(),d=!1===c.data.isLeaf||!!(c.data.children||[]).length,h=Og(xt(xt({},Eg(r,f)),{},{data:c.data,active:!0}));switch(e.which){case il.LEFT:d&&i.includes(r)?t.onNodeExpand({},h):c.parent&&t.onActiveChange(c.parent.data.key),e.preventDefault();break;case il.RIGHT:d&&!i.includes(r)?t.onNodeExpand({},h):c.children&&c.children.length&&t.onActiveChange(c.children[0].data.key),e.preventDefault();break;case il.ENTER:case il.SPACE:!s||h.disabled||!1===h.checkable||h.disableCheckbox?s||!l||h.disabled||!1===h.selectable||t.onNodeSelect({},h):t.onNodeCheck({},h,!o.includes(r))}}null===u||void 0===u||u(e)},t.setUncontrolledState=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.destroyed){var i=!1,o=!0,a={};Object.keys(e).forEach((function(n){n in t.props?o=!1:(i=!0,a[n]=e[n])})),!i||n&&!o||t.setState(xt(xt({},a),r))}},t.scrollTo=function(e){t.listRef.current.scrollTo(e)},t}return $r(n,[{key:"componentDidMount",value:function(){this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var t=this.props.activeKey;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var t,e,n=this.state,r=n.focused,i=n.flattenNodes,o=n.keyEntities,a=n.draggingNodeKey,u=n.activeKey,s=n.dropLevelOffset,l=n.dropContainerKey,c=n.dropTargetKey,f=n.dropPosition,d=n.dragOverNodeKey,h=n.indent,p=this.props,v=p.prefixCls,g=p.className,m=p.style,y=p.showLine,x=p.focusable,b=p.tabIndex,w=void 0===b?0:b,S=p.selectable,k=p.showIcon,C=p.icon,E=p.switcherIcon,O=p.draggable,M=p.checkable,_=p.checkStrictly,A=p.disabled,T=p.motion,P=p.loadData,F=p.filterTreeNode,N=p.height,I=p.itemHeight,L=p.virtual,R=p.titleRender,j=p.dropIndicatorRender,z=p.onContextMenu,U=p.onScroll,H=p.direction,V=qi(this.props,{aria:!0,data:!0});return O&&(e="object"===ti(O)?O:"function"===typeof O?{nodeDraggable:O}:{}),D.createElement(Qv.Provider,{value:{prefixCls:v,selectable:S,showIcon:k,icon:C,switcherIcon:E,draggable:e,draggingNodeKey:a,checkable:M,checkStrictly:_,disabled:A,keyEntities:o,dropLevelOffset:s,dropContainerKey:l,dropTargetKey:c,dropPosition:f,dragOverNodeKey:d,indent:h,direction:H,dropIndicatorRender:j,loadData:P,filterTreeNode:F,titleRender:R,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},D.createElement("div",{role:"tree",className:Mt()(v,g,(t={},mt(t,"".concat(v,"-show-line"),y),mt(t,"".concat(v,"-focused"),r),mt(t,"".concat(v,"-active-focused"),null!==u),t))},D.createElement(Ub,B({ref:this.listRef,prefixCls:v,style:m,data:i,disabled:A,selectable:S,checkable:!!M,motion:T,dragging:null!==a,height:N,itemHeight:I,virtual:L,focusable:x,focused:r,tabIndex:w,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:z,onScroll:U},this.getTreeNodeRequiredProps(),V))))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n,r=e.prevProps,i={prevProps:t};function o(e){return!r&&e in t||r&&r[e]!==t[e]}var a=e.fieldNames;if(o("fieldNames")&&(a=bg(t.fieldNames),i.fieldNames=a),o("treeData")?n=t.treeData:o("children")&&(eo(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=wg(t.children)),n){i.treeData=n;var u=Cg(n,{fieldNames:a});i.keyEntities=xt(mt({},Fb,Ib),u.keyEntities)}var s,l=i.keyEntities||e.keyEntities;if(o("expandedKeys")||r&&o("autoExpandParent"))i.expandedKeys=t.autoExpandParent||!r&&t.defaultExpandParent?mg(t.expandedKeys,l):t.expandedKeys;else if(!r&&t.defaultExpandAll){var c=xt({},l);delete c[Fb],i.expandedKeys=Object.keys(c).map((function(t){return c[t].key}))}else!r&&t.defaultExpandedKeys&&(i.expandedKeys=t.autoExpandParent||t.defaultExpandParent?mg(t.defaultExpandedKeys,l):t.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,n||i.expandedKeys){var f=Sg(n||e.treeData,i.expandedKeys||e.expandedKeys,a);i.flattenNodes=f}if((t.selectable&&(o("selectedKeys")?i.selectedKeys=vg(t.selectedKeys,t):!r&&t.defaultSelectedKeys&&(i.selectedKeys=vg(t.defaultSelectedKeys,t))),t.checkable)&&(o("checkedKeys")?s=gg(t.checkedKeys)||{}:!r&&t.defaultCheckedKeys?s=gg(t.defaultCheckedKeys)||{}:n&&(s=gg(t.checkedKeys)||{checkedKeys:e.checkedKeys,halfCheckedKeys:e.halfCheckedKeys}),s)){var d=s,h=d.checkedKeys,p=void 0===h?[]:h,v=d.halfCheckedKeys,g=void 0===v?[]:v;if(!t.checkStrictly){var m=Ag(p,!0,l);p=m.checkedKeys,g=m.halfCheckedKeys}i.checkedKeys=p,i.halfCheckedKeys=g}return o("loadedKeys")&&(i.loadedKeys=t.loadedKeys),i}}]),n}(D.Component);Hb.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(t){var e=t.dropPosition,n=t.dropLevelOffset,r=t.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(e){case-1:i.top=0,i.left=-n*r;break;case 1:i.bottom=0,i.left=-n*r;break;case 0:i.bottom=0,i.left=r}return D.createElement("div",{style:i})},allowDrop:function(){return!0}},Hb.TreeNode=ug;var Vb=Hb,Wb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},Yb=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Wb}))};Yb.displayName="FileOutlined";var qb=D.forwardRef(Yb),Gb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},$b=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Gb}))};$b.displayName="FolderOpenOutlined";var Xb=D.forwardRef($b),Kb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Zb=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:Kb}))};Zb.displayName="FolderOutlined";var Jb,Qb=D.forwardRef(Zb);function tw(t,e){t.forEach((function(t){var n=t.key,r=t.children;!1!==e(n,t)&&tw(r||[],e)}))}function ew(t){var e=t.treeData,n=t.expandedKeys,r=t.startKey,i=t.endKey,o=[],a=Jb.None;if(r&&r===i)return[r];if(!r||!i)return[];return tw(e,(function(t){if(a===Jb.End)return!1;if(function(t){return t===r||t===i}(t)){if(o.push(t),a===Jb.None)a=Jb.Start;else if(a===Jb.Start)return a=Jb.End,!1}else a===Jb.Start&&o.push(t);return-1!==n.indexOf(t)})),o}function nw(t,e){var n=Ye(e),r=[];return tw(t,(function(t,e){var i=n.indexOf(t);return-1!==i&&(r.push(e),n.splice(i,1)),!!n.length})),r}!function(t){t[t.None=0]="None",t[t.Start=1]="Start",t[t.End=2]="End"}(Jb||(Jb={}));var rw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function iw(t){var e=t.isLeaf,n=t.expanded;return e?D.createElement(qb,null):n?D.createElement(Xb,null):D.createElement(Qb,null)}function ow(t){var e=t.treeData,n=t.children;return e||wg(n)}var aw=function(t,e){var n=t.defaultExpandAll,r=t.defaultExpandParent,i=t.defaultExpandedKeys,o=rw(t,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),a=D.useRef(),u=D.useRef(),s=D.createRef();D.useImperativeHandle(e,(function(){return s.current}));var l=j(D.useState(o.selectedKeys||o.defaultSelectedKeys||[]),2),c=l[0],f=l[1],d=j(D.useState(function(){var t=Cg(ow(o)).keyEntities;return n?Object.keys(t):r?mg(o.expandedKeys||i||[],t):o.expandedKeys||i}()),2),h=d[0],p=d[1];D.useEffect((function(){"selectedKeys"in o&&f(o.selectedKeys)}),[o.selectedKeys]),D.useEffect((function(){"expandedKeys"in o&&p(o.expandedKeys)}),[o.expandedKeys]);var v=lu()((function(t,e){e.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey||s.current.onNodeExpand(t,e)}),200,{leading:!0}),g=D.useContext(Ou),m=g.getPrefixCls,y=g.direction,x=o.prefixCls,b=o.className,w=rw(o,["prefixCls","className"]),S=m("tree",x),k=Mt()("".concat(S,"-directory"),mt({},"".concat(S,"-directory-rtl"),"rtl"===y),b);return D.createElement(bw,B({icon:iw,ref:s,blockNode:!0},w,{prefixCls:S,className:k,expandedKeys:h,selectedKeys:c,onSelect:function(t,e){var n,r,i=o.multiple,s=e.node,l=e.nativeEvent,c=s.key,d=void 0===c?"":c,p=ow(o),v=B(B({},e),{selected:!0}),g=(null===l||void 0===l?void 0:l.ctrlKey)||(null===l||void 0===l?void 0:l.metaKey),m=null===l||void 0===l?void 0:l.shiftKey;i&&g?(r=t,a.current=d,u.current=r,v.selectedNodes=nw(p,r)):i&&m?(r=Array.from(new Set([].concat(Ye(u.current||[]),Ye(ew({treeData:p,expandedKeys:h,startKey:d,endKey:a.current}))))),v.selectedNodes=nw(p,r)):(r=[d],a.current=d,u.current=r,v.selectedNodes=nw(p,r)),null===(n=o.onSelect)||void 0===n||n.call(o,r,v),"selectedKeys"in o||f(r)},onClick:function(t,e){var n;"click"===o.expandAction&&v(t,e),null===(n=o.onClick)||void 0===n||n.call(o,t,e)},onDoubleClick:function(t,e){var n;"doubleClick"===o.expandAction&&v(t,e),null===(n=o.onDoubleClick)||void 0===n||n.call(o,t,e)},onExpand:function(t,e){var n;return"expandedKeys"in o||p(t),null===(n=o.onExpand)||void 0===n?void 0:n.call(o,t,e)}}))},uw=D.forwardRef(aw);uw.displayName="DirectoryTree",uw.defaultProps={showIcon:!0,expandAction:"click"};var sw=uw,lw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},cw=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:lw}))};cw.displayName="MinusSquareOutlined";var fw=D.forwardRef(cw),dw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},hw=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:dw}))};hw.displayName="PlusSquareOutlined";var pw=D.forwardRef(hw),vw={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},gw=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:vw}))};gw.displayName="CaretDownFilled";var mw=D.forwardRef(gw);function yw(t){var e,n=t.dropPosition,r=t.dropLevelOffset,i=t.prefixCls,o=t.indent,a=t.direction,u=void 0===a?"ltr":a,s="ltr"===u?"left":"right",l="ltr"===u?"right":"left",c=(mt(e={},s,-r*o+4),mt(e,l,0),e);switch(n){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[s]=o+4}return D.createElement("div",{style:c,className:"".concat(i,"-drop-indicator")})}var xw=D.forwardRef((function(t,e){var n,r=D.useContext(Ou),i=r.getPrefixCls,o=r.direction,a=r.virtual,u=t.prefixCls,s=t.className,l=t.showIcon,c=t.showLine,f=t.switcherIcon,d=t.blockNode,h=t.children,p=t.checkable,v=t.selectable,g=t.draggable,m=i("tree",u),y=B(B({},t),{showLine:Boolean(c),dropIndicatorRender:yw}),x=D.useMemo((function(){if(!g)return!1;var t={};switch(ti(g)){case"function":t.nodeDraggable=g;break;case"object":t=B({},g)}return!1!==t.icon&&(t.icon=t.icon||D.createElement(Eb,null)),t}),[g]);return D.createElement(Vb,B({itemHeight:20,ref:e,virtual:a},y,{prefixCls:m,className:Mt()((n={},mt(n,"".concat(m,"-icon-hide"),!l),mt(n,"".concat(m,"-block-node"),d),mt(n,"".concat(m,"-unselectable"),!v),mt(n,"".concat(m,"-rtl"),"rtl"===o),n),s),direction:o,checkable:p?D.createElement("span",{className:"".concat(m,"-checkbox-inner")}):p,selectable:v,switcherIcon:function(t){return function(t,e,n,r){var i,o=r.isLeaf,a=r.expanded;if(r.loading)return D.createElement(Fh,{className:"".concat(t,"-switcher-loading-icon")});if(n&&"object"===ti(n)&&(i=n.showLeafIcon),o)return n?"object"!==ti(n)||i?D.createElement(qb,{className:"".concat(t,"-switcher-line-icon")}):D.createElement("span",{className:"".concat(t,"-switcher-leaf-line")}):null;var u="".concat(t,"-switcher-icon");return Au(e)?Tu(e,{className:Mt()(e.props.className||"",u)}):e||(n?a?D.createElement(fw,{className:"".concat(t,"-switcher-line-icon")}):D.createElement(pw,{className:"".concat(t,"-switcher-line-icon")}):D.createElement(mw,{className:u}))}(m,f,c,t)},draggable:x}),h)}));xw.TreeNode=ug,xw.DirectoryTree=sw,xw.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:B(B({},Dv),{motionAppear:!1}),blockNode:!1};var bw=xw,ww=bw,Sw=function(t){return D.createElement("div",{className:t.className,onClick:function(t){return t.stopPropagation()}},t.children)};function kw(t){return!(!t.addonBefore&&!t.addonAfter)}function Cw(t){return!!(t.prefix||t.suffix||t.allowClear)}function Ew(t,e,n,r){if(n){var i=e;if("click"===e.type){var o=t.cloneNode(!0);return i=Object.create(e,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=r,void n(i);n(i)}}function Ow(t){return"undefined"===typeof t||null===t?"":String(t)}var Mw=function(t){var e=t.inputElement,n=t.prefixCls,r=t.prefix,i=t.suffix,o=t.addonBefore,a=t.addonAfter,u=t.className,s=t.style,l=t.affixWrapperClassName,c=t.groupClassName,f=t.wrapperClassName,d=t.disabled,h=t.readOnly,p=t.focused,v=t.triggerFocus,g=t.allowClear,m=t.value,y=t.handleReset,x=t.hidden,b=(0,D.useRef)(null),w=(0,D.cloneElement)(e,{value:m,hidden:x});if(Cw(t)){var S,k="".concat(n,"-affix-wrapper"),C=Mt()(k,(mt(S={},"".concat(k,"-disabled"),d),mt(S,"".concat(k,"-focused"),p),mt(S,"".concat(k,"-readonly"),h),mt(S,"".concat(k,"-input-with-clear-btn"),i&&g&&m),S),!kw(t)&&u,l),E=(i||g)&&D.createElement("span",{className:"".concat(n,"-suffix")},function(){var t;if(!g)return null;var e=!d&&!h&&m,r="".concat(n,"-clear-icon"),o="object"===ti(g)&&(null===g||void 0===g?void 0:g.clearIcon)?g.clearIcon:"\u2716";return D.createElement("span",{onClick:y,onMouseDown:function(t){return t.preventDefault()},className:Mt()(r,(t={},mt(t,"".concat(r,"-hidden"),!e),mt(t,"".concat(r,"-has-suffix"),!!i),t)),role:"button",tabIndex:-1},o)}(),i);w=D.createElement("span",{className:C,style:s,hidden:!kw(t)&&x,onMouseUp:function(t){var e;(null===(e=b.current)||void 0===e?void 0:e.contains(t.target))&&(null===v||void 0===v||v())},ref:b},r&&D.createElement("span",{className:"".concat(n,"-prefix")},r),(0,D.cloneElement)(e,{style:null,value:m,hidden:null}),E)}if(kw(t)){var O="".concat(n,"-group"),M="".concat(O,"-addon"),_=Mt()("".concat(n,"-wrapper"),O,f),A=Mt()("".concat(n,"-group-wrapper"),u,c);return D.createElement("span",{className:A,style:s,hidden:x},D.createElement("span",{className:_},o&&D.createElement("span",{className:M},o),(0,D.cloneElement)(w,{style:null,hidden:null}),a&&D.createElement("span",{className:M},a)))}return w},_w=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],Aw=(0,D.forwardRef)((function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,a=t.onPressEnter,u=t.onKeyDown,s=t.prefixCls,l=void 0===s?"rc-input":s,c=t.disabled,f=t.htmlSize,d=t.className,h=t.maxLength,p=t.suffix,v=t.showCount,g=t.type,m=void 0===g?"text":g,y=t.inputClassName,x=wt(t,_w),b=j(nl(t.defaultValue,{value:t.value}),2),w=b[0],S=b[1],k=j((0,D.useState)(!1),2),C=k[0],E=k[1],O=(0,D.useRef)(null),M=function(t){O.current&&function(t,e){if(t){t.focus(e);var n=(e||{}).cursor;if(n){var r=t.value.length;switch(n){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r)}}}}(O.current,t)};(0,D.useImperativeHandle)(e,(function(){return{focus:M,blur:function(){var t;null===(t=O.current)||void 0===t||t.blur()},setSelectionRange:function(t,e,n){var r;null===(r=O.current)||void 0===r||r.setSelectionRange(t,e,n)},select:function(){var t;null===(t=O.current)||void 0===t||t.select()},input:O.current}})),(0,D.useEffect)((function(){E((function(t){return(!t||!c)&&t}))}),[c]);var _=function(t){S(t.target.value),O.current&&Ew(O.current,t,r)},A=function(t){a&&"Enter"===t.key&&a(t),null===u||void 0===u||u(t)},T=function(t){E(!0),null===i||void 0===i||i(t)},P=function(t){E(!1),null===o||void 0===o||o(t)};return D.createElement(Mw,xt(xt({},x),{},{prefixCls:l,className:d,inputElement:function(){var e=zi(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return D.createElement("input",xt(xt({autoComplete:n},e),{},{onChange:_,onFocus:T,onBlur:P,onKeyDown:A,className:Mt()(l,mt({},"".concat(l,"-disabled"),c),y,!kw(t)&&!Cw(t)&&d),ref:O,size:f,type:m}))}(),handleReset:function(t){S(""),M(),O.current&&Ew(O.current,t,r)},value:Ow(w),focused:C,triggerFocus:M,suffix:function(){var t=Number(h)>0;if(p||v){var e=Ye(Ow(w)).length,n="object"===ti(v)?v.formatter({count:e,maxLength:h}):"".concat(e).concat(t?" / ".concat(h):"");return D.createElement(D.Fragment,null,!!v&&D.createElement("span",{className:Mt()("".concat(l,"-show-count-suffix"),mt({},"".concat(l,"-show-count-has-suffix"),!!p))},n),p)}return null}(),disabled:c}))})),Tw=Aw;function Pw(t){return!!(t.prefix||t.suffix||t.allowClear)}var Dw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Fw(t,e,n,r){if(n){var i=e;if("click"===e.type){var o=t.cloneNode(!0);return i=Object.create(e,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=r,void n(i);n(i)}}var Nw=(0,D.forwardRef)((function(t,e){var n,r,i,o=t.prefixCls,a=t.bordered,u=void 0===a||a,s=t.status,l=t.size,c=t.onBlur,f=t.onFocus,d=t.suffix,h=t.allowClear,p=t.addonAfter,v=t.addonBefore,g=Dw(t,["prefixCls","bordered","status","size","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),m=D.useContext(Ou),y=m.getPrefixCls,x=m.direction,b=m.input,w=y("input",o),S=(0,D.useRef)(null),k=D.useContext(ip),C=l||k,E=(0,D.useContext)(Cv),O=E.status,M=E.hasFeedback,_=ep(O,s),A=Pw(t),T=(0,D.useRef)(A);(0,D.useEffect)((function(){var t;A&&!T.current&&Rg(document.activeElement===(null===(t=S.current)||void 0===t?void 0:t.input),"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),T.current=A}),[A]);var P=(0,D.useRef)([]),F=function(){P.current.push(window.setTimeout((function(){var t,e,n,r;(null===(t=S.current)||void 0===t?void 0:t.input)&&"password"===(null===(e=S.current)||void 0===e?void 0:e.input.getAttribute("type"))&&(null===(n=S.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=S.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,D.useEffect)((function(){return F(),function(){return P.current.forEach((function(t){return window.clearTimeout(t)}))}}),[]);var N,I=(M||d)&&D.createElement(D.Fragment,null,d,M&&Qh(w,_)),L=Pw(t)||M;return"object"===ti(h)&&(null===h||void 0===h?void 0:h.clearIcon)?N=h:h&&(N={clearIcon:D.createElement(Hh,null)}),D.createElement(Tw,B({ref:ao(e,S),prefixCls:w,autoComplete:null===b||void 0===b?void 0:b.autoComplete},g,{onBlur:function(t){F(),null===c||void 0===c||c(t)},onFocus:function(t){F(),null===f||void 0===f||f(t)},suffix:I,allowClear:N,addonAfter:p&&D.createElement(Ev,null,p),addonBefore:v&&D.createElement(Ev,null,v),inputClassName:Mt()(!L&&(n={},mt(n,"".concat(w,"-sm"),"small"===C),mt(n,"".concat(w,"-lg"),"large"===C),mt(n,"".concat(w,"-rtl"),"rtl"===x),mt(n,"".concat(w,"-borderless"),!u),n),!L&&tp(w,_)),affixWrapperClassName:Mt()((r={},mt(r,"".concat(w,"-affix-wrapper-sm"),"small"===C),mt(r,"".concat(w,"-affix-wrapper-lg"),"large"===C),mt(r,"".concat(w,"-affix-wrapper-rtl"),"rtl"===x),mt(r,"".concat(w,"-affix-wrapper-borderless"),!u),r),tp("".concat(w,"-affix-wrapper"),_,M)),wrapperClassName:Mt()(mt({},"".concat(w,"-group-rtl"),"rtl"===x)),groupClassName:Mt()((i={},mt(i,"".concat(w,"-group-wrapper-sm"),"small"===C),mt(i,"".concat(w,"-group-wrapper-lg"),"large"===C),mt(i,"".concat(w,"-group-wrapper-rtl"),"rtl"===x),i),tp("".concat(w,"-group-wrapper"),_,M))}))})),Iw=Nw,Lw=function(t){var e,n=(0,D.useContext)(Ou),r=n.getPrefixCls,i=n.direction,o=t.prefixCls,a=t.className,u=void 0===a?"":a,s=r("input-group",o),l=Mt()(s,(mt(e={},"".concat(s,"-lg"),"large"===t.size),mt(e,"".concat(s,"-sm"),"small"===t.size),mt(e,"".concat(s,"-compact"),t.compact),mt(e,"".concat(s,"-rtl"),"rtl"===i),e),u);return D.createElement("span",{className:l,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},t.children)},Rw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},jw=D.forwardRef((function(t,e){var n,r,i=t.prefixCls,o=t.inputPrefixCls,a=t.className,u=t.size,s=t.suffix,l=t.enterButton,c=void 0!==l&&l,f=t.addonAfter,d=t.loading,h=t.disabled,p=t.onSearch,v=t.onChange,g=Rw(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),m=D.useContext(Ou),y=m.getPrefixCls,x=m.direction,b=D.useContext(ip),w=u||b,S=D.useRef(null),k=function(t){var e;document.activeElement===(null===(e=S.current)||void 0===e?void 0:e.input)&&t.preventDefault()},C=function(t){var e,n;p&&p(null===(n=null===(e=S.current)||void 0===e?void 0:e.input)||void 0===n?void 0:n.value,t)},E=y("input-search",i),O=y("input",o),M="boolean"===typeof c?D.createElement(Yh,null):null,_="".concat(E,"-button"),A=c||{},T=A.type&&!0===A.type.__ANT_BUTTON;r=T||"button"===A.type?Tu(A,B({onMouseDown:k,onClick:function(t){var e,n;null===(n=null===(e=null===A||void 0===A?void 0:A.props)||void 0===e?void 0:e.onClick)||void 0===n||n.call(e,t),C(t)},key:"enterButton"},T?{className:_,size:w}:{})):D.createElement(Sm,{className:_,type:c?"primary":void 0,size:w,disabled:h,key:"enterButton",onMouseDown:k,onClick:C,loading:d,icon:M},c),f&&(r=[r,Tu(f,{key:"addonAfter"})]);var P=Mt()(E,(mt(n={},"".concat(E,"-rtl"),"rtl"===x),mt(n,"".concat(E,"-").concat(w),!!w),mt(n,"".concat(E,"-with-button"),!!c),n),a);return D.createElement(Iw,B({ref:ao(S,e),onPressEnter:C},g,{size:w,prefixCls:O,addonAfter:r,suffix:s,onChange:function(t){t&&t.target&&"click"===t.type&&p&&p(t.target.value,t),v&&v(t)},className:P,disabled:h}))}));jw.displayName="Search";var Bw,zw,Uw=jw,Hw="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",Vw=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],Ww={};function Yw(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&Ww[n])return Ww[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),u=Vw.map((function(t){return"".concat(t,":").concat(r.getPropertyValue(t))})).join(";"),s={sizingStyle:u,paddingSize:o,borderSize:a,boxSizing:i};return e&&n&&(Ww[n]=s),s}!function(t){t[t.NONE=0]="NONE",t[t.RESIZING=1]="RESIZING",t[t.RESIZED=2]="RESIZED"}(zw||(zw={}));var qw=function(t){Zr(n,t);var e=ri(n);function n(t){var r;return Xr(this,n),(r=e.call(this,t)).nextFrameActionId=void 0,r.resizeFrameId=void 0,r.textArea=void 0,r.saveTextArea=function(t){r.textArea=t},r.handleResize=function(t){var e=r.state.resizeStatus,n=r.props,i=n.autoSize,o=n.onResize;e===zw.NONE&&("function"===typeof o&&o(t),i&&r.resizeOnNextFrame())},r.resizeOnNextFrame=function(){cancelAnimationFrame(r.nextFrameActionId),r.nextFrameActionId=requestAnimationFrame(r.resizeTextarea)},r.resizeTextarea=function(){var t=r.props.autoSize;if(t&&r.textArea){var e=t.minRows,n=t.maxRows,i=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Bw||((Bw=document.createElement("textarea")).setAttribute("tab-index","-1"),Bw.setAttribute("aria-hidden","true"),document.body.appendChild(Bw)),t.getAttribute("wrap")?Bw.setAttribute("wrap",t.getAttribute("wrap")):Bw.removeAttribute("wrap");var i=Yw(t,e),o=i.paddingSize,a=i.borderSize,u=i.boxSizing,s=i.sizingStyle;Bw.setAttribute("style","".concat(s,";").concat(Hw)),Bw.value=t.value||t.placeholder||"";var l,c=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,d=Bw.scrollHeight;if("border-box"===u?d+=a:"content-box"===u&&(d-=o),null!==n||null!==r){Bw.value=" ";var h=Bw.scrollHeight-o;null!==n&&(c=h*n,"border-box"===u&&(c=c+o+a),d=Math.max(c,d)),null!==r&&(f=h*r,"border-box"===u&&(f=f+o+a),l=d>f?"":"hidden",d=Math.min(f,d))}return{height:d,minHeight:c,maxHeight:f,overflowY:l,resize:"none"}}(r.textArea,!1,e,n);r.setState({textareaStyles:i,resizeStatus:zw.RESIZING},(function(){cancelAnimationFrame(r.resizeFrameId),r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:zw.RESIZED},(function(){r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:zw.NONE}),r.fixFirefoxAutoScroll()}))}))}))}))}},r.renderTextArea=function(){var t=r.props,e=t.prefixCls,n=void 0===e?"rc-textarea":e,i=t.autoSize,o=t.onResize,a=t.className,u=t.disabled,s=r.state,l=s.textareaStyles,c=s.resizeStatus,f=zi(r.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),d=Mt()(n,a,mt({},"".concat(n,"-disabled"),u));"value"in f&&(f.value=f.value||"");var h=xt(xt(xt({},r.props.style),l),c===zw.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return D.createElement(Bo,{onResize:r.handleResize,disabled:!(i||o)},D.createElement("textarea",B({},f,{className:d,style:h,ref:r.saveTextArea})))},r.state={textareaStyles:{},resizeStatus:zw.NONE},r}return $r(n,[{key:"componentDidUpdate",value:function(t){t.value===this.props.value&&Zi()(t.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var t=this.textArea.selectionStart,e=this.textArea.selectionEnd;this.textArea.setSelectionRange(t,e)}}catch(v1t){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(D.Component),Gw=qw,$w=function(t){Zr(n,t);var e=ri(n);function n(t){var r;Xr(this,n),(r=e.call(this,t)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(t){r.resizableTextArea=t},r.handleChange=function(t){var e=r.props.onChange;r.setValue(t.target.value,(function(){r.resizableTextArea.resizeTextarea()})),e&&e(t)},r.handleKeyDown=function(t){var e=r.props,n=e.onPressEnter,i=e.onKeyDown;13===t.keyCode&&n&&n(t),i&&i(t)};var i="undefined"===typeof t.value||null===t.value?t.defaultValue:t.value;return r.state={value:i},r}return $r(n,[{key:"setValue",value:function(t,e){"value"in this.props||this.setState({value:t},e)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return D.createElement(Gw,B({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(t){return"value"in t?{value:t.value}:null}}]),n}(D.Component),Xw=$w,Kw=_u("text","input");var Zw=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"renderClearIcon",value:function(t){var e,n=this.props,r=n.value,i=n.disabled,o=n.readOnly,a=n.handleReset,u=n.suffix,s=!i&&!o&&r,l="".concat(t,"-clear-icon");return D.createElement(Hh,{onClick:a,onMouseDown:function(t){return t.preventDefault()},className:Mt()((e={},mt(e,"".concat(l,"-hidden"),!s),mt(e,"".concat(l,"-has-suffix"),!!u),e),l),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(t,e,n){var r,i=this.props,o=i.value,a=i.allowClear,u=i.className,s=i.style,l=i.direction,c=i.bordered,f=i.hidden,d=i.status,h=n.status,p=n.hasFeedback;if(!a)return Tu(e,{value:o});var v,g=Mt()("".concat(t,"-affix-wrapper"),"".concat(t,"-affix-wrapper-textarea-with-clear-btn"),tp("".concat(t,"-affix-wrapper"),ep(h,d),p),(mt(r={},"".concat(t,"-affix-wrapper-rtl"),"rtl"===l),mt(r,"".concat(t,"-affix-wrapper-borderless"),!c),mt(r,"".concat(u),!((v=this.props).addonBefore||v.addonAfter)&&u),r));return D.createElement("span",{className:g,style:s,hidden:f},Tu(e,{style:null,value:o}),this.renderClearIcon(t))}},{key:"render",value:function(){var t=this;return D.createElement(Cv.Consumer,null,(function(e){var n=t.props,r=n.prefixCls,i=n.inputType,o=n.element;if(i===Kw[0])return t.renderTextAreaWithClearIcon(r,o,e)}))}}]),n}(D.Component),Jw=Zw,Qw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function tS(t,e){return Ye(t||"").slice(0,e).join("")}function eS(t,e,n,r){var i=n;return t?i=tS(n,r):Ye(e||"").length<n.length&&Ye(n||"").length>r&&(i=e),i}var nS=D.forwardRef((function(t,e){var n,r=t.prefixCls,i=t.bordered,o=void 0===i||i,a=t.showCount,u=void 0!==a&&a,s=t.maxLength,l=t.className,c=t.style,f=t.size,d=t.onCompositionStart,h=t.onCompositionEnd,p=t.onChange,v=t.status,g=Qw(t,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange","status"]),m=D.useContext(Ou),y=m.getPrefixCls,x=m.direction,b=D.useContext(ip),w=D.useContext(Cv),S=w.status,k=w.hasFeedback,C=ep(S,v),E=D.useRef(null),O=D.useRef(null),M=j(D.useState(!1),2),_=M[0],A=M[1],T=D.useRef(),P=D.useRef(0),F=j(nl(g.defaultValue,{value:g.value}),2),N=F[0],I=F[1],L=g.hidden,R=function(t,e){void 0===g.value&&(I(t),null===e||void 0===e||e())},z=Number(s)>0,U=y("input",r);D.useImperativeHandle(e,(function(){var t;return{resizableTextArea:null===(t=E.current)||void 0===t?void 0:t.resizableTextArea,focus:function(t){var e,n;!function(t,e){if(t){t.focus(e);var n=(e||{}).cursor;if(n){var r=t.value.length;switch(n){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r)}}}}(null===(n=null===(e=E.current)||void 0===e?void 0:e.resizableTextArea)||void 0===n?void 0:n.textArea,t)},blur:function(){var t;return null===(t=E.current)||void 0===t?void 0:t.blur()}}}));var H=D.createElement(Xw,B({},zi(g,["allowClear"]),{className:Mt()((n={},mt(n,"".concat(U,"-borderless"),!o),mt(n,l,l&&!u),mt(n,"".concat(U,"-sm"),"small"===b||"small"===f),mt(n,"".concat(U,"-lg"),"large"===b||"large"===f),n),tp(U,C)),style:u?void 0:c,prefixCls:U,onCompositionStart:function(t){A(!0),T.current=N,P.current=t.currentTarget.selectionStart,null===d||void 0===d||d(t)},onChange:function(t){var e=t.target.value;!_&&z&&(e=eS(t.target.selectionStart>=s+1||t.target.selectionStart===e.length||!t.target.selectionStart,N,e,s));R(e),Fw(t.currentTarget,t,p,e)},onCompositionEnd:function(t){var e;A(!1);var n=t.currentTarget.value;z&&(n=eS(P.current>=s+1||P.current===(null===(e=T.current)||void 0===e?void 0:e.length),T.current,n,s));n!==N&&(R(n),Fw(t.currentTarget,t,p,n)),null===h||void 0===h||h(t)},ref:E})),V=function(t){return"undefined"===typeof t||null===t?"":String(t)}(N);_||!z||null!==g.value&&void 0!==g.value||(V=tS(V,s));var W=D.createElement(Jw,B({},g,{prefixCls:U,direction:x,inputType:"text",value:V,element:H,handleReset:function(t){var e,n;R("",(function(){var t;null===(t=E.current)||void 0===t||t.focus()})),Fw(null===(n=null===(e=E.current)||void 0===e?void 0:e.resizableTextArea)||void 0===n?void 0:n.textArea,t,p)},ref:O,bordered:o,status:v,style:u?void 0:c}));if(u||k){var Y,q=Ye(V).length,G="";return G="object"===ti(u)?u.formatter({count:q,maxLength:s}):"".concat(q).concat(z?" / ".concat(s):""),D.createElement("div",{hidden:L,className:Mt()("".concat(U,"-textarea"),(Y={},mt(Y,"".concat(U,"-textarea-rtl"),"rtl"===x),mt(Y,"".concat(U,"-textarea-show-count"),u),Y),tp("".concat(U,"-textarea"),C,k),l),style:c,"data-count":G},W,k&&Qh(U,C))}return W})),rS=nS,iS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},oS=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:iS}))};oS.displayName="EyeOutlined";var aS=D.forwardRef(oS),uS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},sS=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:uS}))};sS.displayName="EyeInvisibleOutlined";var lS=D.forwardRef(sS),cS=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},fS={click:"onClick",hover:"onMouseOver"},dS=D.forwardRef((function(t,e){var n=j((0,D.useState)(!1),2),r=n[0],i=n[1],o=function(){t.disabled||i(!r)},a=function(n){var i=n.getPrefixCls,a=t.className,u=t.prefixCls,s=t.inputPrefixCls,l=t.size,c=t.visibilityToggle,f=cS(t,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),d=i("input",s),h=i("input-password",u),p=c&&function(e){var n,i=t.action,a=t.iconRender,u=fS[i]||"",s=(void 0===a?function(){return null}:a)(r),l=(mt(n={},u,o),mt(n,"className","".concat(e,"-icon")),mt(n,"key","passwordIcon"),mt(n,"onMouseDown",(function(t){t.preventDefault()})),mt(n,"onMouseUp",(function(t){t.preventDefault()})),n);return D.cloneElement(D.isValidElement(s)?s:D.createElement("span",null,s),l)}(h),v=Mt()(h,a,mt({},"".concat(h,"-").concat(l),!!l)),g=B(B({},zi(f,["suffix","iconRender"])),{type:r?"text":"password",className:v,prefixCls:d,suffix:p});return l&&(g.size=l),D.createElement(Iw,B({ref:e},g))};return D.createElement(Mu,null,a)}));dS.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(t){return t?D.createElement(aS,null):D.createElement(lS,null)}},dS.displayName="Password";var hS=dS,pS=Iw;pS.Group=Lw,pS.Search=Uw,pS.TextArea=rS,pS.Password=hS;var vS=pS,gS=function(t){var e=t.value,n=t.onChange,r=t.filterSearch,i=t.tablePrefixCls,o=t.locale;return r?D.createElement("div",{className:"".concat(i,"-filter-dropdown-search")},D.createElement(vS,{prefix:D.createElement(Yh,null),placeholder:o.filterSearchPlaceholder,onChange:n,value:e,htmlSize:1,className:"".concat(i,"-filter-dropdown-search-input")})):null};function mS(t,e){return("string"===typeof e||"number"===typeof e)&&(null===e||void 0===e?void 0:e.toString().toLowerCase().includes(t.trim().toLowerCase()))}function yS(t){var e=t.filters,n=t.prefixCls,r=t.filteredKeys,i=t.filterMultiple,o=t.searchValue,a=t.filterSearch;return e.map((function(t,e){var u=String(t.value);if(t.children)return D.createElement(Fx.SubMenu,{key:u||e,title:t.text,popupClassName:"".concat(n,"-dropdown-submenu")},yS({filters:t.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o,filterSearch:a}));var s=i?Vg:Gx,l=D.createElement(Fx.Item,{key:void 0!==t.value?u:e},D.createElement(s,{checked:r.includes(u)}),D.createElement("span",null,t.text));return o.trim()?"function"===typeof a?a(o,t)?l:void 0:mS(o,t.text)?l:void 0:l}))}var xS=function(t){var e,n=t.tablePrefixCls,r=t.prefixCls,i=t.column,o=t.dropdownPrefixCls,a=t.columnKey,u=t.filterMultiple,s=t.filterMode,l=void 0===s?"menu":s,c=t.filterSearch,f=void 0!==c&&c,d=t.filterState,h=t.triggerFilter,p=t.locale,v=t.children,g=t.getPopupContainer,m=i.filterDropdownVisible,y=i.onFilterDropdownVisibleChange,x=j(D.useState(!1),2),b=x[0],w=x[1],S=!(!d||!(null===(e=d.filteredKeys)||void 0===e?void 0:e.length)&&!d.forceFiltered),k=function(t){w(t),null===y||void 0===y||y(t)},C="boolean"===typeof m?m:b,E=null===d||void 0===d?void 0:d.filteredKeys,O=function(t){var e=D.useRef(t),n=zv();return[function(){return e.current},function(t){e.current=t,n()}]}(E||[]),M=j(O,2),_=M[0],A=M[1],T=function(t){var e=t.selectedKeys;A(e)},P=function(t,e){var n=e.node,r=e.checked;T(u?{selectedKeys:t}:{selectedKeys:r&&n.key?[n.key]:[]})};D.useEffect((function(){b&&T({selectedKeys:E||[]})}),[E]);var F=j(D.useState([]),2),N=F[0],I=F[1],L=D.useRef(),R=function(t){L.current=window.setTimeout((function(){I(t)}))},B=function(){window.clearTimeout(L.current)};D.useEffect((function(){return function(){window.clearTimeout(L.current)}}),[]);var z=j(D.useState(""),2),U=z[0],H=z[1],V=function(t){var e=t.target.value;H(e)};D.useEffect((function(){b||H("")}),[b]);var W,Y=function(t){var e=t&&t.length?t:null;return null!==e||d&&d.filteredKeys?uf()(e,null===d||void 0===d?void 0:d.filteredKeys)?null:void h({column:i,key:a,filteredKeys:e}):null},q=function(){k(!1),Y(_())},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1},e=t.confirm,n=t.closeDropdown;e&&Y([]),n&&k(!1),H(""),A([])},$=Mt()(mt({},"".concat(o,"-menu-without-submenu"),!function(t){return t.some((function(t){return t.children}))}(i.filters||[]))),X=function(t){if(t.target.checked){var e=SS(null===i||void 0===i?void 0:i.filters).map((function(t){return String(t)}));A(e)}else A([])},K=function t(e){return(e.filters||[]).map((function(e,n){var r=String(e.value),i={title:e.text,key:void 0!==e.value?r:n};return e.children&&(i.children=t({filters:e.children})),i}))};if("function"===typeof i.filterDropdown)W=i.filterDropdown({prefixCls:"".concat(o,"-custom"),setSelectedKeys:function(t){return T({selectedKeys:t})},selectedKeys:_(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&k(!1),Y(_())},clearFilters:G,filters:i.filters,visible:C});else if(i.filterDropdown)W=i.filterDropdown;else{var Z=_()||[];W=D.createElement(D.Fragment,null,0===(i.filters||[]).length?D.createElement(Cu,{image:Cu.PRESENTED_IMAGE_SIMPLE,description:p.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):"tree"===l?D.createElement(D.Fragment,null,D.createElement(gS,{filterSearch:f,value:U,onChange:V,tablePrefixCls:n,locale:p}),D.createElement("div",{className:"".concat(n,"-filter-dropdown-tree")},u?D.createElement(Vg,{checked:Z.length===SS(i.filters).length,indeterminate:Z.length>0&&Z.length<SS(i.filters).length,className:"".concat(n,"-filter-dropdown-checkall"),onChange:X},p.filterCheckall):null,D.createElement(ww,{checkable:!0,selectable:!1,blockNode:!0,multiple:u,checkStrictly:!u,className:"".concat(o,"-menu"),onCheck:P,checkedKeys:Z,selectedKeys:Z,showIcon:!1,treeData:K({filters:i.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:U.trim()?function(t){return mS(U,t.title)}:void 0}))):D.createElement(D.Fragment,null,D.createElement(gS,{filterSearch:f,value:U,onChange:V,tablePrefixCls:n,locale:p}),D.createElement(Fx,{multiple:u,prefixCls:"".concat(o,"-menu"),className:$,onClick:B,onSelect:T,onDeselect:T,selectedKeys:Z,getPopupContainer:g,openKeys:N,onOpenChange:R},yS({filters:i.filters||[],filterSearch:f,prefixCls:r,filteredKeys:_(),filterMultiple:u,searchValue:U}))),D.createElement("div",{className:"".concat(r,"-dropdown-btns")},D.createElement(Sm,{type:"link",size:"small",disabled:0===Z.length,onClick:function(){return G()}},p.filterReset),D.createElement(Sm,{type:"primary",size:"small",onClick:q},p.filterConfirm)))}var J,Q=D.createElement(Sw,{className:"".concat(r,"-dropdown")},W);J="function"===typeof i.filterIcon?i.filterIcon(S):i.filterIcon?i.filterIcon:D.createElement(Sb,null);var tt=D.useContext(Ou).direction;return D.createElement("div",{className:"".concat(r,"-column")},D.createElement("span",{className:"".concat(n,"-column-title")},v),D.createElement(Rm,{overlay:Q,trigger:["click"],visible:C,onVisibleChange:function(t){t&&void 0!==E&&A(E||[]),k(t),t||i.filterDropdown||q()},getPopupContainer:g,placement:"rtl"===tt?"bottomLeft":"bottomRight"},D.createElement("span",{role:"button",tabIndex:-1,className:Mt()("".concat(r,"-trigger"),{active:S}),onClick:function(t){t.stopPropagation()}},J)))};function bS(t,e,n){var r=[];return(t||[]).forEach((function(t,i){var o,a=sb(i,n);if(t.filters||"filterDropdown"in t||"onFilter"in t)if("filteredValue"in t){var u=t.filteredValue;"filterDropdown"in t||(u=null!==(o=null===u||void 0===u?void 0:u.map(String))&&void 0!==o?o:u),r.push({column:t,key:ub(t,a),filteredKeys:u,forceFiltered:t.filtered})}else r.push({column:t,key:ub(t,a),filteredKeys:e&&t.defaultFilteredValue?t.defaultFilteredValue:void 0,forceFiltered:t.filtered});"children"in t&&(r=[].concat(Ye(r),Ye(bS(t.children,e,a))))})),r}function wS(t,e,n,r,i,o,a,u){return n.map((function(n,s){var l=sb(s,u),c=n.filterMultiple,f=void 0===c||c,d=n.filterMode,h=n.filterSearch,p=n;if(p.filters||p.filterDropdown){var v=ub(p,l),g=r.find((function(t){var e=t.key;return v===e}));p=B(B({},p),{title:function(r){return D.createElement(xS,{tablePrefixCls:t,prefixCls:"".concat(t,"-filter"),dropdownPrefixCls:e,column:p,columnKey:v,filterState:g,filterMultiple:f,filterMode:d,filterSearch:h,triggerFilter:i,locale:a,getPopupContainer:o},lb(n.title,r))}})}return"children"in p&&(p=B(B({},p),{children:wS(t,e,p.children,r,i,o,a,l)})),p}))}function SS(t){var e=[];return(t||[]).forEach((function(t){var n=t.value,r=t.children;e.push(n),r&&(e=[].concat(Ye(e),Ye(SS(r))))})),e}function kS(t){var e={};return t.forEach((function(t){var n=t.key,r=t.filteredKeys,i=t.column,o=i.filters;if(i.filterDropdown)e[n]=r||null;else if(Array.isArray(r)){var a=SS(o);e[n]=a.filter((function(t){return r.includes(String(t))}))}else e[n]=null})),e}function CS(t,e){return e.reduce((function(t,e){var n=e.column,r=n.onFilter,i=n.filters,o=e.filteredKeys;return r&&o&&o.length?t.filter((function(t){return o.some((function(e){var n=SS(i),o=n.findIndex((function(t){return String(t)===String(e)})),a=-1!==o?n[o]:e;return r(a,t)}))})):t}),t)}var ES=function(t){var e=t.prefixCls,n=t.dropdownPrefixCls,r=t.mergedColumns,i=t.onFilterChange,o=t.getPopupContainer,a=t.locale,u=j(D.useState(bS(r,!0)),2),s=u[0],l=u[1],c=D.useMemo((function(){var t=bS(r,!1),e=t.every((function(t){return void 0===t.filteredKeys}));if(e)return s;var n=t.every((function(t){return void 0!==t.filteredKeys}));return Rg(e||n,"Table","`FilteredKeys` should all be controlled or not controlled."),t}),[r,s]),f=D.useCallback((function(){return kS(c)}),[c]),d=function(t){var e=c.filter((function(e){return e.key!==t.key}));e.push(t),l(e),i(kS(e),e)};return[function(t){return wS(e,n,t,c,d,o,a)},c,f]};function OS(t,e){return t.map((function(t){var n=B({},t);return n.title=lb(t.title,e),"children"in n&&(n.children=OS(n.children,e)),n}))}function MS(t){var e=D.useCallback((function(e){return OS(e,t)}),[t]);return[e]}var _S=function(t){return function(e){var n,r=e.prefixCls,i=e.onExpand,o=e.record,a=e.expanded,u=e.expandable,s="".concat(r,"-row-expand-icon");return D.createElement("button",{type:"button",onClick:function(t){i(o,t),t.stopPropagation()},className:Mt()(s,(n={},mt(n,"".concat(s,"-spaced"),!u),mt(n,"".concat(s,"-expanded"),u&&a),mt(n,"".concat(s,"-collapsed"),u&&!a),n)),"aria-label":a?t.collapse:t.expand})}};function AS(t){return null!==t&&void 0!==t&&t===t.window}function TS(t,e){var n;if("undefined"===typeof window)return 0;var r=e?"scrollTop":"scrollLeft",i=0;return AS(t)?i=t[e?"pageYOffset":"pageXOffset"]:t instanceof Document?i=t.documentElement[r]:t&&(i=t[r]),t&&!AS(t)&&"number"!==typeof i&&(i=null===(n=(t.ownerDocument||t).documentElement)||void 0===n?void 0:n[r]),i}function PS(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}function DS(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getContainer,r=void 0===n?function(){return window}:n,i=e.callback,o=e.duration,a=void 0===o?450:o,u=r(),s=TS(u,!0),l=Date.now(),c=function e(){var n=Date.now()-l,r=PS(n>a?a:n,s,t,a);AS(u)?u.scrollTo(window.pageXOffset,r):u instanceof HTMLDocument||"HTMLDocument"===u.constructor.name?u.documentElement.scrollTop=r:u.scrollTop=r,n<a?ka(e):"function"===typeof i&&i()};ka(c)}var FS=pu;var NS=function(t){return null};var IS=function(t){return null},LS=[];function RS(t,e){var n,r=t.prefixCls,i=t.className,o=t.style,a=t.size,u=t.bordered,s=t.dropdownPrefixCls,l=t.dataSource,c=t.pagination,f=t.rowSelection,d=t.rowKey,h=t.rowClassName,p=t.columns,v=t.children,g=t.childrenColumnName,m=t.onChange,y=t.getPopupContainer,x=t.loading,b=t.expandIcon,w=t.expandable,S=t.expandedRowRender,k=t.expandIconColumnIndex,C=t.indentSize,E=t.scroll,O=t.sortDirections,M=t.locale,_=t.showSorterTooltip,A=void 0===_||_;Rg(!("function"===typeof d&&d.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var T=D.useMemo((function(){return p||Fa(v)}),[p,v]),P=D.useMemo((function(){return T.some((function(t){return t.responsive}))}),[T]),F=Gv(P),N=D.useMemo((function(){var t=new Set(Object.keys(F).filter((function(t){return F[t]})));return T.filter((function(e){return!e.responsive||e.responsive.some((function(e){return t.has(e)}))}))}),[T,F]),I=zi(t,["className","style","columns"]),L=D.useContext(ip),R=D.useContext(Ou),z=R.locale,U=void 0===z?FS:z,H=R.renderEmpty,V=R.direction,W=a||L,Y=B(B({},U.Table),M),q=l||LS,G=D.useContext(Ou).getPrefixCls,$=G("table",r),X=G("dropdown",s),K=B({childrenColumnName:g,expandIconColumnIndex:k},w),Z=K.childrenColumnName,J=void 0===Z?"children":Z,Q=D.useMemo((function(){return q.some((function(t){return null===t||void 0===t?void 0:t[J]}))?"nest":S||w&&w.expandedRowRender?"row":null}),[q]),tt={body:D.useRef()},et=D.useMemo((function(){return"function"===typeof d?d:function(t){return null===t||void 0===t?void 0:t[d]}}),[d]),nt=function(t,e,n){var r=D.useRef({});return[function(i){if(!r.current||r.current.data!==t||r.current.childrenColumnName!==e||r.current.getRowKey!==n){var o=new Map;!function t(r){r.forEach((function(r,i){var a=n(r,i);o.set(a,r),r&&"object"===ti(r)&&e in r&&t(r[e]||[])}))}(t),r.current={data:t,childrenColumnName:e,kvMap:o,getRowKey:n}}return r.current.kvMap.get(i)}]}(q,J,et),rt=j(nt,1)[0],it={},ot=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=B(B({},it),t);n&&(it.resetPagination(),r.pagination.current&&(r.pagination.current=1),c&&c.onChange&&c.onChange(1,r.pagination.pageSize)),E&&!1!==E.scrollToFirstRowOnChange&&tt.body.current&&DS(0,{getContainer:function(){return tt.body.current}}),null===m||void 0===m||m(r.pagination,r.filters,r.sorter,{currentDataSource:CS(yb(q,r.sorterStates,J),r.filterStates),action:e})},at=j(xb({prefixCls:$,mergedColumns:N,onSorterChange:function(t,e){ot({sorter:t,sorterStates:e},"sort",!1)},sortDirections:O||["ascend","descend"],tableLocale:Y,showSorterTooltip:A}),4),ut=at[0],st=at[1],lt=at[2],ct=at[3],ft=D.useMemo((function(){return yb(q,st,J)}),[q,st]);it.sorter=ct(),it.sorterStates=st;var dt=ES({prefixCls:$,locale:Y,dropdownPrefixCls:X,mergedColumns:N,onFilterChange:function(t,e){ot({filters:t,filterStates:e},"filter",!0)},getPopupContainer:y}),ht=j(dt,3),pt=ht[0],vt=ht[1],gt=ht[2],yt=CS(ft,vt);it.filters=gt(),it.filterStates=vt;var xt=j(MS(D.useMemo((function(){return B({},lt)}),[lt])),1)[0],bt=Jv(yt.length,c,(function(t,e){ot({pagination:B(B({},it.pagination),{current:t,pageSize:e})},"paginate")})),wt=j(bt,2),St=wt[0],kt=wt[1];it.pagination=!1===c?{}:function(t,e){var n={current:e.current,pageSize:e.pageSize},r=t&&"object"===ti(t)?t:{};return Object.keys(r).forEach((function(t){var r=e[t];"function"!==typeof r&&(n[t]=r)})),n}(c,St),it.resetPagination=kt;var Ct=D.useMemo((function(){if(!1===c||!St.pageSize)return yt;var t=St.current,e=void 0===t?1:t,n=St.total,r=St.pageSize,i=void 0===r?10:r;return Rg(e>0,"Table","`current` should be positive number."),yt.length<n?yt.length>i?(Rg(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),yt.slice((e-1)*i,e*i)):yt:yt.slice((e-1)*i,e*i)}),[!!c,yt,St&&St.current,St&&St.pageSize,St&&St.total]),Et=j(tb(f,{prefixCls:$,data:yt,pageData:Ct,getRowKey:et,getRecordByKey:rt,expandType:Q,childrenColumnName:J,locale:Y,getPopupContainer:y}),2),Ot=Et[0],_t=Et[1];K.__PARENT_RENDER_ICON__=K.expandIcon,K.expandIcon=K.expandIcon||b||_S(Y),"nest"===Q&&void 0===K.expandIconColumnIndex?K.expandIconColumnIndex=f?1:0:K.expandIconColumnIndex>0&&f&&(K.expandIconColumnIndex-=1),"number"!==typeof K.indentSize&&(K.indentSize="number"===typeof C?C:15);var At,Tt,Pt,Dt=D.useCallback((function(t){return xt(Ot(pt(ut(t))))}),[ut,pt,Ot]);if(!1!==c&&(null===St||void 0===St?void 0:St.total)){var Ft;Ft=St.size?St.size:"small"===W||"middle"===W?"small":void 0;var Nt=function(t){return D.createElement(Kv,B({},St,{className:Mt()("".concat($,"-pagination ").concat($,"-pagination-").concat(t),St.className),size:Ft}))},It="rtl"===V?"left":"right",Lt=St.position;if(null!==Lt&&Array.isArray(Lt)){var Rt=Lt.find((function(t){return-1!==t.indexOf("top")})),jt=Lt.find((function(t){return-1!==t.indexOf("bottom")})),Bt=Lt.every((function(t){return"none"==="".concat(t)}));Rt||jt||Bt||(Tt=Nt(It)),Rt&&(At=Nt(Rt.toLowerCase().replace("top",""))),jt&&(Tt=Nt(jt.toLowerCase().replace("bottom","")))}else Tt=Nt(It)}"boolean"===typeof x?Pt={spinning:x}:"object"===ti(x)&&(Pt=B({spinning:!0},x));var zt=Mt()("".concat($,"-wrapper"),mt({},"".concat($,"-wrapper-rtl"),"rtl"===V),i);return D.createElement("div",{ref:e,className:zt,style:o},D.createElement(Nu,B({spinning:!1},Pt),At,D.createElement(uu,B({},I,{columns:N,direction:V,expandable:K,prefixCls:$,className:Mt()((n={},mt(n,"".concat($,"-middle"),"middle"===W),mt(n,"".concat($,"-small"),"small"===W),mt(n,"".concat($,"-bordered"),u),mt(n,"".concat($,"-empty"),0===q.length),n)),data:Ct,rowKey:et,rowClassName:function(t,e,n){var r;return r="function"===typeof h?Mt()(h(t,e,n)):Mt()(h),Mt()(mt({},"".concat($,"-row-selected"),_t.has(et(t,e))),r)},emptyText:M&&M.emptyText||H("Table"),internalHooks:iu,internalRefs:tt,transformColumns:Dt})),Tt))}var jS=D.forwardRef(RS);jS.defaultProps={rowKey:"key"},jS.SELECTION_COLUMN=$x,jS.EXPAND_COLUMN=uu.EXPAND_COLUMN,jS.SELECTION_ALL=Xx,jS.SELECTION_INVERT=Kx,jS.SELECTION_NONE=Zx,jS.Column=NS,jS.ColumnGroup=IS,jS.Summary=qa;var BS=jS;function zS(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(US()&&void 0===e)throw new Error("invariant requires an error message argument");if(!t){var o;if(void 0===e)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(e.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}function US(){return"undefined"!==typeof process&&!0}var HS=(0,D.createContext)({dragDropManager:void 0});"undefined"!==typeof window?D.useLayoutEffect:D.useEffect;var VS=n(8262),WS=n.n(VS);var YS="dnd-core/INIT_COORDS",qS="dnd-core/BEGIN_DRAG",GS="dnd-core/PUBLISH_DRAG_SOURCE",$S="dnd-core/HOVER",XS="dnd-core/DROP",KS="dnd-core/END_DRAG";function ZS(t,e){return{type:YS,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}function JS(t,e,n){return e.split(".").reduce((function(t,e){return t&&t[e]?t[e]:n||null}),t)}function QS(t,e){return t.filter((function(t){return t!==e}))}function tk(t){return"object"===typeof t}function ek(t,e){var n=new Map,r=function(t){n.set(t,n.has(t)?n.get(t)+1:1)};t.forEach(r),e.forEach(r);var i=[];return n.forEach((function(t,e){1===t&&i.push(e)})),i}var nk={type:YS,payload:{clientOffset:null,sourceClientOffset:null}};function rk(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,o=n.clientOffset,a=n.getSourceClientOffset,u=t.getMonitor(),s=t.getRegistry();t.dispatch(ZS(o)),ik(e,u,s);var l=uk(e,u);if(null!=l){var c=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");ok(a),c=a(l)}t.dispatch(ZS(o,c));var f=s.getSource(l),d=f.beginDrag(u,l);if(null!=d){ak(d),s.pinSource(l);var h=s.getSourceType(l);return{type:qS,payload:{itemType:h,item:d,sourceId:l,clientOffset:o||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}else t.dispatch(nk)}}function ik(t,e,n){zS(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach((function(t){zS(n.getSource(t),"Expected sourceIds to be registered.")}))}function ok(t){zS("function"===typeof t,"When clientOffset is provided, getSourceClientOffset must be a function.")}function ak(t){zS(tk(t),"Item must be an object.")}function uk(t,e){for(var n=null,r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function sk(t){return function(){if(t.getMonitor().isDragging())return{type:GS}}}function lk(t,e){return null===e?null===t:Array.isArray(t)?t.some((function(t){return t===e})):t===e}function ck(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;fk(e);var i=e.slice(0),o=t.getMonitor(),a=t.getRegistry();dk(i,o,a);var u=o.getItemType();return hk(i,a,u),pk(i,o,a),{type:$S,payload:{targetIds:i,clientOffset:r||null}}}}function fk(t){zS(Array.isArray(t),"Expected targetIds to be an array.")}function dk(t,e,n){zS(e.isDragging(),"Cannot call hover while not dragging."),zS(!e.didDrop(),"Cannot call hover after drop.");for(var r=0;r<t.length;r++){var i=t[r];zS(t.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array."),zS(n.getTarget(i),"Expected targetIds to be registered.")}}function hk(t,e,n){for(var r=t.length-1;r>=0;r--){var i=t[r];lk(e.getTargetType(i),n)||t.splice(r,1)}}function pk(t,e,n){t.forEach((function(t){n.getTarget(t).hover(e,t)}))}function vk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){vk(t,e,n[e])}))}return t}function mk(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getMonitor(),r=t.getRegistry();yk(n);var i=bk(n);i.forEach((function(i,o){var a=xk(i,o,r,n),u={type:XS,payload:{dropResult:gk({},e,a)}};t.dispatch(u)}))}}function yk(t){zS(t.isDragging(),"Cannot call drop while not dragging."),zS(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function xk(t,e,n,r){var i=n.getTarget(t),o=i?i.drop(r,t):void 0;return function(t){zS("undefined"===typeof t||tk(t),"Drop result must either be an object or undefined.")}(o),"undefined"===typeof o&&(o=0===e?{}:r.getDropResult()),o}function bk(t){var e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function wk(t){return function(){var e=t.getMonitor(),n=t.getRegistry();!function(t){zS(t.isDragging(),"Cannot call endDrag while not dragging.")}(e);var r=e.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(e,r),n.unpinSource());return{type:KS}}}var Sk=function(){function t(e,n){var r=this;Xr(this,t),this.isSetUp=!1,this.handleRefCountChange=function(){var t=r.store.getState().refCount>0;r.backend&&(t&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!t&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}return $r(t,[{key:"receiveBackend",value:function(t){this.backend=t}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var t=this,e=this.store.dispatch;var n=function(t){return{beginDrag:rk(t),publishDragSource:sk(t),hover:ck(t),drop:mk(t),endDrag:wk(t)}}(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(t,r);"undefined"!==typeof a&&e(a)}),r}),{})}},{key:"dispatch",value:function(t){this.store.dispatch(t)}}]),t}();function kk(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Ck="function"===typeof Symbol&&Symbol.observable||"@@observable",Ek=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ok={INIT:"@@redux/INIT"+Ek(),REPLACE:"@@redux/REPLACE"+Ek(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ek()}};function Mk(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function _k(t,e,n){var r;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(kk(0));if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(kk(1));return n(_k)(t,e)}if("function"!==typeof t)throw new Error(kk(2));var i=t,o=e,a=[],u=a,s=!1;function l(){u===a&&(u=a.slice())}function c(){if(s)throw new Error(kk(3));return o}function f(t){if("function"!==typeof t)throw new Error(kk(4));if(s)throw new Error(kk(5));var e=!0;return l(),u.push(t),function(){if(e){if(s)throw new Error(kk(6));e=!1,l();var n=u.indexOf(t);u.splice(n,1),a=null}}}function d(t){if(!Mk(t))throw new Error(kk(7));if("undefined"===typeof t.type)throw new Error(kk(8));if(s)throw new Error(kk(9));try{s=!0,o=i(o,t)}finally{s=!1}for(var e=a=u,n=0;n<e.length;n++){(0,e[n])()}return t}function h(t){if("function"!==typeof t)throw new Error(kk(10));i=t,d({type:Ok.REPLACE})}function p(){var t,e=f;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new Error(kk(11));function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[Ck]=function(){return this},t}return d({type:Ok.INIT}),(r={dispatch:d,subscribe:f,getState:c,replaceReducer:h})[Ck]=p,r}var Ak=function(t,e){return t===e};function Tk(t,e){return!t&&!e||!(!t||!e)&&(t.x===e.x&&t.y===e.y)}function Pk(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ak;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function Dk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Dk(t,e,n[e])}))}return t}var Nk={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ik(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nk,e=arguments.length>1?arguments[1]:void 0,n=e.payload;switch(e.type){case YS:case qS:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case $S:return Tk(t.clientOffset,n.clientOffset)?t:Fk({},t,{clientOffset:n.clientOffset});case KS:case XS:return Nk;default:return t}}var Lk="dnd-core/ADD_SOURCE",Rk="dnd-core/ADD_TARGET",jk="dnd-core/REMOVE_SOURCE",Bk="dnd-core/REMOVE_TARGET";function zk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){zk(t,e,n[e])}))}return t}var Hk={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Vk(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hk,e=arguments.length>1?arguments[1]:void 0,n=e.payload;switch(e.type){case qS:return Uk({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case GS:return Uk({},t,{isSourcePublic:!0});case $S:return Uk({},t,{targetIds:n.targetIds});case Bk:return-1===t.targetIds.indexOf(n.targetId)?t:Uk({},t,{targetIds:QS(t.targetIds,n.targetId)});case XS:return Uk({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case KS:return Uk({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Wk(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Lk:case Rk:return t+1;case jk:case Bk:return t-1;default:return t}}var Yk=[],qk=[];function Gk(t,e){if(t===Yk)return!1;if(t===qk||"undefined"===typeof e)return!0;var n,r=(n=t,e.filter((function(t){return n.indexOf(t)>-1})));return r.length>0}function $k(){var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $S:break;case Lk:case Rk:case Bk:case jk:return Yk;default:return qk}var e=t.payload,n=e.targetIds,r=void 0===n?[]:n,i=e.prevTargetIds,o=void 0===i?[]:i,a=ek(r,o),u=a.length>0||!Pk(r,o);if(!u)return Yk;var s=o[o.length-1],l=r[r.length-1];return s!==l&&(s&&a.push(s),l&&a.push(l)),a}function Xk(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t+1}function Kk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Kk(t,e,n[e])}))}return t}function Jk(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:$k(t.dirtyHandlerIds,{type:e.type,payload:Zk({},e.payload,{prevTargetIds:JS(t,"dragOperation.targetIds",[])})}),dragOffset:Ik(t.dragOffset,e),refCount:Wk(t.refCount,e),dragOperation:Vk(t.dragOperation,e),stateId:Xk(t.stateId)}}function Qk(t,e){return{x:t.x-e.x,y:t.y-e.y}}Yk.__IS_NONE__=!0,qk.__IS_ALL__=!0;var tC,eC=function(){function t(e,n){Xr(this,t),this.store=e,this.registry=n}return $r(t,[{key:"subscribeToStateChange",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.handlerIds;zS("function"===typeof t,"listener must be a function."),zS("undefined"===typeof r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,o=function(){var n=e.store.getState(),o=n.stateId;try{o===i||o===i+1&&!Gk(n.dirtyHandlerIds,r)||t()}finally{i=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(t){var e=this;zS("function"===typeof t,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=e.store.getState().dragOffset;r!==n&&(n=r,t())}))}},{key:"canDragSource",value:function(t){if(!t)return!1;var e=this.registry.getSource(t);return zS(e,"Expected to find a valid source. sourceId=".concat(t)),!this.isDragging()&&e.canDrag(this,t)}},{key:"canDropOnTarget",value:function(t){if(!t)return!1;var e=this.registry.getTarget(t);return zS(e,"Expected to find a valid target. targetId=".concat(t)),!(!this.isDragging()||this.didDrop())&&(lk(this.registry.getTargetType(t),this.getItemType())&&e.canDrop(this,t))}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(t){if(!t)return!1;var e=this.registry.getSource(t,!0);return zS(e,"Expected to find a valid source. sourceId=".concat(t)),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(t)===this.getItemType()&&e.isDragging(this,t))}},{key:"isOverTarget",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!t)return!1;var n=e.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(t),i=this.getItemType();if(i&&!lk(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(t);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(t){var e=t.clientOffset,n=t.initialClientOffset,r=t.initialSourceClientOffset;return e&&n&&r?Qk(function(t,e){return{x:t.x+e.x,y:t.y+e.y}}(e,r),n):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return function(t){var e=t.clientOffset,n=t.initialClientOffset;return e&&n?Qk(e,n):null}(this.store.getState().dragOffset)}}]),t}(),nC=0;function rC(t,e){e&&Array.isArray(t)?t.forEach((function(t){return rC(t,!1)})):zS("string"===typeof t||"symbol"===typeof t,e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function iC(t){aC.length||(oC(),!0),aC[aC.length]=t}!function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"}(tC||(tC={}));var oC,aC=[],uC=0;function sC(){for(;uC<aC.length;){var t=uC;if(uC+=1,aC[t].call(),uC>1024){for(var e=0,n=aC.length-uC;e<n;e++)aC[e]=aC[e+uC];aC.length-=uC,uC=0}}aC.length=0,uC=0,!1}var lC="undefined"!==typeof n.g?n.g:self,cC=lC.MutationObserver||lC.WebKitMutationObserver;function fC(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}oC="function"===typeof cC?function(t){var e=1,n=new cC(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(sC):fC(sC),iC.requestFlush=oC,iC.makeRequestCallFromTimer=fC;var dC=[],hC=[],pC=iC.makeRequestCallFromTimer((function(){if(hC.length)throw hC.shift()}));function vC(t){var e;(e=dC.length?dC.pop():new gC).task=t,iC(e)}var gC=function(){function t(){}return t.prototype.call=function(){try{this.task.call()}catch(n5){vC.onerror?vC.onerror(n5):(hC.push(n5),pC())}finally{this.task=null,dC[dC.length]=this}},t}();function mC(t){var e=(nC++).toString();switch(t){case tC.SOURCE:return"S".concat(e);case tC.TARGET:return"T".concat(e);default:throw new Error("Unknown Handler Role: ".concat(t))}}function yC(t){switch(t[0]){case"S":return tC.SOURCE;case"T":return tC.TARGET;default:throw new Error("Cannot parse handler ID: ".concat(t))}}function xC(t,e){var n=t.entries(),r=!1;do{var i=n.next(),o=i.done;if(j(i.value,2)[1]===e)return!0;r=!!o}while(!r);return!1}var bC=function(){function t(e){Xr(this,t),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}return $r(t,[{key:"addSource",value:function(t,e){rC(t),function(t){zS("function"===typeof t.canDrag,"Expected canDrag to be a function."),zS("function"===typeof t.beginDrag,"Expected beginDrag to be a function."),zS("function"===typeof t.endDrag,"Expected endDrag to be a function.")}(e);var n=this.addHandler(tC.SOURCE,t,e);return this.store.dispatch(function(t){return{type:Lk,payload:{sourceId:t}}}(n)),n}},{key:"addTarget",value:function(t,e){rC(t,!0),function(t){zS("function"===typeof t.canDrop,"Expected canDrop to be a function."),zS("function"===typeof t.hover,"Expected hover to be a function."),zS("function"===typeof t.drop,"Expected beginDrag to be a function.")}(e);var n=this.addHandler(tC.TARGET,t,e);return this.store.dispatch(function(t){return{type:Rk,payload:{targetId:t}}}(n)),n}},{key:"containsHandler",value:function(t){return xC(this.dragSources,t)||xC(this.dropTargets,t)}},{key:"getSource",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];zS(this.isSourceId(t),"Expected a valid source ID.");var n=e&&t===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(t);return r}},{key:"getTarget",value:function(t){return zS(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}},{key:"getSourceType",value:function(t){return zS(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}},{key:"getTargetType",value:function(t){return zS(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}},{key:"isSourceId",value:function(t){return yC(t)===tC.SOURCE}},{key:"isTargetId",value:function(t){return yC(t)===tC.TARGET}},{key:"removeSource",value:function(t){var e=this;zS(this.getSource(t),"Expected an existing source."),this.store.dispatch(function(t){return{type:jk,payload:{sourceId:t}}}(t)),vC((function(){e.dragSources.delete(t),e.types.delete(t)}))}},{key:"removeTarget",value:function(t){zS(this.getTarget(t),"Expected an existing target."),this.store.dispatch(function(t){return{type:Bk,payload:{targetId:t}}}(t)),this.dropTargets.delete(t),this.types.delete(t)}},{key:"pinSource",value:function(t){var e=this.getSource(t);zS(e,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=e}},{key:"unpinSource",value:function(){zS(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(t,e,n){var r=mC(t);return this.types.set(r,e),t===tC.SOURCE?this.dragSources.set(r,n):t===tC.TARGET&&this.dropTargets.set(r,n),r}}]),t}();function wC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=SC(r),o=new eC(i,new bC(i)),a=new Sk(i,o),u=t(a,e,n);return a.receiveBackend(u),a}function SC(t){var e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return _k(Jk,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function kC(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var CC=0,EC=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),OC=(0,D.memo)((function(t){var e=t.children,n=function(t){if("manager"in t){return[{dragDropManager:t.manager},!1]}var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:MC(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=e;i[EC]||(i[EC]={dragDropManager:wC(t,e,n,r)});return i[EC]}(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}(kC(t,["children"])),r=j(n,2),i=r[0],o=r[1];return(0,D.useEffect)((function(){if(o){var t=MC();return++CC,function(){0===--CC&&(t[EC]=null)}}}),[]),(0,pt.jsx)(HS.Provider,{value:i,children:e})}));function MC(){return"undefined"!==typeof global?global:window}function _C(t){var e=null;return function(){return null==e&&(e=t()),e}}var AC=function(){function t(e){Xr(this,t),this.entered=[],this.isNodeInDocument=e}return $r(t,[{key:"enter",value:function(t){var e=this,n=this.entered.length;return this.entered=function(t,e){var n=new Set,r=function(t){return n.add(t)};t.forEach(r),e.forEach(r);var i=[];return n.forEach((function(t){return i.push(t)})),i}(this.entered.filter((function(n){return e.isNodeInDocument(n)&&(!n.contains||n.contains(t))})),[t]),0===n&&this.entered.length>0}},{key:"leave",value:function(t){var e,n,r=this.entered.length;return this.entered=(e=this.entered.filter(this.isNodeInDocument),n=t,e.filter((function(t){return t!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),t}(),TC=_C((function(){return/firefox/i.test(navigator.userAgent)})),PC=_C((function(){return Boolean(window.safari)})),DC=function(){function t(e,n){Xr(this,t);for(var r=e.length,i=[],o=0;o<r;o++)i.push(o);i.sort((function(t,n){return e[t]<e[n]?-1:1}));for(var a,u,s=[],l=[],c=[],f=0;f<r-1;f++)a=e[f+1]-e[f],u=n[f+1]-n[f],l.push(a),s.push(u),c.push(u/a);for(var d=[c[0]],h=0;h<l.length-1;h++){var p=c[h],v=c[h+1];if(p*v<=0)d.push(0);else{a=l[h];var g=l[h+1],m=a+g;d.push(3*m/((m+g)/p+(m+a)/v))}}d.push(c[c.length-1]);for(var y,x=[],b=[],w=0;w<d.length-1;w++){y=c[w];var S=d[w],k=1/l[w],C=S+d[w+1]-y-y;x.push((y-S-C)*k),b.push(C*k*k)}this.xs=e,this.ys=n,this.c1s=d,this.c2s=x,this.c3s=b}return $r(t,[{key:"interpolate",value:function(t){var e=this.xs,n=this.ys,r=this.c1s,i=this.c2s,o=this.c3s,a=e.length-1;if(t===e[a])return n[a];for(var u,s=0,l=o.length-1;s<=l;){var c=e[u=Math.floor(.5*(s+l))];if(c<t)s=u+1;else{if(!(c>t))return n[u];l=u-1}}var f=t-e[a=Math.max(0,l)],d=f*f;return n[a]+r[a]*f+i[a]*d+o[a]*f*d}}]),t}();function FC(t){var e=1===t.nodeType?t:t.parentElement;if(!e)return null;var n=e.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function NC(t){return{x:t.clientX,y:t.clientY}}function IC(t,e,n,r,i){var o=function(t){var e;return"IMG"===t.nodeName&&(TC()||!(null===(e=document.documentElement)||void 0===e?void 0:e.contains(t)))}(e),a=FC(o?t:e),u={x:n.x-a.x,y:n.y-a.y},s=t.offsetWidth,l=t.offsetHeight,c=r.anchorX,f=r.anchorY,d=function(t,e,n,r){var i=t?e.width:n,o=t?e.height:r;return PC()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(o,e,s,l),h=d.dragPreviewWidth,p=d.dragPreviewHeight,v=i.offsetX,g=i.offsetY,m=0===g||g;return{x:0===v||v?v:new DC([0,.5,1],[u.x,u.x/s*h,u.x+h-s]).interpolate(c),y:m?g:function(){var t=new DC([0,.5,1],[u.y,u.y/l*p,u.y+p-l]).interpolate(f);return PC()&&o&&(t+=(window.devicePixelRatio-1)*p),t}()}}var LC,RC="__NATIVE_FILE__",jC="__NATIVE_URL__",BC="__NATIVE_TEXT__",zC="__NATIVE_HTML__";function UC(t,e,n){var r=e.reduce((function(e,n){return e||t.getData(n)}),"");return null!=r?r:n}var HC=(mt(LC={},RC,{exposeProperties:{files:function(t){return Array.prototype.slice.call(t.files)},items:function(t){return t.items},dataTransfer:function(t){return t}},matchesTypes:["Files"]}),mt(LC,zC,{exposeProperties:{html:function(t,e){return UC(t,e,"")},dataTransfer:function(t){return t}},matchesTypes:["Html","text/html"]}),mt(LC,jC,{exposeProperties:{urls:function(t,e){return UC(t,e,"").split("\n")},dataTransfer:function(t){return t}},matchesTypes:["Url","text/uri-list"]}),mt(LC,BC,{exposeProperties:{text:function(t,e){return UC(t,e,"")},dataTransfer:function(t){return t}},matchesTypes:["Text","text/plain"]}),LC),VC=function(){function t(e){Xr(this,t),this.config=e,this.item={},this.initializeExposedProperties()}return $r(t,[{key:"initializeExposedProperties",value:function(){var t=this;Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(e,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(t){var e=this;if(t){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){var i=e.config.exposeProperties[r];null!=i&&(n[r]={value:i(t,e.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(t,e){return e===t.getSourceId()}},{key:"endDrag",value:function(){}}]),t}();function WC(t){if(!t)return null;var e=Array.prototype.slice.call(t.types||[]);return Object.keys(HC).filter((function(t){var n=HC[t];return!!(null===n||void 0===n?void 0:n.matchesTypes)&&n.matchesTypes.some((function(t){return e.indexOf(t)>-1}))}))[0]||null}var YC=function(){function t(e,n){Xr(this,t),this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}return $r(t,[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){var t;return(null===(t=this.globalContext)||void 0===t?void 0:t.document)?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var t;return(null===(t=this.optionsArgs)||void 0===t?void 0:t.rootElement)||this.window}}]),t}();function qC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){qC(t,e,n[e])}))}return t}var $C,XC,KC,ZC=function(){function e(t,n,r){var i=this;Xr(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=function(t){var e=i.sourceNodes.get(t);return e&&FC(e)||null},this.endDragNativeItem=function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)},this.isNodeInDocument=function(t){return Boolean(t&&i.document&&i.document.body&&i.document.body.contains(t))},this.endDragIfSourceWasRemovedFromDOM=function(){var t=i.currentDragSourceNode;null==t||i.isNodeInDocument(t)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()},this.handleTopDragStartCapture=function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]},this.handleTopDragStart=function(t){if(!t.defaultPrevented){var e=i.dragStartSourceIds;i.dragStartSourceIds=null;var n=NC(t);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(e||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:n});var r=t.dataTransfer,o=WC(r);if(i.monitor.isDragging()){if(r&&"function"===typeof r.setDragImage){var a=i.monitor.getSourceId(),u=i.sourceNodes.get(a),s=i.sourcePreviewNodes.get(a)||u;if(s){var l=i.getCurrentSourcePreviewNodeOptions(),c=IC(u,s,n,{anchorX:l.anchorX,anchorY:l.anchorY},{offsetX:l.offsetX,offsetY:l.offsetY});r.setDragImage(s,c.x,c.y)}}try{null===r||void 0===r||r.setData("application/json",{})}catch(f){}i.setCurrentDragSourceNode(t.target),i.getCurrentSourcePreviewNodeOptions().captureDraggingState?i.actions.publishDragSource():setTimeout((function(){return i.actions.publishDragSource()}),0)}else if(o)i.beginDragNativeItem(o);else{if(r&&!r.types&&(t.target&&!t.target.hasAttribute||!t.target.hasAttribute("draggable")))return;t.preventDefault()}}},this.handleTopDragEndCapture=function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()},this.handleTopDragEnterCapture=function(t){var e;(i.dragEnterTargetIds=[],i.isDraggingNativeItem())&&(null===(e=i.currentNativeSource)||void 0===e||e.loadDataTransfer(t.dataTransfer));if(i.enterLeaveCounter.enter(t.target)&&!i.monitor.isDragging()){var n=t.dataTransfer,r=WC(n);r&&i.beginDragNativeItem(r,n)}},this.handleTopDragEnter=function(t){var e=i.dragEnterTargetIds;(i.dragEnterTargetIds=[],i.monitor.isDragging())&&(i.altKeyPressed=t.altKey,e.length>0&&i.actions.hover(e,{clientOffset:NC(t)}),e.some((function(t){return i.monitor.canDropOnTarget(t)}))&&(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect=i.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(t){var e;(i.dragOverTargetIds=[],i.isDraggingNativeItem())&&(null===(e=i.currentNativeSource)||void 0===e||e.loadDataTransfer(t.dataTransfer))},this.handleTopDragOver=function(t){var e=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging())return t.preventDefault(),void(t.dataTransfer&&(t.dataTransfer.dropEffect="none"));i.altKeyPressed=t.altKey,i.lastClientOffset=NC(t),null===i.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(i.hoverRafId=requestAnimationFrame((function(){i.monitor.isDragging()&&i.actions.hover(e||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}))),(e||[]).some((function(t){return i.monitor.canDropOnTarget(t)}))?(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?t.preventDefault():(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(t){i.isDraggingNativeItem()&&t.preventDefault(),i.enterLeaveCounter.leave(t.target)&&i.isDraggingNativeItem()&&setTimeout((function(){return i.endDragNativeItem()}),0)},this.handleTopDropCapture=function(t){var e;(i.dropTargetIds=[],i.isDraggingNativeItem())?(t.preventDefault(),null===(e=i.currentNativeSource)||void 0===e||e.loadDataTransfer(t.dataTransfer)):WC(t.dataTransfer)&&t.preventDefault();i.enterLeaveCounter.reset()},this.handleTopDrop=function(t){var e=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(e,{clientOffset:NC(t)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()},this.handleSelectStart=function(t){var e=t.target;"function"===typeof e.dragDrop&&("INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable||(t.preventDefault(),e.dragDrop()))},this.options=new YC(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new AC(this.isNodeInDocument)}return $r(e,[{key:"profile",value:function(){var t,e;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(t=this.dragStartSourceIds)||void 0===t?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var t=this.rootElement;if(void 0!==t){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}},{key:"teardown",value:function(){var t,e=this.rootElement;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(t,e,n){var r=this;return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,e),function(){r.sourcePreviewNodes.delete(t),r.sourcePreviewNodeOptions.delete(t)}}},{key:"connectDragSource",value:function(t,e,n){var r=this;this.sourceNodes.set(t,e),this.sourceNodeOptions.set(t,n);var i=function(e){return r.handleDragStart(e,t)},o=function(t){return r.handleSelectStart(t)};return e.setAttribute("draggable","true"),e.addEventListener("dragstart",i),e.addEventListener("selectstart",o),function(){r.sourceNodes.delete(t),r.sourceNodeOptions.delete(t),e.removeEventListener("dragstart",i),e.removeEventListener("selectstart",o),e.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(t,e){var n=this,r=function(e){return n.handleDragEnter(e,t)},i=function(e){return n.handleDragOver(e,t)},o=function(e){return n.handleDrop(e,t)};return e.addEventListener("dragenter",r),e.addEventListener("dragover",i),e.addEventListener("drop",o),function(){e.removeEventListener("dragenter",r),e.removeEventListener("dragover",i),e.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var t=this.monitor.getSourceId(),e=this.sourceNodeOptions.get(t);return GC({dropEffect:this.altKeyPressed?"copy":"move"},e||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var t=this.monitor.getSourceId();return GC({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(t)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(t).some((function(n){return t[n]===e}))}},{key:"beginDragNativeItem",value:function(t,e){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(t,e){var n=HC[t];if(!n)throw new Error("native type ".concat(t," has no configuration"));var r=new VC(n);return r.loadDataTransfer(e),r}(t,e),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(t){var e=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;this.mouseMoveTimeoutTimer=setTimeout((function(){var t;return null===(t=e.rootElement)||void 0===t?void 0:t.addEventListener("mousemove",e.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){var t;if(this.currentDragSourceNode=null,this.rootElement)null===(t=this.window)||void 0===t||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(t,e){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(e))}},{key:"handleDragEnter",value:function(t,e){this.dragEnterTargetIds.unshift(e)}},{key:"handleDragOver",value:function(t,e){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(e)}},{key:"handleDrop",value:function(t,e){this.dropTargetIds.unshift(e)}}]),e}(),JC=function(t,e,n){return new ZC(t,e,n)},QC=n(1172),tE=n.n(QC),eE=n(9388),nE=n(3415);!function(t){t.FORE="fore",t.MID="mid",t.BG="bg"}($C||($C={})),function(t){t.TOP="top",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.RADIUS="radius",t.CIRCLE="circle",t.NONE="none"}(XC||(XC={})),function(t){t.AXIS="axis",t.GRID="grid",t.LEGEND="legend",t.TOOLTIP="tooltip",t.ANNOTATION="annotation",t.SLIDER="slider",t.SCROLLBAR="scrollbar",t.OTHER="other"}(KC||(KC={}));var rE,iE,oE,aE,uE=3,sE=2,lE=1;!function(t){t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy",t.BEFORE_CHANGE_SIZE="beforechangesize",t.AFTER_CHANGE_SIZE="afterchangesize"}(rE||(rE={})),function(t){t.BEFORE_DRAW_ANIMATE="beforeanimate",t.AFTER_DRAW_ANIMATE="afteranimate"}(iE||(iE={})),function(t){t.MOUSE_ENTER="plot:mouseenter",t.MOUSE_DOWN="plot:mousedown",t.MOUSE_MOVE="plot:mousemove",t.MOUSE_UP="plot:mouseup",t.MOUSE_LEAVE="plot:mouseleave",t.TOUCH_START="plot:touchstart",t.TOUCH_MOVE="plot:touchmove",t.TOUCH_END="plot:touchend",t.TOUCH_CANCEL="plot:touchcancel",t.CLICK="plot:click",t.DBLCLICK="plot:dblclick",t.CONTEXTMENU="plot:contextmenu",t.LEAVE="plot:leave",t.ENTER="plot:enter"}(oE||(oE={})),function(t){t.ACTIVE="active",t.INACTIVE="inactive",t.SELECTED="selected",t.DEFAULT="default"}(aE||(aE={}));var cE,fE,dE,hE,pE=["color","shape","size"],vE="_origin",gE={};function mE(t,e){gE[t]=e}function yE(t){cE||(cE=document.createElement("table"),fE=document.createElement("tr"),dE=/^\s*<(\w+|!)[^>]*>/,hE={tr:document.createElement("tbody"),tbody:cE,thead:cE,tfoot:cE,td:fE,th:fE,"*":document.createElement("div")});var e=dE.test(t)&&RegExp.$1;e&&e in hE||(e="*");var n=hE[e];t="string"===typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}function xE(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}function bE(t){return"number"===typeof t&&!isNaN(t)}function wE(t,e,n,r){var i=n,o=r;if(e){var a=function(t){var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}(t);i=a.width?a.width:i,o=a.height?a.height:o}return{width:Math.max(bE(i)?i:1,1),height:Math.max(bE(o)?o:1,1)}}var SE=n(2469),kE=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=e.visible,i=void 0===r||r;return n.visible=i,n}return(0,eE.ZT)(e,t),e.prototype.show=function(){this.visible||this.changeVisible(!0)},e.prototype.hide=function(){this.visible&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(SE.Z),CE=kE,EE=n(4494),OE=function(){function t(t){var e=t.xField,n=t.yField,r=t.adjustNames,i=void 0===r?["x","y"]:r,o=t.dimValuesMap;this.adjustNames=i,this.xField=e,this.yField=n,this.dimValuesMap=o}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var r,i,o=this.yField,a=n.indexOf(e),u=n.length;return!o&&this.isAdjust("y")?(r=0,i=1):u>1?(r=n[0===a?0:a-1],i=n[a===u-1?u-1:a+1],0!==a?r+=(e-r)/2:r-=(i-e)/2,a!==u-1?i-=(i-e)/2:i+=(e-n[u-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},t.prototype.adjustData=function(t,e){var n=this,r=this.getDimValues(e);nE.S6(t,(function(t,e){nE.S6(r,(function(r,i){n.adjustDim(i,r,t,e)}))}))},t.prototype.groupData=function(t,e){return nE.S6(t,(function(t){void 0===t[e]&&(t[e]=0)})),nE.vM(t,e)},t.prototype.adjustDim=function(t,e,n,r){},t.prototype.getDimValues=function(t){var e=this.xField,n=this.yField,r=nE.f0({},this.dimValuesMap),i=[];if(e&&this.isAdjust("x")&&i.push(e),n&&this.isAdjust("y")&&i.push(n),i.forEach((function(e){r&&r[e]||(r[e]=nE.I(t,e).sort((function(t,e){return t-e})))})),!n&&this.isAdjust("y")){r.y=[0,1]}return r},t}(),ME=OE,_E={},AE=function(t){return _E[t.toLowerCase()]},TE=function(t,e){if(AE(t))throw new Error("Adjust type '"+t+"' existed.");_E[t.toLowerCase()]=e},PE=function(t,e){return PE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},PE(t,e)};function DE(t,e){function n(){this.constructor=t}PE(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var FE=function(){return FE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},FE.apply(this,arguments)};var NE=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var r=e.marginRatio,i=void 0===r?.5:r,o=e.dodgeRatio,a=void 0===o?.5:o,u=e.dodgeBy,s=e.intervalPadding,l=e.dodgePadding,c=e.xDimensionLength,f=e.groupNum,d=e.defaultSize,h=e.maxColumnWidth,p=e.minColumnWidth,v=e.columnWidthRatio,g=e.customOffset;return n.marginRatio=i,n.dodgeRatio=a,n.dodgeBy=u,n.intervalPadding=s,n.dodgePadding=l,n.xDimensionLegenth=c,n.groupNum=f,n.defaultSize=d,n.maxColumnWidth=h,n.minColumnWidth=p,n.columnWidthRatio=v,n.customOffset=g,n}return DE(e,t),e.prototype.process=function(t){var e=nE.d9(t),n=nE.xH(e),r=this.dodgeBy,i=r?nE.ru(n,r):e;return this.cacheMap={},this.adjustDataArray=i,this.mergeData=n,this.adjustData(i,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,r){var i=this,o=this.customOffset,a=this.getDistribution(t),u=this.groupData(n,t);return nE.S6(u,(function(n,u){var s;s=1===e.length?{pre:e[0]-1,next:e[0]+1}:i.getAdjustRange(t,parseFloat(u),e),nE.S6(n,(function(e){var n=e[t],u=a[n],l=u.indexOf(r);if(nE.UM(o))e[t]=i.getDodgeOffset(s,l,u.length);else{var c=s.pre,f=s.next;e[t]=nE.mf(o)?o(e,s):(c+f)/2+o}}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var r,i=this,o=i.dodgeRatio,a=i.marginRatio,u=i.intervalPadding,s=i.dodgePadding,l=t.pre,c=t.next,f=c-l;if(!nE.UM(u)&&nE.UM(s)&&u>=0)r=l+this.getIntervalOnlyOffset(n,e);else if(!nE.UM(s)&&nE.UM(u)&&s>=0){r=l+this.getDodgeOnlyOffset(n,e)}else if(!nE.UM(u)&&!nE.UM(s)&&u>=0&&s>=0){r=l+this.getIntervalAndDodgeOffset(n,e)}else{var d=f*o/n,h=a*d;r=(l+c)/2+(.5*(f-n*d-(n-1)*h)+((e+1)*d+e*h)-.5*d-.5*f)}return r},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.intervalPadding,o=n.xDimensionLegenth,a=n.groupNum,u=n.dodgeRatio,s=n.maxColumnWidth,l=n.minColumnWidth,c=n.columnWidthRatio,f=i/o,d=(1-(a-1)*f)/a*u/(t-1),h=((1-f*(a-1))/a-d*(t-1))/t;if(h=nE.UM(c)?h:1/a/t*c,!nE.UM(s)){var p=s/o;h=Math.min(h,p)}if(!nE.UM(l)){var v=l/o;h=Math.max(h,v)}return((.5+e)*(h=r?r/o:h)+e*(d=((1-(a-1)*f)/a-t*h)/(t-1))+.5*f)*a-f/2},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.dodgePadding,o=n.xDimensionLegenth,a=n.groupNum,u=n.marginRatio,s=n.maxColumnWidth,l=n.minColumnWidth,c=n.columnWidthRatio,f=i/o,d=1*u/(a-1),h=((1-d*(a-1))/a-f*(t-1))/t;if(h=c?1/a/t*c:h,!nE.UM(s)){var p=s/o;h=Math.min(h,p)}if(!nE.UM(l)){var v=l/o;h=Math.max(h,v)}return((.5+e)*(h=r?r/o:h)+e*f+.5*(d=(1-(h*t+f*(t-1))*a)/(a-1)))*a-d/2},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,r=n.intervalPadding,i=n.dodgePadding,o=n.xDimensionLegenth,a=n.groupNum,u=r/o,s=i/o;return((.5+e)*(((1-u*(a-1))/a-s*(t-1))/t)+e*s+.5*u)*a-u/2},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,r=n[t];return r||(r={},nE.S6(e,(function(e,n){var i=nE.I(e,t);i.length||i.push(0),nE.S6(i,(function(t){r[t]||(r[t]=[]),r[t].push(n)}))})),n[t]=r),r},e}(ME),IE=NE;var LE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return DE(e,t),e.prototype.process=function(t){var e=nE.d9(t),n=nE.xH(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var r=this,i=this.groupData(n,t);return nE.S6(i,(function(n,i){return r.adjustGroup(n,t,parseFloat(i),e)}))},e.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,r=.05*(n-e);return function(t,e){return(e-t)*Math.random()+t}(e+r,n-r)},e.prototype.adjustGroup=function(t,e,n,r){var i=this,o=this.getAdjustRange(e,n,r);return nE.S6(t,(function(t){t[e]=i.getAdjustOffset(o)})),t},e}(ME),RE=LE,jE=nE.Ct,BE=function(t){function e(e){var n=t.call(this,e)||this,r=e.adjustNames,i=void 0===r?["y"]:r,o=e.height,a=void 0===o?NaN:o,u=e.size,s=void 0===u?10:u,l=e.reverseOrder,c=void 0!==l&&l;return n.adjustNames=i,n.height=a,n.size=s,n.reverseOrder=c,n}return DE(e,t),e.prototype.process=function(t){var e=this.yField,n=this.reverseOrder,r=e?this.processStack(t):this.processOneDimStack(t);return n?this.reverse(r):r},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,r=e.yField,i=e.reverseOrder?this.reverse(t):t,o=new jE,a=new jE;return i.map((function(t){return t.map((function(t){var e,i=nE.U2(t,n,0),u=nE.U2(t,[r]),s=i.toString();if(u=nE.kJ(u)?u[1]:u,!nE.UM(u)){var l=u>=0?o:a;l.has(s)||l.set(s,0);var c=l.get(s),f=u+c;return l.set(s,f),FE(FE({},t),((e={})[r]=[c,f],e))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,r=n.xField,i=n.height,o=n.reverseOrder,a=o?this.reverse(t):t,u=new jE;return a.map((function(t){return t.map((function(t){var n,o=e.size,a=t[r],s=2*o/i;u.has(a)||u.set(a,s/2);var l=u.get(a);return u.set(a,l+s),FE(FE({},t),((n={}).y=l,n))}))}))},e}(ME),zE=BE,UE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return DE(e,t),e.prototype.process=function(t){var e=nE.xH(t),n=this.xField,r=this.yField,i=this.getXValuesMaxMap(e),o=Math.max.apply(Math,Object.keys(i).map((function(t){return i[t]})));return nE.UI(t,(function(t){return nE.UI(t,(function(t){var e,a,u=t[r],s=t[n];if(nE.kJ(u)){var l=(o-i[s])/2;return FE(FE({},t),((e={})[r]=nE.UI(u,(function(t){return l+t})),e))}var c=(o-u)/2;return FE(FE({},t),((a={})[r]=[c,u+c],a))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this.xField,r=this.yField,i=nE.vM(t,(function(t){return t[n]}));return nE.Q8(i,(function(t){return e.getDimMaxValue(t,r)}))},e.prototype.getDimMaxValue=function(t,e){var n=nE.UI(t,(function(t){return nE.U2(t,e,[])})),r=nE.xH(n);return Math.max.apply(Math,r)},e}(ME),HE=UE;TE("Dodge",IE),TE("Jitter",RE),TE("Stack",zE),TE("Symmetric",HE);var VE=function(t,e){return(0,nE.HD)(e)?e:t.invert(t.scale(e))},WE=function(){function t(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return t.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.map((function(e,n){return t._toOriginParam(e,t.scales[n])}));return this.callback.apply(this,r)},t.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),r=e*t-n,i=this.values[n];return i+((n===e?i:this.values[n+1])-i)*r},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i+=1)r.push(e[i]);return r},t.prototype.getFields=function(){return this.scales.map((function(t){return t.field}))},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0===e.length?this.values:e.map((function(e,n){var r=t.scales[n];return"identity"===r.type?r.values[0]:t._getAttributeValue(r,e)}))},t.prototype._parseCfg=function(t){var e=this,n=t.type,r=void 0===n?"base":n,i=t.names,o=void 0===i?[]:i,a=t.scales,u=void 0===a?[]:a,s=t.values,l=void 0===s?[]:s,c=t.callback;this.type=r,this.scales=u,this.values=l,this.names=o,this.callback=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(c){var r=c.apply(void 0,t);if(!(0,nE.UM)(r))return[r]}return e.defaultCallback.apply(e,t)}},t.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var r=t.scale(e);return this.getLinearValue(r)},t.prototype._toOriginParam=function(t,e){return e.isLinear?t:(0,nE.kJ)(t)?t.map((function(t){return VE(e,t)})):VE(e,t)},t}(),YE=WE,qE=function(t,e){return qE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},qE(t,e)};function GE(t,e){function n(){this.constructor=t}qE(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $E=/rgba?\(([\s.,0-9]+)\)/,XE=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,KE=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ZE=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,JE=function(t,e,n,r){return t[r]+(e[r]-t[r])*n};function QE(t){return"#"+nO(t[0])+nO(t[1])+nO(t[2])}var tO,eO=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},nO=function(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e},rO=function(t){if("#"===t[0]&&7===t.length)return t;tO||(tO=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}()),tO.style.color=t;var e=document.defaultView.getComputedStyle(tO,"").getPropertyValue("color");return e=QE($E.exec(e)[1].split(/\s*,\s*/).map((function(t){return Number(t)})))},iO={rgb2arr:eO,gradient:function(t){var e=(0,nE.HD)(t)?t.split("-"):t,n=(0,nE.UI)(e,(function(t){return eO(-1===t.indexOf("#")?rO(t):t)}));return function(t){return function(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),r=t.length-1,i=Math.floor(r*n),o=r*n-i,a=t[i],u=i===r?a:t[i+1];return QE([JE(a,u,o,0),JE(a,u,o,1),JE(a,u,o,2)])}(n,t)}},toRGB:(0,nE.HP)(rO),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n=void 0;if("l"===t[0]){var r=+(i=XE.exec(t))[1]+90;n=i[2],e="linear-gradient("+r+"deg, "}else if("r"===t[0]){var i;e="radial-gradient(",n=(i=KE.exec(t))[4]}var o=n.match(ZE);return(0,nE.S6)(o,(function(t,n){var r=t.split(":");e+=r[1]+" "+100*r[0]+"%",n!==o.length-1&&(e+=", ")})),e+=")"}return t}},oO=function(t){function e(e){var n=t.call(this,e)||this;return n.type="color",n.names=["color"],(0,nE.HD)(n.values)&&(n.linear=!0),n.gradient=iO.gradient(n.values),n}return GE(e,t),e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(YE),aO=oO,uO=function(t){function e(e){var n=t.call(this,e)||this;return n.type="opacity",n.names=["opacity"],n}return GE(e,t),e}(YE),sO=function(t){function e(e){var n=t.call(this,e)||this;return n.names=["x","y"],n.type="position",n}return GE(e,t),e.prototype.mapping=function(t,e){var n=this.scales,r=n[0],i=n[1];return(0,nE.UM)(t)||(0,nE.UM)(e)?[]:[(0,nE.kJ)(t)?t.map((function(t){return r.scale(t)})):r.scale(t),(0,nE.kJ)(e)?e.map((function(t){return i.scale(t)})):i.scale(e)]},e}(YE),lO=sO,cO=function(t){function e(e){var n=t.call(this,e)||this;return n.type="shape",n.names=["shape"],n}return GE(e,t),e.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},e}(YE),fO=cO,dO=function(t){function e(e){var n=t.call(this,e)||this;return n.type="size",n.names=["size"],n}return GE(e,t),e}(YE),hO={};function pO(t,e){hO[t]=e}var vO=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){(0,nE.f0)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return(0,nE.UI)(this.ticks,(function(e,n){return(0,nE.Kn)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return(0,nE.UM)(r)||!(0,nE.mf)(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){(0,nE.f0)(this,this.__cfg__),this.setDomain(),(0,nE.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if((0,nE.HD)(t)){var n=function(t){return hO[t]}(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else(0,nE.mf)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return(0,nE.hj)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),gO=vO,mO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return(0,eE.ZT)(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=(0,nE.hj)(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return(0,nE.hj)(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,(0,eE.ev)([i],n,!1))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,nE.UM)(this.getConfig("min"))&&(this.min=0),(0,nE.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(gO),yO=mO,xO=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,bO="[1-9]\\d?",wO="\\d\\d",SO="[^\\s]+",kO=/\[([^]*?)\]/gm;function CO(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var EO=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function OO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}var MO=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_O=["January","February","March","April","May","June","July","August","September","October","November","December"],AO=CO(_O,3),TO={dayNamesShort:CO(MO,3),dayNames:MO,monthNamesShort:AO,monthNames:_O,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},PO=OO({},TO),DO=function(t){return PO=OO(PO,t)},FO=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},NO=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},IO={D:function(t){return String(t.getDate())},DD:function(t){return NO(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return NO(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return NO(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return NO(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return NO(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return NO(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return NO(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return NO(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return NO(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return NO(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return NO(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+NO(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+NO(Math.floor(Math.abs(e)/60),2)+":"+NO(Math.abs(e)%60,2)}},LO=function(t){return+t-1},RO=[null,bO],jO=[null,SO],BO=["isPm",SO,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],zO=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],UO={D:["day",bO],DD:["day",wO],Do:["day","[1-9]\\d?[^\\s]+",function(t){return parseInt(t,10)}],M:["month",bO,LO],MM:["month",wO,LO],YY:["year",wO,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",bO,void 0,"isPm"],hh:["hour",wO,void 0,"isPm"],H:["hour",bO],HH:["hour",wO],m:["minute",bO],mm:["minute",wO],s:["second",bO],ss:["second",wO],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",wO,function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:RO,dd:RO,ddd:jO,dddd:jO,MMM:["month",SO,EO("monthNamesShort")],MMMM:["month",SO,EO("monthNames")],a:BO,A:BO,ZZ:zO,Z:zO},HO={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},VO=function(t){return OO(HO,t)},WO=function(t,e,n){if(void 0===e&&(e=HO.default),void 0===n&&(n={}),"number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var r=[];e=(e=HO[e]||e).replace(kO,(function(t,e){return r.push(e),"@@@"}));var i=OO(OO({},PO),n);return(e=e.replace(xO,(function(e){return IO[e](t,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function YO(t,e,n){if(void 0===n&&(n={}),"string"!==typeof e)throw new Error("Invalid format in fecha parse");if(e=HO[e]||e,t.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=e.replace(kO,(function(t,e){return o.push(FO(e)),"@@@"})),u={},s={};a=FO(a).replace(xO,(function(t){var e=UO[t],n=e[0],r=e[1],o=e[3];if(u[n])throw new Error("Invalid format. "+n+" specified twice in format");return u[n]=!0,o&&(s[o]=!0),i.push(e),"("+r+")"})),Object.keys(s).forEach((function(t){if(!u[t])throw new Error("Invalid format. "+t+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return o.shift()}));var l=t.match(new RegExp(a,"i"));if(!l)return null;for(var c=OO(OO({},PO),n),f=1;f<l.length;f++){var d=i[f-1],h=d[0],p=d[2],v=p?p(l[f],c):+l[f];if(null==v)return null;r[h]=v}1===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:0===r.isPm&&12===+r.hour&&(r.hour=0);for(var g=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(f=0,m.length);f<y;f++)if(u[m[f][0]]&&r[m[f][0]]!==g[m[f][1]]())return null;return null==r.timezoneOffset?g:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var qO={format:WO,parse:YO,defaultI18n:TO,setGlobalDateI18n:DO,setGlobalDateMasks:VO};function GO(t,n){return(e.format||qO.format)(t,n)}function $O(t){return(0,nE.HD)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),(0,nE.J_)(t)&&(t=t.getTime()),t}var XO=1e3,KO=6e4,ZO=36e5,JO=24*ZO,QO=31*JO,tM=365*JO,eM=[["HH:mm:ss",XO],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",KO],["HH:mm",6e5],["HH:mm",18e5],["HH",ZO],["HH",6*ZO],["HH",12*ZO],["YYYY-MM-DD",JO],["YYYY-MM-DD",4*JO],["YYYY-WW",7*JO],["YYYY-MM",QO],["YYYY-MM",4*QO],["YYYY-MM",6*QO],["YYYY",380*JO]];function nM(t,e,n){var r=(e-t)/n,i=function(t){return function(e,n,r,i){for(var o=(0,nE.UM)(r)?0:r,a=(0,nE.UM)(i)?e.length:i;o<a;){var u=o+a>>>1;t(e[u])>n?a=u:o=u+1}return o}}((function(t){return t[1]}))(eM,r)-1,o=eM[i];return i<0?o=eM[0]:i>=eM.length&&(o=(0,nE.Z$)(eM)),o}var rM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return(0,eE.ZT)(e,t),e.prototype.translate=function(t){t=$O(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,nE.hj)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):GO(r,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;(0,nE.S6)(e,(function(t,n){e[n]=$O(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(yO),iM=rM,oM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return(0,eE.ZT)(e,t),e.prototype.scale=function(t){if((0,nE.UM)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=(0,nE.YM)(e),r=(0,nE.Z$)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,nE.UM)(this.minLimit)||(this.min=n),(0,nE.UM)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=(0,nE.rx)(this.values),e=t.min,n=t.max;(0,nE.UM)(this.min)&&(this.min=e),(0,nE.UM)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=(0,nE.hX)(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(gO),aM=oM,uM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return(0,eE.ZT)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(aM),sM=uM;function lM(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function cM(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function fM(t,e,n){(0,nE.UM)(n)&&(n=Math.max.apply(null,t));var r=n;return(0,nE.S6)(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}var dM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return(0,eE.ZT)(e,t),e.prototype.invert=function(t){var e,n=this.base,r=cM(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var u=1/(r-(e=cM(n,a/n)))*o;if(t<u)return t/u*a}else e=cM(n,this.min);var s=(t-i)/o*(r-e)+e;return Math.pow(n,s)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=fM(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),t<i?t/i/(cM(r,e)-cM(r,n)):(cM(r,t)-cM(r,n))/(cM(r,e)-cM(r,n))},e}(aM),hM=dM,pM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return(0,eE.ZT)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=lM(n,this.max),i=lM(n,this.min),o=e*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(lM(r,t)-lM(r,n))/(lM(r,e)-lM(r,n))},e}(aM),vM=pM,gM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return(0,eE.ZT)(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):GO(n,this.mask)},e.prototype.scale=function(e){var n=e;return((0,nE.HD)(n)||(0,nE.J_)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return $O(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if((0,nE.UM)(e)&&(0,nE.hj)(e)||(this.min=this.translate(this.min)),(0,nE.UM)(n)&&(0,nE.hj)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,o=i,a=0;(0,nE.S6)(t,(function(t){var e=$O(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(o=i,i=e):o>e&&(o=e),a<e&&(a=e),r.push(e)})),t.length>1&&(this.minTickInterval=o-i),(0,nE.UM)(e)&&(this.min=i),(0,nE.UM)(n)&&(this.max=a)}},e}(sM),mM=gM,yM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return(0,eE.ZT)(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return(0,nE.Z$)(e);if(i<0)return(0,nE.YM)(e);var o=e[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(e[i+1]-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||((0,nE.Z$)(e)!==this.max&&e.push(this.max),(0,nE.YM)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,nE.YM)(e))return 0;if(t>(0,nE.Z$)(e))return 1;var n=0;return(0,nE.S6)(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(aM),xM=yM,bM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return(0,eE.ZT)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(xM),wM=bM,SM={};function kM(t){return SM[t]}function CM(t,e){if(kM(t))throw new Error("type '"+t+"' existed.");SM[t]=e}var EM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return(0,eE.ZT)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,nE.hj)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(gO),OM=EM;function MM(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var _M=[1,5,2,2.5,4,3],AM=100*Number.EPSILON;function TM(t,e,n,r,i,o){var a=(0,nE.dp)(e),u=(0,nE.cq)(e,t),s=0,l=function(t,e){return(t%e+e)%e}(r,o);return(l<AM||o-l<AM)&&r<=0&&i>=0&&(s=1),1-u/(a-1)-n+s}function PM(t,e,n){var r=(0,nE.dp)(e);return 1-(0,nE.cq)(e,t)/(r-1)-n+1}function DM(t,e,n,r,i,o){var a=(t-1)/(o-i),u=(e-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/u,u/a)}function FM(t,e){return t>=e?2-(t-1)/(e-1):1}function NM(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function IM(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function LM(t,e,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=_M),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!==typeof t||"number"!==typeof e||!a)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===a)return{min:t,max:e,ticks:[t]};for(var u={score:-2,lmin:0,lmax:0,lstep:0},s=1;s<1/0;){for(var l=0;l<i.length;l+=1){var c=i[l],f=PM(c,i,s);if(o[0]*f+o[1]+o[2]+o[3]<u.score){s=1/0;break}for(var d=2;d<1/0;){var h=FM(d,a);if(o[0]*f+o[1]+o[2]*h+o[3]<u.score)break;for(var p=(e-t)/(d+1)/s/c,v=Math.ceil(Math.log10(p));v<1/0;){var g=s*c*Math.pow(10,v),m=IM(t,e,g*(d-1));if(o[0]*f+o[1]*m+o[2]*h+o[3]<u.score)break;var y=Math.floor(e/g)*s-(d-1)*s,x=Math.ceil(t/g)*s;if(y<=x)for(var b=x-y,w=0;w<=b;w+=1){var S=(y+w)*(g/s),k=S+g*(d-1),C=g,E=TM(c,i,s,S,k,C),O=NM(t,e,S,k),M=DM(d,a,t,e,S,k),_=o[0]*E+o[1]*O+o[2]*M+1*o[3];_>u.score&&(!r||S<=t&&k>=e)&&(u.lmin=S,u.lmax=k,u.lstep=C,u.score=_)}v+=1}d+=1}}s+=1}var A=MM(u.lmax),T=MM(u.lmin),P=MM(u.lstep),D=Math.floor(function(t){return Math.round(1e12*t)/1e12}((A-T)/P))+1,F=new Array(D);F[0]=MM(T);for(l=1;l<D;l++)F[l]=MM(F[l-1]+P);return{min:Math.min(t,(0,nE.YM)(F)),max:Math.max(e,(0,nE.Z$)(F)),ticks:F}}function RM(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=e;if((0,nE.hj)(n))return(0,nE.hX)(i,(function(t,e){return e%n===0}));var o=t.min,a=t.max;if((0,nE.UM)(o)&&(o=0),(0,nE.UM)(a)&&(a=e.length-1),(0,nE.hj)(r)&&r<a-o){var u=LM(o,a,r,!1,[1,2,5,3,4,7,6,8,9]).ticks,s=(0,nE.hX)(u,(function(t){return t>=o&&t<=a}));return s.map((function(t){return e[t]}))}return e.slice(o,a+1)}var jM=Math.sqrt(50),BM=Math.sqrt(10),zM=Math.sqrt(2),UM=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,u=this._domain[o],s=this._domain[a];return s<u&&(u=(e=[s,u])[0],s=e[1],o=(n=[a,o])[0],a=n[1]),(r=HM(u,s,t))>0?r=HM(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,t):r<0&&(r=HM(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,t)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];(r=e<t)&&(i=t,t=e,e=i);if(0===(a=HM(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function HM(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=jM?10:o>=BM?5:o>=zM?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=jM?10:o>=BM?5:o>=zM?2:1)}function VM(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function WM(t,e,n){var r=VM(t,n,"floor"),i=VM(e,n,"ceil");r=(0,nE.ri)(r,n),i=(0,nE.ri)(i,n);for(var o=[],a=r;a<=i;a+=n){var u=(0,nE.ri)(a,n);o.push(u)}return{min:r,max:i,ticks:o}}function YM(t,e,n){var r,i=t.minLimit,o=t.maxLimit,a=t.min,u=t.max,s=t.tickCount,l=void 0===s?5:s,c=(0,nE.UM)(i)?(0,nE.UM)(e)?a:e:i,f=(0,nE.UM)(o)?(0,nE.UM)(n)?u:n:o;if(c>f&&(f=(r=[c,f])[0],c=r[1]),l<=2)return[c,f];for(var d=(f-c)/(l-1),h=[],p=0;p<l;p++)h.push(c+d*p);return h}function qM(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var r=n<0?0:Math.round(n);if(0===r)return{max:e,min:t,ticks:[]};var i=(e-t)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o;2*o-i<1.5*(i-a)&&5*o-i<2.75*(i-(a=2*o))&&10*o-i<1.5*(i-(a=5*o))&&(a=10*o);for(var u=Math.ceil(e/a),s=Math.floor(t/a),l=Math.max(u*a,e),c=Math.min(s*a,t),f=Math.floor((l-c)/a)+1,d=new Array(f),h=0;h<f;h++)d[h]=MM(c+h*a);return{min:c,max:l,ticks:d}}function GM(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function $M(t){return new Date(t).getFullYear()}function XM(t){return new Date(t,0,1).getTime()}function KM(t){return new Date(t).getMonth()}function ZM(t,e){return new Date(t,e,1).getTime()}pO("cat",RM),pO("time-cat",(function(t){var e=RM(t),n=(0,nE.Z$)(t.values);return n!==(0,nE.Z$)(e)&&e.push(n),e})),pO("wilkinson-extended",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,o=t.tickInterval,a=t.minLimit,u=t.maxLimit,s=LM(e,n,r,i).ticks;return(0,nE.UM)(a)&&(0,nE.UM)(u)?o?WM(e,n,o).ticks:s:YM(t,(0,nE.YM)(s),(0,nE.Z$)(s))})),pO("r-pretty",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,u=qM(e,n,r).ticks;return(0,nE.UM)(o)&&(0,nE.UM)(a)?i?WM(e,n,i).ticks:u:YM(t,(0,nE.YM)(u),(0,nE.Z$)(u))})),pO("time",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,o=t.tickCount;if(i)o=Math.ceil((n-e)/i);else{var a=(n-e)/(i=nM(e,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}for(var u=[],s=e;s<n+i;s+=i)u.push(s);return u})),pO("time-pretty",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,o=t.tickInterval,a=[];o||(o=(n-e)/i,r&&o<r&&(o=r));var u=$M(e);if(o>tM)for(var s=$M(n),l=Math.ceil(o/tM),c=u;c<=s+l;c+=l)a.push(XM(c));else if(o>QO){var f=Math.ceil(o/QO),d=KM(e),h=function(t,e){var n=$M(t),r=$M(e),i=KM(t);return 12*(r-n)+(KM(e)-i)%12}(e,n);for(c=0;c<=h+f;c+=f)a.push(ZM(u,c+d))}else if(o>JO){var p=(x=new Date(e)).getFullYear(),v=x.getMonth(),g=x.getDate(),m=Math.ceil(o/JO),y=function(t,e){return Math.ceil((e-t)/JO)}(e,n);for(c=0;c<y+m;c+=m)a.push(new Date(p,v,g+c).getTime())}else if(o>ZO){p=(x=new Date(e)).getFullYear(),v=x.getMonth(),m=x.getDate();var x,b=x.getHours(),w=Math.ceil(o/ZO),S=function(t,e){return Math.ceil((e-t)/ZO)}(e,n);for(c=0;c<=S+w;c+=w)a.push(new Date(p,v,m,b+c).getTime())}else if(o>KO){var k=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),C=Math.ceil(o/KO);for(c=0;c<=k+C;c+=C)a.push(e+c*KO)}else{var E=o;E<XO&&(E=XO);var O=Math.floor(e/XO)*XO,M=Math.ceil((n-e)/XO),_=Math.ceil(E/XO);for(c=0;c<M+_;c+=_)a.push(O+c*XO)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a})),pO("log",(function(t){var e,n=t.base,r=t.tickCount,i=t.min,o=t.max,a=t.values,u=cM(n,o);if(i>0)e=Math.floor(cM(n,i));else{var s=fM(a,n,o);e=Math.floor(cM(n,s))}for(var l=u-e,c=Math.ceil(l/r),f=[],d=e;d<u+c;d+=c)f.push(Math.pow(n,d));return i<=0&&f.unshift(0),f})),pO("pow",(function(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(lM(e,t.max));return qM(Math.floor(lM(e,t.min)),r,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))})),pO("quantile",(function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(t,e){return t-e})),i=[],o=0;o<e;o++){var a=o/(e-1);i.push(GM(r,a))}return i})),pO("d3-linear",(function(t){var e=t.min,n=t.max,r=t.tickInterval,i=t.minLimit,o=t.maxLimit,a=function(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,o=new UM;return o.domain([e,n]),r&&o.nice(i),o.ticks(i)}(t);return(0,nE.UM)(i)&&(0,nE.UM)(o)?r?WM(e,n,r).ticks:a:YM(t,(0,nE.YM)(a),(0,nE.Z$)(a))})),CM("cat",yO),CM("category",yO),CM("identity",OM),CM("linear",sM),CM("log",hM),CM("pow",vM),CM("time",mM),CM("timeCat",iM),CM("quantize",xM),CM("quantile",wM);var JM={},QM=function(t){return JM[t.toLowerCase()]},t_=function(t,e){if(QM(t))throw new Error("Attribute type '"+t+"' existed.");JM[t.toLowerCase()]=e};t_("Color",aO),t_("Opacity",uO),t_("Position",lO),t_("Shape",fO),t_("Size",dO);var e_=n(907);function n_(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}!function(){var t=function(){var t=new e_.WT(3);return e_.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();var r_=n(5742),i_=n(6403),o_=function(){function t(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,r=t.matrix,i=void 0===r?[1,0,0,0,1,0,0,0,1]:r,o=t.isTransposed,a=void 0!==o&&o;this.start=e,this.end=n,this.matrix=i,this.originalMatrix=(0,eE.ev)([],i),this.isTransposed=a}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(t){(0,nE.f0)(this,t),this.initial()},t.prototype.convertDim=function(t,e){var n,r=this[e],i=r.start,o=r.end;return this.isReflect(e)&&(i=(n=[o,i])[0],o=n[1]),i+t*(o-i)},t.prototype.invertDim=function(t,e){var n,r=this[e],i=r.start,o=r.end;return this.isReflect(e)&&(i=(n=[o,i])[0],o=n[1]),(t-i)/(o-i)},t.prototype.applyMatrix=function(t,e,n){void 0===n&&(n=0);var r=[t,e,n];return n_(r,r,this.matrix),r},t.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var r=this.matrix,i=r_.U_([0,0,0,0,0,0,0,0,0],r),o=[t,e,n];return i&&n_(o,o,i),o},t.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,r=e.y,i=this.applyMatrix(n,r,1);return{x:i[0],y:i[1]}},t.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},t.prototype.rotate=function(t){var e=this.matrix,n=this.center;return i_.m$(e,e,[-n.x,-n.y]),i_.zu(e,e,t),i_.m$(e,e,[n.x,n.y]),this},t.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(t,e){var n=this.matrix,r=this.center;return i_.m$(n,n,[-r.x,-r.y]),i_.lh(n,n,[t,e]),i_.m$(n,n,[r.x,r.y]),this},t.prototype.translate=function(t,e){var n=this.matrix;return i_.m$(n,n,[t,e]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRadius=function(){return this.radius},t.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(t){this.matrix=t||(0,eE.ev)([],this.originalMatrix)},t}(),a_=o_,u_=function(t){function e(e){var n=t.call(this,e)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return(0,eE.ZT)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=this.start,n=this.end;this.x={start:e.x,end:n.x},this.y={start:e.y,end:n.y}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(r,"y")}},e.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),r=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:n,y:r}},e}(a_),s_=u_,l_=n(9874),c_=function(t){function e(e){var n=t.call(this,e)||this;n.isHelix=!0,n.type="helix";var r=e.startAngle,i=void 0===r?1.25*Math.PI:r,o=e.endAngle,a=void 0===o?7.25*Math.PI:o,u=e.innerRadius,s=void 0===u?0:u,l=e.radius;return n.startAngle=i,n.endAngle=a,n.innerRadius=s,n.radius=l,n.initial(),n}return(0,eE.ZT)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/e),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;this.isTransposed&&(n=(e=[r,n])[0],r=e[1]);var i=this.convertDim(n,"x"),o=this.a*i,a=this.convertDim(r,"y");return{x:this.center.x+Math.cos(i)*(o+a),y:this.center.y+Math.sin(i)*(o+a)}},e.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,r=l_.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),i=i_.Dg(r,[1,0],!0),o=i*this.a;l_.kE(r)<o&&(o=l_.kE(r)),i=2*Math.floor((l_.kE(r)-o)/n)*Math.PI+i;var a=this.a*i,u=l_.kE(r)-a;u=(0,nE.vQ)(u,0)?0:u;var s=this.invertDim(i,"x"),l=this.invertDim(u,"y");return s=(0,nE.vQ)(s,0)?0:s,l=(0,nE.vQ)(l,0)?0:l,this.isTransposed&&(s=(e=[l,s])[0],l=e[1]),{x:s,y:l}},e}(a_),f_=c_,d_=function(t){function e(e){var n=t.call(this,e)||this;n.isPolar=!0,n.type="polar";var r=e.startAngle,i=void 0===r?-Math.PI/2:r,o=e.endAngle,a=void 0===o?3*Math.PI/2:o,u=e.innerRadius,s=void 0===u?0:u,l=e.radius;return n.startAngle=i,n.endAngle=a,n.innerRadius=s,n.radius=l,n.initial(),n}return(0,eE.ZT)(e,t),e.prototype.initial=function(){for(t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var e,n=this.getOneBox(),r=n.maxX-n.minX,i=n.maxY-n.minY,o=Math.abs(n.minX)/r,a=Math.abs(n.minY)/i;this.height/i>this.width/r?(e=this.width/r,this.circleCenter={x:this.center.x-(.5-o)*this.width,y:this.center.y-(.5-a)*e*i}):(e=this.height/i,this.circleCenter={x:this.center.x-(.5-o)*e*r,y:this.center.y-(.5-a)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=e*this.radius:(this.radius<=0||this.radius>e)&&(this.polarRadius=e):this.polarRadius=e,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var e,n=this.getCenter(),r=t.x,i=t.y;return this.isTransposed&&(r=(e=[i,r])[0],i=e[1]),r=this.convertDim(r,"x"),i=this.convertDim(i,"y"),{x:n.x+Math.cos(r)*i,y:n.y+Math.sin(r)*i}},e.prototype.invertPoint=function(t){var e,n=this.getCenter(),r=[t.x-n.x,t.y-n.y],i=this.startAngle,o=this.endAngle;this.isReflect("x")&&(i=(e=[o,i])[0],o=e[1]);var a=[1,0,0,0,1,0,0,0,1];i_.zu(a,a,i);var u=[1,0,0];n_(u,u,a);var s=[u[0],u[1]],l=i_.Dg(s,r,o<i);(0,nE.vQ)(l,2*Math.PI)&&(l=0);var c=l_.kE(r),f=l/(o-i);f=o-i>0?f:-f;var d=this.invertDim(c,"y"),h={x:0,y:0};return h.x=this.isTransposed?d:f,h.y=this.isTransposed?f:d,h},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}},e}(a_),h_=d_,p_={},v_=function(t,e){p_[t.toLowerCase()]=e};function g_(t,e,n){var r=new EE.Event(e,n);r.target=t,r.propagationPath.push(t),t.emitDelegation(e,r);for(var i=t.getParent();i;)i.emitDelegation(e,r),r.propagationPath.push(i),i=i.getParent()}v_("rect",s_),v_("cartesian",s_),v_("polar",h_),v_("helix",f_);var m_=[1,0,0,0,1,0,0,0,1];function y_(t,e,n){return void 0===n&&(n=m_),e?i_.vs(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function x_(t,e){return t.x||t.y?i_.vs(e||m_,[["t",t.x,t.y]]):null}function b_(t,e){var n=[0,0];return l_.kK(n,e,t),n}function w_(t,e,n,r){if(e){var i=y_({x:n,y:r},e,t.getMatrix());t.setMatrix(i)}}function S_(t,e,n){var r=x_({x:e,y:n});t.attr("matrix",r)}function k_(t){var e=0,n=0,r=0,i=0;return(0,nE.hj)(t)?e=n=r=i=t:(0,nE.kJ)(t)&&(e=t[0],r=(0,nE.UM)(t[1])?t[0]:t[1],i=(0,nE.UM)(t[2])?t[0]:t[2],n=(0,nE.UM)(t[3])?r:t[3]),[e,r,i,n]}function C_(t){for(var e=t.childNodes,n=e.length-1;n>=0;n--)t.removeChild(e[n])}function E_(t){var e=t.start,n=t.end,r=Math.min(e.x,n.x),i=Math.min(e.y,n.y),o=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}}function O_(t,e,n,r){var i=t+n,o=e+r;return{x:t,y:e,width:n,height:r,minX:t,minY:e,maxX:isNaN(i)?0:i,maxY:isNaN(o)?0:o}}function M_(t,e,n){return(1-n)*t+e*n}function __(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}var A_=function(t,e,n){return void 0===n&&(n=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<n};function T_(t){var e,n=t.getClip(),r=n&&n.getBBox();if(t.isGroup()){var i=1/0,o=-1/0,a=1/0,u=-1/0,s=t.getChildren();s.length>0?(0,nE.S6)(s,(function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=T_(t),n=t.applyToMatrix([e.minX,e.minY,1]),r=t.applyToMatrix([e.minX,e.maxY,1]),s=t.applyToMatrix([e.maxX,e.minY,1]),l=t.applyToMatrix([e.maxX,e.maxY,1]),c=Math.min(n[0],r[0],s[0],l[0]),f=Math.max(n[0],r[0],s[0],l[0]),d=Math.min(n[1],r[1],s[1],l[1]),h=Math.max(n[1],r[1],s[1],l[1]);c<i&&(i=c),f>o&&(o=f),d<a&&(a=d),h>u&&(u=h)}})):(i=0,o=0,a=0,u=0),e=O_(i,a,o-i,u-a)}else e=t.getBBox();return r?function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY);return O_(n,r,Math.min(t.maxX,e.maxX)-n,Math.min(t.maxY,e.maxY)-r)}(e,r):e}function P_(t){return t+"px"}function D_(t,e,n,r){var i=r/function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}(t,e),o=0;return"start"===n?o=0-i:"end"===n&&(o=1+i),{x:M_(t.x,e.x,o),y:M_(t.y,e.y,o)}}var F_={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},N_=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg")||{};(0,nE.S6)(t,(function(t,r){var i=t;e.get(r)!==t&&((0,nE.Kn)(t)&&n[r]&&(i=(0,nE.b$)({},n[r],t)),e.set(r,i))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){(0,nE.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,nE.wH)(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=(0,eE.pi)({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),r=F_[n];return(0,nE.S6)(r,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");(0,nE.S6)(e,(function(e,n){var r=t.get(n);if((0,nE.Kn)(r)){var i=(0,nE.b$)({},e,r);t.set(n,i)}}))},e}(EE.Base),I_=N_,L_="update_status",R_=["visible","tip","delegateObject"],j_=["container","group","shapesMap","isRegister","isUpdating","destroyed"],B_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get("group").remove()},e.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return(0,nE.S6)(this.get("shapesMap"),(function(n){n.get("name")===t&&e.push(n)})),e},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},e.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=function(t,e){var n=b_(t,[e.minX,e.minY]),r=b_(t,[e.maxX,e.minY]),i=b_(t,[e.minX,e.maxY]),o=b_(t,[e.maxX,e.maxY]),a=Math.min(n[0],r[0],i[0],o[0]),u=Math.max(n[0],r[0],i[0],o[0]),s=Math.min(n[1],r[1],i[1],o[1]),l=Math.max(n[1],r[1],i[1],o[1]);return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:l,width:u-a,height:l-s}}(n,e)),e},e.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},e.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},e.prototype.emit=function(t,e){this.get("group").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),g_(n,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",T_(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,e){var n=e.id,r=e.component,i=(0,eE._T)(e,["id","component"]),o=new r((0,eE.pi)((0,eE.pi)({},i),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return o.init(),o.render(),this.get("isRegister")&&this.registerElement(o.get("group")),o},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get("group").off()},e.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},e.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},e.prototype.moveElementTo=function(t,e){var n=x_(e);t.attr("matrix",n)},e.prototype.addAnimation=function(t,e,n){var r=e.attr("opacity");(0,nE.UM)(r)&&(r=1),e.attr("opacity",0),e.animate({opacity:r},n)},e.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,e,n,r){e.animate(n,r)},e.prototype.updateElements=function(t,e){var n,r=this,i=this.get("animate"),o=this.get("animateOption"),a=t.getChildren().slice(0);(0,nE.S6)(a,(function(t){var a=t.get("id"),u=r.getElementById(a),s=t.get("name");if(u)if(t.get("isComponent")){var l=t.get("component"),c=u.get("component"),f=(0,nE.ei)(l.cfg,(0,nE.e5)((0,nE.XP)(l.cfg),j_));c.update(f),u.set(L_,"update")}else{var d=r.getReplaceAttrs(u,t);i&&o.update?r.updateAnimation(s,u,d,o.update):u.attr(d),t.isGroup()&&r.updateElements(t,u),(0,nE.S6)(R_,(function(e){u.set(e,t.get(e))})),function(t,e){if(t.getClip()||e.getClip()){var n=e.getClip();if(n){var r={type:n.get("type"),attrs:n.attr()};t.setClip(r)}else t.setClip(null)}}(u,t),n=u,u.set(L_,"update")}else{e.add(t);var h=e.getChildren();if(h.splice(h.length-1,1),n){var p=h.indexOf(n);h.splice(p+1,0,t)}else h.unshift(t);if(r.registerElement(t),t.set(L_,"add"),t.get("isComponent"))(l=t.get("component")).set("container",e);else t.isGroup()&&r.registerNewGroup(t);if(n=t,i){var v=r.get("isInit")?o.appear:o.enter;v&&r.addAnimation(s,t,v)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();(0,nE.S6)(e,(function(t){t.set(L_,null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),(0,nE.CD)(e.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),r=e.attr();return(0,nE.S6)(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r},e.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();(0,nE.S6)(n,(function(t){e.registerElement(t),t.set(L_,"add"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];(0,nE.S6)(e,(function(t,e){!t.get(L_)||t.destroyed?n.push([e,t]):t.set(L_,null)}));var r=this.get("animate"),i=this.get("animateOption");(0,nE.S6)(n,(function(n){var o=n[0],a=n[1];if(!a.destroyed){var u=a.get("name");if(r&&i.leave){var s=(0,nE.CD)({callback:function(){t.removeElement(a)}},i.leave);t.removeAnimation(u,a,s)}else t.removeElement(a)}delete e[o]}))},e.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},e}(I_),z_=B_;function U_(t,e){return t.charCodeAt(e)>0&&t.charCodeAt(e)<128?1:2}function H_(t){if(t.length>400)return function(t){for(var e=t.map((function(t){var e=t.attr("text");return(0,nE.UM)(e)?"":""+e})),n=0,r=0,i=0;i<e.length;i+=1){for(var o=0,a=0;a<=e[i].length;a+=1){var u=e[i].charCodeAt(a);o+=u>=19968&&u<=40869?2:1}o>n&&(n=o,r=i)}return t[r].getBBox().width}(t);var e=0;return(0,nE.S6)(t,(function(t){var n=t.getBBox().width;e<n&&(e=n)})),e}function V_(t,e,n,r){var i;void 0===r&&(r="tail");var o=null!==(i=e.attr("text"))&&void 0!==i?i:"";if("tail"===r){var a=(0,nE.ei)(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),u=(0,nE.Lo)(o,n,a,"\u2026");return o!==u?(e.attr("text",u),e.set("tip",o),!0):(e.set("tip",null),!1)}var s=function(t,e){var n=e.getCanvasBBox();return t?n.width:n.height}(t,e),l=function(t){for(var e=0,n=0;n<t.length;n++)e+=U_(t,n);return e}(o),c=!1;if(n<s){var f=Math.floor(n/s*l)-2,d=void 0;d=f>=0?function(t,e,n){void 0===n&&(n="tail");var r=t.length,i="";if("tail"===n){for(var o=0,a=0;o<e&&o+U_(t,a)<=e;)i+=t[a],o+=U_(t,a),a++;i+="\u2026"}else if("head"===n){for(o=0,a=r-1;o<e&&o+U_(t,a)<=e;)i+=t[a],o+=U_(t,a),a--;i="\u2026"+i}else{for(var u="",s="",l=(o=0,0),c=r-1;o<e;){var f=U_(t,l),d=!1;f+o<=e&&(u+=t[l],l++,o+=f,d=!0);var h=U_(t,c);if(h+o<=e&&(s=t[c]+s,o+=h,c--,d=!0),!d)break}i=u+"\u2026"+s}return i}(o,f,r):"\u2026",d&&(e.attr("text",d),c=!0)}return c?e.set("tip",o):e.set("tip",null),c}function W_(t,e){var n=e.x,r=e.y,i=e.content,o=e.style,a=e.id,u=e.name,s=e.rotate,l=e.maxLength,c=e.autoEllipsis,f=e.isVertical,d=e.ellipsisPosition,h=e.background,p=t.addGroup({id:a+"-group",name:u+"-group",attrs:{x:n,y:r}}),v=p.addShape({type:"text",id:a,name:u,attrs:(0,eE.pi)({x:0,y:0,text:i},o)}),g=k_((0,nE.U2)(h,"padding",0));l&&c&&V_(!f,v,l-(g[1]+g[3]),d);if(h){var m=(0,nE.U2)(h,"style",{}),y=v.getCanvasBBox(),x=y.minX,b=y.minY,w=y.width,S=y.height;p.addShape("rect",{id:a+"-bg",name:a+"-bg",attrs:(0,eE.pi)({x:x-g[3],y:b-g[0],width:w+g[1]+g[3],height:S+g[0]+g[2]},m)}).toBack()}S_(p,n,r),w_(p,s,n,r)}var Y_={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},q_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Y_.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Y_.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Y_.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,eE.pi)({x1:e.x,y1:e.y,x2:n.x,y2:n.y},r)})},e.prototype.getLabelPoint=function(t,e,n){var r;return((r="start"===n?0:"center"===n?.5:(0,nE.HD)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:(0,nE.hj)(n)?n:1)>1||r<0)&&(r=1),{x:M_(t.x,e.x,r),y:M_(t.y,e.y,r)}},e.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),r=this.get("end"),i=e.position,o=e.content,a=e.style,u=e.offsetX,s=e.offsetY,l=e.autoRotate,c=e.maxLength,f=e.autoEllipsis,d=e.ellipsisPosition,h=e.background,p=e.isVertical,v=void 0!==p&&p,g=this.getLabelPoint(n,r,i),m=g.x+u,y=g.y+s,x={id:this.getElementId("line-text"),name:"annotation-line-text",x:m,y:y,content:o,style:a,maxLength:c,autoEllipsis:f,ellipsisPosition:d,background:h,isVertical:v};if(l){var b=[r.x-n.x,r.y-n.y];x.rotate=Math.atan2(b[1],b[0])}W_(t,x)},e}(z_),G_=q_,$_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Y_.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Y_.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,r=e.y,i=this.get("content"),o=this.get("style");W_(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:r,content:i,style:o,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,r=e.y,i=this.get("rotate");S_(t,n,r),w_(t,i,n,r)}},e}(z_),X_=$_,K_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,i=t.endAngle,o=__(e,n,r),a=__(e,n,i),u=i-r>Math.PI?1:0,s=[["M",o.x,o.y]];if(i-r===2*Math.PI){var l=__(e,n,r+Math.PI);s.push(["A",n,n,0,u,1,l.x,l.y]),s.push(["A",n,n,0,u,1,a.x,a.y])}else s.push(["A",n,n,0,u,1,a.x,a.y]);return s},e.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,eE.pi)({path:e},n)})},e}(z_),Z_=K_,J_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Y_.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style"),i=E_({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,eE.pi)({x:i.x,y:i.y,width:i.width,height:i.height},r)})},e}(z_),Q_=J_,tA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),r=E_({start:t,end:e}),i=this.get("src");return(0,eE.pi)({x:r.x,y:r.y,img:i,width:r.width,height:r.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(z_),eA=tA,nA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Y_.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Y_.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Y_.fontFamily}}}})},e.prototype.renderInner=function(t){(0,nE.U2)(this.get("line"),"display")&&this.renderLine(t),(0,nE.U2)(this.get("text"),"display")&&this.renderText(t),(0,nE.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},e.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,r=e.y,i=e.text,o=(0,eE._T)(e,["x","y","text"]),a=this.get("text"),u=a.background,s=a.maxLength,l=a.autoEllipsis,c=a.isVertival,f=a.ellipsisPosition;W_(t,{x:n,y:r,id:this.getElementId("text"),name:"annotation-text",content:i,style:o,background:u,maxLength:s,autoEllipsis:l,isVertival:c,ellipsisPosition:f})},e.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),r=this.get("y"),i=(0,nE.U2)(this.get("line"),"length",0),o=this.get("coordinateBBox"),a=t.getBBox(),u=a.minX,s=a.maxX,l=a.minY,c=a.maxY,f=t.findById(this.getElementId("text-group")),d=t.findById(this.getElementId("text")),h=t.findById(this.getElementId("line"));if(o){if(f){if(n+u<=o.minX){var p=o.minX-(n+u);S_(f,f.attr("x")+p,f.attr("y"))}if(n+s>=o.maxX){p=n+s-o.maxX;S_(f,f.attr("x")-p,f.attr("y"))}}if("upward"===e&&r+l<=o.minY||"upward"!==e&&r+c>=o.maxY){var v=void 0,g=void 0;"upward"===e&&r+l<=o.minY?(v="top",g=1):(v="bottom",g=-1),d.attr("textBaseline",v),h&&h.attr("path",[["M",0,0],["L",0,i*g]]),S_(f,f.attr("x"),(i+2)*g)}}},e.prototype.getShapeAttrs=function(){var t=(0,nE.U2)(this.get("line"),"display"),e=(0,nE.U2)(this.get("point"),"style",{}),n=(0,nE.U2)(this.get("line"),"style",{}),r=(0,nE.U2)(this.get("text"),"style",{}),i=this.get("direction"),o=t?(0,nE.U2)(this.get("line"),"length",0):0,a="upward"===i?-1:1;return{point:(0,eE.pi)({x:0,y:0},e),line:(0,eE.pi)({path:[["M",0,0],["L",0,o*a]]},n),text:(0,eE.pi)({x:0,y:(o+2)*a,text:(0,nE.U2)(this.get("text"),"content",""),textBaseline:"upward"===i?"bottom":"top"},r)}},e}(z_),rA=nA,iA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Y_.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Y_.textColor,fontFamily:Y_.fontFamily}}}})},e.prototype.renderInner=function(t){var e=(0,nE.U2)(this.get("region"),"style",{}),n=((0,nE.U2)(this.get("text"),"style",{}),this.get("lineLength")||0),r=this.get("points");if(r.length){var i=function(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}}(r),o=[];o.push(["M",r[0].x,i.minY-n]),r.forEach((function(t){o.push(["L",t.x,t.y])})),o.push(["L",r[r.length-1].x,r[r.length-1].y-n]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,eE.pi)({path:o},e)}),W_(t,(0,eE.pi)({id:this.getElementId("text"),name:"annotation-text",x:(i.minX+i.maxX)/2,y:i.minY-n},this.get("text")))}},e}(z_),oA=iA,aA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,n=this.get("start"),r=this.get("end"),i=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,nE.S6)(this.get("shapes"),(function(t,n){var r=t.get("type"),o=(0,nE.d9)(t.attr());e.adjustShapeAttrs(o),e.addShape(i,{id:e.getElementId("shape-"+r+"-"+n),capture:!1,type:r,attrs:o})}));var o=E_({start:n,end:r});i.setClip({type:"rect",attrs:{x:o.minX,y:o.minY,width:o.width,height:o.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},e}(z_),uA=aA,sA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"shape",draw:nE.ZT})},e.prototype.renderInner=function(t){var e=this.get("render");(0,nE.mf)(e)&&e(t)},e}(z_),lA=sA;function cA(t,e,n){var r;try{r=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(v1t){}finally{r=void 0===r?n:r}return r}function fA(t,e){var n=function(t,e){var n=cA(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}(t,e),r=parseFloat(cA(t,"borderLeftWidth"))||0,i=parseFloat(cA(t,"paddingLeft"))||0,o=parseFloat(cA(t,"paddingRight"))||0,a=parseFloat(cA(t,"borderRightWidth"))||0,u=parseFloat(cA(t,"marginRight"))||0;return n+r+a+i+o+(parseFloat(cA(t,"marginLeft"))||0)+u}function dA(t,e){var n=function(t,e){var n=cA(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}(t,e),r=parseFloat(cA(t,"borderTopWidth"))||0,i=parseFloat(cA(t,"paddingTop"))||0,o=parseFloat(cA(t,"paddingBottom"))||0;return n+r+(parseFloat(cA(t,"borderBottomWidth"))||0)+i+o+(parseFloat(cA(t,"marginTop"))||0)+(parseFloat(cA(t,"marginBottom"))||0)}var hA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer();return O_(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){C_(this.get("container"))},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if((0,nE.UM)(t)){t=this.createDom();var e=this.get("parent");(0,nE.HD)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,nE.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?(0,nE.b$)({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n,r=this.get("containerClassName");if(r&&(n=r,e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))))xE(e,t[r])}},e.prototype.applyChildrenStyles=function(t,e){(0,nE.S6)(e,(function(e,n){var r=t.getElementsByClassName(n);(0,nE.S6)(r,(function(t){xE(t,e)}))}))},e.prototype.applyStyle=function(t,e){xE(e,this.get("domStyles")[t])},e.prototype.createDom=function(){return yE(this.get("containerTpl"))},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){(0,nE.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(I_),pA=hA,vA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),e=this.get("html");C_(t);var n=(0,nE.mf)(e)?e(t):e;if((0,nE.kK)(n))t.appendChild(n);else if((0,nE.HD)(n)||(0,nE.hj)(n)){var r=yE(""+n);r&&t.appendChild(r)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,r=e.y,i=this.get("alignX"),o=this.get("alignY"),a=this.get("offsetX"),u=this.get("offsetY"),s=fA(t),l=dA(t),c={x:n,y:r};"middle"===i?c.x-=Math.round(s/2):"right"===i&&(c.x-=Math.round(s)),"middle"===o?c.y-=Math.round(l/2):"bottom"===o&&(c.y-=Math.round(l)),a&&(c.x+=a),u&&(c.y+=u),xE(t,{position:"absolute",left:c.x+"px",top:c.y+"px",zIndex:this.get("zIndex")})},e}(pA),gA=vA;function mA(t,e,n){var r=e+"Style",i=null;return(0,nE.S6)(n,(function(e,n){t[n]&&e[r]&&(i||(i={}),(0,nE.CD)(i,e[r]))})),i}var yA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Y_.lineColor}},tickLine:{style:{lineWidth:1,stroke:Y_.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Y_.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Y_.textColor,fontFamily:Y_.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Y_.textColor,textBaseline:"middle",fontFamily:Y_.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Y_.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){(0,nE.CD)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("tickStates"),n=[];return(0,nE.S6)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,nE.S6)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,nE.hX)(n,(function(n){return e.hasState(n,t)}))},e.prototype.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},e.prototype.getTextAnchor=function(t){var e;return(0,nE.vQ)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},e.prototype.getTextBaseline=function(t){var e;return(0,nE.vQ)(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,nE.CD)({path:e},n.style)})},e.prototype.getTickLineItems=function(t){var e=this,n=[],r=this.get("tickLine"),i=r.alignTick,o=r.length,a=1;return t.length>=2&&(a=t[1].value-t[0].value),(0,nE.S6)(t,(function(t){var r=t.point;i||(r=e.getTickPoint(t.value-a/2));var u=e.getSidePoint(r,o);n.push({startPoint:r,tickValue:t.value,endPoint:u,tickId:t.id,id:"tickline-"+t.id})})),n},e.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),r=n.count,i=t.length;if(i>=2)for(var o=0;o<i-1;o++)for(var a=t[o],u=t[o+1],s=0;s<r;s++){var l=(s+1)/(r+1),c=(1-l)*a.tickValue+l*u.tickValue,f=this.getTickPoint(c),d=this.getSidePoint(f,n.length);e.push({startPoint:f,endPoint:d,tickValue:c,id:"sub-"+a.id+"-"+s})}return e},e.prototype.getTickLineAttrs=function(t,e,n,r){var i=this.get(e).style,o={points:[t.startPoint,t.endPoint]},a=(0,nE.U2)(this.get("theme"),["tickLine","style"],{});i=(0,nE.mf)(i)?(0,nE.CD)({},a,i(o,n,r)):i;var u=t.startPoint,s=t.endPoint;return(0,eE.pi)({x1:u.x,y1:u.y,x2:s.x,y2:s.y},i)},e.prototype.drawTick=function(t,e,n,r,i){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,r,i)})},e.prototype.drawTickLines=function(t){var e=this,n=this.get("ticks"),r=this.get("subTickLine"),i=this.getTickLineItems(n),o=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),a=this.get("tickLine");if((0,nE.S6)(i,(function(n,r){if(a.displayWithLabel){var u=e.getElementId("label-"+n.tickId);t.findById(u)&&e.drawTick(n,o,"tickLine",r,i)}else e.drawTick(n,o,"tickLine",r,i)})),r){var u=this.getSubTickLineItems(i);(0,nE.S6)(u,(function(t,n){e.drawTick(t,o,"subTickLine",n,u)}))}},e.prototype.processTicks=function(){var t=this,e=this.get("ticks");(0,nE.S6)(e,(function(e){e.point=t.getTickPoint(e.value),(0,nE.UM)(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");(0,nE.S6)(n,(function(n){e.applyTickStates(n,t)}))},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=(0,nE.dp)(e);if(n>t.threshold){var r=Math.ceil(n/t.threshold),i=e.filter((function(t,e){return e%r===0}));this.set("ticks",i),this.set("originalTicks",e)}}},e.prototype.getLabelAttrs=function(t,e,n){var r=this.get("label"),i=r.offset,o=r.offsetX,a=r.offsetY,u=r.rotate,s=r.formatter,l=this.getSidePoint(t.point,i),c=this.getSideVector(i,l),f=s?s(t.name,t,e):t.name,d=r.style;d=(0,nE.mf)(d)?(0,nE.U2)(this.get("theme"),["label","style"],{}):d;var h=(0,nE.CD)({x:l.x+o,y:l.y+a,text:f,textAlign:this.getTextAnchor(c),textBaseline:this.getTextBaseline(c)},d);return u&&(h.matrix=y_(l,u)),h},e.prototype.drawLabels=function(t){var e=this,n=this.get("ticks"),r=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,nE.S6)(n,(function(t,i){e.addShape(r,{type:"text",name:"axis-label",id:e.getElementId("label-"+t.id),attrs:e.getLabelAttrs(t,i,n),delegateObject:{tick:t,item:t,index:i}})})),this.processOverlap(r);var i=r.getChildren(),o=(0,nE.U2)(this.get("theme"),["label","style"],{}),a=this.get("label"),u=a.style,s=a.formatter;if((0,nE.mf)(u)){var l=i.map((function(t){return(0,nE.U2)(t.get("delegateObject"),"tick")}));(0,nE.S6)(i,(function(t,e){var n=t.get("delegateObject").tick,r=s?s(n.name,n,e):n.name,i=(0,nE.CD)({},o,u(r,e,l));t.attr(i)}))}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,r=t.offset,i=t.spacing,o=void 0===i?0:i,a=t.autoRotate,u=e.fontSize,s=.5;"start"===n?s=0:"end"===n&&(s=1);var l=this.getTickPoint(s),c=this.getSidePoint(l,r||o+u/2),f=(0,nE.CD)({x:c.x,y:c.y,text:t.text},e),d=t.rotate,h=d;if((0,nE.UM)(d)&&a){var p=this.getAxisVector(l);h=i_.Dg(p,[1,0],!0)}if(h){var v=y_(c,h);f.matrix=v}return f},e.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},e.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var n=this.get("tickStates"),r=this.getElementId("label-"+t.id),i=e.findById(r);if(i){var o=mA(t,"label",n);o&&i.attr(o)}var a=this.getElementId("tickline-"+t.id),u=e.findById(a);if(u){var s=mA(t,"tickLine",n);s&&u.attr(s)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),r=this.get("label"),i=this.getElementByLocalId("label-"+t.id),o=this.get("tickLine"),a=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(i){var u=mA(t,"label",n);u&&i.attr(u)}if(a){var s=mA(t,"tickLine",n);s&&a.attr(s)}}else i&&i.attr(r.style),a&&a.attr(o.style)},e}(z_),xA=yA;function bA(t,e,n,r){var i=e.getChildren(),o=!1;return(0,nE.S6)(i,(function(e){var i=V_(t,e,n,r);o=o||i})),o}function wA(){return kA}function SA(t,e,n){return bA(t,e,n,"head")}function kA(t,e,n){return bA(t,e,n,"tail")}function CA(t,e,n){return bA(t,e,n,"middle")}function EA(t){var e=function(t){var e=t.attr("matrix");return e&&1!==e[0]}(t)?function(t){var e=[0,0,0];return n_(e,[1,0,0],t),Math.atan2(e[1],e[0])}(t.attr("matrix")):0;return e%360}function OA(t,e,n,r){var i=!1,o=EA(e),a=t?Math.abs(n.attr("y")-e.attr("y")):Math.abs(n.attr("x")-e.attr("x")),u=(t?n.attr("y")>e.attr("y"):n.attr("x")>e.attr("x"))?e.getBBox():n.getBBox();if(t){var s=Math.abs(Math.cos(o));i=A_(s,0,Math.PI/180)?u.width+r>a:u.height/s+r>a}else{s=Math.abs(Math.sin(o));i=A_(s,0,Math.PI/180)?u.width+r>a:u.height/s+r>a}return i}function MA(t,e,n,r){var i=(null===r||void 0===r?void 0:r.minGap)||0,o=e.getChildren().slice().filter((function(t){return t.get("visible")}));if(!o.length)return!1;var a=!1;n&&o.reverse();for(var u=o.length,s=o[0],l=1;l<u;l++){var c=o[l];c.getBBox();OA(t,s,c,i)?(c.hide(),a=!0):s=c}return a}function _A(t,e,n){var r=(null===n||void 0===n?void 0:n.minGap)||0,i=e.getChildren().slice();if(i.length<2)return!1;var o=!1,a=i[0],u=a.getBBox(),s=i[1],l=i.length,c=EA(a),f=t?Math.abs(s.attr("y")-a.attr("y")):Math.abs(s.attr("x")-a.attr("x")),d=0;if(t){var h=Math.abs(Math.cos(c));if(A_(h,0,Math.PI/180))d=(H_(i)+r)/f;else d=(u.height/h+r)/f}else{h=Math.abs(Math.sin(c));if(A_(h,0,Math.PI/180))d=(H_(i)+r)/f;else d=(u.height/h+r)/f}if(d>1){d=Math.ceil(d);for(var p=0;p<l;p++)p%d!==0&&(i[p].hide(),o=!0)}return o}function AA(){return FA}function TA(t,e,n,r){return MA(t,e,!1,r)}function PA(t,e,n,r){return MA(t,e,!0,r)}function DA(t,e,n,r){var i=(null===r||void 0===r?void 0:r.minGap)||0,o=e.getChildren().slice();if(o.length<=2)return!1;for(var a=!1,u=o.length,s=o[0],l=o[u-1],c=s,f=1;f<u-1;f++){var d=o[f];d.getBBox();OA(t,c,d,i)?(d.hide(),a=!0):c=d}return OA(t,c,l,i)&&(c.hide(),a=!0),a}function FA(t,e,n,r){var i=_A(t,e,r);return MA(t,e,!1)&&(i=!0),i}function NA(t,e,n,r){var i=e.getChildren().slice(),o=_A(t,e,r);if(i.length>2){var a=i[0],u=i[i.length-1];a.get("visible")||(a.show(),MA(t,e,!1,r)&&(o=!0)),u.get("visible")||(u.show(),MA(t,e,!0,r)&&(o=!0))}return o}function IA(t,e,n,r){var i=e.getChildren();if(!i.length)return!1;if(!t&&i.length<2)return!1;var o=H_(i),a=!1;t?a=!!n&&o>n:a=o>Math.abs(i[1].attr("x")-i[0].attr("x"));a&&function(t,e){(0,nE.S6)(t,(function(t){var n=y_({x:t.attr("x"),y:t.attr("y")},e);t.attr("matrix",n)}))}(i,r(n,o));return a}function LA(){return RA}function RA(t,e,n,r){return IA(t,e,n,(function(){return(0,nE.hj)(r)?r:t?Y_.verticalAxisRotate:Y_.horizontalAxisRotate}))}function jA(t,e,n){return IA(t,e,n,(function(e,n){if(!e)return t?Y_.verticalAxisRotate:Y_.horizontalAxisRotate;if(t)return-Math.acos(e/n);var r=0;return(e>n||(r=Math.asin(e/n))>Math.PI/4)&&(r=Math.PI/4),r}))}var BA,zA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},e.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),n=this.get("end"),r=t.prototype.getInnerLayoutBBox.call(this),i=Math.min(e.x,n.x,r.x),o=Math.min(e.y,n.y,r.y),a=Math.max(e.x,n.x,r.maxX),u=Math.max(e.y,n.y,r.maxY);return{x:i,y:o,minX:i,minY:o,maxX:a,maxY:u,width:a-i,height:u-o}},e.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return(0,nE.vQ)(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return(0,nE.vQ)(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,i=n.y-e.y;return{x:e.x+r*t,y:e.y+i*t}},e.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=l_.Fv([0,0],e),r=this.get("verticalFactor"),i=[n[1],-1*n[0]];return l_.bA([0,0],i,t*r)},e.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,n=this.isVertical(),r=this.isHorizontal();if(n||r){var i=this.get("label"),o=this.get("title"),a=this.get("verticalLimitLength"),u=i.offset,s=a,l=0,c=0;o&&(l=o.style.fontSize,c=o.spacing),s&&(s=s-u-c-l);var f=this.get("overlapOrder");if((0,nE.S6)(f,(function(n){i[n]&&e.canProcessOverlap(n)&&e.autoProcessOverlap(n,i[n],t,s)})),o&&(0,nE.UM)(o.offset)){var d=t.getCanvasBBox(),h=n?d.width:d.height;o.offset=u+h+c+l/2}}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,nE.UM)(e.rotate)},e.prototype.autoProcessOverlap=function(t,e,n,r){var i=this,o=this.isVertical(),a=!1,s=u[t];if(!0===e){this.get("label");a=s.getDefault()(o,n,r)}else if((0,nE.mf)(e))a=e(o,n,r);else if((0,nE.Kn)(e)){var l=e;s[l.type]&&(a=s[l.type](o,n,r,l.cfg))}else s[e]&&(a=s[e](o,n,r));if("autoRotate"===t){if(a){var c=n.getChildren(),f=this.get("verticalFactor");(0,nE.S6)(c,(function(t){if("center"===t.attr("textAlign")){var e=f>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var d=n.getChildren().slice(0);(0,nE.S6)(d,(function(t){t.get("visible")||(i.get("isRegister")&&i.unregisterElement(t),t.remove())}))}},e}(xA),UA=zA,HA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,r=this.get("radius"),i=r,o=this.get("startAngle"),a=this.get("endAngle"),u=[];if(Math.abs(a-o)===2*Math.PI)u=[["M",e,n-i],["A",r,i,0,1,1,e,n+i],["A",r,i,0,1,1,e,n-i],["Z"]];else{var s=this.getCirclePoint(o),l=this.getCirclePoint(a),c=Math.abs(a-o)>Math.PI?1:0,f=o>a?0:1;u=[["M",e,n],["L",s.x,s.y],["A",r,i,0,c,f,l.x,l.y],["L",e,n]]}return u},e.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(n)},e.prototype.getSideVector=function(t,e){var n=this.get("center"),r=[e.x-n.x,e.y-n.y],i=this.get("verticalFactor"),o=l_.kE(r);return l_.bA(r,r,i*t/o),r},e.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,nE.UM)(e.rotate)},e.prototype.processOverlap=function(t){var e=this,n=this.get("label"),r=this.get("title"),i=this.get("verticalLimitLength"),o=n.offset,a=i,u=0,s=0;r&&(u=r.style.fontSize,s=r.spacing),a&&(a=a-o-s-u);var l=this.get("overlapOrder");if((0,nE.S6)(l,(function(r){n[r]&&e.canProcessOverlap(r)&&e.autoProcessOverlap(r,n[r],t,a)})),r&&(0,nE.UM)(r.offset)){var c=t.getCanvasBBox().height;r.offset=o+c+s+u/2}},e.prototype.autoProcessOverlap=function(t,e,n,r){var i=this,o=!1,a=u[t];if(r>0)if(!0===e)o=a.getDefault()(!1,n,r);else if((0,nE.mf)(e))o=e(!1,n,r);else if((0,nE.Kn)(e)){var s=e;a[s.type]&&(o=a[s.type](!1,n,r,s.cfg))}else a[e]&&(o=a[e](!1,n,r));if("autoRotate"===t){if(o){var l=n.getChildren(),c=this.get("verticalFactor");(0,nE.S6)(l,(function(t){if("center"===t.attr("textAlign")){var e=c>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var f=n.getChildren().slice(0);(0,nE.S6)(f,(function(t){t.get("visible")||(i.get("isRegister")&&i.unregisterElement(t),t.remove())}))}},e}(xA),VA=HA,WA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Y_.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Y_.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Y_.fontFamily}},textBackground:{padding:5,style:{stroke:Y_.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var e=this.get("text"),n=e.style,r=e.autoRotate,i=e.content;if(!(0,nE.UM)(i)){var o=this.getTextPoint(),a=null;if(r)a=y_(o,this.getRotateAngle());this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,eE.pi)((0,eE.pi)((0,eE.pi)({},o),{text:i,matrix:a}),n)})}},e.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,eE.pi)({path:e},n)})},e.prototype.renderBackground=function(t){var e=this.getElementId("text"),n=t.findById(e),r=this.get("textBackground");if(r&&n){var i=n.getBBox(),o=k_(r.padding),a=r.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,eE.pi)({x:i.x-o[3],y:i.y-o[0],width:i.width+o[1]+o[3],height:i.height+o[0]+o[2],matrix:n.attr("matrix")},a)}).toBack()}},e}(z_),YA=WA,qA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text").position,i=Math.atan2(n.y-e.y,n.x-e.x);return"start"===r?i-Math.PI/2:i+Math.PI/2},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text");return D_(e,n,r.position,r.offset)},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},e}(YA),GA=qA,$A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:n-Math.PI/2},e.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,n=t.offset,r=this.getLocation(),i=r.center,o=r.radius,a=r.startAngle,u=r.endAngle,s="start"===e?a:u,l=this.getRotateAngle()-Math.PI,c=__(i,o,s),f=Math.cos(l)*n,d=Math.sin(l)*n;return{x:c.x+f,y:c.y+d}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,i=t.endAngle,o=null;if(i-r===2*Math.PI){var a=e.x,u=e.y;o=[["M",a,u-n],["A",n,n,0,1,1,a,u+n],["A",n,n,0,1,1,a,u-n],["Z"]]}else{var s=__(e,n,r),l=__(e,n,i),c=Math.abs(i-r)>Math.PI?1:0,f=r>i?0:1;o=[["M",s.x,s.y],["A",n,n,0,c,f,l.x,l.y]]}return o},e}(YA),XA=$A,KA="g2-crosshair",ZA="g2-crosshair-line",JA="g2-crosshair-text",QA=((BA={})["g2-crosshair"]={position:"relative"},BA[""+ZA]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},BA[""+JA]={position:"absolute",color:Y_.textColor,fontFamily:Y_.fontFamily},BA),tT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="g2-crosshair"></div>',crosshairTpl:'<div class="g2-crosshair-line"></div>',textTpl:'<span class="g2-crosshair-text">{content}</span>',domStyles:null,containerClassName:KA,defaultStyles:QA,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),e=yE(this.get("crosshairTpl"));t.appendChild(e),this.applyStyle(ZA,e),this.set("crosshairEl",e)},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text");return D_(e,n,r.position,r.offset)},e.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var n=t.content;if(!e){var r=this.getContainer();e=yE((0,nE.ng)(this.get("textTpl"),t)),r.appendChild(e),this.applyStyle(JA,e),this.set("textEl",e)}e.innerHTML=n}else e&&e.remove()},e.prototype.isVertical=function(t,e){return t.x===e.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),r=Math.min(e.x,n.x),i=Math.min(e.y,n.y);this.isVertical(e,n)?xE(t,{width:"1px",height:P_(Math.abs(n.y-e.y))}):xE(t,{height:"1px",width:P_(Math.abs(n.x-e.x))}),xE(t,{top:P_(i),left:P_(r)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,r=this.getTextPoint();switch(e){case"center":r.x=r.x-n/2;break;case"right":r.x=r.x-n}xE(t,{top:P_(r.y),left:P_(r.x)})}},e.prototype.updateInner=function(e){(0,nE.wH)(e,"text")&&this.resetText(),t.prototype.updateInner.call(this,e)},e}(pA),eT=tT,nT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Y_.lineColor}}}})},e.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),r=e.slice(0).reverse(),i=this.getGridPath(r,!0);return this.get("closed")?n=n.concat(i):(i[0][0]="L",(n=n.concat(i)).push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var e=this,n=this.get("line"),r=this.get("items"),i=this.get("alternateColor"),o=null;(0,nE.S6)(r,(function(a,u){var s=a.id||u;if(n){var l=e.getPathStyle();l=(0,nE.mf)(l)?l(a,u,r):l;var c=e.getElementId("line-"+s),f=e.getGridPath(a.points);e.addShape(t,{type:"path",name:"grid-line",id:c,attrs:(0,nE.CD)({path:f},l)})}if(i&&u>0){var d=e.getElementId("region-"+s),h=u%2===0;if((0,nE.HD)(i))h&&e.drawAlternateRegion(d,t,o.points,a.points,i);else{var p=h?i[1]:i[0];e.drawAlternateRegion(d,t,o.points,a.points,p)}}o=a}))},e.prototype.drawAlternateRegion=function(t,e,n,r,i){var o=this.getAlternatePath(n,r);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:o,fill:i}})},e}(z_),rT=nT;var iT,oT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,e){var n=this.getLineType(),r=this.get("closed"),i=[];if(t.length)if("circle"===n){var o=this.get("center"),a=t[0],u=function(t,e,n,r){var i=n-t,o=r-e;return Math.sqrt(i*i+o*o)}(o.x,o.y,a.x,a.y),s=e?0:1;r?(i.push(["M",o.x,o.y-u]),i.push(["A",u,u,0,0,s,o.x,o.y+u]),i.push(["A",u,u,0,0,s,o.x,o.y-u]),i.push(["Z"])):(0,nE.S6)(t,(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["A",u,u,0,0,s,t.x,t.y])}))}else(0,nE.S6)(t,(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])})),r&&i.push(["Z"]);return i},e}(rT),aT=oT,uT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{type:"line"})},e.prototype.getGridPath=function(t){var e=[];return(0,nE.S6)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e}(rT),sT=uT,lT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),r=this.get("maxHeight"),i=e.width,o=e.height;return n&&(i=Math.min(i,n)),r&&(o=Math.min(o,r)),O_(e.minX,e.minY,i,o)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),r=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+r})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),r=k_(e.padding),i=(0,eE.pi)({x:0,y:0,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:i}).toBack()},e.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),r=n.spacing,i=n.style,o=n.text,a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,eE.pi)({text:o,x:e.x,y:e.y},i)}).getBBox();this.set("currentPoint",{x:e.x,y:a.maxY+r})},e.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var n=k_(t.padding);e.x=n[3],e.y=n[0]}this.set("currentPoint",e)},e}(z_),cT=lT,fT={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},dT={fill:Y_.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Y_.fontFamily,fontWeight:"normal",lineHeight:12},hT="navigation-arrow-right",pT="navigation-arrow-left",vT={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},gT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e.onNavigationAfter=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Y_.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Y_.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:fT,itemName:{spacing:16,style:dT},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:dT,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Y_.uncheckedColor},markerStyle:{fill:Y_.uncheckedColor,stroke:Y_.uncheckedColor}},inactive:{nameStyle:{fill:Y_.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){(0,nE.CD)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n;var r=this.getElementByLocalId("item-"+t.id);if(r){var i=this.getItems().indexOf(t),o=this.createOffScreenGroup(),a=this.drawItem(t,i,this.getItemHeight(),o);this.updateElements(a,r),this.clearUpdateStatus(r)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("itemStates"),n=[];return(0,nE.S6)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,nE.S6)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,nE.hX)(n,(function(n){return e.hasState(n,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");(0,nE.S6)(t,(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),r=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),i=this.getItemHeight(),o=this.get("itemWidth"),a=this.get("itemSpacing"),u=this.get("itemMarginBottom"),s=this.get("currentPoint"),l=s.x,c=s.y,f=this.get("layout"),d=this.get("items"),h=!1,p=0,v=this.get("maxWidth"),g=this.get("maxHeight");(0,nE.S6)(d,(function(t,n){var d=e.drawItem(t,n,i,r),m=d.getBBox(),y=o||m.width;y>p&&(p=y),"horizontal"===f?(v&&v<s.x+y-l&&(h=!0,s.x=l,s.y+=i+u),e.moveElementTo(d,s),s.x+=y+a):(g&&g<s.y+i+u-c&&(h=!0,s.x+=p+a,s.y=c,p=0),e.moveElementTo(d,s),s.y+=i+u)})),h&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=l,this.startY=c,this.adjustNavigation(t,r))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if((0,nE.mf)(e)){var n=this.getItems();n.forEach((function(r,i){var o=(0,eE.pi)((0,eE.pi)({},dT),e(r,i,n)).fontSize;t<o&&(t=o)}))}else e&&(t=e.fontSize)}return t},e.prototype.drawMarker=function(t,e,n,r){var i=(0,eE.pi)((0,eE.pi)((0,eE.pi)({x:0,y:r/2},e.style),{symbol:(0,nE.U2)(n.marker,"symbol","circle")}),(0,nE.U2)(n.marker,"style",{})),o=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:i}),a=o.getBBox();o.attr("x",a.width/2);var u=o.attr(),s=u.stroke,l=u.fill;return s&&o.set("isStroke",!0),l&&o.set("isFill",!0),o},e.prototype.drawItemText=function(t,e,n,r,i,o,a){var u=n.formatter,s=n.style,l=(0,eE.pi)((0,eE.pi)({x:o,y:i/2,text:u?u(r[e],r,a):r[e]},dT),(0,nE.mf)(s)?s(r,a,this.getItems()):s);return this.addShape(t,{type:"text",id:this.getElementId("item-"+r.id+"-"+e),name:"legend-item-"+e,attrs:l})},e.prototype.drawRadio=function(t,e,n,r,i){var o,a=e.style||{},u=null!==(o=a.r)&&void 0!==o?o:r/2,s=3.6*u/8,l=[i+u,r/2-u],c=l[0],f=l[1],d=[c+u,f+u],h=d[0],p=d[1],v=[c,p+u],g=v[0],m=v[1],y=[i,f+u],x=y[0],b=y[1],w=n.showRadio,S=(0,eE.pi)((0,eE.pi)({path:[["M",c,f],["A",u,u,0,0,1,h,p],["L",h-s,p],["L",h,p],["A",u,u,0,0,1,g,m],["L",g,m-s],["L",g,m],["A",u,u,0,0,1,x,b],["L",x+s,b],["L",x,b],["A",u,u,0,0,1,c,f],["L",c,f+s]],stroke:"#000000",fill:"#ffffff"},a),{opacity:w?.45:0}),k=this.addShape(t,{type:"path",id:this.getElementId("item-"+n.id+"-radio"),name:"legend-item-radio",attrs:S});return k.set("tip",e.tip),k},e.prototype.drawItem=function(t,e,n,r){var i="item-"+t.id,o=this.addGroup(r,{name:"legend-item-container",id:this.getElementId("item-container-"+i),delegateObject:{item:t,index:e}}),a=this.addGroup(o,{name:"legend-item",id:this.getElementId(i),delegateObject:{item:t,index:e}}),u=this.get("marker"),s=this.get("itemName"),l=this.get("itemValue"),c=this.get("itemBackground"),f=this.get("radio"),d=this.getLimitItemWidth(),h=0;if(u){var p=this.drawMarker(a,u,t,n),v=u.spacing,g=(0,nE.U2)(t,["marker","spacing"]);(0,nE.hj)(g)&&(v=g),h=p.getBBox().maxX+v}if(s){var m=this.drawItemText(a,"name",s,t,n,h,e);d&&V_(!0,m,(0,nE.uZ)(d-h,0,d)),h=m.getBBox().maxX+s.spacing}if(l){var y=this.drawItemText(a,"value",l,t,n,h,e);d&&(l.alignRight?(y.attr({textAlign:"right",x:d}),V_(!0,y,(0,nE.uZ)(d-h,0,d),"head")):V_(!0,y,(0,nE.uZ)(d-h,0,d))),h=y.getBBox().maxX+l.spacing}if(f&&this.drawRadio(a,f,t,n,h),c){var x=a.getBBox();this.addShape(a,{type:"rect",name:"legend-item-background",id:this.getElementId(i+"-background"),attrs:(0,eE.pi)({x:0,y:0,width:x.width,height:n},c.style)}).toBack()}return this.applyItemStates(t,a),a},e.prototype.adjustNavigation=function(t,e){var n=this,r=this.startX,i=this.startY,o=this.get("layout"),a=e.findAll((function(t){return"legend-item"===t.get("name")})),u=this.get("maxWidth"),s=this.get("maxHeight"),l=this.get("itemWidth"),c=this.get("itemSpacing"),f=this.getItemHeight(),d=(0,nE.b$)({},fT,this.get("pageNavigator")),h=this.drawNavigation(t,o,"00/00",d),p=h.getBBox(),v={x:r,y:i},g=1,m=0,y=0,x=0,b=this.get("itemMarginBottom");if("horizontal"===o){var w=this.get("maxRow")||1,S=f+(1===w?0:b);this.pageHeight=S*w,(0,nE.S6)(a,(function(t){var e=t.getBBox(),i=l||e.width;(m&&m<v.x+i+c||u<v.x+i+c+p.width)&&(1===g&&(m=v.x+c,n.pageWidth=m,n.moveElementTo(h,{x:u-c-p.width-p.minX,y:v.y+f/2-p.height/2-p.minY})),g+=1,v.x=r,v.y+=S),n.moveElementTo(t,v),t.getParent().setClip({type:"rect",attrs:{x:v.x,y:v.y,width:i+c,height:f}}),v.x+=i+c}))}else{(0,nE.S6)(a,(function(t){var e=t.getBBox();e.width>y&&(y=e.width)})),x=y,y+=c,u&&(y=Math.min(u,y),x=Math.min(u,x)),this.pageWidth=y,this.pageHeight=s-Math.max(p.height,f+b);var k=Math.floor(this.pageHeight/(f+b));(0,nE.S6)(a,(function(t,e){0!==e&&e%k===0&&(g+=1,v.x+=y,v.y=i),n.moveElementTo(t,v),t.getParent().setClip({type:"rect",attrs:{x:v.x,y:v.y,width:y,height:f}}),v.y+=f+b})),this.totalPagesCnt=g,this.moveElementTo(h,{x:r+x/2-p.width/2-p.minX,y:s-p.height-p.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===o&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(g/this.get("maxRow")):this.totalPagesCnt=g,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(h),e.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,n,r){var i={x:0,y:0},o=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),a=(0,nE.U2)(r.marker,"style",{}),u=a.size,s=void 0===u?12:u,l=(0,eE._T)(a,["size"]),c=this.drawArrow(o,i,pT,"horizontal"===e?"up":"left",s,l);c.on("click",this.onNavigationBack);var f=c.getBBox();i.x+=f.width+2;var d=this.addShape(o,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,eE.pi)({x:i.x,y:i.y+s/2,text:n,textBaseline:"middle"},(0,nE.U2)(r.text,"style"))}).getBBox();return i.x+=d.width+2,this.drawArrow(o,i,hT,"horizontal"===e?"down":"right",s,l).on("click",this.onNavigationAfter),o},e.prototype.updateNavigation=function(t){var e=(0,nE.b$)({},fT,this.get("pageNavigator")).marker.style,n=e.fill,r=e.opacity,i=e.inactiveFill,o=e.inactiveOpacity,a=this.currentPageIndex+"/"+this.totalPagesCnt,u=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),s=t?t.findById(this.getElementId(pT)):this.getElementByLocalId(pT),l=t?t.findById(this.getElementId(hT)):this.getElementByLocalId(hT);u.attr("text",a),s.attr("opacity",1===this.currentPageIndex?o:r),s.attr("fill",1===this.currentPageIndex?i:n),s.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),l.attr("opacity",this.currentPageIndex===this.totalPagesCnt?o:r),l.attr("fill",this.currentPageIndex===this.totalPagesCnt?i:n),l.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var c=s.getBBox().maxX+2;u.attr("x",c),c+=u.getBBox().width+2,this.updateArrowPath(l,{x:c,y:0})},e.prototype.drawArrow=function(t,e,n,r,i,o){var a=e.x,u=e.y,s=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:(0,eE.pi)({size:i,direction:r,path:[["M",a+i/2,u],["L",a,u+i],["L",a+i,u+i],["Z"]],cursor:"pointer"},o)});return s.attr("matrix",y_({x:a+i/2,y:u+i/2},vT[r])),s},e.prototype.updateArrowPath=function(t,e){var n=e.x,r=e.y,i=t.attr(),o=i.size,a=i.direction,u=y_({x:n+o/2,y:r+o/2},vT[a]);t.attr("path",[["M",n+o/2,r],["L",n,r+o],["L",n+o,r+o],["Z"]]),t.attr("matrix",u)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,n=t.pageWidth,r=t.pageHeight;return x_("horizontal"===this.get("layout")?{x:0,y:r*(1-e)}:{x:n*(1-e),y:0})},e.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var n=e.getChildren(),r=this.get("itemStates");(0,nE.S6)(n,(function(e){var n=e.get("name").split("-")[2],i=mA(t,n,r);i&&(e.attr(i),"marker"!==n||e.get("isStroke")&&e.get("isFill")||(e.get("isStroke")&&e.attr("fill",null),e.get("isFill")&&e.attr("stroke",null)))}))}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},e}(cT),mT=gT,yT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Y_.textColor,textBaseline:"middle",fontFamily:Y_.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Y_.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,e){this.update({min:t,max:e})},e.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[1];r<n&&(r=n),e.setValue([n,r])})),t.on("legend-handler-max:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[0];r>n&&(r=n),e.setValue([r,n])}))},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var e=this,n=null;t.on("legend-track:dragstart",(function(t){n={x:t.x,y:t.y}})),t.on("legend-track:drag",(function(t){if(n){var r=e.getValueByCanvasPoint(n.x,n.y),i=e.getValueByCanvasPoint(t.x,t.y),o=e.getCurrentValue(),a=o[1]-o[0],u=e.getRange(),s=i-r;s<0?o[0]+s>u.min?e.setValue([o[0]+s,o[1]+s]):e.setValue([u.min,u.min+a]):s>0&&(s>0&&o[1]+s<u.max?e.setValue([o[0]+s,o[1]+s]):e.setValue([u.max-a,u.max])),n={x:t.x,y:t.y}}})),t.on("legend-track:dragend",(function(t){n=null}))},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,e){var n=this.get("label"),r=n.style,i=n.align,o=n.formatter,a=this.get(t),u=this.getLabelAlignAttrs(t,i),s="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(s),name:"legend-label-"+t,attrs:(0,eE.pi)((0,eE.pi)({x:0,y:0,text:(0,nE.mf)(o)?o(a):a},r),u)})},e.prototype.getLabelAlignAttrs=function(t,e){var n="center",r="middle";return this.isVertical()?(n="start",r="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(r="top",n="min"===t?"start":"end"):(n="start",r="middle"),{textAlign:n,textBaseline:r}},e.prototype.getRailPath=function(t,e,n,r){var i=this.get("rail"),o=i.size,a=i.defaultLength,u=i.type,s=this.isVertical(),l=n,c=r;l||(l=s?o:a),c||(c=s?a:o);var f=[];return"color"===u?(f.push(["M",t,e]),f.push(["L",t+l,e]),f.push(["L",t+l,e+c]),f.push(["L",t,e+c]),f.push(["Z"])):(f.push(["M",t+l,e]),f.push(["L",t+l,e+c]),f.push(["L",t,e+c]),f.push(["Z"])),f},e.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,eE.pi)({path:this.getRailPath(0,0)},e)})},e.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var r=0;r<n;r++){e+=" "+r/(n-1)+":"+t[r]}return e},e.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return(0,nE.d9)(e)},e.prototype.getClipTrackAttrs=function(t){var e,n,r,i,o=this.getCurrentValue(),a=o[0],u=o[1],s=this.getRailBBox(t),l=this.getPointByValue(a,t),c=this.getPointByValue(u,t);return this.isVertical()?(e=s.minX,n=l.y,r=s.width,i=c.y-l.y):(e=l.x,n=s.minY,r=c.x-l.x,i=s.height),{x:e,y:n,width:r,height:i}},e.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),r=this.getTrackPath(t);return(0,nE.CD)({path:r,fill:this.getTrackColor(n)},e.style)},e.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),r=e.findById(n),i=r.getClip(),o=this.getClipTrackAttrs(t);i?i.attr(o):r.setClip({type:"rect",attrs:o})},e.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),r=this.getTrackAttrs(t);n?n.attr(r):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:r})},e.prototype.getPointByValue=function(t,e){var n=this.getRange(),r=n.min,i=(t-r)/(n.max-r),o=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=o.minX+o.width/2,a.y=M_(o.minY,o.maxY,i)):(a.x=M_(o.minX,o.maxX,i),a.y=o.minY+o.height/2),a},e.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},e.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},e.prototype.isVertical=function(){return"vertical"===this.get("layout")},e.prototype.getValueByCanvasPoint=function(t,e){var n=this.getRange(),r=n.min,i=n.max,o=this.getRailCanvasBBox(),a=this.isVertical(),u=this.get("step"),s=M_(r,i,a?(e-o.minY)/o.height:(t-o.minX)/o.width);u&&(s=r+Math.round((s-r)/u)*u);return s>i&&(s=i),s<r&&(s=r),s},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,(0,eE.pr)(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,eE.pr)(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],r=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",r)},e.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),r=[],i=t.size,o=e.x,a=e.y,u=1.4*i,s=i/2,l=i/6;if(n){var c=o+.4*u;r.push(["M",o,a]),r.push(["L",c,a+s]),r.push(["L",o+u,a+s]),r.push(["L",o+u,a-s]),r.push(["L",c,a-s]),r.push(["Z"]),r.push(["M",c,a+l]),r.push(["L",o+u-2,a+l]),r.push(["M",c,a-l]),r.push(["L",o+u-2,a-l])}else{var f=a+.4*u;r.push(["M",o,a]),r.push(["L",o-s,f]),r.push(["L",o-s,a+u]),r.push(["L",o+s,a+u]),r.push(["L",o+s,f]),r.push(["Z"]),r.push(["M",o-l,f]),r.push(["L",o-l,a+u-2]),r.push(["M",o+l,f]),r.push(["L",o+l,a+u-2])}return r},e.prototype.resetHandler=function(t,e,n){var r=this.getPointByValue(n,t),i=this.get("handler"),o=this.getHandlerPath(i,r),a=this.getElementId("handler-"+e),u=t.findById(a),s=this.isVertical();u?u.attr("path",o):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:a,attrs:(0,eE.pi)((0,eE.pi)({path:o},i.style),{cursor:s?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),r=t.findById(this.getElementId("label-max")),i=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,r,e,i):this.fixedHorizontal(n,r,e,i)},e.prototype.fitRailLength=function(t,e,n,r){var i=this.isVertical()?"height":"width",o=this.get("label"),a=o.align,u=o.spacing,s=this.get("max"+(0,nE.jC)(i));if(s){var l=("rail"===a?n[i]+t[i]+e[i]+2*u:n[i])-s;l>0&&this.changeRailLength(r,i,n[i]-l)}},e.prototype.changeRailLength=function(t,e,n){var r,i=t.getBBox();r="height"===e?this.getRailPath(i.x,i.y,i.width,n):this.getRailPath(i.x,i.y,n,i.height),t.attr("path",r)},e.prototype.changeRailPosition=function(t,e,n){var r=t.getBBox(),i=this.getRailPath(e,n,r.width,r.height);t.attr("path",i)},e.prototype.fixedHorizontal=function(t,e,n,r){var i=this.get("label"),o=i.align,a=i.spacing,u=n.getBBox(),s=t.getBBox(),l=e.getBBox(),c=u.height;this.fitRailLength(s,l,u,n),u=n.getBBox(),"rail"===o?(t.attr({x:r.x,y:r.y+c/2}),this.changeRailPosition(n,r.x+s.width+a,r.y),e.attr({x:r.x+s.width+u.width+2*a,y:r.y+c/2})):"top"===o?(t.attr({x:r.x,y:r.y}),e.attr({x:r.x+u.width,y:r.y}),this.changeRailPosition(n,r.x,r.y+s.height+a)):(this.changeRailPosition(n,r.x,r.y),t.attr({x:r.x,y:r.y+u.height+a}),e.attr({x:r.x+u.width,y:r.y+u.height+a}))},e.prototype.fixedVertail=function(t,e,n,r){var i=this.get("label"),o=i.align,a=i.spacing,u=n.getBBox(),s=t.getBBox(),l=e.getBBox();if(this.fitRailLength(s,l,u,n),u=n.getBBox(),"rail"===o)t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x,r.y+s.height+a),e.attr({x:r.x,y:r.y+s.height+u.height+2*a});else if("right"===o)t.attr({x:r.x+u.width+a,y:r.y}),this.changeRailPosition(n,r.x,r.y),e.attr({x:r.x+u.width+a,y:r.y+u.height});else{var c=Math.max(s.width,l.width);t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x+c+a,r.y),e.attr({x:r.x,y:r.y+u.height})}},e}(cT),xT=yT,bT="g2-tooltip",wT="g2-tooltip-title",ST="g2-tooltip-list",kT="g2-tooltip-list-item",CT="g2-tooltip-marker",ET="g2-tooltip-value",OT="g2-tooltip-name",MT="g2-tooltip-crosshair-x",_T="g2-tooltip-crosshair-y",AT=((iT={})[""+bT]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Y_.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},iT[""+wT]={marginBottom:"4px"},iT[""+ST]={margin:"0px",listStyleType:"none",padding:"0px"},iT[""+kT]={listStyleType:"none",marginBottom:"4px"},iT[""+CT]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},iT[""+ET]={display:"inline-block",float:"right",marginLeft:"30px"},iT[""+MT]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},iT[""+_T]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},iT);var TT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+bT+'"><div class="'+wT+'"></div><ul class="'+ST+'"></ul></div>',itemTpl:'<li class="'+kT+'" data-index={index}>\n          <span class="'+CT+'" style="background:{color}"></span>\n          <span class="'+OT+'">{name}</span>:\n          <span class="'+ET+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+MT+'"></div>',yCrosshairTpl:'<div class="'+_T+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:bT,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:AT})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),xE(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),xE(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");n&&xE(n,{display:e}),r&&xE(r,{display:e})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(e){this.get("customContent")?this.renderCustomContent():(function(t,e){var n=!1;return(0,nE.S6)(e,(function(e){if((0,nE.wH)(t,e))return n=!0,!1})),n}(e,["title","showTitle"])&&this.resetTitle(),(0,nE.wH)(e,"items")&&this.renderItems()),t.prototype.updateInner.call(this,e)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),r=this.get("offset"),i=this.getOffset(),o=i.offsetX,a=i.offsetY,u=this.get("position"),s=this.get("region"),l=this.getContainer(),c=this.getBBox(),f=c.width,d=c.height;s&&(t=E_(s));var h=function(t,e,n,r,i,o,a){var u=function(t,e,n,r,i,o){var a=t,u=e;switch(o){case"left":a=t-r-n,u=e-i/2;break;case"right":a=t+n,u=e-i/2;break;case"top":a=t-r/2,u=e-i-n;break;case"bottom":a=t-r/2,u=e+n;break;default:a=t+n,u=e-i-n}return{x:a,y:u}}(t,e,n,r,i,o);if(a){var s=function(t,e,n,r,i){return{left:t<i.x,right:t+n>i.x+i.width,top:e<i.y,bottom:e+r>i.y+i.height}}(u.x,u.y,r,i,a);"auto"===o?(s.right&&(u.x=Math.max(0,t-r-n)),s.top&&(u.y=Math.max(0,e-i-n))):"top"===o||"bottom"===o?(s.left&&(u.x=a.x),s.right&&(u.x=a.x+a.width-r),"top"===o&&s.top&&(u.y=e+n),"bottom"===o&&s.bottom&&(u.y=e-i-n)):(s.top&&(u.y=a.y),s.bottom&&(u.y=a.y+a.height-i),"left"===o&&s.left&&(u.x=t+n),"right"===o&&s.right&&(u.x=t-r-n))}return u}(e,n,r,f,d,u,t);xE(l,{left:P_(h.x+o),top:P_(h.y+a)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=(0,nE.kK)(n)?n:yE(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(wT)[0],n=t.getElementsByClassName(ST)[0];this.set("titleDom",e),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=E_(t),r=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),i&&(i.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),r&&(r.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),r=this.get(t);xE(n,"x"===t?{left:P_(r),top:P_(e.y),height:P_(e.height)}:{top:P_(r),left:P_(e.x),width:P_(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",r="CROSSHAIR_"+t.toUpperCase(),i=l[r],o=this.get(e),a=this.get("parent");return o||(o=yE(this.get(n)),this.applyStyle(i,o),a.appendChild(o),this.set(e,o)),o},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&((0,nE.S6)(t,(function(t){var r=iO.toCSSGradient(t.color),i=(0,eE.pi)((0,eE.pi)({},t),{color:r}),o=yE((0,nE.ng)(e,i));n.appendChild(o)})),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&C_(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(pA),PT=TT,DT={opacity:0},FT={stroke:"#C5C5C5",strokeOpacity:.85},NT={fill:"#CACED4",opacity:.85},IT=n(3313);function LT(t){return function(t){return(0,nE.UI)(t,(function(t,e){return[0===e?"M":"L",t[0],t[1]]}))}(t)}function RT(t,e,n,r){void 0===r&&(r=!0);var i=new sM({values:t}),o=new yO({values:(0,nE.UI)(t,(function(t,e){return e}))}),a=(0,nE.UI)(t,(function(t,r){return[o.scale(r)*e,n-i.scale(t)*n]}));return r?function(t){if(t.length<=2)return LT(t);var e=[];(0,nE.S6)(t,(function(t){(0,nE.Xy)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=(0,IT.e9)(e,!1),r=(0,nE.YM)(t),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):LT(a)}function jT(t,e,n,r){var i=(0,eE.pr)(t),o=function(t,e){var n=new sM({values:t}),r=n.max<0?n.max:Math.max(0,n.min);return e-n.scale(r)*e}(r,n);return i.push(["L",e,o]),i.push(["L",0,o]),i.push(["Z"]),i}var BT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:DT,lineStyle:FT,areaStyle:NT})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,i=e.data,o=e.smooth,a=e.isArea,u=e.backgroundStyle,s=e.lineStyle,l=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,eE.pi)({x:0,y:0,width:n,height:r},u)});var c=RT(i,n,r,o);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,eE.pi)({path:c},s)}),a){var f=jT(c,n,r,i);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,eE.pi)({path:f},l)})}},e.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},e}(z_),zT={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},UT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"handler",x:0,y:0,width:10,height:24,style:zT})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,i=e.style,o=i.fill,a=i.stroke,u=i.radius,s=i.opacity,l=i.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:r,fill:o,stroke:a,radius:u,opacity:s,cursor:l}});var c=1/3*n,f=2/3*n,d=1/4*r,h=3/4*r;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:c,y1:d,x2:c,y2:h,stroke:a,cursor:l}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:f,y1:d,x2:f,y2:h,stroke:a,cursor:l}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",(function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()})),this.get("group").on("mouseleave",(function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()}))},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(z_),HT={fill:"#416180",opacity:.05},VT={fill:"#5B8FF9",opacity:.15,cursor:"move"},WT={width:10,height:24},YT={textBaseline:"middle",fill:"#000",opacity:.45},qT="sliderchange",GT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return function(n){e.currentTarget=t;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),e.prevX=(0,nE.U2)(r,"touches.0.pageX",r.pageX),e.prevY=(0,nE.U2)(r,"touches.0.pageY",r.pageY);var i=e.getContainerDOM();i.addEventListener("mousemove",e.onMouseMove),i.addEventListener("mouseup",e.onMouseUp),i.addEventListener("mouseleave",e.onMouseUp),i.addEventListener("touchmove",e.onMouseMove),i.addEventListener("touchend",e.onMouseUp),i.addEventListener("touchcancel",e.onMouseUp)}},e.onMouseMove=function(t){var n=e.cfg.width,r=[e.get("start"),e.get("end")];t.stopPropagation(),t.preventDefault();var i=(0,nE.U2)(t,"touches.0.pageX",t.pageX),o=(0,nE.U2)(t,"touches.0.pageY",t.pageY),a=i-e.prevX,u=e.adjustOffsetRange(a/n);e.updateStartEnd(u),e.updateUI(e.getElementByLocalId("foreground"),e.getElementByLocalId("minText"),e.getElementByLocalId("maxText")),e.prevX=i,e.prevY=o,e.draw(),e.emit(qT,[e.get("start"),e.get("end")].sort()),e.delegateEmit("valuechanged",{originValue:r,value:[e.get("start"),e.get("end")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var t=e.getContainerDOM();t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))},e}return(0,eE.ZT)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),r=this.get("end"),i=(0,nE.uZ)(n,t,e),o=(0,nE.uZ)(r,t,e);this.get("isInit")||n===i&&r===o||this.setValue([i,o])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange();if((0,nE.kJ)(t)&&2===t.length){var n=[this.get("start"),this.get("end")];this.update({start:(0,nE.uZ)(t[0],e.min,e.max),end:(0,nE.uZ)(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:HT,foregroundStyle:VT,handlerStyle:WT,textStyle:YT}})},e.prototype.update=function(e){var n=e.start,r=e.end,i=(0,eE.pi)({},e);(0,nE.UM)(n)||(i.start=(0,nE.uZ)(n,0,1)),(0,nE.UM)(r)||(i.end=(0,nE.uZ)(r,0,1)),t.prototype.update.call(this,i),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",(0,nE.uZ)(this.get("start"),0,1)),this.set("end",(0,nE.uZ)(this.get("end"),0,1)),t.prototype.init.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),r=e.height,i=e.trendCfg,o=void 0===i?{}:i,a=e.minText,u=e.maxText,s=e.backgroundStyle,l=void 0===s?{}:s,c=e.foregroundStyle,f=void 0===c?{}:c,d=e.textStyle,h=void 0===d?{}:d,p=(0,nE.b$)({},zT,this.cfg.handlerStyle);(0,nE.dp)((0,nE.U2)(o,"data"))&&(this.trend=this.addComponent(t,(0,eE.pi)({component:BT,id:this.getElementId("trend"),x:0,y:0,width:n,height:r},o))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,eE.pi)({x:0,y:0,width:n,height:r},l)});this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,eE.pi)({y:r/2,textAlign:"right",text:a,silent:!1},h)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,eE.pi)({y:r/2,textAlign:"left",text:u,silent:!1},h)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,eE.pi)({y:0,height:r},f)});var v=(0,nE.U2)(p,"width",10),g=(0,nE.U2)(p,"height",24);this.minHandler=this.addComponent(t,{component:UT,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(r-g)/2,width:v,height:g,cursor:"ew-resize",style:p}),this.maxHandler=this.addComponent(t,{component:UT,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(r-g)/2,width:v,height:g,cursor:"ew-resize",style:p})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,e,n){var r=this.cfg,i=r.start,o=r.end,a=r.width,u=r.minText,s=r.maxText,l=r.handlerStyle,c=r.height,f=i*a,d=o*a;this.trend&&(this.trend.update({width:a,height:c}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",f),t.attr("width",d-f);var h=(0,nE.U2)(l,"width",10);e.attr("text",u),n.attr("text",s);var p=this._dodgeText([f,d],e,n),v=p[0],g=p[1];this.minHandler&&(this.minHandler.update({x:f-h/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,nE.S6)(v,(function(t,n){return e.attr(n,t)})),this.maxHandler&&(this.maxHandler.update({x:d-h/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,nE.S6)(g,(function(t,e){return n.attr(e,t)}))},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":var i=0-n,o=1-n;return Math.min(o,Math.max(i,t));case"maxHandler":i=0-r,o=1-r;return Math.min(o,Math.max(i,t));case"foreground":i=0-n,o=1-r;return Math.min(o,Math.max(i,t))}},e.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":r+=t;break;case"foreground":n+=t,r+=t}this.set("start",n),this.set("end",r)},e.prototype._dodgeText=function(t,e,n){var r,i,o=this.cfg,a=o.handlerStyle,u=o.width,s=(0,nE.U2)(a,"width",10),l=t[0],c=t[1],f=!1;l>c&&(l=(r=[c,l])[0],c=r[1],e=(i=[n,e])[0],n=i[1],f=!0);var d=e.getBBox(),h=n.getBBox(),p=d.width>l-2?{x:l+s/2+2,textAlign:"left"}:{x:l-s/2-2,textAlign:"right"},v=h.width>u-c-2?{x:c-s/2-2,textAlign:"right"}:{x:c+s/2+2,textAlign:"left"};return f?[v,p]:[p,v]},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e}(z_);function $T(t,e,n){if(t){if("function"===typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"===typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}var XT={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},KT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=nE.ZT,e.onStartEvent=function(t){return function(n){e.isMobile=t,n.originalEvent.preventDefault();var r=t?(0,nE.U2)(n.originalEvent,"touches.0.clientX"):n.clientX,i=t?(0,nE.U2)(n.originalEvent,"touches.0.clientY"):n.clientY;e.startPos=e.cfg.isHorizontal?r:i,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),n=[];n=e.isMobile?[$T(t,"touchmove",e.onMouseMove),$T(t,"touchend",e.onMouseUp),$T(t,"touchcancel",e.onMouseUp)]:[$T(t,"mousemove",e.onMouseMove),$T(t,"mouseup",e.onMouseUp),$T(t,"mouseleave",e.onMouseUp)],e.clearEvents=function(){n.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var n=e.cfg,r=n.isHorizontal,i=n.thumbOffset;t.preventDefault();var o=e.isMobile?(0,nE.U2)(t,"touches.0.clientX"):t.clientX,a=e.isMobile?(0,nE.U2)(t,"touches.0.clientY"):t.clientY,u=r?o:a,s=u-e.startPos;e.startPos=u,e.updateThumbOffset(i+s)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var n=e.cfg,r=n.isHorizontal,i=n.x,o=n.y,a=n.thumbLen,u=e.getContainerDOM().getBoundingClientRect(),s=t.clientX,l=t.clientY,c=r?s-u.left-i-a/2:l-u.top-o-a/2,f=e.validateRange(c);e.updateThumbOffset(f)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e}return(0,eE.ZT)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),r=(0,nE.uZ)(n,t,e);n===r||this.get("isInit")||this.setValue(r)},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,nE.uZ)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return(0,nE.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,eE.pi)((0,eE.pi)({},e),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:XT})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,r=e.theme,i=void 0===r?{default:{}}:r,o=(0,nE.b$)({},XT,i).default,a=o.lineCap,u=o.trackColor,s=o.size,l=(0,nE.U2)(this.cfg,"size",s),c=this.get("isHorizontal")?{x1:0+l/2,y1:l/2,x2:n-l/2,y2:l/2,lineWidth:l,stroke:u,lineCap:a}:{x1:l/2,y1:0+l/2,x2:l/2,y2:n-l/2,lineWidth:l,stroke:u,lineCap:a};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:c})},e.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,r=e.thumbLen,i=e.theme,o=(0,nE.b$)({},XT,i).default,a=o.size,u=o.lineCap,s=o.thumbColor,l=(0,nE.U2)(this.cfg,"size",a),c=this.get("isHorizontal")?{x1:n+l/2,y1:l/2,x2:n+r-l/2,y2:l/2,lineWidth:l,stroke:s,lineCap:u,cursor:"default"}:{x1:l/2,y1:n+l/2,x2:l/2,y2:n+r-l/2,lineWidth:l,stroke:s,lineCap:u,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:c})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,r=e.trackLen,i=t;return t+n>r?i=r-n:t+n<n&&(i=0),i},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,r=e.isHorizontal,i=e.thumbLen,o=e.size,a=this.validateRange(t);if(a!==n){var u=this.getElementByLocalId("thumb");r?u.attr({x1:a+o/2,x2:a+i-o/2}):u.attr({y1:a+o/2,y2:a+i-o/2}),this.emitOffsetChange(a)}},e.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,r=e.trackLen,i=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,nE.uZ)(t/(r-i),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(z_),ZT=UA,JT=VA,QT=sT,tP=aT,eP=mT,nP=xT,rP=PT;function iP(t){return 1===Array.from(new Set(t)).length}function oP(t){return((0,nE.VV)(t)+(0,nE.Fp)(t))/2}function aP(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function uP(t,e,n,r,i,o){void 0===o&&(o=0);var a=aP(t,e,n,r),u=aP(t,e,n,i),s=aP(t,e,o,r),l=aP(t,e,o,i);if(i-r===2*Math.PI){var c=aP(t,e,n,r+Math.PI),f=aP(t,e,o,r+Math.PI),d=[["M",a.x,a.y],["A",n,n,0,1,1,c.x,c.y],["A",n,n,0,1,1,u.x,u.y],["M",s.x,s.y]];return o&&(d.push(["A",o,o,0,1,0,f.x,f.y]),d.push(["A",o,o,0,1,0,l.x,l.y])),d.push(["M",a.x,a.y]),d.push(["Z"]),d}var h=i-r<=Math.PI?0:1,p=[["M",a.x,a.y],["A",n,n,0,h,1,u.x,u.y],["L",l.x,l.y]];return o&&p.push(["A",o,o,0,h,0,s.x,s.y]),p.push(["L",a.x,a.y]),p.push(["Z"]),p}function sP(t,e,n,r,i){var o=aP(t,e,n,r),a=aP(t,e,n,i);if((0,nE.vQ)(i-r,2*Math.PI)){var u=aP(t,e,n,r+Math.PI);return[["M",o.x,o.y],["A",n,n,0,1,1,u.x,u.y],["A",n,n,0,1,1,o.x,o.y],["A",n,n,0,1,0,u.x,u.y],["A",n,n,0,1,0,o.x,o.y],["Z"]]}var s=i-r<=Math.PI?0:1;return[["M",o.x,o.y],["A",n,n,0,s,1,a.x,a.y]]}function lP(t,e){var n,r,i=function(t){if((0,nE.xb)(t))return null;var e=t[0].x,n=t[0].x,r=t[0].y,i=t[0].y;return(0,nE.S6)(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,r=r>t.y?t.y:r,i=i<t.y?t.y:i})),{minX:e,maxX:n,minY:r,maxY:i,centerX:(e+n)/2,centerY:(r+i)/2}}(t.points),o=e.startAngle,a=e.endAngle-o;return e.isTransposed?(n=i.maxY*a,r=i.minY*a):(n=i.maxX*a,r=i.minX*a),{startAngle:r+=o,endAngle:n+=o}}function cP(t,e){var n=t.attr(),r=e.attr();return(0,nE.S6)(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r}function fP(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i}function dP(t,e){return"object"===typeof t&&e.forEach((function(e){delete t[e]})),t}function hP(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=new Map);for(var r=0,i=t;r<i.length;r++){var o=i[r];n.has(o)||(e.push(o),n.set(o,!0))}return e}var pP=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.height=r,this.width=n}return t.fromRange=function(e,n,r,i){return new t(e,n,r-e,i-n)},t.fromObject=function(e){return new t(e.minX,e.minY,e.width,e.height)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.contains=function(t){return t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return(0,nE.S6)(t,(function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y})),n},t.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return(0,nE.S6)(t,(function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y})),n},t.prototype.cut=function(e,n){var r=e.width,i=e.height;switch(n){case XC.TOP:case XC.TOP_LEFT:case XC.TOP_RIGHT:return t.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case XC.RIGHT:case XC.RIGHT_TOP:case XC.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-r,this.maxY);case XC.BOTTOM:case XC.BOTTOM_LEFT:case XC.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case XC.LEFT:case XC.LEFT_TOP:case XC.LEFT_BOTTOM:return t.fromRange(this.minX+r,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var n=e[0],r=e[1],i=e[2],o=e[3];return new t(this.x+o,this.y+n,this.width-o-r,this.height-n-i)},t.prototype.expand=function(e){var n=e[0],r=e[1],i=e[2],o=e[3];return new t(this.x-o,this.y-n,this.width+o+r,this.height+n+i)},t.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},t.prototype.collide=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.size=function(){return this.width*this.height},t.prototype.isPointIn=function(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY},t}();function vP(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function gP(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function mP(t,e){var n=!1;if(t)if("theta"===t.type){var r=t.start,i=t.end;n=fP(e.x,r.x,i.x)&&fP(e.y,r.y,i.y)}else{var o=t.invert(e);n=fP(o.x,0,1)&&fP(o.y,0,1)}return n}function yP(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)}function xP(t,e){void 0===e&&(e=0);var n,r=t.start,i=t.end,o=t.getWidth(),a=t.getHeight();if(t.isPolar){var u=t.startAngle,s=t.endAngle,l=t.getCenter(),c=t.getRadius();return{type:"path",startState:{path:uP(l.x,l.y,c+e,u,u)},endState:function(t){var n=(s-u)*t+u;return{path:uP(l.x,l.y,c+e,u,n)}},attrs:{path:uP(l.x,l.y,c+e,u,s)}}}return n=t.isTransposed?{height:a+2*e}:{width:o+2*e},{type:"rect",startState:{x:r.x-e,y:i.y-e,width:t.isTransposed?o+2*e:0,height:t.isTransposed?0:a+2*e},endState:n,attrs:{x:r.x-e,y:i.y-e,width:o+2*e,height:a+2*e}}}var bP=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function wP(t,e,n,r){return void 0===e&&(e={}),e.type?e.type:"identity"!==t.type&&pE.includes(n)&&["interval"].includes(r)||t.isCategory?"cat":t.type}function SP(t,e,n){var r=e||[];if((0,nE.hj)(t)||(0,nE.UM)((0,nE.Wx)(r,t))&&(0,nE.xb)(n))return new(kM("identity"))({field:t.toString(),values:[t]});var i=(0,nE.I)(r,t),o=(0,nE.U2)(n,"type",function(t){var e="linear";return bP.test(t)?e="timeCat":(0,nE.HD)(t)&&(e="cat"),e}(i[0]));return new(kM(o))((0,eE.pi)({field:t,values:i},n))}function kP(t){return t.alias||t.field}function CP(t,e,n){var r,i=t.values.length;if(1===i)r=[.5,1];else{var o=0;r=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e===2*Math.PI}return!1}(e)?e.isTransposed?[(o=1/i*(0,nE.U2)(n,"widthRatio.multiplePie",1/1.3))/2,1-o/2]:[0,1-1/i]:[o=1/i/2,1-o]}return r}function EP(t){var e=t.values.filter((function(t){return!(0,nE.UM)(t)&&!isNaN(t)}));return Math.max.apply(Math,(0,eE.ev)((0,eE.ev)([],e,!1),[(0,nE.UM)(t.max)?-1/0:t.max],!1))}function OP(t,e){var n={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?n=function(t){var e,n;switch(t){case XC.TOP:e={x:0,y:1},n={x:1,y:1};break;case XC.RIGHT:e={x:1,y:0},n={x:1,y:1};break;case XC.BOTTOM:e={x:0,y:0},n={x:1,y:0};break;case XC.LEFT:e={x:0,y:0},n={x:0,y:1};break;default:e=n={x:0,y:0}}return{start:e,end:n}}(e):t.isPolar&&(n=function(t){var e,n;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{start:e,end:n}}(t));var r=n.start,i=n.end;return{start:t.convert(r),end:t.convert(i)}}function MP(t){var e=t.start,n=t.end;return e.x===n.x}function _P(t,e){var n=t.start,r=t.end;return MP(t)?(n.y-r.y)*(e.x-n.x)>0?1:-1:(r.x-n.x)*(n.y-e.y)>0?-1:1}function AP(t,e){var n=(0,nE.U2)(t,["components","axis"],{});return(0,nE.b$)({},(0,nE.U2)(n,["common"],{}),(0,nE.b$)({},(0,nE.U2)(n,[e],{})))}function TP(t,e,n){var r=(0,nE.U2)(t,["components","axis"],{});return(0,nE.b$)({},(0,nE.U2)(r,["common","title"],{}),(0,nE.b$)({},(0,nE.U2)(r,[e,"title"],{})),n)}function PP(t){var e=t.x,n=t.y,r=t.circleCenter,i=n.start>n.end,o=t.isTransposed?t.convert({x:i?0:1,y:0}):t.convert({x:0,y:i?0:1}),a=[o.x-r.x,o.y-r.y],u=[1,0],s=o.y>r.y?l_.EU(a,u):-1*l_.EU(a,u),l=s+(e.end-e.start);return{center:r,radius:Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),startAngle:s,endAngle:l}}function DP(t,e){return(0,nE.jn)(t)?!1!==t&&{}:(0,nE.U2)(t,[e])}function FP(t,e){return(0,nE.U2)(t,"position",e)}function NP(t,e){return(0,nE.U2)(e,["title","text"],kP(t))}var IP=function(){function t(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=(0,nE.b$)({},this.getDefaultCfg(),e)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(t){var e=t.region,n=t.data,r=t.padding,i=void 0===r?this.cfg.padding:r,o=this.view.createView({region:e,padding:i});o.data(n||[]),t.view=o,this.beforeEachView(o,t);var a=this.cfg.eachView;return a&&a(o,t),this.afterEachView(o,t),o},t.prototype.createContainer=function(){return this.view.getLayer($C.FORE).addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var t=this;return this.facets.map((function(e){return t.facetToView(e)}))},t.prototype.clearFacetViews=function(){var t=this;(0,nE.S6)(this.facets,(function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)}))},t.prototype.parseSpacing=function(){var t=this.view.viewBBox,e=t.width,n=t.height;return this.cfg.spacing.map((function(t,r){return(0,nE.hj)(t)?t/(0===r?e:n):parseFloat(t)/100}))},t.prototype.getFieldValues=function(t,e){var n=[],r={};return(0,nE.S6)(t,(function(t){var i=t[e];(0,nE.UM)(i)||r[i]||(n.push(i),r[i]=!0)})),n},t.prototype.getRegion=function(t,e,n,r){var i=this.parseSpacing(),o=i[0],a=i[1],u=(1+o)/(0===e?1:e)-o,s=(1+a)/(0===t?1:t)-a,l={x:(u+o)*n,y:(s+a)*r};return{start:l,end:{x:l.x+u,y:l.y+s}}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},t.prototype.processAxis=function(t,e){var n=t.getOptions(),r=n.coordinate,i=t.geometries;if("rect"===(0,nE.U2)(r,"type","rect")&&i.length){(0,nE.UM)(n.axes)&&(n.axes={});var o=n.axes,a=i[0].getXYFields(),u=a[0],s=a[1],l=DP(o,u),c=DP(o,s);!1!==l&&(n.axes[u]=this.getXAxisOption(u,o,l,e)),!1!==c&&(n.axes[s]=this.getYAxisOption(s,o,c,e))}},t.prototype.getFacetDataFilter=function(t){return function(e){return(0,nE.yW)(t,(function(t){var n=t.field,r=t.value;return!(!(0,nE.UM)(r)&&n)||e[n]===r}))}},t}(),LP={},RP=function(t,e){LP[(0,nE.vl)(t)]=e},jP=function(){function t(t,e){this.context=t,this.cfg=e,t.addAction(this)}return t.prototype.applyCfg=function(t){(0,nE.f0)(this,t)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}(),BP=jP,zP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}(BP),UP=zP,HP={};function VP(t){var e=HP[t];return(0,nE.U2)(e,"ActionClass")}function WP(t,e,n){HP[t]={ActionClass:e,cfg:n}}function YP(t,e){var n=new UP(e);return n.callback=t,n.name="callback",n}function qP(t,e){for(var n=[t[0]],r=1,i=t.length;r<i;r+=2){var o=e.convert({x:t[r],y:t[r+1]});n.push(o.x,o.y)}return n}function GP(t,e){var n=e.isTransposed,r=t[1],i=t[6],o=t[7],a=e.convert({x:i,y:o});return["A",r,r,0,0,n?0:1,a.x,a.y]}function $P(t,e,n){for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var u,s,l,c=function(t,e,n,r){var i,o,a,u,s,l,c,f=[],d=!!r;if(d){a=r[0],u=r[1];for(var h=0,p=t.length;h<p;h++){var v=t[h];a=l_.VV([0,0],a,v),u=l_.Fp([0,0],u,v)}}h=0;for(var g=t.length;h<g;h++)if(v=t[h],0!==h||n)if(h!==g-1||n){i=t[n?h?h-1:g-1:h-1],o=t[n?(h+1)%g:h+1];var m=[0,0];m=l_.lu(m,o,i),m=l_.bA(m,m,e);var y=l_.TE(v,i),x=l_.TE(v,o),b=y+x;0!==b&&(y/=b,x/=b);var w=l_.bA([0,0],m,-y),S=l_.bA([0,0],m,x);l=l_.IH([0,0],v,w),s=l_.IH([0,0],v,S),s=l_.VV([0,0],s,l_.Fp([0,0],o,v)),s=l_.Fp([0,0],s,l_.VV([0,0],o,v)),w=l_.lu([0,0],s,v),w=l_.bA([0,0],w,-y/x),l=l_.IH([0,0],v,w),l=l_.VV([0,0],l,l_.Fp([0,0],i,v)),l=l_.Fp([0,0],l,l_.VV([0,0],i,v)),S=l_.lu([0,0],v,l),S=l_.bA([0,0],S,x/y),s=l_.IH([0,0],v,S),d&&(l=l_.Fp([0,0],l,a),l=l_.VV([0,0],l,u),s=l_.Fp([0,0],s,a),s=l_.VV([0,0],s,u)),f.push(c),f.push(l),c=s}else l=v,f.push(c),f.push(l);else c=v;return n&&f.push(f.shift()),f}(i,.4,r,n),f=i.length,d=[];for(o=0;o<f-1;o++)u=c[2*o],s=c[2*o+1],l=i[o+1],d.push(["C",u[0],u[1],s[0],s[1],l[0],l[1]]);return r&&(u=c[f],s=c[f+1],l=i[0],d.push(["C",u[0],u[1],s[0],s[1],l[0],l[1]])),d}function XP(t,e){return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var o=t[r];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e)}function KP(t,e,n){var r=[],i=t[0],o=null;if(t.length<=2)return XP(t,e);for(var a=0,u=t.length;a<u;a++){var s=t[a];o&&o.x===s.x&&o.y===s.y||(r.push(s.x),r.push(s.y),o=s)}var l=$P(r,e,n||[[0,0],[1,1]]);return l.unshift(["M",i.x,i.y]),l}function ZP(t,e){var n,r,i,o=[];return(0,nE.S6)(e,(function(a,u){switch(a[0].toLowerCase()){case"m":case"c":case"q":o.push(qP(a,t));break;case"l":n=e[u-1],r=a,i=t.isTransposed,(i?n[n.length-2]===r[1]:n[n.length-1]===r[2])?o=o.concat(function(t,e,n){var r=n.isTransposed,i=n.startAngle,o=n.endAngle,a="a"===t[0].toLowerCase()?{x:t[6],y:t[7]}:{x:t[1],y:t[2]},u={x:e[1],y:e[2]},s=[],l=r?"y":"x",c=Math.abs(u[l]-a[l])*(o-i),f=u[l]>=a[l]?1:0,d=c>Math.PI?1:0,h=n.convert(u),p=gP(n,h);if(p>=.5)if(c===2*Math.PI){var v={x:(u.x+a.x)/2,y:(u.y+a.y)/2},g=n.convert(v);s.push(["A",p,p,0,d,f,g.x,g.y]),s.push(["A",p,p,0,d,f,h.x,h.y])}else s.push(["A",p,p,0,d,f,h.x,h.y]);return s}(n,r,t)):o.push(qP(a,t));break;case"a":o.push(GP(a,t));break;default:o.push(a)}})),function(t){(0,nE.S6)(t,(function(e,n){if("a"===e[0].toLowerCase()){var r=t[n-1],i=t[n+1];i&&"a"===i[0].toLowerCase()?r&&"l"===r[0].toLowerCase()&&(r[0]="M"):r&&"a"===r[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M")}}))}(o),o}function JP(t,e){var n=t.event.target.getCanvasBBox();return n.width>=e||n.height>=e?n:null}function QP(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}function tD(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e}function eD(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function nD(t){return t&&t.component&&t.component.isList()}function rD(t){return t&&t.component&&t.component.isSlider()}function iD(t){var e=t.event.target;return e&&"mask"===e.get("name")}function oD(t,e){if("path"===t.event.target.get("type")){var n=function(t,e){var n=t.event.target,r=n.getCanvasBBox();return r.width>=e||r.height>=e?n.attr("path"):null}(t,e);if(!n)return;return function(t,e){var n=uD(t),r=fD(e),i=n.filter((function(t){var e,n,i=t.shape;if("path"===i.get("type"))e=fD(i.attr("path"));else{var o=i.getCanvasBBox();e=[[(n=o).minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]}return(0,IT.Wq)(r,e)}));return i}(t.view,n)}var r=JP(t,e);return r?cD(t.view,r):null}function aD(t,e,n){var r=JP(t,n);if(!r)return null;var i=t.view,o=gD(i,e,{x:r.x,y:r.y}),a=gD(i,e,{x:r.maxX,y:r.maxY});return cD(e,{minX:o.x,minY:o.y,maxX:a.x,maxY:a.y})}function uD(t){var e=t.geometries,n=[];return(0,nE.S6)(e,(function(t){var e=t.elements;n=n.concat(e)})),t.views&&t.views.length&&(0,nE.S6)(t.views,(function(t){n=n.concat(uD(t))})),n}function sD(t,e){var n=t.geometries,r=[];return(0,nE.S6)(n,(function(t){var n=t.getElementsBy((function(t){return t.hasState(e)}));r=r.concat(n)})),r}function lD(t,e){var n=t.getModel().data;return(0,nE.kJ)(n)?n[0][e]:n[e]}function cD(t,e){var n=uD(t),r=[];return(0,nE.S6)(n,(function(t){var n,i,o=t.shape.getCanvasBBox();n=e,(i=o).minX>n.maxX||i.maxX<n.minX||i.minY>n.maxY||i.maxY<n.minY||r.push(t)})),r}function fD(t){var e=[];return(0,nE.S6)(t,(function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var r=t.length;e.push([t[r-2],t[r-1]])}})),e}function dD(t){return t.getComponents().map((function(t){return t.component}))}function hD(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function pD(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function vD(t){var e=t.parent,n=null;return e&&(n=e.views.filter((function(e){return e!==t}))),n}function gD(t,e,n){var r=function(t,e){return t.getCoordinate().invert(e)}(t,n);return e.getCoordinate().convert(r)}function mD(t,e,n,r){var i=!1;return(0,nE.S6)(t,(function(t){if(t[n]===e[n]&&t[r]===e[r])return i=!0,!1})),i}function yD(t,e){var n=t.getScaleByField(e);return!n&&t.views&&(0,nE.S6)(t.views,(function(t){if(n=yD(t,e))return!1})),n}var xD=function(){function t(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}return t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},t.prototype.getAction=function(t){return this.actions.find((function(e){return e.name===t}))},t.prototype.addAction=function(t){this.actions.push(t)},t.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},t.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},t.prototype.getCurrentShape=function(){return(0,nE.U2)(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},t.prototype.isInComponent=function(t){var e=dD(this.view),n=this.getCurrentPoint();return!!n&&!!e.find((function(e){var r=e.getBBox();return t?e.get("name")===t&&pD(r,n):pD(r,n)}))},t.prototype.destroy=function(){(0,nE.S6)(this.actions.slice(),(function(t){t.destroy()})),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},t}(),bD=xD,wD=function(){function t(t,e){this.view=t,this.cfg=e}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}();function SD(t,e,n){var r=t.split(":"),i=r[0],o=e.getAction(i)||function(t,e){var n=HP[t],r=null;return n&&((r=new(0,n.ActionClass)(e,n.cfg)).name=t,r.init()),r}(i,e);if(!o)throw new Error("There is no action named ".concat(i));return{action:o,methodName:r[1],arg:n}}function kD(t){var e=t.action,n=t.methodName,r=t.arg;if(!e[n])throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(n));e[n](r)}var CD="start",ED="showEnable",OD="end",MD="rollback",_D="processing",AD=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.callbackCaches={},r.emitCaches={},r.steps=n,r}return(0,eE.ZT)(e,t),e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;(0,nE.S6)(this.steps,(function(e,n){(0,nE.S6)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.bindEvent(e.trigger,r)}))}))},e.prototype.clearEvents=function(){var t=this;(0,nE.S6)(this.steps,(function(e,n){(0,nE.S6)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.offEvent(e.trigger,r)}))}))},e.prototype.initContext=function(){var t=this.view,e=new bD(t);this.context=e;var n=this.steps;(0,nE.S6)(n,(function(t){(0,nE.S6)(t,(function(t){if((0,nE.mf)(t.action))t.actionObject={action:YP(t.action,e),methodName:"execute"};else if((0,nE.HD)(t.action))t.actionObject=SD(t.action,e,t.arg);else if((0,nE.kJ)(t.action)){var n=t.action,r=(0,nE.kJ)(t.arg)?t.arg:[t.arg];t.actionObject=[],(0,nE.S6)(n,(function(n,i){t.actionObject.push(SD(n,e,r[i]))}))}}))}))},e.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===ED)return!0;if(t===_D)return e===CD;if(t===CD)return e!==_D;if(t===OD)return e===_D||e===CD;if(t===MD){if(n[OD])return e===OD;if(e===CD)return!0}return!1},e.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,e){t!==ED&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},e.prototype.getKey=function(t,e){return t+e.trigger+e.action},e.prototype.getActionCallback=function(t,e){var n=this,r=this.context,i=this.callbackCaches,o=e.actionObject;if(e.action&&o){var a=this.getKey(t,e);if(!i[a]){var u=function(i){r.event=i,n.isAllowExecute(t,e)?((0,nE.kJ)(o)?(0,nE.S6)(o,(function(t){r.event=i,kD(t)})):(r.event=i,kD(o)),n.afterExecute(t,e),e.callback&&(r.event=i,e.callback(r))):r.event=null};e.debounce?i[a]=(0,nE.Ds)(u,e.debounce.wait,e.debounce.immediate):e.throttle?i[a]=(0,nE.P2)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):i[a]=u}return i[a]}return null},e.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},e.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},e}(wD),TD=AD,PD={};function DD(t,e){PD[(0,nE.vl)(t)]=e}function FD(t,e,n){var r=function(t){return PD[(0,nE.vl)(t)]}(t);if(!r)return null;if((0,nE.PO)(r)){var i=(0,nE.CD)((0,nE.d9)(r),n);return new TD(e,i)}return new r(e,n)}function ND(t){var e,n={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},r=function(t){return{title:{autoRotate:!0,position:"center",spacing:t.axisTitleSpacing,style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:t.axisLabelOffset,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0}}(t),i=function(t){return{title:null,marker:{symbol:"circle",spacing:t.legendMarkerSpacing,style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:t.legendPageNavigatorMarkerSize,inactiveFill:t.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:t.legendPageNavigatorMarkerInactiveFillOpacity,fill:t.legendPageNavigatorMarkerFillColor,opacity:t.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:t.legendPageNavigatorTextFillColor,fontSize:t.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:t.legendItemSpacing,itemMarginBottom:t.legendItemMarginBottom,padding:t.legendPadding}}(t);return{background:t.backgroundColor,defaultColor:t.brandColor,subColor:t.subColor,semanticRed:t.paletteSemanticRed,semanticGreen:t.paletteSemanticGreen,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,sequenceColors:t.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var r=lP(t.getModel(),e),i=(r.startAngle+r.endAngle)/2,o=7.5*Math.cos(i),a=7.5*Math.sin(i);return{matrix:i_.vs(null,[["t",o,a]])}}return n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:(0,eE.pi)((0,eE.pi)({},n.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,eE.pi)((0,eE.pi)({},n.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,eE.pi)((0,eE.pi)({},n.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,eE.pi)((0,eE.pi)({},n.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,eE.pi)((0,eE.pi)({},n.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,eE.pi)((0,eE.pi)({},n.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,eE.pi)((0,eE.pi)({},n.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,eE.pi)((0,eE.pi)({},n.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},violin:{violin:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hollow:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"hollow-smooth":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}}},components:{axis:{common:r,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,nE.b$)({},r.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,nE.b$)({},r.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:t.legendVerticalPadding},left:{layout:"vertical",padding:t.legendVerticalPadding},top:{layout:"horizontal",padding:t.legendHorizontalPadding},bottom:{layout:"horizontal",padding:t.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(bT)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:"".concat(t.tooltipContainerBorderRadius,"px"),color:t.tooltipTextFillColor,fontSize:"".concat(t.tooltipTextFontSize,"px"),fontFamily:t.fontFamily,lineHeight:"".concat(t.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(wT)]={marginBottom:"12px",marginTop:"12px"},e["".concat(ST)]={margin:0,listStyleType:"none",padding:0},e["".concat(kT)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(CT)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(ET)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:t.cSliderBackgroundFillColor,opacity:t.cSliderBackgroundFillOpacity},foregroundStyle:{fill:t.cSliderForegroundFillColor,opacity:t.cSliderForegroundFillOpacity},handlerStyle:{width:t.cSliderHandlerWidth,height:t.cSliderHandlerHeight,fill:t.cSliderHandlerFillColor,opacity:t.cSliderHandlerFillOpacity,stroke:t.cSliderHandlerBorderColor,lineWidth:t.cSliderHandlerBorder,radius:t.cSliderHandlerBorderRadius,highLightFill:t.cSliderHandlerHighlightFillColor},textStyle:{fill:t.cSliderTextFillColor,opacity:t.cSliderTextFillOpacity,fontSize:t.cSliderTextFontSize,lineHeight:t.cSliderTextLineHeight,fontWeight:t.cSliderTextFontWeight,stroke:t.cSliderTextBorderColor,lineWidth:t.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:t.scrollbarTrackFillColor,thumbColor:t.scrollbarThumbFillColor}},hover:{style:{thumbColor:t.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},fillColorDark:t.labelFillColorDark,fillColorLight:t.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:t.overflowLabelFillColor,fontSize:t.overflowLabelFontSize,fontFamily:t.fontFamily,stroke:t.overflowLabelBorderColor,lineWidth:t.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var ID="#000",LD="#595959",RD="#8C8C8C",jD="#BFBFBF",BD="#D9D9D9",zD="#F0F0F0",UD="#FFFFFF",HD=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],VD=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],WD=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],YD=function(t){void 0===t&&(t={});var e=t.backgroundColor,n=void 0===e?"transparent":e,r=t.subColor,i=void 0===r?"rgba(0,0,0,0.05)":r,o=t.paletteQualitative10,a=void 0===o?HD:o,u=t.paletteQualitative20,s=void 0===u?VD:u,l=t.paletteSemanticRed,c=void 0===l?"#F4664A":l,f=t.paletteSemanticGreen,d=void 0===f?"#30BF78":f,h=t.paletteSemanticYellow,p=void 0===h?"#FAAD14":h,v=t.paletteSequence,g=void 0===v?WD:v,m=t.fontFamily,y=void 0===m?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':m,x=t.brandColor,b=void 0===x?a[0]:x;return{backgroundColor:n,brandColor:b,subColor:i,paletteQualitative10:a,paletteQualitative20:s,paletteSemanticRed:c,paletteSemanticGreen:d,paletteSemanticYellow:p,paletteSequence:g,fontFamily:y,axisLineBorderColor:jD,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:LD,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:jD,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:BD,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:RD,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:BD,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:RD,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:b,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:LD,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:ID,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:ID,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:RD,legendPageNavigatorTextFontSize:12,sliderRailFillColor:BD,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:RD,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:zD,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:jD,annotationArcBorderColor:BD,annotationArcBorder:1,annotationLineBorderColor:jD,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:LD,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:ID,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:jD,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:LD,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:LD,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:UD,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:LD,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:UD,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:jD,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:b,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:UD,pointBorderOpacity:1,pointActiveBorderColor:ID,pointSelectedBorder:2,pointSelectedBorderColor:ID,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:b,hollowPointBorderOpacity:.95,hollowPointFillColor:UD,hollowPointActiveBorder:1,hollowPointActiveBorderColor:ID,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:ID,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:b,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:b,areaFillOpacity:.25,areaActiveFillColor:b,areaActiveFillOpacity:.5,areaSelectedFillColor:b,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:b,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:ID,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:ID,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:b,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:ID,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:ID,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:b,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:UD,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:ID,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:ID,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}};YD();function qD(t){var e=t.styleSheet,n=void 0===e?{}:e,r=(0,eE._T)(t,["styleSheet"]),i=YD(n);return(0,nE.b$)({},ND(i),r)}var GD={default:qD({})};function $D(t){return(0,nE.U2)(GD,(0,nE.vl)(t),GD.default)}function XD(t,e,n){var r=n.translate(t),i=n.translate(e);return(0,nE.vQ)(r,i)}function KD(t,e,n){var r=n.coordinate,i=n.getYScale(),o=i.field,a=r.invert(e),u=i.invert(a.y);return(0,nE.sE)(t,(function(t){var e=t._origin;return e[o][0]<=u&&e[o][1]>=u}))||t[t.length-1]}var ZD=(0,nE.HP)((function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,r=t.translate(e[0]),i=r,o=0;o<n;o++){var a=e[o],u=t.translate(a);u<r&&(r=u),u>i&&(i=u)}return(i-r)/(n-1)}));function JD(t){for(var e,n=function(t){var e=(0,nE.VO)(t.attributes);return(0,nE.hX)(e,(function(t){return(0,nE.FX)(pE,t.type)}))}(t),r=0,i=n;r<i.length;r++){var o=i[r],a=o.getScale(o.type);if(a&&a.isLinear)if("cat"!==wP(a,(0,nE.U2)(t.scaleDefs,a.field),o.type,t.type)){e=a;break}}var u=t.getXScale(),s=t.getYScale();return e||s||u}function QD(t,e,n){if(0===e.length)return null;var r=n.type,i=n.getXScale(),o=n.getYScale(),a=i.field,u=o.field,s=null;if("heatmap"===r||"point"===r){for(var l=n.coordinate.invert(t),c=i.invert(l.x),f=o.invert(l.y),d=1/0,h=0;h<e.length;h++){var p=e[h],v=p._origin,g=Math.pow(v[a]-c,2)+Math.pow(v[u]-f,2);g<d&&(d=g,s=p)}return s}var m=e[0],y=e[e.length-1],x=function(t,e){var n=e.coordinate,r=e.getXScale(),i=r.range,o=i[i.length-1],a=i[0],u=n.invert(t).x;return n.isPolar&&u>(1+o)/2&&(u=a),r.translate(r.invert(u))}(t,n),b=m._origin[a],w=m._origin[u],S=y._origin[a],k=o.isLinear&&(0,nE.kJ)(w);if((0,nE.kJ)(b)){for(h=0;h<e.length;h++){v=(A=e[h])._origin;if(i.translate(v[a][0])<=x&&i.translate(v[a][1])>=x){if(!k){s=A;break}(0,nE.kJ)(s)||(s=[]),s.push(A)}}(0,nE.kJ)(s)&&(s=KD(s,t,n))}else{var C=void 0;if(i.isLinear||"timeCat"===i.type){if((x>i.translate(S)||x<i.translate(b))&&(x>i.max||x<i.min))return null;for(var E=0,O=e.length-1,M=void 0;E<=O;){var _=e[M=Math.floor((E+O)/2)]._origin[a];if(XD(_,x,i))return e[M];i.translate(_)<=i.translate(x)?(E=M+1,y=e[M],C=e[M+1]):(0===O&&(y=e[0]),O=M-1)}}else{for(h=0;h<e.length;h++){var A;if(XD((v=(A=e[h])._origin)[a],x,i)){if(!k){s=A;break}(0,nE.kJ)(s)||(s=[]),s.push(A)}else i.translate(v[a])<=x&&(y=A,C=e[h+1])}(0,nE.kJ)(s)&&(s=KD(s,t,n))}y&&C&&Math.abs(i.translate(y._origin[a])-x)>Math.abs(i.translate(C._origin[a])-x)&&(y=C)}var T=ZD(n.getXScale());return!s&&Math.abs(i.translate(y._origin[a])-x)<=T/2&&(s=y),s}function tF(t,e,n,r){void 0===n&&(n=""),void 0===r&&(r=!1);var i,o,a=t._origin,u=function(t,e,n){var r=e.getAttribute("position").getFields(),i=e.scales,o=(0,nE.mf)(n)||!n?r[0]:n,a=i[o],u=a?a.getText(t[o]):t[o]||o;return(0,nE.mf)(n)?n(u,t):u}(a,e,n),s=e.tooltipOption,l=e.theme.defaultColor,c=[];function f(e,n){if(r||!(0,nE.UM)(n)&&""!==n){var i={title:u,data:a,mappingData:t,name:e,value:n,color:t.color||l,marker:!0};c.push(i)}}if((0,nE.Kn)(s)){var d=s.fields,h=s.callback;if(h){var p=d.map((function(e){return t._origin[e]})),v=h.apply(void 0,p),g=(0,eE.pi)({data:t._origin,mappingData:t,title:u,color:t.color||l,marker:!0},v);c.push(g)}else for(var m=e.scales,y=0,x=d;y<x.length;y++){var b=x[y];if(!(0,nE.UM)(a[b])){var w=m[b];f(i=kP(w),o=w.getText(a[b]))}}}else{var S=JD(e);o=function(t,e){var n=t[e.field];return(0,nE.kJ)(n)?n.map((function(t){return e.getText(t)})).join("-"):e.getText(n)}(a,S),i=function(t,e){var n,r=e.getGroupScales();if(r.length&&(n=r[0]),n){var i=n.field;return n.getText(t[i])}return kP(JD(e))}(a,e),f(i,o)}return c}function eF(t,e,n,r){var i=r.showNil,o=[],a=t.dataArray;if(!(0,nE.xb)(a)){t.sort(a);for(var u=0,s=a;u<s.length;u++){var l=QD(e,s[u],t);if(l){var c=t.getElementId(l),f=t.elementsMap[c];if("heatmap"===t.type||f.visible){var d=tF(l,t,n,i);d.length&&o.push(d)}}}}return o}function nF(t,e,n,r){var i=r.showNil,o=[],a=t.container.getShape(e.x,e.y);if(a&&a.get("visible")&&a.get("origin")){var u=tF(a.get("origin").mappingData,t,n,i);u.length&&o.push(u)}return o}function rF(t,e,n){for(var r=[],i=t.geometries,o=n.shared,a=n.title,u=n.reversed,s=0,l=i;s<l.length;s++){var c=l[s];if(c.visible&&!1!==c.tooltipOption){var f=c.type,d=void 0;(d=["point","edge","polygon"].includes(f)?nF(c,e,a,n):["area","line","path","heatmap"].includes(f)||!1!==o?eF(c,e,a,n):nF(c,e,a,n)).length&&(u&&d.reverse(),r.push(d))}}return r}function iF(t){void 0===t&&(t=0);var e=(0,nE.kJ)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=(0,eE.ev)((0,eE.ev)([],e,!0),e,!0);break;case 3:e=(0,eE.ev)((0,eE.ev)([],e,!0),[e[1]],!1);break;default:e=e.slice(0,4)}return e}var oF={};function aF(t,e){oF[t]=e}var uF=function(){function t(t){this.option=this.wrapperOption(t)}return t.prototype.update=function(t){return this.option=this.wrapperOption(t),this},t.prototype.hasAction=function(t){var e=this.option.actions;return(0,nE.G)(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var n=this.option,r=n.type,i=n.cfg,o="theta"===r,a=(0,eE.pi)({start:t,end:e},i),u=function(t){return p_[t.toLowerCase()]}(o?"polar":r);return this.coordinate=new u(a),this.coordinate.type=r,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(t){return(0,eE.pi)({type:"rect",actions:[],cfg:{}},t)},t.prototype.execActions=function(t){var e=this,n=this.option.actions;(0,nE.S6)(n,(function(n){var r,i=n[0],o=n.slice(1);(!!(0,nE.UM)(t)||t.includes(i))&&(r=e.coordinate)[i].apply(r,o)}))},t}(),sF=uF,lF=function(){function t(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}return t.fromData=function(e,n,r){return new t(e,new EE.Event(n,{}),r)},Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}(),cF=lF;function fF(t){var e=t.getController("axis"),n=t.getController("legend"),r=t.getController("annotation");[e,t.getController("slider"),t.getController("scrollbar"),n,r].forEach((function(t){t&&t.layout()}))}var dF=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(t,e,n,r){var i=n,o=this.getScaleMeta(r);if(0===e.length&&o){var a=o.scale,u={type:a.type};a.isCategory&&(u.values=a.values),i=(0,nE.b$)(u,o.scaleDef,n)}var s=SP(t,e,i);return this.cacheScale(s,n,r),s},t.prototype.sync=function(t,e){var n=this;this.syncScales.forEach((function(r,i){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,u=[];(0,nE.S6)(r,(function(t){var e=n.getScale(t);a=(0,nE.hj)(e.max)?Math.max(a,e.max):a,o=(0,nE.hj)(e.min)?Math.min(o,e.min):o,(0,nE.S6)(e.values,(function(t){u.includes(t)||u.push(t)}))})),(0,nE.S6)(r,(function(r){var i=n.getScale(r);if(i.isContinuous)i.change({min:o,max:a,values:u});else if(i.isCategory){var s=i.range,l=n.getScaleMeta(r);u&&!(0,nE.U2)(l,["scaleDef","range"])&&(s=CP((0,nE.b$)({},i,{values:u}),t,e)),i.change({values:u,range:s})}}))}))},t.prototype.cacheScale=function(t,e,n){var r=this.getScaleMeta(n);r&&r.scale.type===t.type?(!function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);t.change(n)}}(r.scale,t),r.scaleDef=e):(r={key:n,scale:t,scaleDef:e},this.scales.set(n,r));var i=this.getSyncKey(r);if(r.syncKey=i,this.removeFromSyncScales(n),i){var o=this.syncScales.get(i);o||(o=[],this.syncScales.set(i,o)),o.push(n)}},t.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var n=(0,nE.Z$)(t.split("-")),r=this.syncScales.get(n);r&&r.length&&(e=this.getScaleMeta(r[0]))}return e&&e.scale},t.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var n=e.syncKey,r=this.syncScales.get(n);if(r&&r.length){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}this.scales.delete(t)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach((function(n,r){var i=n.indexOf(t);if(-1!==i)return n.splice(i,1),0===n.length&&e.syncScales.delete(r),!1}))},t.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,r=e.field,i=(0,nE.U2)(n,["sync"]);return!0===i?r:!1===i?void 0:i},t.prototype.getScaleMeta=function(t){return this.scales.get(t)},t}(),hF=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=t,this.right=e,this.bottom=n,this.left=r}return t.instance=function(e,n,r,i){return void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),new t(e,n,r,i)},t.prototype.max=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return this.top=Math.max(this.top,e),this.right=Math.max(this.right,n),this.bottom=Math.max(this.bottom,r),this.left=Math.max(this.left,i),this},t.prototype.shrink=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return this.top+=e,this.right+=n,this.bottom+=r,this.left+=i,this},t.prototype.inc=function(t,e){var n=t.width,r=t.height;switch(e){case XC.TOP:case XC.TOP_LEFT:case XC.TOP_RIGHT:this.top+=r;break;case XC.RIGHT:case XC.RIGHT_TOP:case XC.RIGHT_BOTTOM:this.right+=n;break;case XC.BOTTOM:case XC.BOTTOM_LEFT:case XC.BOTTOM_RIGHT:this.bottom+=r;break;case XC.LEFT:case XC.LEFT_TOP:case XC.LEFT_BOTTOM:this.left+=n}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t.prototype.clone=function(){return new(t.bind.apply(t,(0,eE.ev)([void 0],this.getPadding(),!1)))},t}();function pF(t){var e=t.padding;if(!function(t){return!(0,nE.hj)(t)&&!(0,nE.kJ)(t)}(e))return new(hF.bind.apply(hF,(0,eE.ev)([void 0],iF(e),!1)));var n=t.viewBBox,r=new hF,i=[],o=[],a=[];return(0,nE.S6)(t.getComponents(),(function(t){var e=t.type;e===KC.AXIS?i.push(t):[KC.LEGEND,KC.SLIDER,KC.SCROLLBAR].includes(e)?o.push(t):e!==KC.GRID&&e!==KC.TOOLTIP&&a.push(t)})),(0,nE.S6)(i,(function(t){var e=t.component.getLayoutBBox(),i=new pP(e.x,e.y,e.width,e.height).exceed(n);r.max(i)})),(0,nE.S6)(o,(function(t){var e=t.component,n=t.direction,i=e.getLayoutBBox(),o=e.get("padding"),a=new pP(i.x,i.y,i.width,i.height).expand(o);r.inc(a,n)})),(0,nE.S6)(a,(function(t){var e=t.component,n=t.direction,i=e.getLayoutBBox(),o=new pP(i.x,i.y,i.width,i.height);r.inc(o,n)})),r}function vF(t,e,n){var r=n.instance();e.forEach((function(t){t.autoPadding=r.max(t.autoPadding.getPadding())}))}var gF=function(t){function e(e){var n=t.call(this,{visible:e.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Object.keys(oF),n.scalePool=new dF,n.layoutFunc=fF,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var r=n.createViewEvent(t);n.doPlotEvent(r),n.emit(e,r)}},n.onDelegateEvents=function(t){var e=t.name;if(e.includes(":")){var r=n.createViewEvent(t);n.emit(e,r)}};var r=e.id,i=void 0===r?(0,nE.EL)("view"):r,o=e.parent,a=e.canvas,u=e.backgroundGroup,s=e.middleGroup,l=e.foregroundGroup,c=e.region,f=void 0===c?{start:{x:0,y:0},end:{x:1,y:1}}:c,d=e.padding,h=e.appendPadding,p=e.theme,v=e.options,g=e.limitInPlot,m=e.syncViewPadding;return n.parent=o,n.canvas=a,n.backgroundGroup=u,n.middleGroup=s,n.foregroundGroup=l,n.region=f,n.padding=d,n.appendPadding=h,n.options=(0,eE.pi)((0,eE.pi)({},n.options),v),n.limitInPlot=g,n.id=i,n.syncViewPadding=m,n.themeObject=(0,nE.Kn)(p)?(0,nE.b$)({},$D("default"),qD(p)):$D(p),n.init(),n}return(0,eE.ZT)(e,t),e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(rE.BEFORE_RENDER,cF.fromData(this,rE.BEFORE_RENDER,e)),this.paint(t),this.emit(rE.AFTER_RENDER,cF.fromData(this,rE.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(rE.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear(),e[n].container.remove(!0),e[n].labelsContainer.remove(!0);this.geometries=[];var r=this.controllers;for(n=0;n<r.length;n++)"annotation"===r[n].name?r[n].clear(!0):r[n].clear();this.createdScaleKeys.forEach((function(e,n){t.getRootView().scalePool.deleteScale(n)})),this.createdScaleKeys.clear();var i=this.views;for(n=0;n<i.length;n++)i[n].clear();this.emit(rE.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(rE.BEFORE_DESTROY);var e=this.interactions;(0,nE.S6)(e,(function(t){t&&t.destroy()})),this.clear();for(var n=this.controllers,r=0,i=n.length;r<i;r++){n[r].destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.geometries,r=0,i=n.length;r<i;r++){n[r].changeVisible(e)}var o=this.controllers;for(r=0,i=o.length;r<i;r++){o[r].changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},e.prototype.data=function(t){return(0,nE.t8)(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,e){return(0,nE.mf)(e)?((0,nE.t8)(this.options,["filters",t],e),this):(!e&&(0,nE.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,e){return(0,nE.jn)(t)?(0,nE.t8)(this.options,["axes"],t):(0,nE.t8)(this.options,["axes",t],e),this},e.prototype.legend=function(t,e){return(0,nE.jn)(t)?(0,nE.t8)(this.options,["legends"],t):(0,nE.HD)(t)?((0,nE.t8)(this.options,["legends",t],e),(0,nE.PO)(e)&&(null===e||void 0===e?void 0:e.selected)&&(0,nE.t8)(this.options,["filters",t],(function(t){var n;return null===(n=null===e||void 0===e?void 0:e.selected[t])||void 0===n||n}))):(0,nE.t8)(this.options,["legends"],t),this},e.prototype.scale=function(t,e){var n=this;return(0,nE.HD)(t)?(0,nE.t8)(this.options,["scales",t],e):(0,nE.Kn)(t)&&(0,nE.S6)(t,(function(t,e){(0,nE.t8)(n.options,["scales",e],t)})),this},e.prototype.tooltip=function(t){return(0,nE.t8)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,e){return(0,nE.HD)(t)?(0,nE.t8)(this.options,"coordinate",{type:t,cfg:e}):(0,nE.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},e.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=function(t){return LP[(0,nE.vl)(t)]}(t);if(!n)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new n(this,(0,eE.pi)((0,eE.pi)({},e),{type:t})),this},e.prototype.animate=function(t){return(0,nE.t8)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),(0,nE.CD)(this.options,t),this.views.forEach((function(t){return t.destroy()})),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return(0,nE.t8)(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=(0,nE.Kn)(t)?(0,nE.b$)({},this.themeObject,qD(t)):$D(t),this},e.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var r=FD(t,this,e);return r&&(r.init(),this.interactions[t]=r),this},e.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(rE.BEFORE_CHANGE_DATA,cF.fromData(this,rE.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,n=0,r=e.length;n<r;n++){e[n].changeData(t)}this.emit(rE.AFTER_CHANGE_DATA,cF.fromData(this,rE.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,nE.d9)(this.options.scales),axes:(0,nE.d9)(this.options.axes),coordinate:(0,nE.d9)(this.coordinateController.getOption()),tooltip:(0,nE.d9)(this.options.tooltip),legends:(0,nE.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},r=new e((0,eE.pi)((0,eE.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:lE}),middleGroup:this.middleGroup.addGroup({zIndex:sE}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:uE}),theme:this.themeObject,padding:this.padding},t),{options:(0,eE.pi)((0,eE.pi)({},n),(0,nE.U2)(t,"options",{}))}));return this.views.push(r),r},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var e=(0,nE.Od)(this.views,(function(e){return e===t}))[0];return e&&e.destroy(),e},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach((function(n){var r=n.getYScale(),i=r.field;t[i]||(t[i]=!0,e.push(r))})),e},e.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},r=0,i=e.length;r<i;r++){var o=e[r],a="x"===t?o.getXScale():o.getYScale();a&&!n[a.field]&&(n[a.field]=a)}return n},e.prototype.getScale=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return(0,nE.u4)(this.geometries,(function(t,e){return t.concat(e.getElements())}),[])},e.prototype.getElementsBy=function(t){return this.getElements().filter((function(e){return t(e)}))},e.prototype.getLayer=function(t){return t===$C.BG?this.backgroundGroup:t===$C.MID?this.middleGroup:($C.FORE,this.foregroundGroup)},e.prototype.isPointInPlot=function(t){return mP(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return(0,nE.xH)(this.geometries.map((function(t){return t.getGroupAttributes()})))},e.prototype.getGroupScales=function(){var t=this.geometries.map((function(t){return t.getGroupScales()}));return hP((0,nE.xH)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.getXY=function(t){var e,n,r=this.getCoordinate(),i=this.getScalesByDim("x"),o=this.getScalesByDim("y");if((0,nE.S6)(t,(function(t,r){i[r]&&(e=i[r].scale(t)),o[r]&&(n=o[r].scale(t))})),!(0,nE.UM)(e)&&!(0,nE.UM)(n))return r.convert({x:e,y:n})},e.prototype.getController=function(t){return(0,nE.sE)(this.controllers,(function(e){return e.name===t}))},e.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=o.dataArray;o.sort(a);for(var u=void 0,s=0,l=a.length;s<l;s++){(u=QD(t,a[s],o))&&n.push(u)}}var c=this.views;for(r=0,i=c.length;r<i;r++){var f=c[r].getSnapRecords(t);n=n.concat(f)}return n},e.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,r=e.length;n<r;n++){var i=e[n];t=t.concat(i.getComponents())}return t},e.prototype.filterData=function(t){var e=this.options.filters;return 0===(0,nE.dp)(e)?t:(0,nE.hX)(t,(function(t,n){return Object.keys(e).every((function(r){return(0,e[r])(t[r],t,n)}))}))},e.prototype.filterFieldData=function(t,e){var n=this.options.filters,r=(0,nE.U2)(n,t);return(0,nE.o8)(r)?e:e.filter((function(e,n){return r(e[t],e,n)}))},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,r=this.coordinateBBox.bl,i=this.coordinateBBox.tr;(0,nE.Xy)(e,r)&&(0,nE.Xy)(n,i)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(r,i))},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(rE.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(rE.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,nE.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox,n=e.x,r=e.y,i=e.width,o=e.height;this.backgroundStyleRectShape.attr({fill:t,x:n,y:r,width:i,height:o})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=pF(this).shrink(iF(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var e=this.views,n=0,r=e.length;n<r;n++){e[n].renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?vF:(0,nE.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,hF),this.views.forEach((function(t){t.coordinateBBox=t.viewBBox.shrink(t.autoPadding.getPadding()),t.adjustCoordinate()}))),this.doLayout();for(var n=this.views,r=0,i=n.length;r<i;r++){n[r].renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var n=xP(this.coordinateInstance),r=n.type,i=n.attrs;e.setClip({type:r,attrs:i})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var o=this.views,a=0,u=o.length;a<u;a++){o[a].renderPaintRecursive(t)}},e.prototype.createScale=function(t,e,n,r){var i=(0,nE.U2)(this.options.scales,[t]),o=(0,eE.pi)((0,eE.pi)({},i),n);return this.parent?this.parent.createScale(t,e,o,r):this.scalePool.createScale(t,e,o,r)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,r=e.length;n<r;n++){e[n].renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,e,n,r;if(this.parent){var i=this.parent.coordinateBBox;t=i.x,e=i.y,n=i.width,r=i.height}else t=0,e=0,n=this.canvas.get("width"),r=this.canvas.get("height");var o=this.region,a=o.start,u=o.end,s=new pP(t+n*a.x,e+r*a.y,n*(u.x-a.x),r*(u.y-a.y));this.viewBBox&&this.viewBBox.isEqual(s)||(this.viewBBox=new pP(t+n*a.x,e+r*a.y,n*(u.x-a.x),r*(u.y-a.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var r=t[e],i=oF[r];i&&this.controllers.push(new i(this))}},e.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,r=e?e.get("origin"):null,i=new cF(this,t,r);return i.type=n,i},e.prototype.doPlotEvent=function(t){var e=t.type,n={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var r=this.isPointInPlot(n),i=t.clone();if(r){var o="plot:".concat(e);i.type=o,this.emit(o,i),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!r?("mousemove"===e&&(i.type=oE.MOUSE_LEAVE,this.emit(oE.MOUSE_LEAVE,i)),i.type=oE.LEAVE,this.emit(oE.LEAVE,i)):!this.isPreMouseInPlot&&r&&("mousemove"===e&&(i.type=oE.MOUSE_ENTER,this.emit(oE.MOUSE_ENTER,i)),i.type=oE.ENTER,this.emit(oE.ENTER,i)),this.isPreMouseInPlot=r):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(i.type=oE.MOUSE_LEAVE,this.emit(oE.MOUSE_LEAVE,i)),i.type=oE.LEAVE,this.emit(oE.LEAVE,i),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,nE.U2)(this.options,"scales",{}),r=this.geometries,i=0,o=r.length;i<o;i++){var a=r[i];a.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?a.update(u):a.init(u)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),r=n.data,i=n.scales,o=void 0===i?{}:i,a=this.filteredData,u=0,s=t.length;u<s;u++){var l=t[u],c=o[l],f=this.getScaleKey(l);this.createScale(l,e.includes(l)?r:a,c,f),this.createdScaleKeys.set(f,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var r=t[n];e[r]=this.getScaleByField(r)}return e},e.prototype.getScaleFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++){hP(n[r].getScaleFields(),t,e)}return t},e.prototype.getGroupedFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++){hP(n[r].getGroupFields(),t,e)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,eE.ev)([this.getXScale()],this.getYScales(),!0).filter((function(t){return!!t})),n=this.getCoordinate(),r=this.options.scales;(0,nE.S6)(e,(function(e){var i=e.field,o=e.values,a=e.isCategory,u=e.isIdentity;(a||u)&&o&&!(0,nE.U2)(r,[i,"range"])&&(e.range=CP(e,n,t.theme))}))},e.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var r=e[n];t?r.update():(r.clear(),r.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},e.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),r={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},i=this.geometries,o=0;o<i.length;o++){var a=i[o];a.coordinate=n,a.canvasRegion=r,e||a.animate(!1),a.paint(t)}},e.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){this.getComponents()[e].component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,e=this.options,n=e.geometries,r=void 0===n?[]:n,i=e.interactions,o=void 0===i?[]:i,a=e.views,u=void 0===a?[]:a,s=e.annotations,l=void 0===s?[]:s,c=e.coordinate,f=e.events,d=e.facets;this.coordinateController?c&&this.coordinateController.update(c):this.coordinateController=new sF(c);for(var h=0;h<r.length;h++){var p=r[h];this.createGeometry(p)}for(var v=0;v<o.length;v++){var g=o[v],m=g.type,y=g.cfg;this.interaction(m,y)}for(var x=0;x<u.length;x++){var b=u[x];this.createView(b)}for(var w=this.getController("annotation"),S=0;S<l.length;S++){var k=l[S];w.annotation(k)}f&&(0,nE.S6)(f,(function(e,n){t.on(n,e)})),d&&(0,nE.S6)(d,(function(e){var n=e.type,r=(0,eE._T)(e,["type"]);t.facet(n,r)}))},e.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,r=void 0===n?{}:n;if(this[e]){var i=this[e](r);(0,nE.S6)(t,(function(t,e){(0,nE.mf)(i[e])&&i[e](t)}))}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(CE);function mF(t,e){gF.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var n=(0,eE.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),r=new e(n);return this.geometries.push(r),r}}var yF=function(t){function e(e){var n=this,r=e.container,i=e.width,o=e.height,a=e.autoFit,u=void 0!==a&&a,s=e.padding,l=e.appendPadding,c=e.renderer,f=void 0===c?"canvas":c,d=e.pixelRatio,h=e.localRefresh,p=void 0===h||h,v=e.visible,g=void 0===v||v,m=e.supportCSSTransform,y=void 0!==m&&m,x=e.defaultInteractions,b=void 0===x?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:x,w=e.options,S=e.limitInPlot,k=e.theme,C=e.syncViewPadding,E=(0,nE.HD)(r)?document.getElementById(r):r,O=yE('<div style="position:relative;"></div>');E.appendChild(O);var M=wE(E,u,i,o),_=new(function(t){var e=gE[t];if(!e)throw new Error("G engine '".concat(t,"' is not exist, please register it at first."));return e}(f).Canvas)((0,eE.pi)({container:O,pixelRatio:d,localRefresh:p,supportCSSTransform:y},M));return(n=t.call(this,{parent:null,canvas:_,backgroundGroup:_.addGroup({zIndex:lE}),middleGroup:_.addGroup({zIndex:sE}),foregroundGroup:_.addGroup({zIndex:uE}),padding:s,appendPadding:l,visible:g,options:w,limitInPlot:S,theme:k,syncViewPadding:C})||this).onResize=(0,nE.Ds)((function(){n.forceFit()}),300),n.ele=E,n.canvas=_,n.width=M.width,n.height=M.height,n.autoFit=u,n.localRefresh=p,n.renderer=f,n.wrapperElement=O,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(b),n}return(0,eE.ZT)(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;(0,nE.S6)(t,(function(t){e.interaction(t)}))},e.prototype.aria=function(t){var e="aria-label";!1===t?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},e.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(rE.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(rE.AFTER_CHANGE_SIZE)),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),function(t){var e=t.parentNode;e&&e.removeChild(t)}(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(e){return t.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=wE(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},e.prototype.updateCanvasStyle=function(){xE(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(gF),xF=yF,bF=function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(t){(0,nE.S6)(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}();var wF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e}return(0,eE.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(n.length){var r=this.getTitle(n),i={x:n[0].x,y:n[0].y};e.emit("tooltip:show",cF.fromData(e,"tooltip:show",(0,eE.pi)({items:n,title:r},t)));var o=this.getTooltipCfg(),a=o.follow,u=o.showMarkers,s=o.showCrosshairs,l=o.showContent,c=o.marker,f=this.items,d=this.title;if((0,nE.Xy)(d,r)&&(0,nE.Xy)(f,n)?(this.tooltip&&a&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",cF.fromData(e,"tooltip:change",(0,eE.pi)({items:n,title:r},t))),((0,nE.mf)(l)?l(n):l)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,nE.CD)({},o,{items:this.getItemsAfterProcess(n),title:r},a?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,c)),this.items=n,this.title=r,s){var h=(0,nE.U2)(o,["crosshairs","follow"],!1);this.renderCrosshairs(h?t:i,o)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var t=this.tooltipMarkersGroup;t&&t.hide();var e=this.xCrosshair,n=this.yCrosshair;e&&e.hide(),n&&n.hide();var r=this.tooltip;r&&r.hide(),this.view.emit("tooltip:hide",cF.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,r=t.yCrosshair,i=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),r&&r.clear(),i&&i.clear(),(null===e||void 0===e?void 0:e.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,r=e.tooltipMarkersGroup,i=e.xCrosshair,o=e.yCrosshair;t?(n&&n.show(),r&&r.show(),i&&i.show(),o&&o.show()):(n&&n.hide(),r&&r.hide(),i&&i.hide(),o&&o.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var n=0,r=e=(0,nE.xH)(e);n<r.length;n++)for(var i=0,o=r[n];i<o.length;i++){var a=o[i],u=a.mappingData,s=u.x,l=u.y;a.x=(0,nE.kJ)(s)?s[s.length-1]:s,a.y=(0,nE.kJ)(l)?l[l.length-1]:l}if(!1===this.getTooltipCfg().shared&&e.length>1){for(var c=e[0],f=Math.abs(t.y-c[0].y),d=0,h=e;d<h.length;d++){var p=h[d],v=Math.abs(t.y-p[0].y);v<=f&&(c=p,f=v)}e=[c]}return function(t){for(var e=[],n=function(n){var r=t[n];(0,nE.sE)(e,(function(t){return t.color===r.color&&t.name===r.name&&t.value===r.value&&t.title===r.title}))||e.push(r)},r=0;r<t.length;r++)n(r);return e}((0,nE.xH)(e))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(e&&n){var r=e.getBoundingClientRect(),i=r.x,o=r.y,a=r.width,u=r.height;return new pP(i,o,a,u).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=this.processCustomContent(e),r=t.getTheme(),i=(0,nE.U2)(r,["components","tooltip"],{}),o=(0,nE.U2)(n,"enterable",i.enterable);return(0,nE.b$)({},i,n,{capture:!(!o&&!this.isLocked)})},e.prototype.processCustomContent=function(t){if((0,nE.jn)(t)||!(0,nE.U2)(t,"customContent"))return t;var e=t.customContent;return(0,eE.pi)((0,eE.pi)({},t),{customContent:function(t,n){var r=e(t,n)||"";return(0,nE.HD)(r)?'<div class="g2-tooltip">'+r+"</div>":r}})},e.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),r=new rP((0,eE.pi)((0,eE.pi)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));r.init(),this.tooltip=r},e.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),r=this.view.getRootView(),i=r.limitInPlot,o=0,a=t;o<a.length;o++){var u=a[o],s=u.x,l=u.y;if(i||(null===n||void 0===n?void 0:n.getClip())){var c=xP(r.getCoordinate()),f=c.type,d=c.attrs;null===n||void 0===n||n.setClip({type:f,attrs:d})}else null===n||void 0===n||n.setClip(void 0);var h=(0,eE.pi)((0,eE.pi)({fill:u.color,symbol:"circle",shadowColor:u.color},e),{x:s,y:l});n.addShape("marker",{attrs:h})}},e.prototype.renderCrosshairs=function(t,e){var n=(0,nE.U2)(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(mP(n,t)){var r,i;if(n.isRect)n.isTransposed?(r={x:n.start.x,y:t.y},i={x:n.end.x,y:t.y}):(r={x:t.x,y:n.end.y},i={x:t.x,y:n.start.y});else{var o=yP(n,t),a=n.getCenter(),u=n.getRadius();i=aP(a.x,a.y,u,o),r=a}var s=(0,nE.b$)({start:r,end:i,container:this.getTooltipCrosshairsGroup()},(0,nE.U2)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete s.type;var l=this.xCrosshair;l?l.update(s):(l=new GA(s)).init(),l.render(),l.show(),this.xCrosshair=l}},e.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(mP(n,t)){var r,i;if(n.isRect){var o=void 0,a=void 0;n.isTransposed?(o={x:t.x,y:n.end.y},a={x:t.x,y:n.start.y}):(o={x:n.start.x,y:t.y},a={x:n.end.x,y:t.y}),r={start:o,end:a},i="Line"}else r={center:n.getCenter(),radius:gP(n,t),startAngle:n.startAngle,endAngle:n.endAngle},i="Circle";delete(r=(0,nE.b$)({container:this.getTooltipCrosshairsGroup()},r,(0,nE.U2)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var u=this.yCrosshair;u?n.isRect&&"circle"===u.get("type")||!n.isRect&&"line"===u.get("type")?(u=new s[i](r)).init():u.update(r):(u=new s[i](r)).init(),u.render(),u.show(),this.yCrosshair=u}},e.prototype.getCrosshairsText=function(t,e,n){var r=(0,nE.U2)(n,["crosshairs","text"]),i=(0,nE.U2)(n,["crosshairs","follow"]),o=this.items;if(r){var a=this.getViewWithGeometry(this.view),u=o[0],s=a.getXScale(),l=a.getYScales()[0],c=void 0,f=void 0;if(i){var d=this.view.getCoordinate().invert(e);c=s.invert(d.x),f=l.invert(d.y)}else c=u.data[s.field],f=u.data[l.field];var h="x"===t?c:f;return(0,nE.mf)(r)?r=r(t,h,o,e):r.content=h,{text:r}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var n=rF(t,e,this.getTooltipCfg()),r=0,i=t.views;r<i.length;r++){var o=i[r];n=n.concat(this.findItemsFromView(o,e))}return n},e.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,nE.sE)(t.views,(function(t){return e.getViewWithGeometry(t)}))},e.prototype.getItemsAfterProcess=function(t){var e=this.getTooltipCfg().customItems,n=e||function(t){return t};return n(t)},e}(bF),SF=wF,kF={};function CF(t){return kF[t.toLowerCase()]}function EF(t,e){kF[t.toLowerCase()]=e}var OF={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},MF={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},_F={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function AF(t,e,n){var r=MF[t];return r&&((0,nE.mf)(r)&&(r=r(e)),r=(0,nE.b$)({},OF,r),n)?r[n]:r}function TF(t,e,n){var r=(0,nE.U2)(t.get("origin"),"data",vE),i=e.animation,o=function(t,e){return{delay:(0,nE.mf)(t.delay)?t.delay(e):t.delay,easing:(0,nE.mf)(t.easing)?t.easing(e):t.easing,duration:(0,nE.mf)(t.duration)?t.duration(e):t.duration,callback:t.callback,repeat:t.repeat}}(e,r);if(i){var a=CF(i);a&&a(t,o,n)}else t.animate(n.toAttrs,o)}var PF="element-background",DF=function(t){function e(e){var n=t.call(this,e)||this;n.states=[];var r=e.shapeFactory,i=e.container,o=e.offscreenGroup,a=e.elementIndex,u=e.visible,s=void 0===u||u;return n.shapeFactory=r,n.container=i,n.offscreenGroup=o,n.visible=s,n.elementIndex=a,n}return(0,eE.ZT)(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this.shapeFactory,n=this.shape;if(n){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(n,t);var r=this.getOffscreenGroup(),i=e.drawShape(this.shapeType,t,r);i.cfg.data=this.data,i.cfg.origin=t,i.cfg.element=this,this.syncShapeStyle(n,i,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this.shapeFactory,n=this.shape;if(n){var r=this.getAnimateCfg("leave");r?TF(n,r,{coordinate:e.coordinate,toAttrs:(0,eE.pi)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(t){t.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(t){t.hide()})))},e.prototype.setState=function(t,e){var n=this,r=n.states,i=n.shapeFactory,o=n.model,a=n.shape,u=n.shapeType,s=r.indexOf(t);if(e){if(s>-1)return;r.push(t),"active"!==t&&"selected"!==t||null===a||void 0===a||a.toFront()}else{if(-1===s)return;if(r.splice(s,1),"active"===t||"selected"===t){var l=this.geometry,c=l.sortZIndex,f=l.zIndexReversed?this.geometry.elements.length-this.elementIndex:this.elementIndex;c?a.setZIndex(f):a.set("zIndex",f)}}var d=i.drawShape(u,o,this.getOffscreenGroup());r.length?this.syncShapeStyle(a,d,r,null):this.syncShapeStyle(a,d,["reset"],null),d.remove(!0);var h={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",h),g_(this.shape,"statechange",h)},e.prototype.clearStates=function(){var t=this,e=this.states;(0,nE.S6)(e,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach((function(t){var e=t.getCanvasBBox();n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y),n.minX=Math.min(e.minX,n.minX),n.minY=Math.min(e.minY,n.minY),n.maxX=Math.max(e.maxX,n.maxX),n.maxY=Math.max(e.maxY,n.maxY)})),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,r=t.shapeFactory,i=n.stateOption,o=r.defaultShapeType,a=r.theme[e]||r.theme[o];this.statesStyle=(0,nE.b$)({},a,i)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),r=(0,nE.U2)(n,[t,"style"],{}),i=r[e]||r;return(0,nE.mf)(i)?i(this):i},e.prototype.getAnimateCfg=function(t){var e=this,n=this.animate;if(n){var r=n[t];return r?(0,eE.pi)((0,eE.pi)({},r),{callback:function(){var t;(0,nE.mf)(r.callback)&&r.callback(),null===(t=e.geometry)||void 0===t||t.emit(iE.AFTER_DRAW_ANIMATE)}}):r}return null},e.prototype.drawShape=function(t,e){var n;void 0===e&&(e=!1);var r=this,i=r.shapeFactory,o=r.container,a=r.shapeType;if(this.shape=i.drawShape(a,t,o),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?(0,nE.HD)(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var s=e?"enter":"appear",l=this.getAnimateCfg(s);l&&(null===(n=this.geometry)||void 0===n||n.emit(iE.BEFORE_DRAW_ANIMATE),TF(this.shape,l,{coordinate:i.coordinate,toAttrs:(0,eE.pi)({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,e){var n=this;(t.cfg.origin=e,t.cfg.element=this,t.isGroup())&&t.get("children").forEach((function(t){n.setShapeInfo(t,e)}))},e.prototype.syncShapeStyle=function(t,e,n,r,i){var o,a=this;if(void 0===n&&(n=[]),void 0===i&&(i=0),t&&e){var u=t.get("clipShape"),s=e.get("clipShape");if(this.syncShapeStyle(u,s,n,r),t.isGroup())for(var l=t.get("children"),c=e.get("children"),f=0;f<l.length;f++)this.syncShapeStyle(l[f],c[f],n,r,i+f);else{if(!(0,nE.xb)(n)&&!(0,nE.Xy)(n,["reset"])){var d=t.get("name");(0,nE.kJ)(d)&&(d=d[1]),(0,nE.S6)(n,(function(t){if(e.get("name")!==PF){var n=a.getStateStyle(t,d||i);e.attr(n)}}))}var h=cP(t,e);this.animate?r?(null===(o=this.geometry)||void 0===o||o.emit(iE.BEFORE_DRAW_ANIMATE),TF(t,r,{coordinate:this.shapeFactory.coordinate,toAttrs:h,shapeModel:this.model})):(0,nE.xb)(n)?t.attr(h):(t.stopAnimate(),t.animate(h,{duration:300})):t.attr(h)}}},e.prototype.getShapeType=function(t){var e=(0,nE.U2)(t,"shape");return(0,nE.kJ)(e)?e[0]:e},e}(CE),FF=DF,NF={},IF={};function LF(t,e){NF[t.toLowerCase()]=e}function RF(t,e){IF[t.toLowerCase()]=e}var jF={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(t){return(0,nE.U2)(t,[this.defaultShapeType,"default","style"],{})},getMarker:function(t,e){var n=this.getShape(t);if(!n.getMarker){var r=this.defaultShapeType;n=this.getShape(r)}var i=this.theme,o=(0,nE.U2)(i,[t,"default"],{}),a=n.getMarker(e);return(0,nE.b$)({},o,a)},drawShape:function(t,e,n){return this.getShape(t).draw(e,n)}},BF={coordinate:null,parsePath:function(t){var e=this.coordinate,n=(0,IT.tr)(t);return n=e.isPolar?ZP(e,n):function(t,e){var n=[];return(0,nE.S6)(e,(function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(qP(e,t));break;case"a":n.push(GP(e,t));break;default:n.push(e)}})),n}(e,n),n},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map((function(t){return e.convert(t)}))},draw:function(t,e){}},zF={};function UF(t,e){var n=(0,nE.jC)(t),r=(0,eE.pi)((0,eE.pi)((0,eE.pi)({},jF),e),{geometryType:t});return zF[n]=r,r}function HF(t,e,n){var r=(0,nE.jC)(t),i=zF[r],o=(0,eE.pi)((0,eE.pi)({},BF),n);return i[e]=o,o}function VF(t){var e=(0,nE.jC)(t);return zF[e]}function WF(t,e){return(0,nE.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],(function(n){return!(0,nE.Xy)(t[n],e[n])}))}function YF(t){return(0,nE.kJ)(t)?t:t.split("*")}function qF(t,e){for(var n=[],r=[],i=[],o=new Map,a=0;a<e.length;a++){var u=e[a];t[u]?r.push(u):n.push(u),o.set(u,!0)}return Object.keys(t).forEach((function(t){o.has(t)||i.push(t)})),{added:n,updated:r,removed:i}}var GF=function(t){function e(e){var n=t.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var r=e.container,i=e.labelsContainer,o=e.coordinate,a=e.data,u=e.sortable,s=void 0!==u&&u,l=e.visible,c=void 0===l||l,f=e.theme,d=e.scales,h=void 0===d?{}:d,p=e.scaleDefs,v=void 0===p?{}:p,g=e.intervalPadding,m=e.dodgePadding,y=e.maxColumnWidth,x=e.minColumnWidth,b=e.columnWidthRatio,w=e.roseWidthRatio,S=e.multiplePieWidthRatio,k=e.zIndexReversed,C=e.sortZIndex;return n.container=r,n.labelsContainer=i,n.coordinate=o,n.data=a,n.sortable=s,n.visible=c,n.userTheme=f,n.scales=h,n.scaleDefs=v,n.intervalPadding=g,n.dodgePadding=m,n.maxColumnWidth=y,n.minColumnWidth=x,n.columnWidthRatio=b,n.roseWidthRatio=w,n.multiplePieWidthRatio=S,n.zIndexReversed=k,n.sortZIndex=C,n}return(0,eE.ZT)(e,t),e.prototype.position=function(t){var e=t;(0,nE.PO)(t)||(e={fields:YF(t)});var n=(0,nE.U2)(e,"fields");return 1===n.length&&(n.unshift("1"),(0,nE.t8)(e,"fields",n)),(0,nE.t8)(this.attributeOption,"position",e),this},e.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},e.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},e.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},e.prototype.adjust=function(t){var e=t;return((0,nE.HD)(t)||(0,nE.PO)(t))&&(e=[t]),(0,nE.S6)(e,(function(t,n){(0,nE.Kn)(t)||(e[n]={type:t})})),this.adjustOption=e,this},e.prototype.style=function(t,e){if((0,nE.HD)(t)){var n=YF(t);this.styleOption={fields:n,callback:e}}else{var r=t,i=(n=r.fields,r.callback),o=r.cfg;this.styleOption=n||i||o?t:{cfg:t}}return this},e.prototype.tooltip=function(t,e){if((0,nE.HD)(t)){var n=YF(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,e,n){if((0,nE.HD)(t)){var r={},i=YF(t);r.fields=i,(0,nE.mf)(e)?r.callback=e:(0,nE.PO)(e)&&(r.cfg=e),n&&(r.cfg=n),this.labelOption=r}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,r=t.isCoordinateChanged,i=this.attributeOption,o=this.lastAttributeOption;(0,nE.Xy)(i,o)?!e||!n&&(0,nE.Xy)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=r},e.prototype.paint=function(t){void 0===t&&(t=!1),this.animateOption&&(this.animateOption=(0,nE.b$)({},AF(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var e=this.beforeMappingData,n=this.beforeMapping(e);this.dataArray=new Array(n.length);for(var r=0;r<n.length;r++){var i=n[r];this.dataArray[r]=this.mapping(i)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var o=this.container,a=this.type,u=this.coordinate,s=(0,nE.U2)(this.animateOption,"appear"),l=this.getYScale(),c=u.convert({x:0,y:l.scale(this.getYMinValue())});!function(t,e,n,r,i){if(_F[n]){var o=_F[n](r),a=CF((0,nE.U2)(o,"animation",""));if(a){var u=(0,eE.pi)((0,eE.pi)((0,eE.pi)({},OF.appear),o),e);t.stopAnimate(),a(t,u,{coordinate:r,minYPoint:i,toAttrs:null})}}}(o,s,a,u,c)}this.labelOption&&this.renderLabels((0,nE.xH)(this.dataArray),t),this.lastAttributeOption=(0,eE.pi)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,r=t.offscreenGroup;e&&e.clear(),n&&n.clear(),r&&r.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return(0,nE.S6)(this.attributes,(function(e){pE.includes(e.type)&&t.push(e)})),t},e.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,nE.xb)(n.scales)&&(e=n.values[0]),e},e.prototype.getAttributeValues=function(t,e){for(var n=[],r=t.scales,i=0,o=r.length;i<o;i++){var a=r[i],u=a.field;a.isIdentity?n.push(a.values):n.push(e[u])}return t.mapping.apply(t,n)},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},e.prototype.getElementsBy=function(t){return this.elements.filter((function(e){return t(e)}))},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){var e=(t=(0,nE.kJ)(t)?t[0]:t)._origin;if(this.idFields.length){for(var n=e[this.idFields[0]],r=1;r<this.idFields.length;r++)n+="-"+e[this.idFields[r]];return n}var i,o,a=this.type,u=this.getXScale(),s=this.getYScale(),l=u.field||"x",c=e[s.field||"y"];i="identity"===u.type?u.values[0]:e[l],o="interval"===a||"schema"===a?"".concat(i):"line"===a||"area"===a||"path"===a?a:"".concat(i,"-").concat(c);for(var f=this.groupScales,d=(r=0,f.length);r<d;r++){var h=f[r].field;o="".concat(o,"-").concat(e[h])}var p=this.getAdjust("dodge");if(p){var v=p.dodgeBy;v&&(o="".concat(o,"-").concat(e[v]))}return this.getAdjust("jitter")&&(o="".concat(o,"-").concat(t.x,"-").concat(t.y)),o},e.prototype.getScaleFields=function(){var t=[],e=new Map,n=this,r=n.attributeOption,i=n.labelOption,o=n.tooltipOption;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a];u.fields?hP(u.fields,t,e):u.values&&hP(u.values,t,e)}return i&&i.fields&&hP(i.fields,t,e),(0,nE.Kn)(o)&&o.fields&&hP(o.fields,t,e),t},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.elements,r=0,i=n.length;r<i;r++){n[r].changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach((function(n){((null===n||void 0===n?void 0:n.fields)||[]).forEach((function(n){t.has(n)||e.push(n),t.set(n,!0)}))}),[]),e},e.prototype.getGroupFields=function(){for(var t=[],e=new Map,n=0,r=pE.length;n<r;n++){var i=pE[n],o=this.attributeOption[i];o&&o.fields&&hP(o.fields,t,e)}return t},e.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},e.prototype.getXField=function(){return(0,nE.U2)(this.getXYFields(),[0])},e.prototype.getYField=function(){return(0,nE.U2)(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map((function(t){return t.shape}))},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,r=0;r<t.length;r++){t[r].sort((function(t,r){return e.translate(t._origin[n])-e.translate(r._origin[n])}))}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(VF(t))return this.shapeFactory||(this.shapeFactory=(0,nE.d9)(VF(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:n?this.normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,e,n){void 0===n&&(n=!1);var r=this.container,i=this.getDrawCfg(t),o=this.getShapeFactory(),a=new FF({shapeFactory:o,container:r,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return a.animate=this.animateOption,a.geometry=this,a.draw(i,n),a},e.prototype.getDrawCfg=function(t){var e=t._origin,n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},r=t.shape;!r&&this.getShapeFactory()&&(r=this.getShapeFactory().defaultShapeType),n.shape=r;var i=this.theme.geometries[this.shapeType];n.defaultStyle=(0,nE.U2)(i,[r,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(i));var o=this.styleOption;return o&&(n.style=this.getStyleCfg(o,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=new Map,r=[],i=new Map,o=0,a=0;a<t.length;a++)for(var u=t[a],s=0;s<u.length;s++){var l=u[s],c=this.getElementId(l),f=n.has(c)?"".concat(c,"-").concat(a,"-").concat(s):c;r.push(f),n.set(f,l),i.set(f,o),o++}this.elements=new Array(o);for(var d=qF(this.lastElementsMap,r),h=d.added,p=d.updated,v=d.removed,g=0,m=h;g<m.length;g++){c=m[g],l=n.get(c),a=i.get(c);var y=this.createElement(l,a,e);this.elements[a]=y,this.elementsMap[c]=y,y.shape&&y.shape.set("zIndex",this.zIndexReversed?this.elements.length-a:a)}for(var x=0,b=p;x<b.length;x++){c=b[x],y=this.lastElementsMap[c],l=n.get(c);var w=this.getDrawCfg(l),S=y.getModel();a=i.get(c);(this.isCoordinateChanged||WF(w,S))&&(y.animate=this.animateOption,y.update(w)),this.elements[a]=y,this.elementsMap[c]=y,y.shape&&y.shape.set("zIndex",this.zIndexReversed?this.elements.length-a:a)}this.container&&this.container.sort();for(var k=0,C=v;k<C.length;k++){c=C[k];(y=this.lastElementsMap[c]).animate=this.animateOption,y.destroy()}},e.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,r=t.type,i=n.type,o=n.isTransposed,a=(0,nE.U2)(e,["cfg","type"]);return a||(a="polar"===i?o?"pie":"polar":"theta"===i?"pie":"interval"===r||"polygon"===r?"interval":"base"),a},e.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},e.prototype.createAttrOption=function(t,e,n){if((0,nE.UM)(e)||(0,nE.Kn)(e))(0,nE.Kn)(e)&&(0,nE.Xy)(Object.keys(e),["values"])?(0,nE.t8)(this.attributeOption,t,{fields:e.values}):(0,nE.t8)(this.attributeOption,t,e);else{var r={};(0,nE.hj)(e)?r.values=[e]:r.fields=YF(e),n&&((0,nE.mf)(n)?r.callback=n:r.values=n),(0,nE.t8)(this.attributeOption,t,r)}},e.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,r=e.attributeOption,i=e.theme,o=e.shapeType;this.groupScales=[];var a={},u=function(e){if(r.hasOwnProperty(e)){var u=r[e];if(!u)return{value:void 0};var s=(0,eE.pi)({},u),l=s.callback,c=s.values,f=s.fields,d=(void 0===f?[]:f).map((function(n){var r=t.scales[n];!a[n]&&pE.includes(e)&&("cat"===wP(r,(0,nE.U2)(t.scaleDefs,n),e,t.type)&&(t.groupScales.push(r),a[n]=!0));return r}));s.scales=d,"position"!==e&&1===d.length&&"identity"===d[0].type?s.values=d[0].values:l||c||("size"===e?s.values=i.sizes:"shape"===e?s.values=i.shapes[o]||[]:"color"===e&&(d.length?s.values=d[0].values.length<=10?i.colors10:i.colors20:s.values=i.colors10));var h=QM(e);n[e]=new h(s)}};for(var s in r){var l=u(s);if("object"===typeof l)return l.value}},e.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales.filter((function(t){return t.isCategory})),n=this.groupData(t),r=[],i=0,o=n.length;i<o;i++){for(var a=n[i],u=[],s=0,l=a.length;s<l;s++){var c=a[s],f={};for(var d in c)f[d]=c[d];f._origin=c;for(var h=0,p=e;h<p.length;h++){var v=p[h],g=v.field;f[g]=v.translate(f[g])}u.push(f)}r.push(u)}var m=this.adjustData(r);return this.beforeMappingData=m,m},e.prototype.adjustData=function(t){var e=this.adjustOption,n=this,r=n.intervalPadding,i=n.dodgePadding,o=n.theme,a=this.maxColumnWidth||o.maxColumnWidth,u=this.minColumnWidth||o.minColumnWidth,s=this.columnWidthRatio||o.columnWidthRatio,l=t;if(e){var c=this.getXScale(),f=this.getYScale(),d=c.field,h=f?f.field:null,p=vP(this.coordinate),v=c.values.length,g=this.getAttribute("size"),m=void 0;g&&(m=g.values[0]);for(var y=0,x=e.length;y<x;y++){var b=e[y],w=(0,eE.pi)({xField:d,yField:h,intervalPadding:r,dodgePadding:i,xDimensionLength:p,groupNum:v,defaultSize:m,maxColumnWidth:a,minColumnWidth:u,columnWidthRatio:s},b),S=b.type;if("dodge"===S){var k=[];if(c.isCategory||"identity"===c.type)k.push("x");else{if(f)throw new Error("dodge is not support linear attribute, please use category attribute!");k.push("y")}w.adjustNames=k,w.dodgeRatio=s}else if("stack"===S){var C=this.coordinate;if(!f){w.height=C.getHeight();var E=this.getDefaultValue("size")||3;w.size=E}!C.isTransposed&&(0,nE.UM)(w.reverseOrder)&&(w.reverseOrder=!0)}var O=AE(S);w.dimValuesMap={},c&&c.values&&(w.dimValuesMap[c.field]=c.values.map((function(t){return c.translate(t)})));var M=new O(w);l=M.process(l),this.adjusts[S]=M}}return l},e.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,r={},i=[],o=0;o<e.length;o++){var a=e[o].field;i.push(a),(0,nE.U2)(n,[a,"values"])&&(r[a]=n[a].values)}return function(t,e,n){if(void 0===n&&(n={}),!e)return[t];var r=(0,nE.Ms)(t,e),i=[];if(1===e.length&&n[e[0]])for(var o=0,a=n[e[0]];o<a.length;o++){var u=a[o],s=r["_".concat(u)];s&&i.push(s)}else for(var l in r)if(r.hasOwnProperty(l)){var c=r[l];i.push(c)}return i}(t,i,r)},e.prototype.updateStackRange=function(t,e){for(var n=(0,nE.xH)(e),r=t.field,i=t.min,o=t.max,a=0;a<n.length;a++){var u=n[a],s=Math.min.apply(null,u[r]),l=Math.max.apply(null,u[r]);s<i&&(i=s),l>o&&(o=l)}var c=this.scaleDefs,f={};i<t.min&&!(0,nE.U2)(c,[r,"min"])&&(f.min=i),o>t.max&&!(0,nE.U2)(c,[r,"max"])&&(f.max=o),t.change(f)},e.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,r=e.length;n<r;n++){var i=e[n];this.generateShapePoints(i);var o=e[n+1];o&&(this.generateShapePoints(o),i[0].nextPoints=o[0].points)}return e},e.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),r=0;r<t.length;r++){var i=t[r],o=this.createShapePointsCfg(i),a=n?this.getAttributeValues(n,i):null,u=e.getShapePoints(a,o);i.points=u}},e.prototype.normalizeValues=function(t,e){var n=[];if((0,nE.kJ)(t))for(var r=0;r<t.length;r++){var i=t[r];n.push(e.scale(i))}else n=e.scale(t);return n},e.prototype.mapping=function(t){for(var e=this.attributes,n=[],r=0;r<t.length;r++){var i=t[r],o={_origin:i._origin,points:i.points,nextPoints:i.nextPoints};for(var a in e)if(e.hasOwnProperty(a)){var u=e[a],s=u.names,l=this.getAttributeValues(u,i);if(s.length>1)for(var c=0;c<l.length;c+=1){var f=l[c];o[s[c]]=(0,nE.kJ)(f)&&1===f.length?f[0]:f}else o[s[0]]=1===l.length?l[0]:l}this.convertPoint(o),n.push(o)}return n},e.prototype.convertPoint=function(t){var e,n,r,i=t.x,o=t.y,a=this.coordinate;if((0,nE.kJ)(i)&&(0,nE.kJ)(o)){e=[],n=[];for(var u=0,s=0,l=i.length,c=o.length;u<l&&s<c;u+=1,s+=1)r=a.convert({x:i[u],y:o[s]}),e.push(r.x),n.push(r.y)}else if((0,nE.kJ)(o)){n=[];for(var f=0;f<o.length;f++){var d=o[f];r=a.convert({x:i,y:d}),e&&e!==r.x?((0,nE.kJ)(e)||(e=[e]),e.push(r.x)):e=r.x,n.push(r.y)}}else if((0,nE.kJ)(i)){e=[];for(f=0;f<i.length;f++){var h=i[f];r=a.convert({x:h,y:o}),n&&n!==r.y?((0,nE.kJ)(n)||(n=[n]),n.push(r.y)):n=r.y,e.push(r.x)}}else{var p=a.convert({x:i,y:o});e=p.x,n=p.y}t.x=e,t.y=n},e.prototype.getStyleCfg=function(t,e){var n=t.fields,r=void 0===n?[]:n,i=t.callback,o=t.cfg;if(o)return o;var a=r.map((function(t){return e[t]}));return i.apply(void 0,a)},e.prototype.setCfg=function(t){var e=this,n=t.coordinate,r=t.data,i=t.theme,o=t.scaleDefs;n&&(this.coordinate=n),r&&(this.data=r),o&&(this.scaleDefs=o,this.idFields=[],(0,nE.S6)(o,(function(t,n){t&&t.key&&e.idFields.push(n)}))),i&&(this.theme=this.userTheme?(0,nE.b$)({},i,this.userTheme):i)},e.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var n=this.geometryLabel;if(!n){var r=function(t){return NF[t.toLowerCase()]}(this.getLabelType());n=new r(this),this.geometryLabel=n}n.render(t,e);var i=n.labelsRenderer.shapesMap;(0,nE.S6)(this.elementsMap,(function(t,e){var n=function(t,e){var n=[];return(0,nE.S6)(e,(function(e,r){r.split(" ")[0]===t&&n.push(e)})),n}(e,i);if(n.length){t.labelShape=n;for(var r=0;r<n.length;r++)for(var o=n[r].getChildren(),a=0;a<o.length;a++){var u=o[a];u.cfg.name=["element","label"],u.cfg.element=t}}}))},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===(0,nE.U2)(this.animateOption,"appear")||(0,nE.U2)(this.animateOption,"appear")&&void 0===(0,nE.U2)(this.animateOption,["appear","animation"]))},e}(CE),$F=GF,XF=i_.vs;function KF(t,e,n){var r=XF(t.getMatrix(),[["t",e,n]]);t.setMatrix(r)}function ZF(t,e){var n=function(t,e){var n=t.attr(),r=n.x,i=n.y;return XF(t.getMatrix(),[["t",-r,-i],["r",e],["t",r,i]])}(t,e);t.setMatrix(n)}function JF(t){return t.find((function(t){return"text"===t.get("type")}))}function QF(t,e,n){void 0===n&&(n=[0,0,0,0]);var r=t.getChildren()[0];if(r){var i=r.clone();(null===e||void 0===e?void 0:e.rotate)&&ZF(i,-e.rotate);var o=i.getCanvasBBox(),a=o.x,u=o.y,s=o.width,l=o.height;i.destroy();var c=n;return(0,nE.UM)(c)?c=[2,2,2,2]:(0,nE.hj)(c)&&(c=new Array(4).fill(c)),{x:a-c[3],y:u-c[0],width:s+c[1]+c[3],height:l+c[0]+c[2],rotation:(null===e||void 0===e?void 0:e.rotate)||0}}}function tN(t,e){var n=t.getBBox();return(0,nE.G)(e,(function(t){var e=t.getBBox();return function(t,e,n){return void 0===n&&(n=0),Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))}(n,e,2)>0}))}function eN(t,e,n){var r=n.data,i=n.origin,o=n.animateCfg,a=n.coordinate,u=(0,nE.U2)(o,"update");t.set("data",r),t.set("origin",i),t.set("animateCfg",o),t.set("coordinate",a),t.set("visible",e.get("visible")),t.getChildren().forEach((function(s,l){var c=e.getChildByIndex(l);if(c){s.set("data",r),s.set("origin",i),s.set("animateCfg",o),s.set("coordinate",a);var f=cP(s,c);u?TF(s,u,{toAttrs:f,coordinate:a}):s.attr(f),c.isGroup()&&eN(s,c,n)}else t.removeChild(s),s.remove(!0)})),(0,nE.S6)(e.getChildren(),(function(e,n){n>=t.getCount()&&(e.destroyed||t.add(e))}))}var nN=function(){function t(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}return t.prototype.render=function(t,e,n){var r=this;void 0===n&&(n=!1),this.shapesMap={};var i=this.container,o=this.createOffscreenGroup();if(t.length){for(var a=0,u=t;a<u.length;a++){var s=u[a];s&&this.renderLabel(s,o)}this.doLayout(t,e),this.renderLabelLine(t),this.renderLabelBackground(t),this.adjustLabel(t)}var l=this.lastShapesMap,c=this.shapesMap;(0,nE.S6)(c,(function(t,e){if(t.destroyed)delete c[e];else{if(l[e]){var o=t.get("data"),a=t.get("origin"),u=t.get("coordinate"),s=t.get("animateCfg"),f=l[e];eN(f,c[e],{data:o,origin:a,animateCfg:s,coordinate:u}),r.shapesMap[e]=f}else{i.add(t);var d=(0,nE.U2)(t.get("animateCfg"),n?"enter":"appear");d&&TF(t,d,{toAttrs:(0,eE.pi)({},t.attr()),coordinate:t.get("coordinate")})}delete l[e]}})),(0,nE.S6)(l,(function(t){var e=(0,nE.U2)(t.get("animateCfg"),"leave");e?TF(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)})),this.lastShapesMap=c,o.destroy()},t.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},t.prototype.renderLabel=function(t,e){var n,r=t.id,i=t.elementId,o=t.data,a=t.mappingData,u=t.coordinate,s=t.animate,l=t.content,c={id:r,elementId:i,data:o,origin:(0,eE.pi)((0,eE.pi)({},a),{data:a._origin}),coordinate:u},f=e.addGroup((0,eE.pi)({name:"label",animateCfg:!1!==this.animate&&null!==s&&!1!==s&&(0,nE.b$)({},this.animate,s)},c));if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var d=l.getCanvasBBox(),h=d.width,p=d.height,v=(0,nE.U2)(t,"textAlign","left"),g=t.x;"center"===v?g-=h/2:"right"!==v&&"end"!==v||(g-=h),KF(l,g,t.y-p/2),n=l,f.add(l)}else{var m=(0,nE.U2)(t,["style","fill"]);n=f.addShape("text",(0,eE.pi)({attrs:(0,eE.pi)((0,eE.pi)({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:(0,nE.U2)(t,"textBaseline","middle"),text:t.content},t.style),{fill:(0,nE.Ft)(m)?t.color:m})},c))}t.rotate&&ZF(n,t.rotate),this.shapesMap[r]=f},t.prototype.doLayout=function(t,e){var n=this;if(this.layout){var r=(0,nE.kJ)(this.layout)?this.layout:[this.layout];(0,nE.S6)(r,(function(r){var i=function(t){return IF[t.toLowerCase()]}((0,nE.U2)(r,"type",""));if(i){var o=[],a=[];(0,nE.S6)(n.shapesMap,(function(t,n){o.push(t),a.push(e[t.get("elementId")])})),i(t,o,a,n.region,r.cfg)}}))}},t.prototype.renderLabelLine=function(t){var e=this;(0,nE.S6)(t,(function(t){var n=(0,nE.U2)(t,"coordinate");if(t&&n){var r=n.getCenter(),i=n.getRadius();if(t.labelLine){var o=(0,nE.U2)(t,"labelLine",{}),a=t.id,u=o.path;if(!u){var s=aP(r.x,r.y,i,t.angle);u=[["M",s.x,s.y],["L",t.x,t.y]]}var l=e.shapesMap[a];l.destroyed||l.addShape("path",{capture:!1,attrs:(0,eE.pi)({path:u,stroke:t.color?t.color:(0,nE.U2)(t,["style","fill"],"#000"),fill:null},o.style),id:a,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}}}))},t.prototype.renderLabelBackground=function(t){var e=this;(0,nE.S6)(t,(function(t){var n=(0,nE.U2)(t,"coordinate"),r=(0,nE.U2)(t,"background");if(r&&n){var i=t.id,o=e.shapesMap[i];if(!o.destroyed){var a=o.getChildren()[0];if(a){var u=QF(o,t,r.padding),s=u.rotation,l=(0,eE._T)(u,["rotation"]),c=o.addShape("rect",{attrs:(0,eE.pi)((0,eE.pi)({},l),r.style||{}),id:i,origin:t.mappingData,data:t.data,coordinate:t.coordinate});if(c.setZIndex(-1),s){var f=a.getMatrix();c.setMatrix(f)}}}}}))},t.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},t.prototype.adjustLabel=function(t){var e=this;(0,nE.S6)(t,(function(t){if(t){var n=t.id,r=e.shapesMap[n];if(!r.destroyed){var i=r.findAll((function(t){return"path"!==t.get("type")}));(0,nE.S6)(i,(function(e){e&&(t.offsetX&&e.attr("x",e.attr("x")+t.offsetX),t.offsetY&&e.attr("y",e.attr("y")+t.offsetY))}))}}}))},t}(),rN=nN;function iN(t){var e=0;return(0,nE.S6)(t,(function(t){e+=t})),e/t.length}var oN=function(){function t(t){this.geometry=t}return t.prototype.getLabelItems=function(t){var e=this,n=[],r=this.getLabelCfgs(t);return(0,nE.S6)(t,(function(t,i){var o=r[i];if(!o||(0,nE.UM)(t.x)||(0,nE.UM)(t.y))n.push(null);else{var a=(0,nE.kJ)(o.content)?o.content:[o.content];o.content=a;var u=a.length;(0,nE.S6)(a,(function(r,i){if((0,nE.UM)(r)||""===r)n.push(null);else{var a=(0,eE.pi)((0,eE.pi)({},o),e.getLabelPoint(o,t,i));a.textAlign||(a.textAlign=e.getLabelAlign(a,i,u)),a.offset<=0&&(a.labelLine=null),n.push(a)}}))}})),n},t.prototype.render=function(t,e){void 0===e&&(e=!1);var n=this.getLabelItems(t),r=this.getLabelsRenderer(),i=this.getGeometryShapes();r.render(n,i,e)},t.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},t.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(t,e){var n=this.geometry,r=n.type,i=n.theme;return"polygon"===r||"interval"===r&&"middle"===e||t<0&&!["line","point","path"].includes(r)?(0,nE.U2)(i,"innerLabels",{}):(0,nE.U2)(i,"labels",{})},t.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.type,i=e.theme;return"polygon"===r||t.offset<0&&!["line","point","path"].includes(r)?(0,nE.b$)({},n,i.innerLabels,t):(0,nE.b$)({},n,i.labels,t)},t.prototype.setLabelPosition=function(t,e,n,r){},t.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},t.prototype.getLabelOffsetPoint=function(t,e,n){var r=t.offset,i=this.getCoordinate().isTransposed,o=i?"x":"y",a=i?1:-1,u={x:0,y:0};return u[o]=e>0||1===n?r*a:r*a*-1,u},t.prototype.getLabelPoint=function(t,e,n){var r=this.getCoordinate(),i=t.content.length;function o(e,n,r){void 0===r&&(r=!1);var i=e;return(0,nE.kJ)(i)&&(i=1===t.content.length?r?iN(i):i.length<=2?i[e.length-1]:iN(i):i[n]),i}var a={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},u=(0,nE.kJ)(e.shape)?e.shape[0]:e.shape,s="funnel"===u||"pyramid"===u;if("polygon"===this.geometry.type){var l=function(t,e){if((0,nE.hj)(t)&&(0,nE.hj)(e))return[t,e];if(e=e,iP(t=t)||iP(e))return[oP(t),oP(e)];for(var n,r,i=-1,o=0,a=0,u=t.length-1,s=0;++i<t.length;)n=u,u=i,s+=r=t[n]*e[u]-t[u]*e[n],o+=(t[n]+t[u])*r,a+=(e[n]+e[u])*r;return[o/(s*=3),a/s]}(e.x,e.y);a.x=l[0],a.y=l[1]}else"interval"!==this.geometry.type||s?(a.x=o(e.x,n),a.y=o(e.y,n)):(a.x=o(e.x,n,!0),a.y=o(e.y,n));if(s){var c=(0,nE.U2)(e,"nextPoints"),f=(0,nE.U2)(e,"points");if(c){var d=r.convert(f[1]),h=r.convert(c[1]);a.x=(d.x+h.x)/2,a.y=(d.y+h.y)/2}else if("pyramid"===u){d=r.convert(f[1]),h=r.convert(f[2]);a.x=(d.x+h.x)/2,a.y=(d.y+h.y)/2}}t.position&&this.setLabelPosition(a,e,n,t.position);var p=this.getLabelOffsetPoint(t,n,i);return a.start={x:a.x,y:a.y},a.x+=p.x,a.y+=p.y,a.color=e.color,a},t.prototype.getLabelAlign=function(t,e,n){var r="center";if(this.getCoordinate().isTransposed){var i=t.offset;r=i<0?"right":0===i?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},t.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,r=e.getXScale(),i=e.getYScale(),o=t._origin,a=e.getElementId(t);return"line"===n||"area"===n?a+=" ".concat(o[r.field]):"path"===n&&(a+=" ".concat(o[r.field],"-").concat(o[i.field])),a},t.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,r=t.canvasRegion,i=t.animateOption,o=this.geometry.coordinate,a=this.labelsRenderer;return a||(a=new rN({container:e,layout:(0,nE.U2)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=a),a.region=r,a.animate=!!i&&AF("label",o),a},t.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,r=n.labelOption,i=n.scales,o=n.coordinate,a=r,u=a.fields,s=a.callback,l=a.cfg,c=u.map((function(t){return i[t]})),f=[];return(0,nE.S6)(t,(function(t,n){var r,i=t._origin,a=e.getLabelText(i,c);if(s){var d=u.map((function(t){return i[t]}));if(r=s.apply(void 0,d),(0,nE.UM)(r))return void f.push(null)}var h=(0,eE.pi)((0,eE.pi)({id:e.getLabelId(t),elementId:e.geometry.getElementId(t),data:i,mappingData:t,coordinate:o},l),r);(0,nE.mf)(h.position)&&(h.position=h.position(i,t,n));var p=e.getLabelOffset(h.offset||0),v=e.getDefaultLabelCfg(p,h.position);(h=(0,nE.b$)({},v,h)).offset=e.getLabelOffset(h.offset||0);var g=h.content;(0,nE.mf)(g)?h.content=g(i,t,n):(0,nE.o8)(g)&&(h.content=a[0]),f.push(h)})),f},t.prototype.getLabelText=function(t,e){var n=[];return(0,nE.S6)(e,(function(e){var r=t[e.field];r=(0,nE.kJ)(r)?r.map((function(t){return e.getText(t)})):e.getText(r),(0,nE.UM)(r)||""===r?n.push(null):n.push(r)})),n},t.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate(),n=0;return(0,nE.hj)(t)&&(n=t),e.isTransposed?e.applyMatrix(n,0):e.applyMatrix(0,n)},t.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return(0,nE.S6)(t.elementsMap,(function(t,n){e[n]=t.shape})),(0,nE.S6)(t.getOffscreenGroup().getChildren(),(function(n){var r=t.getElementId(n.get("origin").mappingData);e[r]=n})),e},t}(),aN=oN;function uN(t,e,n){if(!t)return n;var r;if(t.callback&&t.callback.length>1){var i=Array(t.callback.length-1).fill("");r=t.mapping.apply(t,(0,eE.ev)([e],i,!1)).join("")}else r=t.mapping(e).join("");return r||n}var sN={hexagon:function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}},lN=["line","cross","tick","plus","hyphen"];function cN(t){var e=t.symbol;(0,nE.HD)(e)&&sN[e]&&(t.symbol=sN[e])}function fN(t){return t.startsWith(XC.LEFT)||t.startsWith(XC.RIGHT)?"vertical":"horizontal"}function dN(t,e,n,r,i){var o=n.getScale(n.type);if(o.isCategory){var a=o.field,u=e.getAttribute("color"),s=e.getAttribute("shape"),l=t.getTheme().defaultColor,c=e.coordinate.isPolar;return o.getTicks().map((function(n,f){var d,h=n.text,p=n.value,v=h,g=o.invert(p),m=0===t.filterFieldData(a,[(d={},d[a]=g,d)]).length;(0,nE.S6)(t.views,(function(t){var e;t.filterFieldData(a,[(e={},e[a]=g,e)]).length||(m=!0)}));var y=uN(u,g,l),x=uN(s,g,"point"),b=e.getShapeMarker(x,{color:y,isInPolar:c}),w=i;return(0,nE.mf)(w)&&(w=w(v,f,(0,eE.pi)({name:v,value:g},(0,nE.b$)({},r,b)))),function(t,e){var n=t.symbol;if((0,nE.HD)(n)&&-1!==lN.indexOf(n)){var r=(0,nE.U2)(t,"style",{}),i=(0,nE.U2)(r,"lineWidth",1),o=r.stroke||r.fill||e;t.style=(0,nE.b$)({},t.style,{lineWidth:i,stroke:o,fill:null})}}(b=(0,nE.b$)({},r,b,dP((0,eE.pi)({},w),["style"])),y),w&&w.style&&(b.style=function(t,e){return(0,nE.mf)(e)?e(t):(0,nE.b$)({},t,e)}(b.style,w.style)),cN(b),{id:g,name:v,value:g,marker:b,unchecked:m}}))}return[]}function hN(t,e){var n=(0,nE.U2)(t,["components","legend"],{});return(0,nE.b$)({},(0,nE.U2)(n,["common"],{}),(0,nE.b$)({},(0,nE.U2)(n,[e],{})))}function pN(t){return!t&&(null===t||void 0===t||isNaN(t))}function vN(t){if((0,nE.kJ)(t))return pN(t[1].y);var e=t.y;return(0,nE.kJ)(e)?pN(e[0]):pN(e)}function gN(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e){for(var r=[],i=0,o=t.length;i<o;i++){vN(s=t[i])||r.push(s)}return[r]}var a=[],u=[];for(i=0,o=t.length;i<o;i++){var s;vN(s=t[i])?u.length&&((1!==u.length||n)&&a.push(u),u=[]):u.push(s)}return u.length&&a.push(u),a}function mN(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return o&&(e.push(["L",o.x,o.y]),e.push(["z"])),e}function yN(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var o=KP(n,!1),a=KP(r,!1);r.length&&o.push(["L",r[0].x,r[0].y]),a.shift();var u=o.concat(a);return n.length&&u.push(["L",n[0].x,n[0].y]),u.push(["z"]),u}function xN(t,e,n,r){void 0===r&&(r="");var i=t.style,o=void 0===i?{}:i,a=t.defaultStyle,u=t.color,s=t.size,l=(0,eE.pi)((0,eE.pi)({},a),o);return u&&(e&&(o.stroke||(l.stroke=u)),n&&(o.fill||(l.fill=u))),r&&(0,nE.UM)(o[r])&&!(0,nE.UM)(s)&&(l[r]=s),l}function bN(t){return(0,nE.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,nE.U2)(t,["background","style"]))}function wN(t){var e=t.x;return((0,nE.kJ)(t.y)?t.y:[t.y]).map((function(t,n){return{x:(0,nE.kJ)(e)?e[n]:e,y:t}}))}var SN={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function kN(t,e){var n=t.color;return{symbol:SN[e],style:{lineWidth:2,r:6,stroke:n}}}function CN(t,e,n,r,i){return 1===t.length?[["M",t[0].x,t[0].y-i.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+i.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),o=KP(t,!1,r)):(o=XP(t,!1),e&&o.push(["Z"])),o);var o}function EN(t,e,n,r,i,o){if(t.length){var a=t[0];return(0,nE.kJ)(a.y)?function(t,e,n,r,i,o){var a=[],u=[];(0,nE.S6)(t,(function(t){var e=wN(t);a.push(e[1]),u.push(e[0])}));var s=CN(a,e,r,i,o),l=CN(u,e,r,i,o);return n?s:s.concat(l)}(t,e,n,r,i,o):CN(t,e,r,i,o)}return[]}UF("line",{defaultShapeType:"line"});(0,nE.S6)(["line","dot","dash","smooth"],(function(t){HF("line",t,{draw:function(e,n){var r,i="smooth"===t;if(i){var o=this.coordinate,a=o.start,u=o.end;r=[[a.x,u.y],[u.x,a.y]]}var s=function(t,e,n){for(var r=t.isStack,i=t.connectNulls,o=t.isInCircle,a=t.showSinglePoint,u=xN(t,!0,!1,"lineWidth"),s=gN(t.points,i,a),l=[],c=0,f=s.length;c<f;c++){var d=s[c];l=l.concat(EN(d,o,r,e,n,u))}return u.path=l,u}(e,i,r);return n.addShape({type:"path",attrs:s,name:"line",capture:!i})},getMarker:function(e){return kN(e,t)}})}));var ON={getLegendItems:dN,translate:KF,rotate:ZF,zoom:function(t,e){var n=t.getBBox(),r=(n.minX+n.maxX)/2,i=(n.minY+n.maxY)/2;t.applyToMatrix([r,i,1]);var o=XF(t.getMatrix(),[["t",-r,-i],["s",e,e],["t",r,i]]);t.setMatrix(o)},transform:XF,getAngle:lP,getSectorPath:uP,polarToCartesian:aP,getDelegationObject:tD,getTooltipItems:tF,getMappingValue:uN,getPath:EN,getPathPoints:gN},MN="#000",_N="#BFBFBF",AN="#F0F0F0",TN="#FFFFFF",PN="#A6A6A6",DN="#737373",FN="#404040",NN="#262626",IN=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],LN=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],RN=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],jN=function(t){void 0===t&&(t={});var e=t.backgroundColor,n=void 0===e?"#141414":e,r=t.subColor,i=void 0===r?"rgba(255,255,255,0.05)":r,o=t.paletteQualitative10,a=void 0===o?IN:o,u=t.paletteQualitative20,s=void 0===u?LN:u,l=t.paletteSemanticRed,c=void 0===l?"#F4664A":l,f=t.paletteSemanticGreen,d=void 0===f?"#30BF78":f,h=t.paletteSemanticYellow,p=void 0===h?"#FAAD14":h,v=t.paletteSequence,g=void 0===v?RN:v,m=t.fontFamily,y=void 0===m?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':m,x=t.brandColor;return{backgroundColor:n,brandColor:void 0===x?a[0]:x,subColor:i,paletteQualitative10:a,paletteQualitative20:s,paletteSemanticRed:c,paletteSemanticGreen:d,paletteSemanticYellow:p,paletteSequence:g,fontFamily:y,axisLineBorderColor:FN,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:PN,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:FN,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:NN,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:DN,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:NN,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:DN,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:IN[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:PN,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:DN,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:DN,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:PN,legendPageNavigatorTextFontSize:12,sliderRailFillColor:NN,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:DN,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:AN,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:_N,annotationArcBorderColor:NN,annotationArcBorder:1,annotationLineBorderColor:FN,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:PN,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:TN,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:FN,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:PN,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:PN,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:MN,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:PN,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:MN,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:FN,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:IN[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:MN,pointBorderOpacity:1,pointActiveBorderColor:TN,pointSelectedBorder:2,pointSelectedBorderColor:TN,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:IN[0],hollowPointBorderOpacity:.95,hollowPointFillColor:MN,hollowPointActiveBorder:1,hollowPointActiveBorderColor:TN,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:TN,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:IN[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:IN[0],areaFillOpacity:.25,areaActiveFillColor:IN[0],areaActiveFillOpacity:.5,areaSelectedFillColor:IN[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:IN[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:TN,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:TN,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:IN[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:TN,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:TN,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:IN[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:MN,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:TN,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:TN,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}}();function BN(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function zN(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function UN(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function HN(t,e){return t[0]===e[0]&&t[1]===e[1]}var VN=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,WN=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,YN=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,qN=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function GN(t,e){var n=t.match(qN);(0,nE.S6)(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function $N(t,e,n){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,nE.HD)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var r,i,o=VN.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),u=o[2],s=e.getBBox();a>=0&&a<.5*Math.PI?(r={x:s.minX,y:s.minY},i={x:s.maxX,y:s.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:s.maxX,y:s.minY},i={x:s.minX,y:s.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:s.maxX,y:s.maxY},i={x:s.minX,y:s.minY}):(r={x:s.minX,y:s.maxY},i={x:s.maxX,y:s.minY});var l=Math.tan(a),c=l*l,f=(i.x-r.x+l*(i.y-r.y))/(c+1)+r.x,d=l*(i.x-r.x+l*(i.y-r.y))/(c+1)+r.y,h=t.createLinearGradient(r.x,r.y,f,d);return GN(u,h),h}(t,e,n);if("r"===n[0])return function(t,e,n){var r=WN.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),u=r[4];if(0===a){var s=u.match(qN);return s[s.length-1].split(":")[1]}var l=e.getBBox(),c=l.maxX-l.minX,f=l.maxY-l.minY,d=Math.sqrt(c*c+f*f)/2,h=t.createRadialGradient(l.minX+c*i,l.minY+f*o,0,l.minX+c/2,l.minY+f/2,a*d);return GN(u,h),h}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=YN.exec(n),a=o[1],u=o[2];function s(){r=t.createPattern(i,a),e.set("pattern",r),e.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return i=new Image,u.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=u,i.complete?s():(i.onload=s,i.src=i.src),r}(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function XN(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function KN(t,e){return XN(t)*XN(e)?(t[0]*e[0]+t[1]*e[1])/(XN(t)*XN(e)):1}function ZN(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(KN(t,e))}function JN(t,e){var n=e[1],r=e[2],i=(0,nE.wQ)((0,nE.c$)(e[3]),2*Math.PI),o=e[4],a=e[5],u=t[0],s=t[1],l=e[6],c=e[7],f=Math.cos(i)*(u-l)/2+Math.sin(i)*(s-c)/2,d=-1*Math.sin(i)*(u-l)/2+Math.cos(i)*(s-c)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*d/r:0,m=n?v*-r*f/n:0,y=(u+l)/2+Math.cos(i)*g-Math.sin(i)*m,x=(s+c)/2+Math.sin(i)*g+Math.cos(i)*m,b=[(f-g)/n,(d-m)/r],w=[(-1*f-g)/n,(-1*d-m)/r],S=ZN([1,0],b),k=ZN(b,w);return KN(b,w)<=-1&&(k=Math.PI),KN(b,w)>=1&&(k=0),0===a&&k>0&&(k-=2*Math.PI),1===a&&k<0&&(k+=2*Math.PI),{cx:y,cy:x,rx:HN(t,[l,c])?0:n,ry:HN(t,[l,c])?0:r,startAngle:S,endAngle:S+k,xRotation:i,arcFlag:o,sweepFlag:a}}var QN=Math.sin,tI=Math.cos,eI=Math.atan2,nI=Math.PI;function rI(t,e,n,r,i,o,a){var u=e.stroke,s=e.lineWidth,l=eI(r-o,n-i),c=new GI({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*tI(nI/6)+","+10*QN(nI/6)+" L0,0 L"+10*tI(nI/6)+",-"+10*QN(nI/6),stroke:u,lineWidth:s}});c.translate(i,o),c.rotateAtPoint(i,o,l),t.set(a?"startArrowShape":"endArrowShape",c)}function iI(t,e,n,r,i,o,a){var u=e.startArrow,s=e.endArrow,l=e.stroke,c=e.lineWidth,f=a?u:s,d=f.d,h=f.fill,p=f.stroke,v=f.lineWidth,g=(0,eE._T)(f,["d","fill","stroke","lineWidth"]),m=eI(r-o,n-i);d&&(i-=tI(m)*d,o-=QN(m)*d);var y=new GI({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:(0,eE.pi)((0,eE.pi)({},g),{stroke:p||l,lineWidth:v||c,fill:h})});y.translate(i,o),y.rotateAtPoint(i,o,m),t.set(a?"startArrowShape":"endArrowShape",y)}function oI(t,e,n,r,i){var o=eI(r-e,n-t);return{dx:tI(o)*i,dy:QN(o)*i}}function aI(t,e,n,r,i,o){"object"===typeof e.startArrow?iI(t,e,n,r,i,o,!0):e.startArrow?rI(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function uI(t,e,n,r,i,o){"object"===typeof e.endArrow?iI(t,e,n,r,i,o,!1):e.endArrow?rI(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}var sI={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function lI(t,e){var n=e.attr();for(var r in n){var i=n[r],o=sI[r]?sI[r]:r;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?(0,nE.kJ)(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=$N(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function cI(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function fI(t,e,n){var r=t.get("refreshElements");(0,nE.S6)(r,(function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===t?pI(e,n):dI(e,n)}function dI(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&pI(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&dI(r.cfg.children,e);else{var i=vI(r,e);r.cfg.refresh=i,i&&r.isGroup()&&dI(r.cfg.children,e)}}}function hI(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&hI(n.cfg.children)}}function pI(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&pI(r.get("children"),e)}}function vI(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&UN(n,e)}function gI(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var u=[0,0],s=[0,0],l={dx:0,dy:0};e.beginPath();for(var c=0;c<i.length;c++){var f=i[c],d=f[0];if(0===c&&o&&o.d)l=oI((h=t.getStartTangent())[0][0],h[0][1],h[1][0],h[1][1],o.d);else if(c===i.length-2&&"Z"===i[c+1][0]&&a&&a.d){if("Z"===i[c+1][0])l=oI((h=t.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}else if(c===i.length-1&&a&&a.d){var h;if("Z"!==i[0])l=oI((h=t.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}var p=l.dx,v=l.dy;switch(d){case"M":e.moveTo(f[1]-p,f[2]-v),s=[f[1],f[2]];break;case"L":e.lineTo(f[1]-p,f[2]-v);break;case"Q":e.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-v);break;case"C":e.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-v);break;case"A":var g=void 0;r?(g=r[c])||(g=JN(u,f),r[c]=g):g=JN(u,f);var m=g.cx,y=g.cy,x=g.rx,b=g.ry,w=g.startAngle,S=g.endAngle,k=g.xRotation,C=g.sweepFlag;if(e.ellipse)e.ellipse(m,y,x,b,k,w,S,1-C);else{var E=x>b?x:b,O=x>b?1:x/b,M=x>b?b/x:1;e.translate(m,y),e.rotate(k),e.scale(O,M),e.arc(0,0,E,w,S,1-C),e.scale(1/O,1/M),e.rotate(-k),e.translate(-m,-y)}break;case"Z":e.closePath()}if("Z"===d)u=s;else{var _=f.length;u=[f[_-2],f[_-1]]}}}}function mI(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function yI(t){var e,n,r;if(t.destroyed)e=t._cacheCanvasBBox;else{var i=t.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=t.getCanvasBBox(),u=a&&!(!a.width||!a.height);o&&u?(r=a,e=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?e=i:u&&(e=a)}return e}var xI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.onCanvasChange=function(t){mI(this,t)},e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),lI(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];(0,nE.S6)(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=(0,nE.VV)(e),o=(0,nE.Fp)(e),a=(0,nE.VV)(n),u=(0,nE.Fp)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:u,width:o-i,height:u-a};var s=this.cfg.canvas;if(s){var l=s.getViewRange();this.set("isInView",UN(r,l))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),lI(t,this),this._applyClip(t,this.getClip()),cI(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(EE.AbstractGroup),bI=xI,wI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return bI},e.prototype.onCanvasChange=function(t){mI(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,EE.getBBoxMethod)(t)(this),r=e/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,u=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:u}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),lI(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!UN(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),lI(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=UN(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&((0,nE.UM)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&((0,nE.UM)(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(EE.AbstractShape),SI=wI,kI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,u=o.y,s=o.r,l=i/2,c=BN(a,u,t,e);return r&&n?c<=s+l:r?c<=s:!!n&&(c>=s-l&&c<=s+l)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(SI),CI=kI;function EI(t,e,n,r){return t/(n*n)+e/(r*r)}var OI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,u=o.x,s=o.y,l=o.rx,c=o.ry,f=(t-u)*(t-u),d=(e-s)*(e-s);return r&&n?EI(f,d,l+a,c+a)<=1:r?EI(f,d,l,c)<=1:!!n&&(EI(f,d,l-a,c-a)>=1&&EI(f,d,l+a,c+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,u=i>o?1:i/o,s=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(u,s),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(SI),MI=OI;function _I(t){return t instanceof HTMLElement&&(0,nE.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var AI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,nE.HD)(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):_I(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,u=e.sy,s=e.swidth,l=e.sheight,c=e.img;(c instanceof Image||_I(c))&&((0,nE.UM)(a)||(0,nE.UM)(u)||(0,nE.UM)(s)||(0,nE.UM)(l)?t.drawImage(c,n,r,i,o):t.drawImage(c,a,u,s,l,n,r,i,o))},e}(SI),TI=AI,PI=n(1622);function DI(t,e,n,r,i,o,a){var u=Math.min(t,n),s=Math.max(t,n),l=Math.min(e,r),c=Math.max(e,r),f=i/2;return o>=u-f&&o<=s+f&&a>=l-f&&a<=c+f&&PI.x1.pointToLine(t,e,n,r,o,a)<=i/2}var FI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&aI(this,t,r,i,e,n),a&&uI(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr();return DI(o.x1,o.y1,o.x2,o.y2,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,u=e.endArrow,s={dx:0,dy:0},l={dx:0,dy:0};a&&a.d&&(s=oI(n,r,i,o,e.startArrow.d)),u&&u.d&&(l=oI(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+s.dx,r+s.dy),t.lineTo(i-l.dx,o-l.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return PI.x1.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return PI.x1.pointAt(n,r,i,o,t)},e}(SI),NI=FI,II={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},LI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,nE.UM)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",u=this._getR(r);if((0,nE.mf)(a))n=(t=a)(i,o,u),n=(0,IT.wb)(n);else{if(!(t=e.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=t(i,o,u)}return n},e.prototype.createPath=function(t){gI(this,t,{path:this._getPath()},this.get("paramsCache"))},e.Symbols=II,e}(SI),RI=LI;function jI(t,e,n){var r=(0,EE.getOffScreenContext)();return t.createPath(r),r.isPointInPath(e,n)}function BI(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function zI(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function UI(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],u=t[(o+1)%i];if(zI(a,u,[e,n]))return!0;BI(a[1]-n)>0!==BI(u[1]-n)>0&&BI(e-(n-a[1])*(a[0]-u[0])/(a[1]-u[1])-a[0])<0&&(r=!r)}return r}function HI(t,e,n,r,i,o,a,u){var s=(Math.atan2(u-e,a-t)+2*Math.PI)%(2*Math.PI);if(s<r||s>i)return!1;var l={x:t+n*Math.cos(s),y:e+n*Math.sin(s)};return BN(l.x,l.y,a,u)<=o/2}var VI=i_.vs;var WI=(0,eE.pi)({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],u=a[0];"M"===u?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===u?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var o=!1,a=e/2,u=0;u<t.length;u++){var s=t[u],l=s.currentPoint,c=s.params,f=s.prePoint,d=s.box;if(!d||zN(d.x-a,d.y-a,d.width+e,d.height+e,n,r)){switch(s.command){case"L":case"Z":o=DI(f[0],f[1],l[0],l[1],e,n,r);break;case"Q":o=PI.lD.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],n,r)<=e/2;break;case"C":o=PI.Ll.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i)<=e/2;break;case"A":var h=s.arcParams,p=h.cx,v=h.cy,g=h.rx,m=h.ry,y=h.startAngle,x=h.endAngle,b=h.xRotation,w=[n,r,1],S=g>m?g:m;n_(w,w,VI(null,[["t",-p,-v],["r",-b],["s",1/(g>m?1:g/m),1/(g>m?m/g:1)]])),o=HI(0,0,S,y,x,e,w[0],w[1])}if(o)break}}return o}},EE.PathUtil);function YI(t,e,n){for(var r=!1,i=0;i<t.length;i++){if(r=UI(t[i],e,n))break}return r}var qI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=(0,IT.wb)(t);var e=WI.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,IT.zx)(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,r=e.endArrow;n&&aI(this,e,(t=this.getStartTangent())[0][0],t[0][1],t[1][0],t[1][1]);r&&uI(this,e,(t=this.getEndTangent())[0][0],t[0][1],t[1][0],t[1][1])},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),u=!1;if(n){var s=this.getTotalLength();u=WI.isPointInStroke(o,i,t,e,s)}if(!u&&r)if(a)u=jI(this,t,e);else{var l=this.attr("path"),c=WI.extractPolygons(l);u=YI(c.polygons,t,e)||YI(c.polylines,t,e)}return u},e.prototype.createPath=function(t){gI(this,t,this.attr(),this.get("paramsCache"))},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,nE.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,nE.S6)(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if((0,nE.UM)(o)||(0,nE.UM)(n))return null;var a=o.length,u=i[n+1];return PI.Ll.pointAt(o[a-2],o[a-1],u[1],u[2],u[3],u[4],u[5],u[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",WI.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,a=[],u=this.get("curve");u&&((0,nE.S6)(u,(function(t,e){n=u[e+1],r=t.length,n&&(i+=PI.Ll.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,nE.S6)(u,(function(s,l){n=u[l+1],r=s.length,n&&((t=[])[0]=o/i,e=PI.Ll.length(s[r-2],s[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,a.push(t))})),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(SI),GI=qI;function $I(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(DI(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0}if(i){var u=t[0],s=t[o-1];if(DI(u[0],u[1],s[0],s[1],e,n,r))return!0}return!1}var XI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=$I(o,i,t,e,!0)),!a&&r&&(a=UI(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(SI),KI=XI,ZI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],u=n[0][1],s=n[o-1][0],l=n[o-1][1];r&&aI(this,t,n[1][0],n[1][1],a,u),i&&uI(this,t,n[o-2][0],n[o-2][1],s,l)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!(!n||!i)&&$I(this.attr().points,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,u=n[0][0],s=n[0][1],l=n[o-1][0],c=n[o-1][1];if(r&&r.d)u+=(a=oI(u,s,n[1][0],n[1][1],r.d)).dx,s+=a.dy;if(i&&i.d)l-=(a=oI(n[o-2][0],n[o-2][1],l,c,i.d)).dx,c-=a.dy;t.beginPath(),t.moveTo(u,s);for(var f=0;f<o-1;f++){var d=n[f];t.lineTo(d[0],d[1])}t.lineTo(l,c)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,nE.UM)(e)?(this.set("totalLength",PI.aH.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,nE.S6)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),PI.x1.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];(0,nE.S6)(t,(function(a,u){t[u+1]&&((n=[])[0]=i/e,r=PI.x1.length(a[0],a[1],t[u+1][0],t[u+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(SI),JI=ZI;var QI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,u=o.y,s=o.width,l=o.height,c=o.radius;if(c){var f=!1;return n&&(f=function(t,e,n,r,i,o,a,u){return DI(t+i,e,t+n-i,e,o,a,u)||DI(t+n,e+i,t+n,e+r-i,o,a,u)||DI(t+n-i,e+r,t+i,e+r,o,a,u)||DI(t,e+r-i,t,e+i,o,a,u)||HI(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,u)||HI(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,u)||HI(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,u)||HI(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,u)}(a,u,s,l,c,i,t,e)),!f&&r&&(f=jI(this,t,e)),f}var d=i/2;return r&&n?zN(a-d,u-d,s+d,l+d,t,e):r?zN(a,u,s,l,t,e):n?function(t,e,n,r,i,o,a){var u=i/2;return zN(t-u,e-u,n,i,o,a)||zN(t+n-u,e-u,i,r,o,a)||zN(t+u,e+r-u,n,i,o,a)||zN(t-u,e+u,i,r,o,a)}(a,u,s,l,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,r,i,o);else{var u=function(t){var e=0,n=0,r=0,i=0;return(0,nE.kJ)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}(a),s=u[0],l=u[1],c=u[2],f=u[3];t.moveTo(n+s,r),t.lineTo(n+i-l,r),0!==l&&t.arc(n+i-l,r+l,l,-Math.PI/2,0),t.lineTo(n+i,r+o-c),0!==c&&t.arc(n+i-c,r+o-c,c,0,Math.PI/2),t.lineTo(n+f,r+o),0!==f&&t.arc(n+f,r+o-f,f,Math.PI/2,Math.PI),t.lineTo(n,r+s),0!==s&&t.arc(n+s,r+s,s,Math.PI,1.5*Math.PI),t.closePath()}},e}(SI),tL=QI,eL=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,EE.assembleFont)(t)},e.prototype._setText=function(t){var e=null;(0,nE.HD)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,u=i.y,s=1*i.fontSize,l=this._getSpaceingY(),c=(0,EE.getTextHeight)(i.text,i.fontSize,i.lineHeight);(0,nE.S6)(e,(function(e,i){r=u+i*(l+s)-c+s,"middle"===o&&(r+=c-s-(c-s)/2),"top"===o&&(r+=c-s),(0,nE.UM)(e)||(n?t.fillText(e,a,r):t.strokeText(e,a,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=n.text;(0,nE.UM)(a)||(e?t.fillText(a,r,i):t.strokeText(a,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&((0,nE.UM)(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&((0,nE.UM)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(SI),nL=eL;function rL(t,e,n){var r=t.getTotalMatrix();if(r){var i=function(t,e){if(e){var n=(0,EE.invert)(e);return(0,EE.multiplyVec2)(n,t)}return t}([e,n,1],r);return[i[0],i[1]]}return[e,n]}function iL(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!(0,EE.isAllowCapture)(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=rL(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return!1}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}function oL(t,e,n){if(!iL(t,e,n))return null;for(var r=null,i=t.getChildren(),o=i.length-1;o>=0;o--){var a=i[o];if(a.isGroup())r=oL(a,e,n);else if(iL(a,e,n)){var u=a,s=rL(a,e,n),l=s[0],c=s[1];u.isInShape(l,c)&&(r=a)}if(r)break}return r}var aL=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return bI},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?oL(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=function(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return(0,nE.S6)(t,(function(t){var o=yI(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:(0,nE.VV)(e),minY:(0,nE.VV)(n),maxX:(0,nE.Fp)(r),maxY:(0,nE.Fp)(i)}}(e),t&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=function(t,e){return t&&e&&UN(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}(t,n))));return t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,nE.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),lI(t,this),cI(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),lI(t,this),fI(this,n,r),cI(t,n,r),t.restore()):e.length&&hI(e),(0,nE.S6)(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,nE.U7)((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(EE.AbstractCanvas),uL=aL,sL="0.5.12",lL={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},cL={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function fL(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function dL(t){var e=lL[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=fL(e);if(t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r}function hL(t,e){var n=t.get("el"),r=(0,nE.qo)(n.children).sort(e),i=document.createDocumentFragment();r.forEach((function(t){i.appendChild(t)})),n.appendChild(i)}function pL(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function vL(t,e){var n=t.getClip(),r=t.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){dL(n),n.createPath(e);var i=e.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function gL(t,e){e.forEach((function(e){e.draw(t)}))}function mL(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=t.getParent(),o=i?i.getChildren():[n],a=t.get("el");if("remove"===e)if(t.get("isClipShape")){var u=a&&a.parentNode,s=u&&u.parentNode;u&&s&&s.removeChild(u)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===e)a.setAttribute("visibility","visible");else if("hide"===e)a.setAttribute("visibility","hidden");else if("zIndex"===e)!function(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=r[e],o=r.indexOf(t);if(i){if(o>e)n.insertBefore(t,i);else if(o<e){var a=r[e+1];a?n.insertBefore(t,a):n.appendChild(t)}}else n.appendChild(t)}(a,o.indexOf(t));else if("sort"===e){var l=t.get("children");l&&l.length&&hL(t,(function(t,e){return l.indexOf(t)-l.indexOf(e)?1:0}))}else"clear"===e?a&&(a.innerHTML=""):"matrix"===e?pL(t):"clip"===e?vL(t,r):"attr"===e||"add"===e&&t.draw(r)}}var yL=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=fL("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){mL(this,t)},e.prototype.getShapeBase=function(){return d},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),vL(this,t),this.createPath(t),e.length&&gL(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,nE.S6)(e||n,(function(t,e){cL[e]&&r.setAttribute(cL[e],t)})),pL(this)},e}(EE.AbstractGroup),xL=yL,bL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return d},e.prototype.getGroupBase=function(){return xL},e.prototype.onCanvasChange=function(t){mL(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,EE.getBBoxMethod)(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,o=e.width,a=e.height,u=this.getHitLineWidth(),s=u/2,l=r-s,c=i-s;return{x:l,y:c,minX:l,minY:c,maxX:r+o+s,maxY:i+a+s,width:o+u,height:a+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||dL(this),vL(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,u=n.fillOpacity,s=n.strokeOpacity,l=n.lineWidth,c=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),u&&c.setAttribute(cL.fillOpacity,u)),this.canStroke&&l>0&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),s&&c.setAttribute(cL.strokeOpacity,s),l&&c.setAttribute(cL.lineWidth,l))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=t.find("gradient",n))||(i=t.addGradient(n)),r.setAttribute(cL[e],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=t.find("pattern",n))||(i=t.addPattern(n)),r.setAttribute(cL[e],"url(#"+i+")")}else r.setAttribute(cL[e],n);else r.setAttribute(cL[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,u=r.shadowColor;(i||o||a||u)&&function(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=e.find("filter",i);o||(o=e.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&pL(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=t+r.left,o=e+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(EE.AbstractShape),wL=bL,SL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,nE.S6)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):cL[e]&&r.setAttribute(cL[e],t)}))},e}(wL),kL=SL,CL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return(0,eE.ZT)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if((0,nE.S6)(e||n,(function(t,e){cL[e]&&r.setAttribute(cL[e],t)})),"function"===typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;a>=0;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},e}(wL),EL=CL,OL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,nE.S6)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):cL[e]&&r.setAttribute(cL[e],t)}))},e}(wL),ML=OL,_L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,nE.S6)(e||r,(function(t,e){"img"===e?n._setImage(r.img):cL[e]&&i.setAttribute(cL[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,nE.HD)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,nE.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(wL),AL=_L,TL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,nE.S6)(e||n,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var o=(0,nE.Kn)(e)?t.addArrow(n,cL[i]):t.getDefaultArrow(n,cL[i]);r.setAttribute(cL[i],"url(#"+o+")")}else r.removeAttribute(cL[i]);else cL[i]&&r.setAttribute(cL[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return PI.x1.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return PI.x1.pointAt(n,r,i,o,t)},e}(wL),PL=TL,DL={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},FL={get:function(t){return DL[t]},register:function(t,e){DL[t]=e},remove:function(t){delete DL[t]},getAll:function(){return DL}},NL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return(0,eE.ZT)(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,nE.kJ)(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.r||e.radius,o=e.symbol||"circle";return(t=(0,nE.mf)(o)?o:FL.get(o))?t(n,r,i):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=FL,e}(wL),IL=NL,LL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,nE.S6)(e||r,(function(e,o){if("path"===o&&(0,nE.kJ)(e))i.setAttribute("d",n._formatPath(e));else if("startArrow"===o||"endArrow"===o)if(e){var a=(0,nE.Kn)(e)?t.addArrow(r,cL[o]):t.getDefaultArrow(r,cL[o]);i.setAttribute(cL[o],"url(#"+a+")")}else i.removeAttribute(cL[o]);else cL[o]&&i.setAttribute(cL[o],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(wL),RL=LL,jL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return(0,eE.ZT)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,nE.S6)(e||n,(function(t,e){"points"===e&&(0,nE.kJ)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):cL[e]&&r.setAttribute(cL[e],t)}))},e}(wL),BL=jL,zL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,nE.S6)(e||n,(function(t,e){"points"===e&&(0,nE.kJ)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):cL[e]&&r.setAttribute(cL[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,nE.UM)(e)?(this.set("totalLength",PI.aH.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,nE.S6)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),PI.x1.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];(0,nE.S6)(t,(function(a,u){t[u+1]&&((n=[])[0]=i/e,r=PI.x1.length(a[0],a[1],t[u+1][0],t[u+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(wL),UL=zL;var HL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];(0,nE.S6)(e||r,(function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&cL[e]&&i.setAttribute(cL[e],t):(i.setAttribute("d",n._assembleRect(r)),o=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=function(t){var e=0,n=0,r=0,i=0;return(0,nE.kJ)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}(o);return(0,nE.kJ)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(e+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},e}(wL),VL=HL,WL=n(9761),YL={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},qL={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},GL={left:"left",start:"left",center:"middle",right:"end",end:"end"},$L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return(0,eE.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,eE.pi)((0,eE.pi)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,nE.S6)(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?pL(n):cL[e]&&i.setAttribute(cL[e],t)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=(0,WL.qY)();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",qL[n]||"alphabetic"):t.setAttribute("alignment-baseline",YL[n]||"baseline"),t.setAttribute("text-anchor",GL[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(t)if(~t.indexOf("\n")){var a=t.split("\n"),u=a.length-1,s="";(0,nE.S6)(a,(function(t,e){0===e?"alphabetic"===o?s+='<tspan x="'+r+'" dy="'+-u+'em">'+t+"</tspan>":"top"===o?s+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===o?s+='<tspan x="'+r+'" dy="'+-(u-1)/2+'em">'+t+"</tspan>":"bottom"===o?s+='<tspan x="'+r+'" dy="-'+(u+.3)+'em">'+t+"</tspan>":"hanging"===o&&(s+='<tspan x="'+r+'" dy="'+(-(u-1)-.3)+'em">'+t+"</tspan>"):s+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=s}else e.innerHTML=t;else e.innerHTML=""},e}(wL),XL=$L,KL=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ZL=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,JL=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function QL(t){var e=t.match(JL);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),(0,nE.S6)(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var tR=function(){function t(t){this.cfg={};var e=null,n=(0,nE.EL)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,r,i=KL.exec(t),o=(0,nE.wQ)((0,nE.c$)(parseFloat(i[1])),2*Math.PI),a=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var u=Math.tan(o),s=u*u,l=(r.x-n.x+u*(r.y-n.y))/(s+1)+n.x,c=u*(r.x-n.x+u*(r.y-n.y))/(s+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",l),e.setAttribute("y2",c),e.innerHTML=QL(a)}(t,e=fL("linearGradient")):function(t,e){var n=ZL.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",o),e.innerHTML=QL(a)}(t,e=fL("radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),eR=tR,nR={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},rR={x:"-40%",y:"-40%",width:"200%",height:"200%"},iR=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=fL("filter");return(0,nE.S6)(rR,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=(0,nE.EL)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return(0,nE.S6)(Object.keys(r),(function(t){if(r[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[nR[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),oR=iR,aR=function(){function t(t,e){this.cfg={};var n=fL("marker"),r=(0,nE.EL)("marker_");n.setAttribute("id",r);var i=fL("path");i.setAttribute("stroke",t.stroke||"none"),i.setAttribute("fill",t.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,i):(this.cfg=o,this._setMarker(t.lineWidth,i)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;(0,nE.kJ)(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",""+i/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),uR=aR,sR=function(){function t(t){this.type="clip",this.cfg={};var e=fL("clipPath");this.el=e,this.id=(0,nE.EL)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),lR=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,cR=function(){function t(t){this.cfg={};var e=fL("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=fL("image");e.appendChild(n);var r=(0,nE.EL)("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=lR.exec(t)[2];n.setAttribute("href",i);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),fR=cR,dR=function(){function t(t){var e=fL("defs"),n=(0,nE.EL)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new uR(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new eR(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new uR(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new oR(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new fR(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new sR(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),hR=dR,pR=function(t){function e(e){return t.call(this,(0,eE.pi)((0,eE.pi)({},e),{autoDraw:!0,renderer:"svg"}))||this}return(0,eE.ZT)(e,t),e.prototype.getShapeBase=function(){return d},e.prototype.getGroupBase=function(){return xL},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!lL[r.tagName]){for(var i=r.parentNode;i&&!lL[i.tagName];)i=i.parentNode;r=i}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var t=fL("svg"),e=new hR(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&hL(this,(function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?pL(this):"clip"===t?vL(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();vL(this,t),e.length&&gL(t,e)},e}(EE.AbstractCanvas),vR=pR,gR="0.5.6",mR=function(t){function e(e){var n=t.call(this,e)||this;n.type="path",n.shapeType="line";var r=e.connectNulls,i=void 0!==r&&r,o=e.showSinglePoint,a=void 0===o||o;return n.connectNulls=i,n.showSinglePoint=a,n}return(0,eE.ZT)(e,t),e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=new Map,r=new Map,i=[],o=0,a=0;a<t.length;a++){var u=t[a],s=this.getElementId(u);i.push(s),n.set(s,u),r.set(s,o),o++}this.elements=new Array(o);for(var l=qF(this.lastElementsMap,i),c=l.added,f=l.updated,d=l.removed,h=0,p=c;h<p.length;h++){s=p[h],u=n.get(s);var v=this.getShapeFactory(),g=this.getShapeInfo(u);a=r.get(s);(x=new FF({shapeFactory:v,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:a})).geometry=this,x.animate=this.animateOption,x.draw(g,e),this.elementsMap[s]=x,this.elements[a]=x}for(var m=0,y=f;m<y.length;m++){s=y[m],u=n.get(s);var x=this.lastElementsMap[s],b=(a=r.get(s),g=this.getShapeInfo(u),x.getModel());(this.isCoordinateChanged||WF(b,g))&&(x.animate=this.animateOption,x.update(g)),this.elementsMap[s]=x,this.elements[a]=x}for(var w=0,S=d;w<S.length;w++){s=S[w];(x=this.lastElementsMap[s]).animate=this.animateOption,x.destroy()}},e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r];e.push({x:o.x,y:o.y}),n.push(o._origin)}return{points:e,data:n}},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),r=n.points,i=n.data;return e.mappingData=t,e.data=i,e.isStack=!!this.getAdjust("stack"),e.points=r,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},e}($F),yR=mR;function xR(t,e,n,r,i){var o=[];if(t.length){for(var a=[],u=[],s=0,l=t.length;s<l;s++){var c=t[s];a.push(c[1]),u.push(c[0])}u=u.reverse(),(0,nE.S6)([a,u],(function(t,s){var l=[],c=r.parsePoints(t),f=c[0];1===a.length&&1===u.length?l=0===s?[["M",f.x-.5,f.y],["L",f.x+.5,f.y]]:[["L",f.x+.5,f.y],["L",f.x-.5,f.y]]:(e&&c.push({x:f.x,y:f.y}),l=n?KP(c,!1,i):XP(c,!1),s>0&&(l[0][0]="L")),o=o.concat(l)})),o.push(["Z"])}return o}function bR(t,e,n,r,i){for(var o=xN(t,e,!e,"lineWidth"),a=t.connectNulls,u=t.isInCircle,s=gN(t.points,a,t.showSinglePoint),l=[],c=0,f=s.length;c<f;c++){var d=s[c];l=l.concat(xR(d,u,n,r,i))}return o.path=l,o}function wR(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}UF("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0;return((0,nE.kJ)(t.y)?t.y:[n,t.y]).map((function(t){return{x:e,y:t}}))}});HF("area","area",{draw:function(t,e){var n=bR(t,!1,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}});var SR=function(t){function e(e){var n=t.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var r=e.startOnZero,i=void 0===r||r,o=e.sortable,a=void 0!==o&&o,u=e.showSinglePoint,s=void 0!==u&&u;return n.startOnZero=i,n.sortable=a,n.showSinglePoint=s,n}return(0,eE.ZT)(e,t),e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r];e.push(o.points),n.push(o._origin)}return{points:e,data:n}},e.prototype.getYMinValue=function(){return this.startOnZero?t.prototype.getYMinValue.call(this):this.getYScale().min},e}(yR),kR=SR;UF("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return wN(t)}});HF("edge","line",{draw:function(t,e){var n=xN(t,!0,!1,"lineWidth"),r=XP(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var CR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return(0,eE.ZT)(e,t),e}($F),ER=CR,OR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return(0,eE.ZT)(e,t),e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=0;n<t.length;n++){var r=t[n],i=this.prepareRange(r),o=this.prepareSize(),a=(0,nE.U2)(this.styleOption,["cfg","shadowBlur"]);(0,nE.hj)(a)||(a=o/2),this.prepareGreyScaleBlurredCircle(o,a),this.drawWithRange(r,i,o,a)}},e.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!==typeof e?e:""),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var e=this.getAttribute("color").getFields()[0],n=1/0,r=-1/0;return t.forEach((function(t){var i=t._origin[e];i>r&&(r=i),i<n&&(n=i)})),n===r&&(n=r-1),[n,r]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,nE.hj)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),r=t+e,i=n.getContext("2d");n.width=n.height=2*r,i.clearRect(0,0,n.width,n.height),i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill()},e.prototype.drawWithRange=function(t,e,n,r){var i=this.coordinate,o=i.start,a=i.end,u=this.coordinate.getWidth(),s=this.coordinate.getHeight(),l=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t._origin[l]<=e[1]&&t._origin[l]>=e[0]})));for(var f=this.scales[l],d=0,h=t;d<h.length;d++){var p=h[d],v=this.getDrawCfg(p),g=v.x,m=v.y,y=f.scale(p._origin[l]);this.drawGrayScaleBlurredCircle(g-o.x,m-a.y,n+r,y,c)}var x=c.getImageData(0,0,u,s);this.clearShadowCanvasCtx(),this.colorize(x),c.putImageData(x,0,0);var b=this.getImageShape();b.attr("x",o.x),b.attr("y",a.y),b.attr("width",u),b.attr("height",s),b.attr("img",c.canvas),b.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,r,i){var o=this.getGrayScaleBlurredCanvas();i.globalAlpha=r,i.drawImage(o,t-n,e-n)},e.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,r=this.paletteCache,i=3;i<n.length;i+=4){var o=n[i];if((0,nE.hj)(o)){var a=r[o]?r[o]:iO.rgb2arr(e.gradient(o/256));n[i-3]=a[0],n[i-2]=a[1],n[i-1]=a[2],n[i]=o}}},e.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=t.map((function(t){return t._origin}));return(0,eE.pi)((0,eE.pi)({},e),{mappingData:t,data:n})},e}($F),MR=OR;function _R(t){var e,n,r,i,o=t.x,a=t.y,u=t.y0,s=t.size;(0,nE.kJ)(a)?(e=a[0],n=a[1]):(e=u,n=a),(0,nE.kJ)(o)?(r=o[0],i=o[1]):(r=o-s/2,i=o+s/2);var l=[{x:r,y:e},{x:r,y:n}];return l.push({x:i,y:n},{x:i,y:e}),l}function AR(t,e){void 0===e&&(e=!0);var n=[],r=t[0];n.push(["M",r.x,r.y]);for(var i=1,o=t.length;i<o;i++)n.push(["L",t[i].x,t[i].y]);return e&&(n.push(["L",r.x,r.y]),n.push(["z"])),n}function TR(t,e){var n=0,r=0,i=0,o=0;return(0,nE.kJ)(t)?1===t.length?n=r=i=o=t[0]:2===t.length?(n=i=t[0],r=o=t[1]):3===t.length?(n=t[0],r=o=t[1],i=t[2]):(n=t[0],r=t[1],i=t[2],o=t[3]):n=r=i=o=t,n+r>e&&(r=e-(n=n?e/(1+r/n):0)),i+o>e&&(o=e-(i=i?e/(1+o/i):0)),[n||0,r||0,i||0,o||0]}function PR(t,e,n){var r=[];if(n.isRect){var i=n.isTransposed?{x:n.start.x,y:e[0].y}:{x:e[0].x,y:n.start.y},o=n.isTransposed?{x:n.end.x,y:e[2].y}:{x:e[3].x,y:n.end.y},a=(0,nE.U2)(t,["background","style","radius"]);if(a){var u=n.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,s=n.isTransposed?n.getWidth():n.getHeight(),l=TR(a,Math.min(u,s)),c=l[0],f=l[1],d=l[2],h=l[3];r.push(["M",i.x,o.y+c]),0!==c&&r.push(["A",c,c,0,0,1,i.x+c,o.y]),r.push(["L",o.x-f,o.y]),0!==f&&r.push(["A",f,f,0,0,1,o.x,o.y+f]),r.push(["L",o.x,i.y-d]),0!==d&&r.push(["A",d,d,0,0,1,o.x-d,i.y]),r.push(["L",i.x+h,i.y]),0!==h&&r.push(["A",h,h,0,0,1,i.x,i.y-h])}else r.push(["M",i.x,i.y]),r.push(["L",o.x,i.y]),r.push(["L",o.x,o.y]),r.push(["L",i.x,o.y]),r.push(["L",i.x,i.y]);r.push(["z"])}if(n.isPolar){var p=n.getCenter(),v=lP(t,n),g=v.startAngle,m=v.endAngle;if("theta"===n.type||n.isTransposed){var y=function(t){return Math.pow(t,2)};c=Math.sqrt(y(p.x-e[0].x)+y(p.y-e[0].y)),f=Math.sqrt(y(p.x-e[2].x)+y(p.y-e[2].y));r=uP(p.x,p.y,c,n.startAngle,n.endAngle,f)}else r=uP(p.x,p.y,n.getRadius(),g,m)}return r}function DR(t,e,n){var r=[];return(0,nE.UM)(e)?n?r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",(t[2].x+t[3].x)/2,(t[2].y+t[3].y)/2],["Z"]):r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),r}function FR(t,e){return[e,t]}UF("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return _R(t)}});HF("interval","rect",{draw:function(t,e){var n,r=xN(t,!1,!0),i=e,o=null===t||void 0===t?void 0:t.background;if(o){i=e.addGroup();var a=bN(t),u=PR(t,this.parsePoints(t.points),this.coordinate);i.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},a),{path:u}),zIndex:-1,name:PF})}n=r.radius&&this.coordinate.isRect?function(t,e,n){var r,i,o,a,u,s,l,c=(0,eE.ev)([],t,!0),f=c[0],d=c[1],h=c[2],p=c[3],v="number"===typeof n?Array(4).fill(n):n,g=v[0],m=v[1],y=v[2],x=v[3];e.isTransposed&&(d=(r=FR(d,p))[0],p=r[1],g=(i=[x,g,m,y])[0],m=i[1],y=i[2],x=i[3]),e.isReflect("y")&&(f=(o=FR(f,d))[0],d=o[1],h=(a=FR(h,p))[0],p=a[1]),e.isReflect("x")&&(f=(u=FR(f,p))[0],p=u[1],d=(s=FR(d,h))[0],h=s[1]);var b=[],w=function(t){return Math.abs(t)};return g=(l=TR([g,m,y,x],Math.min(w(p.x-f.x),w(d.y-f.y))).map((function(t){return w(t)})))[0],m=l[1],y=l[2],x=l[3],f.y<d.y?(b.push(["M",p.x,p.y+y]),0!==y&&b.push(["A",y,y,0,0,0,p.x-y,p.y]),b.push(["L",f.x+x,f.y]),0!==x&&b.push(["A",x,x,0,0,0,f.x,f.y+x]),b.push(["L",d.x,d.y-g]),0!==g&&b.push(["A",g,g,0,0,0,d.x+g,d.y]),b.push(["L",h.x-m,h.y]),0!==m&&b.push(["A",m,m,0,0,0,h.x,h.y-m]),b.push(["L",p.x,p.y+y]),b.push(["z"])):p.x<f.x?(b.push(["M",h.x+m,h.y]),0!==m&&b.push(["A",m,m,0,0,0,h.x,h.y+m]),b.push(["L",p.x,p.y-y]),0!==y&&b.push(["A",y,y,0,0,0,p.x+y,p.y]),b.push(["L",f.x-x,f.y]),0!==x&&b.push(["A",x,x,0,0,0,f.x,f.y-x]),b.push(["L",d.x,d.y+g]),0!==g&&b.push(["A",g,g,0,0,0,d.x-g,d.y]),b.push(["L",h.x+m,h.y]),b.push(["z"])):(b.push(["M",d.x,d.y+g]),0!==g&&b.push(["A",g,g,0,0,1,d.x+g,d.y]),b.push(["L",h.x-m,h.y]),0!==m&&b.push(["A",m,m,0,0,1,h.x,h.y+m]),b.push(["L",p.x,p.y-y]),0!==y&&b.push(["A",y,y,0,0,1,p.x-y,p.y]),b.push(["L",f.x+x,f.y]),0!==x&&b.push(["A",x,x,0,0,1,f.x,f.y-x]),b.push(["L",d.x,d.y+g]),b.push(["z"])),b}(this.parsePoints(t.points),this.coordinate,r.radius):this.parsePath(function(t,e,n){var r=n.getWidth(),i=n.getHeight(),o="rect"===n.type,a=[],u=(t[2].x-t[1].x)/2,s=n.isTransposed?u*i/r:u*r/i;return"round"===e?(o?(a.push(["M",t[0].x,t[0].y+s]),a.push(["L",t[1].x,t[1].y-s]),a.push(["A",u,u,0,0,1,t[2].x,t[2].y-s]),a.push(["L",t[3].x,t[3].y+s]),a.push(["A",u,u,0,0,1,t[0].x,t[0].y+s])):(a.push(["M",t[0].x,t[0].y]),a.push(["L",t[1].x,t[1].y]),a.push(["A",u,u,0,0,1,t[2].x,t[2].y]),a.push(["L",t[3].x,t[3].y]),a.push(["A",u,u,0,0,1,t[0].x,t[0].y])),a.push(["z"])):a=AR(t),a}(t.points,r.lineCap,this.coordinate));var s=i.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},r),{path:n}),name:"interval"});return o?i:s},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function NR(t){var e=t.theme,n=t.coordinate,r=t.getXScale(),i=r.values,o=t.beforeMappingData,a=i.length,u=vP(t.coordinate),s=t.intervalPadding,l=t.dodgePadding,c=t.maxColumnWidth||e.maxColumnWidth,f=t.minColumnWidth||e.minColumnWidth,d=t.columnWidthRatio||e.columnWidthRatio,h=t.multiplePieWidthRatio||e.multiplePieWidthRatio,p=t.roseWidthRatio||e.roseWidthRatio;if(r.isLinear&&i.length>1){i.sort();var v=function(t,e){var n=t.length,r=t;(0,nE.HD)(r[0])&&(r=t.map((function(t){return e.translate(t)})));for(var i=r[1]-r[0],o=2;o<n;o++){var a=r[o]-r[o-1];i>a&&(i=a)}return i}(i,r);a=(r.max-r.min)/v,i.length>a&&(a=i.length)}var g=r.range,m=1/a,y=1;(n.isPolar?y=n.isTransposed&&a>1?h:p:(r.isLinear&&(m*=g[1]-g[0]),y=d),!(0,nE.UM)(s)&&s>=0)?m=(1-(a-1)*(s/u))/a:m*=y;if(t.getAdjust("dodge")){var x=function(t,e){if(e){var n=(0,nE.xH)(t);return(0,nE.I)(n,e).length}return t.length}(o,t.getAdjust("dodge").dodgeBy);if(!(0,nE.UM)(l)&&l>=0)m=(m-l/u*(x-1))/x;else!(0,nE.UM)(s)&&s>=0?(m*=y,m/=x):m/=x;m=m>=0?m:0}if(!(0,nE.UM)(c)&&c>=0){var b=c/u;m>b&&(m=b)}if(!(0,nE.UM)(f)&&f>=0){var w=f/u;m<w&&(m=w)}return m}var IR=function(t){function e(e){var n=t.call(this,e)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var r=e.background;return n.background=r,n}return(0,eE.ZT)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");i?(n=this.getAttributeValues(i,e)[0],n/=vP(this.coordinate)):(this.defaultSize||(this.defaultSize=NR(this)),n=this.defaultSize);return r.size=n,r},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var e=this.getYScale();if("theta"===this.coordinate.type)e.change({nice:!1,min:0,max:EP(e)});else{var n=this.scaleDefs,r=e.field,i=e.min,o=e.max;"time"!==e.type&&(i>0&&!(0,nE.U2)(n,[r,"min"])&&e.change({min:0}),o<=0&&!(0,nE.U2)(n,[r,"max"])&&e.change({max:0}))}},e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.background=this.background,n},e}($F),LR=IR,RR=function(t){function e(e){var n=t.call(this,e)||this;n.type="line";var r=e.sortable,i=void 0!==r&&r;return n.sortable=i,n}return(0,eE.ZT)(e,t),e}(yR),jR=RR,BR=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function zR(t,e,n,r,i){var o=xN(e,i,!i,"r"),a=t.parsePoints(e.points),u=a[0];if(e.isStack)u=a[1];else if(a.length>1){for(var s=n.addGroup(),l=0,c=a;l<c.length;l++){var f=c[l];s.addShape({type:"marker",attrs:(0,eE.pi)((0,eE.pi)((0,eE.pi)({},o),{symbol:sN[r]||r}),f)})}return s}return n.addShape({type:"marker",attrs:(0,eE.pi)((0,eE.pi)((0,eE.pi)({},o),{symbol:sN[r]||r}),u)})}UF("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return wN(t)}});(0,nE.S6)(BR,(function(t){HF("point","hollow-".concat(t),{draw:function(e,n){return zR(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:sN[t]||t,style:{r:4.5,stroke:n,fill:null}}}})}));var UR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return(0,eE.ZT)(e,t),e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return(0,eE.pi)((0,eE.pi)({},n),{isStack:!!this.getAdjust("stack")})},e}($F),HR=UR;UF("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return(0,nE.S6)(t.x,(function(n,r){var i=t.y[r];e.push({x:n,y:i})})),e}});HF("polygon","polygon",{draw:function(t,e){if(!(0,nE.xb)(t.points)){var n=xN(t,!0,!0),r=this.parsePath(function(t){for(var e=t[0],n=1,r=[["M",e.x,e.y]];n<t.length;){var i=t[n];i.x===t[n-1].x&&i.y===t[n-1].y||(r.push(["L",i.x,i.y]),i.x===e.x&&i.y===e.y&&n<t.length-1&&(e=t[n+1],r.push(["Z"]),r.push(["M",e.x,e.y]),n++)),n++}return(0,nE.Xy)((0,nE.Z$)(r),e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}(t.points));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var VR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return(0,eE.ZT)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=r.x,o=r.y;if(!(0,nE.kJ)(i)||!(0,nE.kJ)(o)){var a=this.getXScale(),u=this.getYScale(),s=.5/a.values.length,l=.5/u.values.length;a.isCategory&&u.isCategory?(i=[i-s,i-s,i+s,i+s],o=[o-l,o+l,o+l,o-l]):(0,nE.kJ)(i)?(i=[(n=i)[0],n[0],n[1],n[1]],o=[o-l/2,o+l/2,o+l/2,o-l/2]):(0,nE.kJ)(o)&&(o=[(n=o)[0],n[1],n[1],n[0]],i=[i-s/2,i-s/2,i+s/2,i+s/2]),r.x=i,r.y=o}return r},e}($F),WR=VR,YR=(UF("schema",{defaultShapeType:""}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return(0,eE.ZT)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");i?(n=this.getAttributeValues(i,e)[0],n/=vP(this.coordinate)):(this.defaultSize||(this.defaultSize=NR(this)),n=this.defaultSize);return r.size=n,r},e}($F)),qR=YR;UF("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,n=[],r=function(t){if(!(0,nE.kJ)(t))return[];var e=(0,nE.Fp)(t);return(0,nE.UI)(t,(function(t){return t/e}))}(t._size);return(0,nE.S6)(t.y,(function(i,o){var a=r[o]*e,u=0===o,s=o===t.y.length-1;n.push({isMin:u,isMax:s,x:t.x-a,y:i}),n.unshift({isMin:u,isMax:s,x:t.x+a,y:i})})),n}});HF("violin","violin",{draw:function(t,e){var n=xN(t,!0,!0),r=this.parsePath(mN(t.points));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r}),name:"violin"})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:t.color}}}});var GR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e}return(0,eE.ZT)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");i?(n=this.getAttributeValues(i,e)[0],n/=vP(this.coordinate)):(this.defaultSize||(this.defaultSize=NR(this)),n=this.defaultSize);return r.size=n,r._size=(0,nE.U2)(e._origin,[this._sizeField]),r},e.prototype.initAttributes=function(){var e=this.attributeOption,n=e.size?e.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete e.size,t.prototype.initAttributes.call(this)},e}($F),$R=GR;function XR(t,e){return["C",1*t.x/2+1*e.x/2,t.y,1*t.x/2+1*e.x/2,e.y,e.x,e.y]}function KR(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var r=["Q"];return(0,nE.S6)(n,(function(t){r.push(t.x,t.y)})),r}HF("area","line",{draw:function(t,e){var n=bR(t,!0,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),HF("area","smooth",{draw:function(t,e){var n=bR(t,!1,!0,this,wR(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}}),HF("area","smooth-line",{draw:function(t,e){var n=bR(t,!0,!0,this,wR(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),HF("edge","arc",{draw:function(t,e){var n,r=xN(t,!0,!1,"lineWidth"),i=t.points,o=i.length>2?"weight":"normal";if(t.isInCircle){var a={x:0,y:1};return"normal"===o?n=function(t,e,n){var r=KR(e,n),i=[["M",t.x,t.y]];return i.push(r),i}(i[0],i[1],a):(r.fill=r.stroke,n=function(t,e){var n=KR(t[1],e),r=KR(t[3],e),i=[["M",t[0].x,t[0].y]];return i.push(r),i.push(["L",t[3].x,t[3].y]),i.push(["L",t[2].x,t[2].y]),i.push(n),i.push(["L",t[1].x,t[1].y]),i.push(["L",t[0].x,t[0].y]),i.push(["Z"]),i}(i,a)),n=this.parsePath(n),e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},r),{path:n})})}if("normal"===o)return n=sP(((i=this.parsePoints(i))[1].x+i[0].x)/2,i[0].y,Math.abs(i[1].x-i[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},r),{path:n})});var u=XR(i[1],i[3]),s=XR(i[2],i[0]);return n=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],u,["L",i[3].x,i[3].y],["L",i[2].x,i[2].y],s,["Z"]],n=this.parsePath(n),r.fill=r.stroke,e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},r),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),HF("edge","smooth",{draw:function(t,e){var n=xN(t,!0,!1,"lineWidth"),r=t.points,i=this.parsePath(function(t,e){var n=XR(t,e),r=[["M",t.x,t.y]];return r.push(n),r}(r[0],r[1]));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var ZR=1/3;HF("edge","vhv",{draw:function(t,e){var n=xN(t,!0,!1,"lineWidth"),r=t.points,i=this.parsePath(function(t,e){var n=[];n.push({x:t.x,y:t.y*(1-ZR)+e.y*ZR}),n.push({x:e.x,y:t.y*(1-ZR)+e.y*ZR}),n.push(e);var r=[["M",t.x,t.y]];return(0,nE.S6)(n,(function(t){r.push(["L",t.x,t.y])})),r}(r[0],r[1]));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),HF("interval","funnel",{getPoints:function(t){return t.size=2*t.size,_R(t)},draw:function(t,e){var n=xN(t,!1,!0),r=this.parsePath(DR(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),HF("interval","hollow-rect",{draw:function(t,e){var n=xN(t,!0,!1),r=e,i=null===t||void 0===t?void 0:t.background;if(i){r=e.addGroup();var o=bN(t),a=PR(t,this.parsePoints(t.points),this.coordinate);r.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},o),{path:a}),zIndex:-1,name:PF})}var u=this.parsePath(AR(t.points)),s=r.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:u}),name:"interval"});return i?r:s},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),HF("interval","line",{getPoints:function(t){return function(t){var e=t.x,n=t.y,r=t.y0;return(0,nE.kJ)(n)?n.map((function(t,n){return{x:(0,nE.kJ)(e)?e[n]:e,y:t}})):[{x:e,y:r},{x:e,y:n}]}(t)},draw:function(t,e){var n=xN(t,!0,!1,"lineWidth"),r=dP((0,eE.pi)({},n),["fill"]),i=this.parsePath(AR(t.points,!1));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},r),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:t.color}}}}),HF("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,_R(t)},draw:function(t,e){var n=xN(t,!1,!0),r=this.parsePath(DR(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),HF("interval","tick",{getPoints:function(t){return function(t){var e,n,r=t.x,i=t.y,o=t.y0,a=t.size;(0,nE.kJ)(i)?(e=i[0],n=i[1]):(e=o,n=i);var u=r+a/2,s=r-a/2;return[{x:r,y:e},{x:r,y:n},{x:s,y:e},{x:u,y:e},{x:s,y:n},{x:u,y:n}]}(t)},draw:function(t,e){var n=xN(t,!0,!1),r=this.parsePath(function(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]]}(t.points));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:t.color}}}});function JR(t,e){var n=gN(t.points,t.connectNulls,t.showSinglePoint),r=[];return(0,nE.S6)(n,(function(t){var n=function(t,e){var n=[];return(0,nE.S6)(t,(function(r,i){var o=t[i+1];if(n.push(r),o){var a=function(t,e,n){var r,i=t.x,o=t.y,a=e.x,u=e.y;switch(n){case"hv":r=[{x:a,y:o}];break;case"vh":r=[{x:i,y:u}];break;case"hvh":var s=(a+i)/2;r=[{x:s,y:o},{x:s,y:u}];break;case"vhv":var l=(o+u)/2;r=[{x:i,y:l},{x:a,y:l}]}return r}(r,o,e);n=n.concat(a)}})),n}(t,e);r=r.concat(function(t){return t.map((function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}(n))})),(0,eE.pi)((0,eE.pi)({},xN(t,!0,!1,"lineWidth")),{path:r})}function QR(t){var e=(0,nE.kJ)(t)?t:[t],n=e[0],r=e[e.length-1],i=e.length>1?e[1]:n;return{min:n,max:r,min1:i,max1:e.length>3?e[3]:r,median:e.length>2?e[2]:i}}function tj(t,e,n){var r,i=n/2;if((0,nE.kJ)(e)){var o=QR(e),a=o.min,u=o.max,s=o.median,l=o.min1,c=t-i,f=t+i;r=[[c,u],[f,u],[t,u],[t,d=o.max1],[c,l],[c,d],[f,d],[f,l],[t,l],[t,a],[c,a],[f,a],[c,s],[f,s]]}else{e=(0,nE.UM)(e)?.5:e;var d,h=QR(t),p=(a=h.min,u=h.max,s=h.median,e-i),v=e+i;r=[[a,p],[a,v],[a,e],[l=h.min1,e],[l,p],[l,v],[d=h.max1,v],[d,p],[d,e],[u,e],[u,p],[u,v],[s,p],[s,v]]}return r.map((function(t){return{x:t[0],y:t[1]}}))}function ej(t){var e=((0,nE.kJ)(t)?t:[t]).sort((function(t,e){return e-t}));return function(t,e,n){if((0,nE.HD)(t))return t.padEnd(e,n);if((0,nE.kJ)(t)){var r=t.length;if(r<e)for(var i=e-r,o=0;o<i;o++)t.push(n)}return t}(e,4,e[e.length-1])}function nj(t,e,n){var r=ej(e);return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-n/2,y:r[2]},{x:t-n/2,y:r[1]},{x:t+n/2,y:r[1]},{x:t+n/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}function rj(t,e){var n=Math.abs(t[0].x-t[2].x),r=Math.abs(t[0].y-t[2].y),i=Math.min(n,r);return e&&(i=(0,nE.uZ)(e,0,Math.min(n,r))),i/=2,{x:(t[0].x+t[2].x)/2-i,y:(t[0].y+t[2].y)/2-i,width:2*i,height:2*i}}(0,nE.S6)(["hv","vh","hvh","vhv"],(function(t){HF("line",t,{draw:function(e,n){var r=JR(e,t);return n.addShape({type:"path",attrs:r,name:"line"})},getMarker:function(e){return kN(e,t)}})})),(0,nE.S6)(["cross","tick","plus","hyphen","line"],(function(t){HF("point",t,{draw:function(e,n){return zR(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:sN[t],style:{r:4.5,stroke:n,fill:null}}}})})),HF("point","image",{draw:function(t,e){var n=xN(t,!1,!1,"r").r,r=this.parsePoints(t.points),i=r[0];if(t.isStack)i=r[1];else if(r.length>1){for(var o=e.addGroup(),a=0,u=r;a<u.length;a++){var s=u[a];o.addShape("image",{attrs:{x:s.x-n/2,y:s.y-n,width:n,height:n,img:t.shape[1]}})}return o}return e.addShape("image",{attrs:{x:i.x-n/2,y:i.y-n,width:n,height:n,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),(0,nE.S6)(BR,(function(t){HF("point",t,{draw:function(e,n){return zR(this,e,n,t,!1)},getMarker:function(e){var n=e.color;return{symbol:sN[t]||t,style:{r:4.5,fill:n}}}})})),HF("schema","box",{getPoints:function(t){return tj(t.x,t.y,t.size)},draw:function(t,e){var n=xN(t,!0,!1),r=this.parsePath(function(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]]}(t.points));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,n){var r=tj(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),HF("schema","candle",{getPoints:function(t){return nj(t.x,t.y,t.size)},draw:function(t,e){var n=xN(t,!0,!0),r=this.parsePath(function(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]]}(t.points));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var r=nj(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}}),HF("polygon","square",{draw:function(t,e){if(!(0,nE.xb)(t.points)){var n=xN(t,!0,!0),r=this.parsePoints(t.points);return e.addShape("rect",{attrs:(0,eE.pi)((0,eE.pi)({},n),rj(r,t.size)),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),HF("violin","smooth",{draw:function(t,e){var n=xN(t,!0,!0),r=this.parsePath(yN(t.points));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{stroke:null,r:4,fill:t.color}}}}),HF("violin","hollow",{draw:function(t,e){var n=xN(t,!0,!1),r=this.parsePath(mN(t.points));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}}),HF("violin","hollow-smooth",{draw:function(t,e){var n=xN(t,!0,!1),r=this.parsePath(yN(t.points));return e.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}});var ij=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getLabelValueDir=function(t){var e=t.points;return e[0].y<=e[2].y?1:-1},e.prototype.getLabelOffsetPoint=function(e,n,r,i){var o,a=t.prototype.getLabelOffsetPoint.call(this,e,n,r),u=this.getCoordinate(),s=u.isTransposed?"x":"y",l=this.getLabelValueDir(e.mappingData);return a=(0,eE.pi)((0,eE.pi)({},a),((o={})[s]=a[s]*l,o)),u.isReflect("x")&&(a=(0,eE.pi)((0,eE.pi)({},a),{x:-1*a.x})),u.isReflect("y")&&(a=(0,eE.pi)((0,eE.pi)({},a),{y:-1*a.y})),a},e.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.theme;return(0,nE.b$)({},n,r.labels,"middle"===t.position?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,e,n,r){var i,o,a,u,s=this.getCoordinate(),l=s.isTransposed,c=e.points,f=s.convert(c[0]),d=s.convert(c[2]),h=this.getLabelValueDir(e),p=(0,nE.kJ)(e.shape)?e.shape[0]:e.shape;if("funnel"===p||"pyramid"===p){var v=(0,nE.U2)(e,"nextPoints"),g=(0,nE.U2)(e,"points");if(v){var m=s.convert(g[0]),y=s.convert(g[1]),x=s.convert(v[0]),b=s.convert(v[1]);l?(i=Math.min(x.y,m.y),a=Math.max(x.y,m.y),o=(y.x+b.x)/2,u=(m.x+x.x)/2):(i=Math.min((y.y+b.y)/2,(m.y+x.y)/2),a=Math.max((y.y+b.y)/2,(m.y+x.y)/2),o=b.x,u=m.x)}else i=Math.min(d.y,f.y),a=Math.max(d.y,f.y),o=d.x,u=f.x}else i=Math.min(d.y,f.y),a=Math.max(d.y,f.y),o=d.x,u=f.x;switch(r){case"right":t.x=o,t.y=(i+a)/2,t.textAlign=(0,nE.U2)(t,"textAlign",h>0?"left":"right");break;case"left":t.x=u,t.y=(i+a)/2,t.textAlign=(0,nE.U2)(t,"textAlign",h>0?"left":"right");break;case"bottom":l&&(t.x=(o+u)/2),t.y=a,t.textAlign=(0,nE.U2)(t,"textAlign","center"),t.textBaseline=(0,nE.U2)(t,"textBaseline",h>0?"bottom":"top");break;case"middle":l&&(t.x=(o+u)/2),t.y=(i+a)/2,t.textAlign=(0,nE.U2)(t,"textAlign","center"),t.textBaseline=(0,nE.U2)(t,"textBaseline","middle");break;case"top":l&&(t.x=(o+u)/2),t.y=i,t.textAlign=(0,nE.U2)(t,"textAlign","center"),t.textBaseline=(0,nE.U2)(t,"textBaseline",h>0?"bottom":"top")}},e}(aN),oj=ij,aj=Math.PI/2,uj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=0;if((0,nE.hj)(t))n=t;else if((0,nE.HD)(t)&&-1!==t.indexOf("%")){var r=e.getRadius();e.innerRadius>0&&(r*=1-e.innerRadius),n=.01*parseFloat(t)*r}return n},e.prototype.getLabelItems=function(e){var n=t.prototype.getLabelItems.call(this,e),r=this.geometry.getYScale();return(0,nE.UI)(n,(function(t){if(t&&r){var e=r.scale((0,nE.U2)(t.data,r.field));return(0,eE.pi)((0,eE.pi)({},t),{percent:e})}return t}))},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),i=t.offset;e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?i>0?"left":"right":i>0?"right":"left"}else e="center";return e},e.prototype.getLabelPoint=function(t,e,n){var r,i=1,o=t.content[n];this.isToMiddle(e)?r=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(i=-1),r=this.getArcPoint(e,n));var a=t.offset*i,u=this.getPointAngle(r),s=t.labelEmit,l=this.getCirclePoint(u,a,r,s);return 0===l.r?l.content="":(l.content=o,l.angle=u,l.color=e.color),l.rotate=t.autoRotate?this.getLabelRotate(u,a,s):t.rotate,l.start={x:r.x,y:r.y},l},e.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),(0,nE.kJ)(t.x)||(0,nE.kJ)(t.y)?{x:(0,nE.kJ)(t.x)?t.x[e]:t.x,y:(0,nE.kJ)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},e.prototype.getPointAngle=function(t){return yP(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,e,n,r){var i=this.getCoordinate(),o=i.getCenter(),a=gP(i,n);if(0===a)return(0,eE.pi)((0,eE.pi)({},o),{r:a});var u=t;i.isTransposed&&a>e&&!r?u=t+2*Math.asin(e/(2*a)):a+=e;return{x:o.x+a*Math.cos(u),y:o.y+a*Math.sin(u),r:a}},e.prototype.getLabelRotate=function(t,e,n){var r=t+aj;return n&&(r-=aj),r&&(r>aj?r-=Math.PI:r<-aj&&(r+=Math.PI)),r},e.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,r={x:0,y:0};return(0,nE.S6)(t,(function(t){r.x+=t.x,r.y+=t.y})),r.x/=n,r.y/=n,r=e.convert(r)},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(aN),sj=uj,lj=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return(0,eE.ZT)(e,t),e.prototype.getDefaultLabelCfg=function(e,n){var r=t.prototype.getDefaultLabelCfg.call(this,e,n);return(0,nE.b$)({},r,(0,nE.U2)(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(e){return t.prototype.getLabelOffset.call(this,e)||0},e.prototype.getLabelRotate=function(t,e,n){var r;return e<0&&((r=t)>Math.PI/2&&(r-=Math.PI),r<-Math.PI/2&&(r+=Math.PI)),r},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate().getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",t.offset<=0&&(e="right"===e?"left":"right"),e},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),r={x:(0,nE.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},i={x:(0,nE.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},o=yP(n,r);if(t.points&&t.points[0].y===t.points[1].y)e=o;else{var a=yP(n,i);o>=a&&(a+=2*Math.PI),e=o+(a-o)/2}return e},e.prototype.getCirclePoint=function(t,e){var n=this.getCoordinate(),r=n.getCenter(),i=n.getRadius()+e;return(0,eE.pi)((0,eE.pi)({},aP(r.x,r.y,i,t)),{angle:t,r:i})},e}(sj),cj=lj;function fj(t,e,n){var r=t.filter((function(t){return!t.invisible}));r.sort((function(t,e){return t.y-e.y}));var i,o=!0,a=n.minY,u=n.maxY,s=Math.abs(a-u),l=0,c=Number.MIN_VALUE,f=r.map((function(t){return t.y>l&&(l=t.y),t.y<c&&(c=t.y),{content:t.content,size:e,targets:[t.y-a],pos:null}}));for(c-=a,l-a>s&&(s=l-a);o;)for(f.forEach((function(t){var e=(Math.min.apply(c,t.targets)+Math.max.apply(c,t.targets))/2;t.pos=Math.min(Math.max(c,e-t.size/2),s-t.size),t.pos=Math.max(0,t.pos)})),o=!1,i=f.length;i--;)if(i>0){var d=f[i-1],h=f[i];d.pos+d.size>h.pos&&(d.size+=h.size,d.targets=d.targets.concat(h.targets),d.pos+d.size>s&&(d.pos=s-d.size),f.splice(i,1),o=!0)}i=0,f.forEach((function(t){var n=a+e/2;t.targets.forEach((function(){r[i].y=t.pos+n,n+=e,i++}))}))}var dj=function(){function t(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,r=t.yGap,i=void 0===r?8:r;this.xGap=n,this.yGap=i}return t.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.round(t.minX),i=Math.round(t.maxX),o=Math.round(t.minY),a=Math.round(t.maxY),u=r;u<=i;u+=1)if(n[u]){if(u===r||u===i){for(var s=o;s<=a;s++)if(n[u][s]){e=!1;break}}else if(n[u][o]||n[u][a]){e=!1;break}}else n[u]={};return e},t.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),i=Math.round(t.minY),o=Math.round(t.maxY),a=n;a<=r;a+=1)e[a]||(e[a]={});for(a=n;a<=r;a+=this.xGap){for(var u=i;u<=o;u+=this.yGap)e[a][u]=!0;e[a][o]=!0}if(1!==this.yGap)for(a=i;a<=o;a+=1)e[n][a]=!0,e[r][a]=!0;if(1!==this.xGap)for(a=n;a<=r;a+=1)e[a][i]=!0,e[a][o]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function hj(t,e,n,r){var i=t.getCanvasBBox(),o=i.width,a=i.height,u={x:e,y:n,textAlign:"center"};switch(r){case 0:u.y-=a+1,u.x+=1,u.textAlign="left";break;case 1:u.y-=a+1,u.x-=1,u.textAlign="right";break;case 2:u.y+=a+1,u.x-=1,u.textAlign="right";break;case 3:u.y+=a+1,u.x+=1,u.textAlign="left";break;case 5:u.y-=2*a+2;break;case 6:u.y+=2*a+2;break;case 7:u.x+=o+1,u.textAlign="left";break;case 8:u.x-=o+1,u.textAlign="right"}return t.attr(u),t.getCanvasBBox()}var pj=l_.AK;function vj(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]};return[e(t[0],t[1]),e(t[1],t[2])]}function gj(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var r=t.x,i=t.y;return{x:(r-n.x)*Math.cos(-e)+(i-n.y)*Math.sin(-e)+n.x,y:(n.x-r)*Math.sin(-e)+(i-n.y)*Math.cos(-e)+n.y}}function mj(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=t.rotation;return n?[gj(e[0],n,e[0]),gj(e[1],n,e[0]),gj(e[2],n,e[0]),gj(e[3],n,e[0])]:e}function yj(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){n.push(pj([t.x,t.y],e))})),{min:Math.min.apply(Math,n),max:Math.max.apply(Math,n)}}function xj(t,e){return t.max>e.min&&t.min<e.max}function bj(t){return(0,nE.hj)(t)&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0}function wj(t){return Object.values(t).every(bj)}function Sj(t,e){if(!wj(t)||!wj(e))return!1;if(!t.rotation&&!e.rotation)return function(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}(t,e);for(var n=mj(t),r=mj(e),i=(0,eE.ev)((0,eE.ev)([],vj(n),!0),vj(r),!0),o=0;o<i.length;o++){var a=i[o];if(!xj(yj(n,a),yj(r,a)))return!1}return!0}var kj,Cj={"#5B8FF9":!0};function Ej(t,e,n){return!!t.getAdjust("stack")||e.every((function(e,r){var i=n[r];return function(t,e,n){var r=t.coordinate,i=JF(e),o=pP.fromObject(i.getCanvasBBox()),a=pP.fromObject(n.getBBox());return r.isTransposed?a.height>=o.height:a.width>=o.width}(t,e,i)}))}function Oj(t,e,n){return t.some((function(t){return n(t,e)}))}function Mj(t,e){return Oj(t,e,(function(t,e){var n=JF(t),r=JF(e);return function(t,e,n){return void 0===n&&(n=0),Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))}(n.getCanvasBBox(),r.getCanvasBBox(),2)>0}))}function _j(t,e,n){return t.some((function(t){return n(t,e)}))}function Aj(t,e){return _j(t,e,(function(t,e){var n=JF(t),r=JF(e);return function(t,e,n){return void 0===n&&(n=0),Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))}(n.getCanvasBBox(),r.getCanvasBBox(),2)>0}))}function Tj(){return kj||(kj=document.createElement("canvas").getContext("2d")),kj}var Pj=(0,nE.HP)((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant,u=Tj();return u.font=[o,a,i,"".concat(n,"px"),r].join(" "),u.measureText((0,nE.HD)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,eE.ev)([t],(0,nE.VO)(e),!0).join("")}));function Dj(t,e,n,r,i){var o,a,u=n.start,s=n.end,l=n.getWidth(),c=n.getHeight();"y"===i?(o=u.x+l/2,a=r.y<u.y?r.y:u.y):"x"===i?(o=r.x>u.x?r.x:u.x,a=u.y+c/2):"xy"===i&&(n.isPolar?(o=n.getCenter().x,a=n.getCenter().y):(o=(u.x+s.x)/2,a=(u.y+s.y)/2));var f=function(t,e,n){var r,i=e[0],o=e[1];return t.applyToMatrix([i,o,1]),"x"===n?(t.setMatrix(i_.vs(t.getMatrix(),[["t",-i,-o],["s",.01,1],["t",i,o]])),r=i_.vs(t.getMatrix(),[["t",-i,-o],["s",100,1],["t",i,o]])):"y"===n?(t.setMatrix(i_.vs(t.getMatrix(),[["t",-i,-o],["s",1,.01],["t",i,o]])),r=i_.vs(t.getMatrix(),[["t",-i,-o],["s",1,100],["t",i,o]])):"xy"===n&&(t.setMatrix(i_.vs(t.getMatrix(),[["t",-i,-o],["s",.01,.01],["t",i,o]])),r=i_.vs(t.getMatrix(),[["t",-i,-o],["s",100,100],["t",i,o]])),r}(t,[o,a],i);t.animate({matrix:f},e)}function Fj(t,e){var n,r=JN(t,e),i=r.startAngle,o=r.endAngle;return!(0,nE.vQ)(i,.5*-Math.PI)&&i<.5*-Math.PI&&(i+=2*Math.PI),!(0,nE.vQ)(o,.5*-Math.PI)&&o<.5*-Math.PI&&(o+=2*Math.PI),0===e[5]&&(i=(n=[o,i])[0],o=n[1]),(0,nE.vQ)(i,1.5*Math.PI)&&(i=-.5*Math.PI),(0,nE.vQ)(o,-.5*Math.PI)&&(o=1.5*Math.PI),{startAngle:i,endAngle:o}}function Nj(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]&&"C"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function Ij(t){var e,n,r,i=t.filter((function(t){return"A"===t[0]||"a"===t[0]}));if(0===i.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var o=i[0],a=i.length>1?i[1]:i[0],u=t.indexOf(o),s=t.indexOf(a),l=Nj(t[u-1]),c=Nj(t[s-1]),f=Fj(l,o),d=f.startAngle,h=f.endAngle,p=Fj(c,a),v=p.startAngle,g=p.endAngle;(0,nE.vQ)(d,v)&&(0,nE.vQ)(h,g)?(n=d,r=h):(n=Math.min(d,v),r=Math.max(h,g));var m=o[1],y=i[i.length-1][1];return m<y?(m=(e=[y,m])[0],y=e[1]):m===y&&(y=0),{startAngle:n,endAngle:r,radius:m,innerRadius:y}}function Lj(t,e,n){if(t.isGroup())(0,nE.S6)(t.getChildren(),(function(t){Lj(t,e,n)}));else{var r=t.getBBox(),i=(r.minX+r.maxX)/2,o=(r.minY+r.maxY)/2;if(t.applyToMatrix([i,o,1]),"zoomIn"===n){var a=i_.vs(t.getMatrix(),[["t",-i,-o],["s",.01,.01],["t",i,o]]);t.setMatrix(a),t.animate({matrix:i_.vs(t.getMatrix(),[["t",-i,-o],["s",100,100],["t",i,o]])},e)}else t.animate({matrix:i_.vs(t.getMatrix(),[["t",-i,-o],["s",.01,.01],["t",i,o]])},(0,eE.pi)((0,eE.pi)({},e),{callback:function(){t.remove(!0)}}))}}function Rj(t){return[XC.TOP,XC.BOTTOM].includes(t)?{offsetX:0,offsetY:t===XC.TOP?-8:8,style:{textAlign:"center",textBaseline:t===XC.TOP?"bottom":"top"}}:[XC.LEFT,XC.RIGHT].includes(t)?{offsetX:t===XC.LEFT?-8:8,offsetY:0,style:{textAlign:t===XC.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function jj(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var Bj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){return(0,nE.b$)({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,e){var n=2*Math.PI/t,r=-1*Math.PI/2+n*e,i=.5/(1+1/Math.sin(n/2)),o=jj({x:.5,y:.5},.5-i,r),a=5*Math.PI/4,u=1*Math.PI/4;return{start:jj(o,i,a),end:jj(o,i,u)}},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg,r=n.fields,i=n.type,o=r[0];if(!o)throw new Error("No `fields` specified!");var a=this.getFieldValues(t,o),u=a.length,s=[];return a.forEach((function(n,r){var l=[{field:o,value:n,values:a}],c=(0,nE.hX)(t,e.getFacetDataFilter(l)),f={type:i,data:c,region:e.getRegion(u,r),columnValue:n,columnField:o,columnIndex:r,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};s.push(f)})),s},e.prototype.getXAxisOption=function(t,e,n,r){return n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;(0,nE.S6)(this.facets,(function(e){var n=e.columnValue,r=e.view,i=(0,nE.U2)(t.cfg.title,"formatter"),o=(0,nE.b$)({position:["50%","0%"],content:i?i(n):n},Rj(XC.TOP),t.cfg.title);r.annotation().text(o)}))},e}(IP),zj=Bj,Uj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){return(0,nE.b$)({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,r=this.cfg.cols,i=n[0];if(!i)throw new Error("No `fields` specified!");var o=this.getFieldValues(t,i),a=o.length;r=r||a;var u=this.getPageCount(a,r),s=[];return o.forEach((function(n,l){var c=e.getRowCol(l,r),f=c.row,d=c.col,h=[{field:i,value:n,values:o}],p=(0,nE.hX)(t,e.getFacetDataFilter(h)),v={type:e.cfg.type,data:p,region:e.getRegion(u,r,d,f),columnValue:n,rowValue:n,columnField:i,rowField:null,columnIndex:d,rowIndex:f,columnValuesLength:r,rowValuesLength:u,total:a};s.push(v)})),s},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1&&r.columnValuesLength*r.rowIndex+r.columnIndex+1+r.columnValuesLength<=r.total?(0,eE.pi)((0,eE.pi)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?(0,eE.pi)((0,eE.pi)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,nE.S6)(this.facets,(function(e){var n=e.columnValue,r=e.view,i=(0,nE.U2)(t.cfg.title,"formatter"),o=(0,nE.b$)({position:["50%","0%"],content:i?i(n):n},Rj(XC.TOP),t.cfg.title);r.annotation().text(o)}))},e.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},e.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},e}(IP),Hj=Uj,Vj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){return(0,nE.b$)({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,eE.pi)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,eE.pi)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,r=e.type,i=n.length,o=i,a=[],u=0;u<o;u++)for(var s=n[u],l=0;l<i;l++){var c=n[l],f={type:r,data:t,region:this.getRegion(i,o,u,l),columnValue:s,rowValue:c,columnField:s,rowField:c,columnIndex:u,rowIndex:l,columnValuesLength:o,rowValuesLength:i};a.push(f)}return a},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?(0,eE.pi)((0,eE.pi)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?(0,eE.pi)((0,eE.pi)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,nE.S6)(this.facets,(function(e,n){var r=e.columnIndex,i=e.rowIndex,o=e.columnValuesLength,a=(e.rowValuesLength,e.columnValue),u=e.rowValue,s=e.view;if(0===i){var l=(0,nE.U2)(t.cfg.columnTitle,"formatter"),c=(0,nE.b$)({position:["50%","0%"],content:l?l(a):a},Rj(XC.TOP),t.cfg.columnTitle);s.annotation().text(c)}if(r===o-1){l=(0,nE.U2)(t.cfg.rowTitle,"formatter"),c=(0,nE.b$)({position:["100%","50%"],content:l?l(u):u},Rj(XC.RIGHT),t.cfg.rowTitle);s.annotation().text(c)}}))},e}(IP),Wj=Vj,Yj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getDefaultCfg=function(){return(0,nE.b$)({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!==0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.generateFacets=function(t){var e,n,r=this,i=this.cfg.fields[0],o=[],a=1,u=1,s=[""],l=[""];return this.cfg.transpose?(e=i,s=this.getFieldValues(t,e).slice(0,2),a=s.length):(n=i,l=this.getFieldValues(t,n).slice(0,2),u=l.length),s.forEach((function(i,c){l.forEach((function(f,d){var h=[{field:e,value:i,values:s},{field:n,value:f,values:l}],p=(0,nE.hX)(t,r.getFacetDataFilter(h)),v={type:r.cfg.type,data:p,region:r.getRegion(u,a,c,d),columnValue:i,rowValue:f,columnField:e,rowField:n,columnIndex:c,rowIndex:d,columnValuesLength:a,rowValuesLength:u};o.push(v)}))})),o},e.prototype.getXAxisOption=function(t,e,n,r){return 1===r.columnIndex||1===r.rowIndex?(0,eE.pi)((0,eE.pi)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;(0,nE.S6)(this.facets,(function(e,n){var r=e.columnValue,i=e.rowValue,o=e.view,a=(0,nE.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,nE.b$)({position:["50%","0%"],content:a?a(r):r},Rj(XC.TOP),t.cfg.title);o.annotation().text(u)}else{u=(0,nE.b$)({position:["100%","50%"],content:a?a(i):i},Rj(XC.RIGHT),t.cfg.title);o.annotation().text(u)}}))},e}(IP),qj=Yj,Gj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.getDefaultCfg=function(){return(0,nE.b$)({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,eE.pi)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,eE.pi)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,r=n[0],i=n[1],o=[],a=1,u=1,s=[""],l=[""];return r&&(s=this.getFieldValues(t,r),a=s.length),i&&(l=this.getFieldValues(t,i),u=l.length),s.forEach((function(n,c){l.forEach((function(f,d){var h=[{field:r,value:n,values:s},{field:i,value:f,values:l}],p=(0,nE.hX)(t,e.getFacetDataFilter(h)),v={type:e.cfg.type,data:p,region:e.getRegion(u,a,c,d),columnValue:n,rowValue:f,columnField:r,rowField:i,columnIndex:c,rowIndex:d,columnValuesLength:a,rowValuesLength:u};o.push(v)}))})),o},e.prototype.renderTitle=function(){var t=this;(0,nE.S6)(this.facets,(function(e,n){var r=e.columnIndex,i=e.rowIndex,o=e.columnValuesLength,a=e.columnValue,u=e.rowValue,s=e.view;if(0===i){var l=(0,nE.U2)(t.cfg.columnTitle,"formatter"),c=(0,nE.b$)({position:["50%","0%"],content:l?l(a):a},Rj(XC.TOP),t.cfg.columnTitle);s.annotation().text(c)}if(r===o-1){l=(0,nE.U2)(t.cfg.rowTitle,"formatter"),c=(0,nE.b$)({position:["100%","50%"],content:l?l(u):u},Rj(XC.RIGHT),t.cfg.rowTitle);s.annotation().text(c)}}))},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?(0,eE.pi)((0,eE.pi)({},n),{title:null,label:null}):r.columnIndex!==Math.floor((r.columnValuesLength-1)/2)?(0,eE.pi)((0,eE.pi)({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?(0,eE.pi)((0,eE.pi)({},n),{title:null,label:null}):r.rowIndex!==Math.floor((r.rowValuesLength-1)/2)?(0,eE.pi)((0,eE.pi)({},n),{title:null}):n},e}(IP),$j=Gj,Xj=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return(0,eE.ZT)(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(rE.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return(0,nE.b$)({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],n={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},e.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)}))},e.prototype.getRegion=function(t,e,n,r){var i=1/e,o=1/t,a={x:i*n,y:o*r};return{start:a,end:{x:a.x+i,y:a.y+2*o/3}}},e.prototype.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach((function(t){e.isLeaf(t)&&(n.push(t),t.columnIndex=r,r++)})),n.forEach((function(t){t.columnValuesLength=n.length}));for(var i=this.cfg.fields.length-1;i>=0;i--)for(var o=0,a=this.getFacetsByLevel(t,i);o<a.length;o++){var u=a[o];this.isLeaf(u)||(u.originColIndex=u.columnIndex,u.columnIndex=this.getRegionIndex(u.children),u.columnValuesLength=n.length)}},e.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},e.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,e,n){var r=this,i=this.cfg.fields;if(!(i.length<e)){var o=[],a=i[e-1],u=this.getFieldValues(t,a);return u.forEach((function(i,s){var l=[{field:a,value:i,values:u}],c=t.filter(r.getFacetDataFilter(l));if(c.length){var f={type:r.cfg.type,data:c,region:null,columnValue:i,rowValue:"",columnField:a,rowField:"",columnIndex:s,rowValuesLength:r.getRows(),columnValuesLength:1,rowIndex:e,children:r.getChildFacets(c,e+1,n)};o.push(f),n.push(f)}})),o}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;(0,nE.S6)(this.facets,(function(e){var n=e.columnValue,r=e.view,i=(0,nE.U2)(t.cfg.title,"formatter"),o=(0,nE.b$)({position:["50%","0%"],content:i?i(n):n},Rj(XC.TOP),t.cfg.title);r.annotation().text(o)}))},e.prototype.drawLines=function(t){var e=this;t.forEach((function(t){if(!e.isLeaf(t)){var n=t.children;e.addFacetLines(t,n)}}))},e.prototype.addFacetLines=function(t,e){var n=this,r=t.view.coordinateBBox,i={x:r.x+r.width/2,y:r.y+r.height};e.forEach((function(t){var e=t.view.coordinateBBox,r={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},o={x:i.x,y:i.y+(r.y-i.y)/2},a={x:r.x,y:o.y};n.drawLine([i,o,a,r])}))},e.prototype.getPath=function(t){var e=[];return this.cfg.line.smooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,nE.f0)({path:e},n)})},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?(0,eE.pi)((0,eE.pi)({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.originColIndex&&0!==r.columnIndex?(0,eE.pi)((0,eE.pi)({},n),{title:null,label:null}):n},e}(IP),Kj=Xj;function Zj(t){var e=(0,eE.ev)([],t,!0);e.sort((function(t,e){return t-e}));var n=e.length;return 0===n?0:n%2===1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2}function Jj(t,e){if(!e)return null;var n;switch(t){case"start":return 0;case"center":return.5;case"end":return 1;case"median":n=e.isCategory?Zj(e.values.map((function(t,e){return e}))):Zj(e.values);break;case"mean":n=e.isCategory?(e.values.length-1)/2:function(t){var e=(0,nE.u4)(t,(function(t,e){return t+(isNaN(e)||!(0,nE.hj)(e)?0:e)}),0);return 0===t.length?0:e/t.length}(e.values);break;case"min":n=e.isCategory?0:e[t];break;case"max":n=e.isCategory?e.values.length-1:e[t];break;default:n=t}return e.scale(n)}var Qj=["regionFilter","shape"],tB=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer($C.FORE).addGroup(),n.backgroundContainer=n.view.getLayer($C.BG).addGroup(),n.option=[],n}return(0,eE.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender((function(){var e=new Map;(0,nE.S6)(t.option,(function(n){if((0,nE.q9)(Qj,n.type)){var r=t.updateOrCreate(n);r&&e.set(t.getCacheKey(n),r)}})),t.cache=t.syncCache(e)}));var e=new Map;(0,nE.S6)(this.option,(function(n){if(!(0,nE.q9)(Qj,n.type)){var r=t.updateOrCreate(n);r&&e.set(t.getCacheKey(n),r)}})),this.cache=this.syncCache(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.clearComponents=function(){this.getComponents().forEach((function(t){t.component.destroy()})),this.cache.clear()},e.prototype.onAfterRender=function(t){this.view.getOptions().animate?this.view.geometries.forEach((function(e){e.animateOption&&e.once(iE.AFTER_DRAW_ANIMATE,(function(){t()}))})):this.view.getRootView().once(rE.AFTER_RENDER,(function(){t()}))},e.prototype.createAnnotation=function(t){var e=t.type,n=r[(0,nE.jC)(e)];if(n){var i=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,i);return o?{component:new n(o),layer:this.isTop(o)?$C.FORE:$C.BG,direction:XC.NONE,type:KC.ANNOTATION,extra:t}:null}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation((0,eE.pi)({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation((0,eE.pi)({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation((0,eE.pi)({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation((0,eE.pi)({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation((0,eE.pi)({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation((0,eE.pi)({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation((0,eE.pi)({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation((0,eE.pi)({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation((0,eE.pi)({type:"shape"},t))},e.prototype.html=function(t){this.annotation((0,eE.pi)({type:"html"},t))},e.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),r=(0,nE.mf)(t)?t.call(null,e,n):t,i=0,o=0;if((0,nE.kJ)(r)){var a=r[0],u=r[1];if((0,nE.HD)(a)&&-1!==a.indexOf("%")&&!isNaN(a.slice(0,-1)))return this.parsePercentPosition(r);i=Jj(a,e),o=Jj(u,Object.values(n)[0])}else if(!(0,nE.UM)(r))for(var s=0,l=(0,nE.XP)(r);s<l.length;s++){var c=l[s],f=r[c];c===e.field&&(i=Jj(f,e)),n[c]&&(o=Jj(f,n[c]))}return isNaN(i)||isNaN(o)?null:this.view.getCoordinate().convert({x:i,y:o})},e.prototype.getRegionPoints=function(t,e){var n,r=this,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),a=Object.values(o)[0],u=i.field,s=this.view.getData(),l=(0,nE.kJ)(t)?t[0]:t[u],c=(0,nE.kJ)(e)?e[0]:e[u],f=[];return(0,nE.S6)(s,(function(t,e){if(t[u]===l&&(n=e),e>=n){var i=r.parsePosition([t[u],t[a.field]]);i&&f.push(i)}if(t[u]===c)return!1})),f},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,r=this.view.getCoordinate(),i=r.start,o=r.end,a=Math.min(i.x,o.x),u=Math.min(i.y,o.y);return{x:r.getWidth()*e+a,y:r.getHeight()*n+u}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,r=t.getWidth(),i=t.getHeight(),o={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:o.x,y:o.y,minX:o.x,minY:o.y,maxX:o.x+r,maxY:o.y+i,width:r,height:i}},e.prototype.getAnnotationCfg=function(t,e,n){var r=this,i=this.view.getCoordinate(),o=this.view.getCanvas(),a={};if((0,nE.UM)(e))return null;var u=e.start,s=e.end,l=e.position,c=this.parsePosition(u),f=this.parsePosition(s),d=this.parsePosition(l);if(!(!["arc","image","line","region","regionFilter"].includes(t)||c&&f))return null;if(["text","dataMarker","html"].includes(t)&&!d)return null;if("arc"===t){var h=e,p=(h.start,h.end,(0,eE._T)(h,["start","end"])),v=yP(i,c),g=yP(i,f);v>g&&(g=2*Math.PI+g),a=(0,eE.pi)((0,eE.pi)({},p),{center:i.getCenter(),radius:gP(i,c),startAngle:v,endAngle:g})}else if("image"===t){var m=e;m.start,m.end,p=(0,eE._T)(m,["start","end"]);a=(0,eE.pi)((0,eE.pi)({},p),{start:c,end:f,src:e.src})}else if("line"===t){var y=e;y.start,y.end,p=(0,eE._T)(y,["start","end"]);a=(0,eE.pi)((0,eE.pi)({},p),{start:c,end:f,text:(0,nE.U2)(e,"text",null)})}else if("region"===t){var x=e;x.start,x.end,p=(0,eE._T)(x,["start","end"]);a=(0,eE.pi)((0,eE.pi)({},p),{start:c,end:f})}else if("text"===t){var b=this.view.getData(),w=e,S=(w.position,w.content),k=(p=(0,eE._T)(w,["position","content"]),S);(0,nE.mf)(S)&&(k=S(b)),a=(0,eE.pi)((0,eE.pi)((0,eE.pi)({},d),p),{content:k})}else if("dataMarker"===t){var C=e,E=(C.position,C.point),O=C.line,M=C.text,_=C.autoAdjust,A=C.direction;p=(0,eE._T)(C,["position","point","line","text","autoAdjust","direction"]);a=(0,eE.pi)((0,eE.pi)((0,eE.pi)({},p),d),{coordinateBBox:this.getCoordinateBBox(),point:E,line:O,text:M,autoAdjust:_,direction:A})}else if("dataRegion"===t){var T=e,P=T.start,D=T.end,F=T.region,N=(M=T.text,T.lineLength);p=(0,eE._T)(T,["start","end","region","text","lineLength"]);a=(0,eE.pi)((0,eE.pi)({},p),{points:this.getRegionPoints(P,D),region:F,text:M,lineLength:N})}else if("regionFilter"===t){var I=e,L=(I.start,I.end,I.apply),R=I.color,j=(p=(0,eE._T)(I,["start","end","apply","color"]),this.view.geometries),B=[],z=function t(e){e&&(e.isGroup()?e.getChildren().forEach((function(e){return t(e)})):B.push(e))};(0,nE.S6)(j,(function(t){L?(0,nE.FX)(L,t.type)&&(0,nE.S6)(t.elements,(function(t){z(t.shape)})):(0,nE.S6)(t.elements,(function(t){z(t.shape)}))})),a=(0,eE.pi)((0,eE.pi)({},p),{color:R,shapes:B,start:c,end:f})}else if("shape"===t){var U=e,H=U.render,V=(0,eE._T)(U,["render"]);a=(0,eE.pi)((0,eE.pi)({},V),{render:function(t){if((0,nE.mf)(e.render))return H(t,r.view,{parsePosition:r.parsePosition.bind(r)})}})}else if("html"===t){var W=e,Y=W.html;W.position,V=(0,eE._T)(W,["html","position"]);a=(0,eE.pi)((0,eE.pi)((0,eE.pi)({},V),d),{parent:o.get("el").parentNode,html:function(t){return(0,nE.mf)(Y)?Y(t,r.view):Y}})}var q=(0,nE.b$)({},n,(0,eE.pi)((0,eE.pi)({},a),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(q.container=this.getComponentContainer(q)),q.animate=this.view.getOptions().animate&&q.animate&&(0,nE.U2)(e,"animate",q.animate),q.animateOption=(0,nE.b$)({},OF,q.animateOption,e.animateOption),q},e.prototype.isTop=function(t){return(0,nE.U2)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return(0,nE.U2)(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var n=t.type,r=this.getAnnotationTheme(n),i=this.getAnnotationCfg(n,t,r);i&&dP(i,["container"]),e.component.update((0,eE.pi)((0,eE.pi)({},i||{}),{visible:!!i})),(0,nE.q9)(Qj,t.type)&&e.component.render()}else(e=this.createAnnotation(t))&&(e.component.init(),(0,nE.q9)(Qj,t.type)&&e.component.render());return e},e.prototype.syncCache=function(t){var e=this,n=new Map(this.cache);return t.forEach((function(t,e){n.set(e,t)})),n.forEach((function(t,r){(0,nE.sE)(e.option,(function(t){return r===e.getCacheKey(t)}))||(t.component.destroy(),n.delete(r))})),n},e.prototype.getCacheKey=function(t){return t},e}(bF),eB=tB;function nB(t,e){var n=(0,nE.b$)({},(0,nE.U2)(t,["components","axis","common"]),(0,nE.U2)(t,["components","axis",e]));return(0,nE.U2)(n,["grid"],{})}function rB(t,e,n,r){var i=[],o=e.getTicks();return t.isPolar&&o.push({value:1,text:"",tickValue:""}),o.reduce((function(e,o,a){var u=o.value;if(r)i.push({points:[t.convert("y"===n?{x:0,y:u}:{x:u,y:0}),t.convert("y"===n?{x:1,y:u}:{x:u,y:1})]});else if(a){var s=(e.value+u)/2;i.push({points:[t.convert("y"===n?{x:0,y:s}:{x:s,y:0}),t.convert("y"===n?{x:1,y:s}:{x:s,y:1})]})}return o}),o[0]),i}function iB(t,e,n,r,i){var o=e.values.length,a=[],u=n.getTicks();return u.reduce((function(e,n){var u=e?e.value:n.value,s=n.value,l=(u+s)/2;return"x"===i?a.push({points:[t.convert({x:r?s:l,y:0}),t.convert({x:r?s:l,y:1})]}):a.push({points:(0,nE.UI)(Array(o+1),(function(e,n){return t.convert({x:n/o,y:r?s:l})}))}),n}),u[0]),a}function oB(t,e){var n=(0,nE.U2)(e,"grid");if(null===n)return!1;var r=(0,nE.U2)(t,"grid");return!(void 0===n&&null===r)}var aB=["container"],uB=(0,eE.pi)((0,eE.pi)({},OF),{appear:null}),sB=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer($C.BG).addGroup(),n.gridForeContainer=n.view.getLayer($C.FORE).addGroup(),n.axisContainer=n.view.getLayer($C.BG).addGroup(),n.axisForeContainer=n.view.getLayer($C.FORE).addGroup(),n}return(0,eE.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,nE.S6)(this.getComponents(),(function(n){var r,i=n.component,o=n.direction,a=n.type,u=n.extra,s=u.dim,l=u.scale,c=u.alignTick;if(a===KC.AXIS)e.isPolar?"x"===s?r=e.isTransposed?OP(e,o):PP(e):"y"===s&&(r=e.isTransposed?PP(e):OP(e,o)):r=OP(e,o);else if(a===KC.GRID)if(e.isPolar){r={items:e.isTransposed?"x"===s?iB(e,t.view.getYScales()[0],l,c,s):rB(e,l,s,c):"x"===s?rB(e,l,s,c):iB(e,t.view.getXScale(),l,c,s),center:t.view.getCoordinate().getCenter()}}else r={items:rB(e,l,s,c)};i.update(r)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(n,r){t.has(r)?e.set(r,n):n.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=DP(this.option,e.field);if(!1!==n){var r=FP(n,XC.BOTTOM),i=$C.BG,o="x",a=this.view.getCoordinate(),u=this.getId("axis",e.field),s=this.getId("grid",e.field);if(a.isRect){if(l=this.cache.get(u))dP(f=this.getLineAxisCfg(e,n,r),aB),l.component.update(f),t.set(u,l);else l=this.createLineAxis(e,n,i,r,o),this.cache.set(u,l),t.set(u,l);if(c=this.cache.get(s))dP(f=this.getLineGridCfg(e,n,r,o),aB),c.component.update(f),t.set(s,c);else(c=this.createLineGrid(e,n,i,r,o))&&(this.cache.set(s,c),t.set(s,c))}else if(a.isPolar){var l,c;if(l=this.cache.get(u)){dP(f=a.isTransposed?this.getLineAxisCfg(e,n,XC.RADIUS):this.getCircleAxisCfg(e,n,r),aB),l.component.update(f),t.set(u,l)}else{if(a.isTransposed){if((0,nE.o8)(n))return;l=this.createLineAxis(e,n,i,XC.RADIUS,o)}else l=this.createCircleAxis(e,n,i,r,o);this.cache.set(u,l),t.set(u,l)}if(c=this.cache.get(s)){var f;dP(f=a.isTransposed?this.getCircleGridCfg(e,n,XC.RADIUS,o):this.getLineGridCfg(e,n,XC.CIRCLE,o),aB),c.component.update(f),t.set(s,c)}else{if(a.isTransposed){if((0,nE.o8)(n))return;c=this.createCircleGrid(e,n,i,XC.RADIUS,o)}else c=this.createLineGrid(e,n,i,XC.CIRCLE,o);c&&(this.cache.set(s,c),t.set(s,c))}}}}},e.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,nE.S6)(n,(function(n,r){if(n&&!n.isIdentity){var i=n.field,o=DP(e.option,i);if(!1!==o){var a=$C.BG,u="y",s=e.getId("axis",i),l=e.getId("grid",i),c=e.view.getCoordinate();if(c.isRect){var f=FP(o,0===r?XC.LEFT:XC.RIGHT);if(d=e.cache.get(s))dP(p=e.getLineAxisCfg(n,o,f),aB),d.component.update(p),t.set(s,d);else d=e.createLineAxis(n,o,a,f,u),e.cache.set(s,d),t.set(s,d);if(h=e.cache.get(l))dP(p=e.getLineGridCfg(n,o,f,u),aB),h.component.update(p),t.set(l,h);else(h=e.createLineGrid(n,o,a,f,u))&&(e.cache.set(l,h),t.set(l,h))}else if(c.isPolar){var d,h;if(d=e.cache.get(s)){dP(p=c.isTransposed?e.getCircleAxisCfg(n,o,XC.CIRCLE):e.getLineAxisCfg(n,o,XC.RADIUS),aB),d.component.update(p),t.set(s,d)}else{if(c.isTransposed){if((0,nE.o8)(o))return;d=e.createCircleAxis(n,o,a,XC.CIRCLE,u)}else d=e.createLineAxis(n,o,a,XC.RADIUS,u);e.cache.set(s,d),t.set(s,d)}if(h=e.cache.get(l)){var p;dP(p=c.isTransposed?e.getLineGridCfg(n,o,XC.CIRCLE,u):e.getCircleGridCfg(n,o,XC.RADIUS,u),aB),h.component.update(p),t.set(l,h)}else{if(c.isTransposed){if((0,nE.o8)(o))return;h=e.createLineGrid(n,o,a,XC.CIRCLE,u)}else h=e.createCircleGrid(n,o,a,XC.RADIUS,u);h&&(e.cache.set(l,h),t.set(l,h))}}}}}))},e.prototype.createLineAxis=function(t,e,n,r,i){var o={component:new ZT(this.getLineAxisCfg(t,e,r)),layer:n,direction:r===XC.RADIUS?XC.NONE:r,type:KC.AXIS,extra:{dim:i,scale:t}};return o.component.set("field",t.field),o.component.init(),o},e.prototype.createLineGrid=function(t,e,n,r,i){var o=this.getLineGridCfg(t,e,r,i);if(o){var a={component:new QT(o),layer:n,direction:XC.NONE,type:KC.GRID,extra:{dim:i,scale:t,alignTick:(0,nE.U2)(o,"alignTick",!0)}};return a.component.init(),a}},e.prototype.createCircleAxis=function(t,e,n,r,i){var o={component:new JT(this.getCircleAxisCfg(t,e,r)),layer:n,direction:r,type:KC.AXIS,extra:{dim:i,scale:t}};return o.component.set("field",t.field),o.component.init(),o},e.prototype.createCircleGrid=function(t,e,n,r,i){var o=this.getCircleGridCfg(t,e,r,i);if(o){var a={component:new tP(o),layer:n,direction:XC.NONE,type:KC.GRID,extra:{dim:i,scale:t,alignTick:(0,nE.U2)(o,"alignTick",!0)}};return a.component.init(),a}},e.prototype.getLineAxisCfg=function(t,e,n){var r=(0,nE.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,i=this.view.getCoordinate(),o=OP(i,n),a=NP(t,e),u=AP(this.view.getTheme(),n),s=(0,nE.U2)(e,["title"])?(0,nE.b$)({title:{style:{text:a}}},{title:TP(this.view.getTheme(),n,e.title)},e):e,l=(0,nE.b$)((0,eE.pi)((0,eE.pi)({container:r},o),{ticks:t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}})),verticalFactor:i.isPolar?-1*_P(o,i.getCenter()):_P(o,i.getCenter()),theme:u}),u,s),c=this.getAnimateCfg(l),f=c.animate,d=c.animateOption;l.animateOption=d,l.animate=f;var h=MP(o),p=(0,nE.U2)(l,"verticalLimitLength",h?1/3:.5);if(p<=1){var v=this.view.getCanvas().get("width"),g=this.view.getCanvas().get("height");l.verticalLimitLength=p*(h?v:g)}return l},e.prototype.getLineGridCfg=function(t,e,n,r){if(oB(AP(this.view.getTheme(),n),e)){var i=nB(this.view.getTheme(),n),o=(0,nE.b$)({container:(0,nE.U2)(e,["top"])?this.gridForeContainer:this.gridContainer},i,(0,nE.U2)(e,"grid"),this.getAnimateCfg(e));return o.items=rB(this.view.getCoordinate(),t,r,(0,nE.U2)(o,"alignTick",!0)),o}},e.prototype.getCircleAxisCfg=function(t,e,n){var r=(0,nE.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,i=this.view.getCoordinate(),o=t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}}));t.isCategory||Math.abs(i.endAngle-i.startAngle)!==2*Math.PI||o.pop();var a=NP(t,e),u=AP(this.view.getTheme(),XC.CIRCLE),s=(0,nE.U2)(e,["title"])?(0,nE.b$)({title:{style:{text:a}}},{title:TP(this.view.getTheme(),n,e.title)},e):e,l=(0,nE.b$)((0,eE.pi)((0,eE.pi)({container:r},PP(this.view.getCoordinate())),{ticks:o,verticalFactor:1,theme:u}),u,s),c=this.getAnimateCfg(l),f=c.animate,d=c.animateOption;return l.animate=f,l.animateOption=d,l},e.prototype.getCircleGridCfg=function(t,e,n,r){if(oB(AP(this.view.getTheme(),n),e)){var i=nB(this.view.getTheme(),XC.RADIUS),o=(0,nE.b$)({container:(0,nE.U2)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},i,(0,nE.U2)(e,"grid"),this.getAnimateCfg(e)),a=(0,nE.U2)(o,"alignTick",!0),u="x"===r?this.view.getYScales()[0]:this.view.getXScale();return o.items=iB(this.view.getCoordinate(),u,t,a,r),o}},e.prototype.getId=function(t,e){var n=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(n.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,nE.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,nE.b$)({},uB,t.animateOption):uB}},e}(bF),lB=sB;function cB(t,e,n){return n===XC.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===XC.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===XC.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===XC.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===XC.TOP_LEFT||n===XC.LEFT_TOP?[t.tl.x,t.tl.y]:n===XC.TOP_RIGHT||n===XC.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===XC.BOTTOM_LEFT||n===XC.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===XC.BOTTOM_RIGHT||n===XC.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function fB(t,e){return(0,nE.jn)(t)?!1!==t&&{}:(0,nE.U2)(t,[e],t)}function dB(t){return(0,nE.U2)(t,"position",XC.BOTTOM)}var hB=function(t){function e(e){var n=t.call(this,e)||this;return n.container=n.view.getLayer($C.FORE).addGroup(),n}return(0,eE.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,nE.S6)(this.components,(function(e){var n=e.component,r=e.direction,i=fN(r),o=n.get("maxWidthRatio"),a=n.get("maxHeightRatio"),u=t.getCategoryLegendSizeCfg(i,o,a),s=n.get("maxWidth"),l=n.get("maxHeight");n.update({maxWidth:Math.min(u.maxWidth,s||0),maxHeight:Math.min(u.maxHeight,l||0)});var c=n.get("padding"),f=n.getLayoutBBox(),d=new pP(f.x,f.y,f.width,f.height).expand(c),h=cB(t.view.viewBBox,d,r),p=h[0],v=h[1],g=cB(t.layoutBBox,d,r),m=g[0],y=g[1],x=0,b=0;r.startsWith("top")||r.startsWith("bottom")?(x=p,b=y):(x=m,b=v),n.setLocation({x:x+c[3],y:b+c[0]}),t.layoutBBox=t.layoutBBox.cut(d,r)}))},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if((0,nE.U2)(this.option,"custom")){var n="global-custom",r=this.getComponentById(n);if(r){var i=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);dP(i,["container"]),r.component.update(i),e[n]=!0}else{var o=this.createCustomLegend(void 0,void 0,void 0,this.option);if(o){o.init();var a=$C.FORE,u=dB(this.option);this.components.push({id:n,component:o,layer:a,direction:u,type:KC.LEGEND,extra:void 0}),e[n]=!0}}}else this.loopLegends((function(n,r,i){var o=t.getId(i.field),a=t.getComponentById(o);if(a){var u=void 0,s=fB(t.option,i.field);!1!==s&&((0,nE.U2)(s,"custom")?u=t.getCategoryCfg(n,r,i,s,!0):i.isLinear?u=t.getContinuousCfg(n,r,i,s):i.isCategory&&(u=t.getCategoryCfg(n,r,i,s))),u&&(dP(u,["container"]),a.direction=dB(s),a.component.update(u),e[o]=!0)}else{var l=t.createFieldLegend(n,r,i);l&&(l.component.init(),t.components.push(l),e[o]=!0)}}));var s=[];(0,nE.S6)(this.getComponents(),(function(t){e[t.id]?s.push(t):t.component.destroy()})),this.components=s},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,nE.S6)(t.views,(function(t){n=n.concat(e.getGeometries(t))})),n},e.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var e=this.getGeometries(this.view),n={};(0,nE.S6)(e,(function(e){var r=e.getGroupAttributes();(0,nE.S6)(r,(function(r){var i=r.getScale(r.type);i&&"identity"!==i.type&&!n[i.field]&&(t(e,r,i),n[i.field]=!0)}))}))}},e.prototype.createFieldLegend=function(t,e,n){var r,i=fB(this.option,n.field),o=$C.FORE,a=dB(i);if(!1!==i&&((0,nE.U2)(i,"custom")?r=this.createCustomLegend(t,e,n,i):n.isLinear?r=this.createContinuousLegend(t,e,n,i):n.isCategory&&(r=this.createCategoryLegend(t,e,n,i))),r)return r.set("field",n.field),{id:this.getId(n.field),component:r,layer:o,direction:a,type:KC.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,e,n,r){var i=this.getCategoryCfg(t,e,n,r,!0);return new eP(i)},e.prototype.createContinuousLegend=function(t,e,n,r){var i=this.getContinuousCfg(t,e,n,dP(r,["value"]));return new nP(i)},e.prototype.createCategoryLegend=function(t,e,n,r){var i=this.getCategoryCfg(t,e,n,r);return new eP(i)},e.prototype.getContinuousCfg=function(t,e,n,r){var i=n.getTicks(),o=(0,nE.sE)(i,(function(t){return 0===t.value})),a=(0,nE.sE)(i,(function(t){return 1===t.value})),u=i.map((function(t){var r=t.value,i=t.tickValue,o=e.mapping(n.invert(r)).join("");return{value:i,attrValue:o,color:o,scaleValue:r}}));o||u.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),a||u.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort((function(t,e){return t.value-e.value}));var s={min:(0,nE.YM)(u).value,max:(0,nE.Z$)(u).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(s.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(s.colors=u.map((function(t){return t.attrValue})));var l=this.container,c=fN(dB(r)),f=(0,nE.U2)(r,"title");return f&&(f=(0,nE.b$)({text:kP(n)},f)),s.container=l,s.layout=c,s.title=f,s.animateOption=OF,this.mergeLegendCfg(s,r,"continuous")},e.prototype.getCategoryCfg=function(t,e,n,r,i){var o=this.container,a=(0,nE.U2)(r,"position",XC.BOTTOM),u=hN(this.view.getTheme(),a),s=(0,nE.U2)(u,["marker"]),l=(0,nE.U2)(r,"marker"),c=fN(a),f=(0,nE.U2)(u,["pageNavigator"]),d=(0,nE.U2)(r,"pageNavigator"),h=i?function(t,e,n){return n.map((function(n,r){var i=e;(0,nE.mf)(i)&&(i=i(n.name,r,(0,nE.b$)({},t,n)));var o=(0,nE.mf)(n.marker)?n.marker(n.name,r,(0,nE.b$)({},t,n)):n.marker,a=(0,nE.b$)({},t,i,o);return cN(a),n.marker=a,n}))}(s,l,r.items):dN(this.view,t,e,s,l),p=(0,nE.U2)(r,"title");p&&(p=(0,nE.b$)({text:n?kP(n):""},p));var v=(0,nE.U2)(r,"maxWidthRatio"),g=(0,nE.U2)(r,"maxHeightRatio"),m=this.getCategoryLegendSizeCfg(c,v,g);m.container=o,m.layout=c,m.items=h,m.title=p,m.animateOption=OF,m.pageNavigator=(0,nE.b$)({},f,d);var y=this.mergeLegendCfg(m,r,a);y.reversed&&y.items.reverse();var x=(0,nE.U2)(y,"maxItemWidth");return x&&x<=1&&(y.maxItemWidth=this.view.viewBBox.width*x),y},e.prototype.mergeLegendCfg=function(t,e,n){var r=n.split("-")[0],i=hN(this.view.getTheme(),r);return(0,nE.b$)({},i,t,e)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return(0,nE.sE)(this.components,(function(e){return e.id===t}))},e.prototype.getCategoryLegendSizeCfg=function(t,e,n){void 0===e&&(e=.25),void 0===n&&(n=.25);var r=this.view.viewBBox,i=r.width,o=r.height;return"vertical"===t?{maxWidth:i*e,maxHeight:o}:{maxWidth:i,maxHeight:o*n}},e}(bF),pB=hB,vB=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=nE.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=t[0],r=t[1];n.start=e,n.end=r,n.changeViewData(e,r)},n.container=n.view.getLayer($C.FORE).addGroup(),n.onChangeFn=(0,nE.P2)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(rE.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(rE.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,eE.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(rE.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(rE.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,n=t.end;(0,nE.UM)(this.start)&&(this.start=e,this.end=n);var r=this.view.getOptions().data;this.option&&!(0,nE.xb)(r)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.start,t.end)}),0)),this.slider){var e=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),r=n[0],i=(n[1],n[2],n[3]),o=this.slider.component.getLayoutBBox(),a=new pP(o.x,o.y,Math.min(o.width,e),o.height).expand(n),u=this.getMinMaxText(this.start,this.end),s=u.minText,l=u.maxText,c=cB(this.view.viewBBox,a,XC.BOTTOM),f=(c[0],c[1]),d=cB(this.view.coordinateBBox,a,XC.BOTTOM),h=d[0];d[1];this.slider.component.update((0,eE.pi)((0,eE.pi)({},this.getSliderCfg()),{x:h+i,y:f+r,width:this.width,start:this.start,end:this.end,minText:s,maxText:l})),this.view.viewBBox=this.view.viewBBox.cut(a,XC.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new GT((0,eE.pi)({container:this.container},t));return e.init(),{component:e,layer:$C.FORE,direction:XC.BOTTOM,type:KC.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),n=e.minText,r=e.maxText;t=(0,eE.pi)((0,eE.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:r})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,nE.Kn)(this.option)){var e=(0,eE.pi)({data:this.getData()},(0,nE.U2)(this.option,"trendCfg",{}));t=(0,nE.b$)({},t,this.getThemeOptions(),this.option),t=(0,eE.pi)((0,eE.pi)({},t),{trendCfg:e})}return t.start=(0,nE.uZ)(Math.min((0,nE.UM)(t.start)?0:t.start,(0,nE.UM)(t.end)?1:t.end),0,1),t.end=(0,nE.uZ)(Math.max((0,nE.UM)(t.start)?0:t.start,(0,nE.UM)(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var r=n[0],i=r.field,o=r.ticks;return t.reduce((function(t,n){return n[i]===o[0]&&t.push(n[e.field]),t}),[])}return t.map((function(t){return t[e.field]||0}))},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,nE.U2)(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,e){var n=this.view.getOptions().data,r=this.view.getXScale(),i=(0,nE.I)(n,r.field);r.isLinear&&(i=i.sort());var o=i,a=(0,nE.dp)(n);if(!r||!a)return{};var u=(0,nE.dp)(o),s=Math.floor(t*(u-1)),l=Math.floor(e*(u-1)),c=(0,nE.U2)(o,[s]),f=(0,nE.U2)(o,[l]),d=this.getSliderCfg().formatter;return d&&(c=d(c,n[s],s),f=d(f,n[l],l)),{minText:c,maxText:f}},e.prototype.changeViewData=function(t,e){var n=this.view.getOptions().data,r=this.view.getXScale(),i=(0,nE.dp)(n);if(r&&i){var o=(0,nE.I)(n,r.field),a=this.view.getXScale().isLinear?o.sort((function(t,e){return Number(t)-Number(e)})):o,u=a,s=(0,nE.dp)(u),l=Math.floor(t*(s-1)),c=Math.floor(e*(s-1));this.view.filter(r.field,(function(t,e){var n=u.indexOf(t);return!(n>-1)||fP(n,l,c)})),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(bF),gB=vB,mB=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=nE.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=t.ratio,r=n.getValidScrollbarCfg().animate;n.ratio=(0,nE.uZ)(e,0,1);var i=n.view.getOptions().animate;r||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(i)},n.container=n.view.getLayer($C.FORE).addGroup(),n.onChangeFn=(0,nE.P2)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(rE.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(rE.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,eE.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(rE.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(rE.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)}))),this.scrollbar){var e=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),r=this.scrollbar.component.getLayoutBBox(),i=new pP(r.x,r.y,Math.min(r.width,e),r.height).expand(n),o=this.getScrollbarComponentCfg(),a=void 0,u=void 0;if(o.isHorizontal){var s=cB(this.view.viewBBox,i,XC.BOTTOM),l=(s[0],s[1]),c=cB(this.view.coordinateBBox,i,XC.BOTTOM),f=c[0];c[1];a=f,u=l}else{var d=cB(this.view.viewBBox,i,XC.RIGHT),h=(d[0],l=d[1],cB(this.view.viewBBox,i,XC.RIGHT));f=h[0],h[1];a=f,u=l}a+=n[3],u+=n[0],this.trackLen?this.scrollbar.component.update((0,eE.pi)((0,eE.pi)({},o),{x:a,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,eE.pi)((0,eE.pi)({},o),{x:a,y:u})),this.view.viewBBox=this.view.viewBBox.cut(i,o.isHorizontal?XC.BOTTOM:XC.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,nE.U2)(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var e=(0,nE.U2)(this.view.getTheme(),["components","scrollbar"]),n=t||{},r=n.thumbHighlightColor,i=(0,eE._T)(n,["thumbHighlightColor"]);return{default:(0,nE.b$)({},(0,nE.U2)(e,["default","style"],{}),i),hover:(0,nE.b$)({},(0,nE.U2)(e,["hover","style"],{}),{thumbColor:r})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),r=n.trackLen,i=n.thumbLen;this.trackLen=r,this.thumbLen=i,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,nE.uZ)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},e.prototype.changeViewData=function(t,e){var n=this,r=t[0],i=t[1],o="vertical"!==this.getValidScrollbarCfg().type,a=(0,nE.I)(this.data,this.xScaleCfg.field),u=this.view.getXScale().isLinear?a.sort((function(t,e){return Number(t)-Number(e)})):a,s=o?u:u.reverse();this.yScalesCfg.forEach((function(t){n.view.scale(t.field,{formatter:t.formatter,type:t.type,min:t.min,max:t.max,tickMethod:t.tickMethod})})),this.view.filter(this.xScaleCfg.field,(function(t){var e=s.indexOf(t);return!(e>-1)||fP(e,r,i)})),this.view.render(!0)},e.prototype.createScrollbar=function(){var t="vertical"!==this.getValidScrollbarCfg().type,e=new KT((0,eE.pi)((0,eE.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return e.init(),{component:e,layer:$C.FORE,direction:t?XC.BOTTOM:XC.RIGHT,type:KC.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?(0,eE.pi)((0,eE.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,eE.pi)({},t);return this.scrollbar.component.update(e),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg(),n=e.type,r=e.categorySize,i="vertical"!==n;return Math.floor((i?t.width:t.height)/r)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData(),n=(0,nE.I)(e,t.field);return(0,nE.dp)(n)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,n=t.viewBBox,r=this.getValidScrollbarCfg(),i=r.type,o=r.padding,a=r.width,u=r.height,s=r.style,l="vertical"!==i,c=o[0],f=o[1],d=o[2],h=o[3],p=l?{x:e.minX+h,y:n.maxY-u-d}:{x:n.maxX-a-f,y:e.minY+c},v=this.getStep(),g=this.getCnt(),m=l?e.width-h-f:e.height-c-d,y=Math.max(m*(0,nE.uZ)(v/g,0,1),20);return(0,eE.pi)((0,eE.pi)({},this.getThemeOptions()),{x:p.x,y:p.y,size:l?u:a,isHorizontal:l,trackLen:m,thumbLen:y,thumbOffset:0,theme:this.getScrollbarTheme(s)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return(0,nE.Kn)(this.option)&&(t=(0,eE.pi)((0,eE.pi)({},t),this.option)),(0,nE.Kn)(this.option)&&this.option.padding||(t.padding=(t.type,[0,0,0,0])),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===e.type&&(n=(0,eE.ev)([],n,!0).reverse()),n},e}(bF),yB=mB,xB={fill:"#CCD6EC",opacity:.3};function bB(t,e,n){var r=function(t,e,n){for(var r=rF(t,e,n),i=0,o=t.views;i<o.length;i++){var a=o[i];r=r.concat(rF(a,e,n))}return r}(t,e,n);if(r.length){for(var i=0,o=r=(0,nE.xH)(r);i<o.length;i++)for(var a=0,u=o[i];a<u.length;a++){var s=u[a],l=s.mappingData,c=l.x,f=l.y;s.x=(0,nE.kJ)(c)?c[c.length-1]:c,s.y=(0,nE.kJ)(f)?f[f.length-1]:f}if(!1===n.shared&&r.length>1){for(var d=r[0],h=Math.abs(e.y-d[0].y),p=0,v=r;p<v.length;p++){var g=v[p],m=Math.abs(e.y-g[0].y);m<=h&&(d=g,h=m)}r=[d]}return(0,nE.jj)((0,nE.xH)(r))}return[]}var wB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.show=function(t){var e=this.context.view,n=this.context.event,r=e.getController("tooltip").getTooltipCfg(),i=bB(e,{x:n.x,y:n.y},r);if(!(0,nE.Xy)(i,this.items)&&(this.items=i,i.length)){var o=e.getXScale().field,a=i[0].data[o],u=[],s=e.geometries;if((0,nE.S6)(s,(function(t){if("interval"===t.type||"schema"===t.type){var e=t.getElementsBy((function(t){return t.getData()[o]===a}));u=u.concat(e)}})),u.length){var l=e.getCoordinate(),c=u[0].shape.getCanvasBBox(),f=u[0].shape.getCanvasBBox(),d=c;(0,nE.S6)(u,(function(t){var e=t.shape.getCanvasBBox();l.isTransposed?(e.minY<c.minY&&(c=e),e.maxY>f.maxY&&(f=e)):(e.minX<c.minX&&(c=e),e.maxX>f.maxX&&(f=e)),d.x=Math.min(e.minX,d.minX),d.y=Math.min(e.minY,d.minY),d.width=Math.max(e.maxX,d.maxX)-d.x,d.height=Math.max(e.maxY,d.maxY)-d.y}));var h=e.backgroundGroup,p=e.coordinateBBox,v=void 0;if(l.isRect){var g=e.getXScale(),m=t||{},y=m.appendRatio,x=m.appendWidth;(0,nE.UM)(x)&&(y=(0,nE.UM)(y)?g.isLinear?0:.25:y,x=l.isTransposed?y*f.height:y*c.width);var b=void 0,w=void 0,S=void 0,k=void 0;l.isTransposed?(b=p.minX,w=Math.min(f.minY,c.minY)-x,S=p.width,k=d.height+2*x):(b=Math.min(c.minX,f.minX)-x,w=p.minY,S=d.width+2*x,k=p.height),v=[["M",b,w],["L",b+S,w],["L",b+S,w+k],["L",b,w+k],["Z"]]}else{var C=(0,nE.YM)(u),E=(0,nE.Z$)(u),O=lP(C.getModel(),l).startAngle,M=lP(E.getModel(),l).endAngle,_=l.getCenter(),A=l.getRadius(),T=l.innerRadius*A;v=uP(_.x,_.y,A,O,M,T)}if(this.regionPath)this.regionPath.attr("path",v),this.regionPath.show();else{var P=(0,nE.U2)(t,"style",xB);this.regionPath=h.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,eE.pi)((0,eE.pi)({},P),{path:v})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),t.prototype.destroy.call(this)},e}(BP),SB=wB,kB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return(0,eE.ZT)(e,t),e.prototype.show=function(){var t=this.context,e=t.event,n=t.view;if(!n.isTooltipLocked()){var r=this.timeStamp,i=+new Date;if(i-r>(0,nE.U2)(t.view.getOptions(),"tooltip.showDelay",16)){var o=this.location,a={x:e.x,y:e.y};o&&(0,nE.Xy)(o,a)||this.showTooltip(n,a),this.timeStamp=i,this.location=a}}},e.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),n=this.context.event,r=n.clientX,i=n.clientY;e.isCursorEntered({x:r,y:i})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,e){t.showTooltip(e)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(BP),CB=kB,EB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.showTooltip=function(t,e){var n=vD(t);(0,nE.S6)(n,(function(n){var r=gD(t,n,e);n.showTooltip(r)}))},e.prototype.hideTooltip=function(t){var e=vD(t);(0,nE.S6)(e,(function(t){t.hideTooltip()}))},e}(CB),OB=EB,MB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return(0,eE.ZT)(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context.event,e=this.timeStamp,n=+new Date;if(n-e>16){var r=this.location,i={x:t.x,y:t.y};r&&(0,nE.Xy)(r,i)||this.showTooltip(i),this.timeStamp=n,this.location=i}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context.event.target;if(e&&e.get("tip")){this.tooltip||this.renderTooltip();var n=e.get("tip");this.tooltip.update((0,eE.pi)({title:n},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view,n=e.canvas,r={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},i=e.getTheme(),o=(0,nE.U2)(i,["components","tooltip","domStyles"],{}),a=new rP({parent:n.get("el").parentNode,region:r,visible:!1,crosshairs:null,domStyles:(0,eE.pi)({},(0,nE.b$)({},o,(t={},t[bT]={"max-width":"50%"},t[wT]={"word-break":"break-all"},t)))});a.init(),a.setCapture(!1),this.tooltip=a},e}(BP),_B=MB,AB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e}return(0,eE.ZT)(e,t),e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var e=this,n=sD(t,this.stateName);(0,nE.S6)(n,(function(t){e.setElementState(t,!1)}))},e}(BP),TB=AB;function PB(t){return(0,nE.U2)(t.get("delegateObject"),"item")}var DB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return(0,eE.ZT)(e,t),e.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates.filter((function(n){return e.hasState(t,n)}));return!!n.length},e.prototype.setStateByComponent=function(t,e,n){var r=this.context.view,i=t.get("field"),o=uD(r);this.setElementsStateByItem(o,i,e,n)},e.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},e.prototype.isMathItem=function(t,e,n){var r=yD(this.context.view,e),i=lD(t,e);return!(0,nE.UM)(i)&&n.name===r.getText(i)},e.prototype.setElementsStateByItem=function(t,e,n,r){var i=this;(0,nE.S6)(t,(function(t){i.isMathItem(t,e,n)&&t.setState(i.stateName,r)}))},e.prototype.setStateEnable=function(t){var e=QP(this.context);if(e)eD(this.context)&&this.setStateByElement(e,t);else{var n=tD(this.context);if(nD(n)){var r=n.item,i=n.component;if(r&&i&&!this.isItemIgnore(r,i)){var o=this.context.event.gEvent;if(o&&o.fromShape&&o.toShape&&PB(o.fromShape)===PB(o.toShape))return;this.setStateByComponent(i,r,t)}}}},e.prototype.toggle=function(){var t=QP(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(TB),FB=DB,NB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,eE.ZT)(e,t),e.prototype.active=function(){this.setState()},e}(FB),IB=NB,LB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache={},e}return(0,eE.ZT)(e,t),e.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");return n?t.getScaleByField(n.getFields()[0]):null},e.prototype.getLinkPath=function(t,e){var n=this.context.view.getCoordinate().isTransposed,r=t.shape.getCanvasBBox(),i=e.shape.getCanvasBBox();return n?[["M",r.minX,r.minY],["L",i.minX,i.maxY],["L",i.maxX,i.maxY],["L",r.maxX,r.minY],["Z"]]:[["M",r.maxX,r.minY],["L",i.minX,i.minY],["L",i.minX,i.maxY],["L",r.maxX,r.maxY],["Z"]]},e.prototype.addLinkShape=function(t,e,n,r){var i={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:(0,eE.pi)((0,eE.pi)({},(0,nE.b$)({},i,(0,nE.mf)(r)?r(i,e):r)),{path:this.getLinkPath(e,n)})})},e.prototype.linkByElement=function(t,e){var n=this,r=this.context.view,i=this.getColorScale(r,t);if(i){var o=lD(t,i.field);if(!this.cache[o]){var a=function(t,e,n){return uD(t).filter((function(t){return lD(t,e)===n}))}(r,i.field,o),u=this.linkGroup.addGroup();this.cache[o]=u;var s=a.length;(0,nE.S6)(a,(function(t,r){if(r<s-1){var i=a[r+1];n.addLinkShape(u,t,i,e)}}))}}},e.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var n=lD(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var n=QP(e);n&&this.linkByElement(n,null===t||void 0===t?void 0:t.style)},e.prototype.unlink=function(){var t=QP(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(BP),RB=LB,jB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return(0,eE.ZT)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(iD(this.context))t=oD(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var r={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)};t=cD(this.context.view,r)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=uD(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,e){var n=this,r=this.context.view,i=vD(r),o=t.map((function(t){return t.getModel().data})),a=r.getXScale().field,u=r.getYScales()[0].field;(0,nE.S6)(i,(function(t){var r=uD(t),i=r.filter((function(t){var e=t.getModel().data;return mD(o,e,a,u)}));n.setElementsState(i,e,r)}))},e.prototype.setSiblingsState=function(t){var e=this,n=vD(this.context.view);iD(this.context)&&(0,nE.S6)(n,(function(n){var r=uD(n),i=aD(e.context,n,10);i&&i.length?e.setElementsState(i,t,r):e.clearViewState(n)}))},e.prototype.setElementsState=function(t,e,n){var r=this;(0,nE.S6)(n,(function(n){t.includes(n)?r.setElementState(n,e):r.setElementState(n,!1)}))},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=vD(e);(0,nE.S6)(n,(function(e){t.clearViewState(e)}))}else this.clearViewState(e)},e}(TB),BB=jB,zB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,eE.ZT)(e,t),e.prototype.active=function(){this.setState()},e}(BB),UB=zB,HB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.setStateEnable=function(t){var e=QP(this.context);if(e){if(!eD(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},e.prototype.toggle=function(){var t=QP(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(TB),VB=HB,WB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,eE.ZT)(e,t),e.prototype.active=function(){this.setState()},e}(VB),YB=WB,qB="inactive",GB="active";function $B(t){var e=uD(t);(0,nE.S6)(e,(function(t){t.hasState(GB)&&t.setState(GB,!1),t.hasState(qB)&&t.setState(qB,!1)}))}function XB(t,e,n){(0,nE.S6)(t,(function(t){e(t)?(t.hasState(qB)&&t.setState(qB,!1),t.setState(GB,n)):(t.hasState(GB)&&t.setState(GB,!1),t.setState(qB,n))}))}var KB,ZB=aE.INACTIVE,JB=aE.ACTIVE,QB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=JB,e}return(0,eE.ZT)(e,t),e.prototype.setElementsStateByItem=function(t,e,n,r){var i=this;this.setHighlightBy(t,(function(t){return i.isMathItem(t,e,n)}),r)},e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(ZB)&&t.setState(ZB,!1),t.setState(JB,!0)):t.hasState(JB)||t.setState(ZB,!0)},e.prototype.setHighlightBy=function(t,e,n){var r=this;if(n)(0,nE.S6)(t,(function(t){r.setElementHighlight(t,e)}));else{var i=sD(this.context.view,JB),o=!0;(0,nE.S6)(i,(function(t){if(!e(t))return o=!1,!1})),o?this.clear():(0,nE.S6)(t,(function(t){e(t)&&(t.hasState(JB)&&t.setState(JB,!1),t.setState(ZB,!0))}))}},e.prototype.setElementState=function(t,e){var n=uD(this.context.view);this.setHighlightBy(n,(function(e){return t===e}),e)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){$B(this.context.view)},e}(FB),tz=QB,ez=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.setStateByElement=function(t,e){var n=this.context.view,r=t.geometry.getAttribute("color");if(r){var i=n.getScaleByField(r.getFields()[0]),o=lD(t,i.field),a=uD(n),u=a.filter((function(t){return lD(t,i.field)===o}));this.setHighlightBy(a,(function(t){return u.includes(t)}),e)}},e}(tz),nz=ez,rz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(ZB)&&t.setState(ZB,!1),t.setState(JB,!0)):(t.setState(ZB,!0),t.hasState(JB)&&t.setState(JB,!1))},e.prototype.setStateByElement=function(t,e){var n=this.context.view,r=n.getXScale(),i=lD(t,r.field),o=uD(n),a=o.filter((function(t){return lD(t,r.field)===i}));this.setHighlightBy(o,(function(t){return a.includes(t)}),e)},e.prototype.toggle=function(){var t=QP(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},e}(tz),iz=rz;!function(t){t.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",t.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",t.BEFORE_CLEAR="element-range-highlight:beforeclear",t.AFTER_CLEAR="element-range-highlight:afterclear"}(KB||(KB={}));var oz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,eE.ZT)(e,t),e.prototype.clearViewState=function(t){$B(t)},e.prototype.highlight=function(){var t=this.context,e=t.view,n={view:e,event:t.event,highlightElements:this.getIntersectElements()};e.emit(KB.BEFORE_HIGHLIGHT,cF.fromData(e,KB.BEFORE_HIGHLIGHT,n)),this.setState(),e.emit(KB.AFTER_HIGHLIGHT,cF.fromData(e,KB.AFTER_HIGHLIGHT,n))},e.prototype.clear=function(){var e=this.context.view;e.emit(KB.BEFORE_CLEAR,cF.fromData(e,KB.BEFORE_CLEAR,{})),t.prototype.clear.call(this),e.emit(KB.AFTER_CLEAR,cF.fromData(e,KB.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,e,n){XB(n,(function(e){return t.indexOf(e)>=0}),e)},e}(BB),az=oz,uz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,eE.ZT)(e,t),e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,e){XB(uD(this.context.view),(function(e){return t===e}),e)},e.prototype.clear=function(){$B(this.context.view)},e}(VB),sz=uz,lz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,eE.ZT)(e,t),e.prototype.selected=function(){this.setState()},e}(BB),cz=lz,fz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,eE.ZT)(e,t),e.prototype.selected=function(){this.setState()},e}(FB),dz=fz,hz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,eE.ZT)(e,t),e.prototype.selected=function(){this.setState()},e}(VB),pz=hz,vz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return(0,eE.ZT)(e,t),e.prototype.getTriggerListInfo=function(){var t=tD(this.context),e=null;return nD(t)&&(e={item:t.item,list:t.component}),e},e.prototype.getAllowComponents=function(){var t=this,e=dD(this.context.view),n=[];return(0,nE.S6)(e,(function(e){e.isList()&&t.allowSetStateByElement(e)&&n.push(e)})),n},e.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,nE.S6)(e,(function(e){e.clearItemsState(t.stateName)}))},e.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(-1===this.cfg.componentNames.indexOf(n))return!1}var r=yD(this.context.view,e);return r&&r.isCategory},e.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var r=n.filter((function(n){return e.hasState(t,n)}));return 0===r.length}return!0},e.prototype.setStateByElement=function(t,e,n){var r=t.get("field"),i=yD(this.context.view,r),o=lD(e,r),a=i.getText(o);this.setItemsState(t,a,n)},e.prototype.setStateEnable=function(t){var e=this,n=QP(this.context);if(n){var r=this.getAllowComponents();(0,nE.S6)(r,(function(r){e.setStateByElement(r,n,t)}))}else{var i=tD(this.context);if(nD(i)){var o=i.item,a=i.component;this.allowSetStateByElement(a)&&this.allowSetStateByItem(o,a)&&this.setItemState(a,o,t)}}},e.prototype.setItemsState=function(t,e,n){var r=this,i=t.getItems();(0,nE.S6)(i,(function(i){i.name===e&&r.setItemState(t,i,n)}))},e.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,r=this.hasState(e,n);this.setItemState(e,n,!r)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(BP),gz=vz,mz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,eE.ZT)(e,t),e.prototype.active=function(){this.setState()},e}(gz),yz=mz,xz="inactive",bz="active";var wz="inactive",Sz="active",kz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=Sz,e.ignoreItemStates=["unchecked"],e}return(0,eE.ZT)(e,t),e.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,(function(t){return t.name===e}),n)},e.prototype.setItemState=function(t,e,n){t.getItems();this.setHighlightBy(t,(function(t){return t===e}),n)},e.prototype.setHighlightBy=function(t,e,n){var r=t.getItems();if(n)(0,nE.S6)(r,(function(n){e(n)?(t.hasState(n,wz)&&t.setItemState(n,wz,!1),t.setItemState(n,Sz,!0)):t.hasState(n,Sz)||t.setItemState(n,wz,!0)}));else{var i=t.getItemsByState(Sz),o=!0;(0,nE.S6)(i,(function(t){if(!e(t))return o=!1,!1})),o?this.clear():(0,nE.S6)(r,(function(n){e(n)&&(t.hasState(n,Sz)&&t.setItemState(n,Sz,!1),t.setItemState(n,wz,!0))}))}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)!function(t){var e=t.getItems();(0,nE.S6)(e,(function(e){t.hasState(e,bz)&&t.setItemState(e,bz,!1),t.hasState(e,xz)&&t.setItemState(e,xz,!1)}))}(t.list);else{var e=this.getAllowComponents();(0,nE.S6)(e,(function(t){t.clearItemsState(Sz),t.clearItemsState(wz)}))}},e}(gz),Cz=kz,Ez=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,eE.ZT)(e,t),e.prototype.selected=function(){this.setState()},e}(gz),Oz=Ez,Mz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="unchecked",e}return(0,eE.ZT)(e,t),e.prototype.unchecked=function(){this.setState()},e}(gz),_z=Mz,Az="unchecked",Tz="checked",Pz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=Tz,e}return(0,eE.ZT)(e,t),e.prototype.setItemState=function(t,e,n){this.setCheckedBy(t,(function(t){return t===e}),n)},e.prototype.setCheckedBy=function(t,e,n){var r=t.getItems();n&&(0,nE.S6)(r,(function(n){e(n)?(t.hasState(n,Az)&&t.setItemState(n,Az,!1),t.setItemState(n,Tz,!0)):t.hasState(n,Tz)||t.setItemState(n,Az,!0)}))},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,r=!(0,nE.G)(e.getItems(),(function(t){return e.hasState(t,Az)}));r||e.hasState(n,Az)?this.setItemState(e,n,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();(0,nE.S6)(t,(function(t){t.clearItemsState(Tz),t.clearItemsState(Az)}))},e}(gz),Dz=Pz,Fz="unchecked",Nz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(null===t||void 0===t?void 0:t.item){var e=t.list,n=t.item,r=e.getItems(),i=r.filter((function(t){return!e.hasState(t,Fz)})),o=r.filter((function(t){return e.hasState(t,Fz)})),a=i[0];if(r.length===i.length)for(var u=0,s=r;u<s.length;u++){var l=s[u];e.setItemState(l,Fz,l.id!==n.id)}else if(r.length-o.length===1)if(a.id===n.id)for(var c=0,f=r;c<f.length;c++){l=f[c];e.setItemState(l,Fz,!1)}else for(var d=0,h=r;d<h.length;d++){l=h[d];e.setItemState(l,Fz,l.id!==n.id)}else for(var p=0,v=r;p<v.length;p++){l=v[p];e.setItemState(l,Fz,l.id!==n.id)}}},e}(gz),Iz=Nz,Lz="showRadio",Rz="legend-radio-tip",jz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return(0,eE.ZT)(e,t),e.prototype.show=function(){var t=this.getTriggerListInfo();if(null===t||void 0===t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,Lz,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(null===t||void 0===t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,Lz,!1)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context.event,e=this.timeStamp,n=+new Date,r=this.context.event.target;if(n-e>16&&"legend-item-radio"===r.get("name")){var i=this.location,o={x:t.x,y:t.y};this.timeStamp=n,this.location=o,i&&(0,nE.Xy)(i,o)||this.showTooltip(o)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context,n=e.event.target;if(n&&n.get("tip")){this.tooltip||this.renderTooltip();var r=e.view.getCanvas().get("el").getBoundingClientRect(),i=r.x,o=r.y;this.tooltip.update((0,eE.pi)((0,eE.pi)({title:n.get("tip")},t),{x:t.x+i,y:t.y+o})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=((t={})[bT]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[wT]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(Rz)&&document.body.removeChild(document.getElementById(Rz));var n=new rP({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:e,containerId:Rz});n.init(),n.setCapture(!1),this.tooltip=n},e}(gz),Bz=jz,zz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return(0,eE.ZT)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="mask:".concat(t),n=this.context.view,r=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:r.x,y:r.y})},e.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,eE.pi)({fill:"#C5D4EB",opacity:.3},e)})},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null===t||void 0===t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,r=t.y-e.y,i=this.points;(0,nE.S6)(i,(function(t){t.x+=n,t.y+=r})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var e=(0,nE.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(e)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,t.prototype.destroy.call(this)},e}(BP),Uz=zz,Hz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e}return(0,eE.ZT)(e,t),e.prototype.getMaskAttrs=function(){var t=this.points,e=(0,nE.Z$)(this.points),n=0,r=0,i=0;if(t.length){var o=t[0];n=hD(o,e)/2,r=(e.x+o.x)/2,i=(e.y+o.y)/2}return{x:r,y:i,r:n}},e}(Uz),Vz=Hz,Wz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return(0,eE.ZT)(e,t),e.prototype.getRegion=function(){var t=this.points;return{start:(0,nE.YM)(t),end:(0,nE.Z$)(t)}},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end;return{x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),width:Math.abs(n.x-e.x),height:Math.abs(n.y-e.y)}},e}(Uz),Yz=Wz;function qz(t){t.x=(0,nE.uZ)(t.x,0,1),t.y=(0,nE.uZ)(t.y,0,1)}var Gz,$z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return(0,eE.ZT)(e,t),e.prototype.getRegion=function(){var t=null,e=null,n=this.points,r=this.dim,i=this.context.view.getCoordinate(),o=i.invert((0,nE.YM)(n)),a=i.invert((0,nE.Z$)(n));return this.inPlot&&(qz(o),qz(a)),"x"===r?(t=i.convert({x:o.x,y:0}),e=i.convert({x:a.x,y:1})):(t=i.convert({x:0,y:o.y}),e=i.convert({x:1,y:a.y})),{start:t,end:e}},e}(Yz),Xz=$z,Kz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,nE.S6)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e},e.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},e.prototype.addPoint=function(){this.resize()},e}(Uz),Zz=Kz,Jz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getMaskPath=function(){return function(t,e){if(t.length<=2)return XP(t,!1);var n=t[0],r=[];(0,nE.S6)(t,(function(t){r.push(t.x),r.push(t.y)}));var i=$P(r,e,null);return i.unshift(["M",n.x,n.y]),i}(this.points,!0)},e}(Zz),Qz=Jz,tU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e}(BP),eU=tU,nU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.filterView=function(t,e,n){var r=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,nE.S6)(t.views,(function(t){r.filterView(t,e,n)}))},e.prototype.filter=function(){var t=tD(this.context);if(t){var e=this.context.view,n=t.component,r=n.get("field");if(nD(t)){if(r){var i=n.getItemsByState("unchecked"),o=yD(e,r),a=i.map((function(t){return t.name}));a.length?this.filterView(e,r,(function(t){var e=o.getText(t);return!a.includes(e)})):this.filterView(e,r,null),e.render(!0)}}else if(rD(t)){var u=n.getValue(),s=u[0],l=u[1];this.filterView(e,r,(function(t){return t>=s&&t<=l})),e.render(!0)}}},e}(BP),rU=nU;function iU(t,e,n,r){var i=Math.min(n[e],r[e]),o=Math.max(n[e],r[e]),a=t.range,u=a[0],s=a[1];if(i<u&&(i=u),o>s&&(o=s),i===s&&o===s)return null;var l=t.invert(i),c=t.invert(o);if(t.isCategory){var f=t.values.indexOf(l),d=t.values.indexOf(c),h=t.values.slice(f,d+1);return function(t){return h.includes(t)}}return function(t){return t>=l&&t<=c}}!function(t){t.FILTER="brush-filter-processing",t.RESET="brush-filter-reset",t.BEFORE_FILTER="brush-filter:beforefilter",t.AFTER_FILTER="brush-filter:afterfilter",t.BEFORE_RESET="brush-filter:beforereset",t.AFTER_RESET="brush-filter:afterreset"}(Gz||(Gz={}));var oU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return(0,eE.ZT)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,e;if(iD(this.context)){var n=this.context.event.target.getCanvasBBox();t={x:n.x,y:n.y},e={x:n.maxX,y:n.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var r=this.context,i=r.view,o={view:i,event:r.event,dims:this.dims};i.emit(Gz.BEFORE_FILTER,cF.fromData(i,Gz.BEFORE_FILTER,o));var a=i.getCoordinate(),u=a.invert(e),s=a.invert(t);if(this.hasDim("x")){var l=i.getXScale(),c=iU(l,"x",u,s);this.filterView(i,l.field,c)}if(this.hasDim("y")){var f=i.getYScales()[0];c=iU(f,"y",u,s);this.filterView(i,f.field,c)}this.reRender(i,{source:Gz.FILTER}),i.emit(Gz.AFTER_FILTER,cF.fromData(i,Gz.AFTER_FILTER,o))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(Gz.BEFORE_RESET,cF.fromData(t,Gz.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t,{source:Gz.RESET}),t.emit(Gz.AFTER_RESET,cF.fromData(t,Gz.AFTER_RESET,{}))},e.prototype.filterView=function(t,e,n){t.filter(e,n)},e.prototype.reRender=function(t,e){t.render(!0,e)},e}(BP),aU=oU,uU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.filterView=function(t,e,n){var r=vD(t);(0,nE.S6)(r,(function(t){t.filter(e,n)}))},e.prototype.reRender=function(t){var e=vD(t);(0,nE.S6)(e,(function(t){t.render(!0)}))},e}(aU),sU=uU,lU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.filter=function(){var t=tD(this.context),e=this.context.view,n=uD(e);if(iD(this.context)){var r=oD(this.context,10);r&&(0,nE.S6)(n,(function(t){r.includes(t)?t.show():t.hide()}))}else if(t){var i=t.component,o=i.get("field");if(nD(t)){if(o){var a=i.getItemsByState("unchecked"),u=yD(e,o),s=a.map((function(t){return t.name}));(0,nE.S6)(n,(function(t){var e=lD(t,o),n=u.getText(e);s.indexOf(n)>=0?t.hide():t.show()}))}}else if(rD(t)){var l=i.getValue(),c=l[0],f=l[1];(0,nE.S6)(n,(function(t){var e=lD(t,o);e>=c&&e<=f?t.show():t.hide()}))}}},e.prototype.clear=function(){var t=uD(this.context.view);(0,nE.S6)(t,(function(t){t.show()}))},e.prototype.reset=function(){this.clear()},e}(BP),cU=lU,fU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byRecord=!1,e}return(0,eE.ZT)(e,t),e.prototype.filter=function(){iD(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,e=oD(this.context,10);if(e){var n=t.getXScale().field,r=t.getYScales()[0].field,i=e.map((function(t){return t.getModel().data})),o=vD(t);(0,nE.S6)(o,(function(t){var e=uD(t);(0,nE.S6)(e,(function(t){var e=t.getModel().data;mD(i,e,n,r)?t.show():t.hide()}))}))}},e.prototype.filterByBBox=function(){var t=this,e=vD(this.context.view);(0,nE.S6)(e,(function(e){var n=aD(t.context,e,10),r=uD(e);n&&(0,nE.S6)(r,(function(t){n.includes(t)?t.show():t.hide()}))}))},e.prototype.reset=function(){var t=vD(this.context.view);(0,nE.S6)(t,(function(t){var e=uD(t);(0,nE.S6)(e,(function(t){t.show()}))}))},e}(BP),dU=fU,hU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return(0,eE.ZT)(e,t),e.prototype.getButtonCfg=function(){return(0,nE.b$)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,eE.pi)({text:t.text},t.textStyle)}).getBBox(),r=iF(t.padding),i=e.addShape({type:"rect",name:"button-rect",attrs:(0,eE.pi)({x:n.x-r[3],y:n.y-r[0],width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},t.style)});i.toBack(),e.on("mouseenter",(function(){i.attr(t.activeStyle)})),e.on("mouseleave",(function(){i.attr(t.style)})),this.buttonGroup=e},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=i_.vs(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(BP),pU=hU,vU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return(0,eE.ZT)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):hD(t,this.startPoint)>4&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},e}(BP),gU=vU,mU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return(0,eE.ZT)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(hD(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var n=this.context.view,r=i_.vs(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);n.backgroundGroup.setMatrix(r),n.foregroundGroup.setMatrix(r),n.middleGroup.setMatrix(r)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(BP),yU=mU,xU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return(0,eE.ZT)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},e.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},e}(BP),bU=xU,wU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return(0,eE.ZT)(e,t),e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,nE.S6)(e,(function(e){var n=t.getScale(e),r=n.min,i=n.max,o=n.values;t.startCache[e]={min:r,max:i,values:o}}))},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),r=this.context.getCurrentPoint(),i=n.invert(e),o=n.invert(r),a=o.x-i.x,u=o.y-i.y,s=this.context.view,l=this.dims;(0,nE.S6)(l,(function(e){t.translateDim(e,{x:-1*a,y:-1*u})})),s.render(!0)}},e.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},e.prototype.translateLinear=function(t,e,n){var r=this.context.view,i=this.startCache[t],o=i.min,a=i.max,u=a-o,s=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:o,max:a}),r.scale(e.field,{nice:!1,min:o+s,max:a+s})},e.prototype.reset=function(){t.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(bU),SU=wU,kU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zoomRatio=.05,e}return(0,eE.ZT)(e,t),e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var e=this,n=this.dims;(0,nE.S6)(n,(function(n){e.zoomDim(n,t)})),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},e.prototype.zoomLinear=function(t,e,n){var r=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var i=this.cacheScaleDefs[t],o=i.max-i.min,a=e.min,u=e.max,s=n*o,l=a-s,c=u+s,f=(c-l)/o;c>l&&f<100&&f>.01&&r.scale(e.field,{nice:!1,min:a-s,max:u+s})},e}(bU),CU=kU;var EU,OU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.scroll=function(t){var e=this.context,n=e.view,r=e.event;if(n.getOptions().scrollbar){var i=(null===t||void 0===t?void 0:t.wheelDelta)||1,o=n.getController("scrollbar"),a=n.getXScale(),u=n.getOptions().data,s=(0,nE.dp)((0,nE.I)(u,a.field)),l=(0,nE.dp)(a.values),c=o.getValue(),f=Math.floor((s-l)*c)+(function(t){return t.gEvent.originalEvent.deltaY>0}(r)?i:-i),d=i/(s-l)/1e4,h=(0,nE.uZ)(f/(s-l)+d,0,1);o.setValue(h)}},e}(BP),MU=OU;function _U(t){return t.isInPlot()}function AU(t){return t.gEvent.preventDefault(),t.gEvent.originalEvent.deltaY>0}function TU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}function PU(t,e){var n={};return null!==t&&"object"===typeof t&&e.forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}function DU(t,e){return e?(0,nE.u4)(e,(function(t,e,n){return t.replace(new RegExp("{\\s*"+n+"\\s*}","g"),e)}),t):t}!function(t,e){GD[(0,nE.vl)(t)]=qD(e)}("dark",ND(jN)),mE("canvas",f),mE("svg",h),mF("Polygon",WR),mF("Interval",LR),mF("Schema",qR),mF("Path",yR),mF("Point",HR),mF("Line",jR),mF("Area",kR),mF("Edge",ER),mF("Heatmap",MR),mF("Violin",$R),LF("base",aN),LF("interval",oj),LF("pie",cj),LF("polar",sj),RF("overlap",(function(t,e,n,r){var i=new dj;(0,nE.S6)(e,(function(t){for(var e=t.find((function(t){return"text"===t.get("type")})),n=e.attr(),r=n.x,o=n.y,a=!1,u=0;u<=8;u++){var s=hj(e,r,o,u);if(i.hasGap(s)){i.fillGap(s),a=!0;break}}a||t.remove(!0)})),i.destroy()})),RF("distribute",(function(t,e,n,r){if(t.length&&e.length){var i=t[0]?t[0].offset:0,o=e[0].get("coordinate"),a=o.getRadius(),u=o.getCenter();if(i>0){var s=2*(a+i)+28,l={start:o.start,end:o.end},c=[[],[]];t.forEach((function(t){t&&("right"===t.textAlign?c[0].push(t):c[1].push(t))})),c.forEach((function(t,n){var r=s/14;t.length>r&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(r,t.length-r)),t.sort((function(t,e){return t.y-e.y})),function(t,e,n,r,i,o){var a,u=!0,s=r.start,l=r.end,c=Math.min(s.y,l.y),f=Math.abs(s.y-l.y),d=0,h=Number.MIN_VALUE,p=e.map((function(t){return t.y>d&&(d=t.y),t.y<h&&(h=t.y),{size:n,targets:[t.y-c]}}));for(h-=c,d-c>f&&(f=d-c);u;)for(p.forEach((function(t){var e=(Math.min.apply(h,t.targets)+Math.max.apply(h,t.targets))/2;t.pos=Math.min(Math.max(h,e-t.size/2),f-t.size)})),u=!1,a=p.length;a--;)if(a>0){var v=p[a-1],g=p[a];v.pos+v.size>g.pos&&(v.size+=g.size,v.targets=v.targets.concat(g.targets),v.pos+v.size>f&&(v.pos=f-v.size),p.splice(a,1),u=!0)}a=0,p.forEach((function(t){var r=c+n/2;t.targets.forEach((function(){e[a].y=t.pos+r,r+=n,a++}))}));for(var m={},y=0,x=t;y<x.length;y++){var b=x[y];m[b.get("id")]=b}e.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-i.y),2);if(e<n)t.x=i.x;else{var r=Math.sqrt(e-n);t.x=o?i.x+r:i.x-r}var a=m[t.id];a.attr("x",t.x),a.attr("y",t.y);var u=(0,nE.sE)(a.getChildren(),(function(t){return"text"===t.get("type")}));u&&(u.attr("y",t.y),u.attr("x",t.x))}))}(e,t,14,l,u,n)}))}(0,nE.S6)(t,(function(t){if(t&&t.labelLine){var e=t.offset,n=t.angle,r=aP(u.x,u.y,a,n),i=aP(u.x,u.y,a+e/2,n),o=t.x+(0,nE.U2)(t,"offsetX",0),s=t.y+(0,nE.U2)(t,"offsetY",0),l={x:o-4*Math.cos(n),y:s-4*Math.sin(n)};(0,nE.Kn)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M ".concat(r.x),"".concat(r.y," Q").concat(i.x),"".concat(i.y," ").concat(l.x),l.y].join(",")}}))}})),RF("fixed-overlap",(function(t,e,n,r){var i=new dj;(0,nE.S6)(e,(function(t){var e=t.find((function(t){return"text"===t.get("type")}));(function(t,e,n){void 0===n&&(n=100);var r,i=t.attr(),o=i.x,a=i.y,u=t.getCanvasBBox(),s=Math.sqrt(u.width*u.width+u.height*u.height),l=1,c=0,f=0,d=function(t){var e=.1*t;return[e*Math.cos(e),e*Math.sin(e)]};if(e.hasGap(u))return e.fillGap(u),!0;for(var h=!1,p=0,v={};Math.min(Math.abs(c),Math.abs(f))<s&&p<n;)if(c=~~(r=d(l+=-1))[0],f=~~r[1],(c||f)&&!v["".concat(c,"-").concat(f)]&&(t.attr({x:o+c,y:a+f}),c+f<0&&t.attr("textAlign","right"),p++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),h=!0,v["".concat(c,"-").concat(f)]=!0;break}return h})(e,i)||t.remove(!0)})),i.destroy()})),RF("hide-overlap",(function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];if(e[i].get("visible"))for(var a=i+1;a<e.length;a++){var u=e[a];if(o&&u&&o!==u&&u.get("visible"))Sj(QF(o,t[i],(0,nE.U2)(t[i],"background.padding")),QF(u,t[a],(0,nE.U2)(t[a],"background.padding")))&&e[a].set("visible",!1)}}})),RF("limit-in-shape",(function(t,e,n,r){(0,nE.S6)(e,(function(t,e){var r=t.getCanvasBBox(),i=n[e].getBBox();(r.minX<i.minX||r.minY<i.minY||r.maxX>i.maxX||r.maxY>i.maxY)&&t.remove(!0)}))})),RF("limit-in-canvas",(function(t,e,n,r){(0,nE.S6)(e,(function(t){var e=r.minX,n=r.minY,i=r.maxX,o=r.maxY,a=t.getCanvasBBox(),u=a.minX,s=a.minY,l=a.maxX,c=a.maxY,f=a.x,d=a.y,h=a.width,p=a.height,v=f,g=d;(u<e||l<e)&&(v=e),(s<n||c<n)&&(g=n),u>i?v=i-h:l>i&&(v-=l-i),s>o?g=o-p:c>o&&(g-=c-o),v===f&&g===d||KF(t,v-f,g-d)}))})),RF("limit-in-plot",(function(t,e,n,r,i){if(!(e.length<=0)){var o=(null===i||void 0===i?void 0:i.direction)||["top","right","bottom","left"],a=(null===i||void 0===i?void 0:i.action)||"translate",u=(null===i||void 0===i?void 0:i.margin)||0,s=e[0].get("coordinate");if(s){var l=function(t,e){void 0===e&&(e=0);var n=t.start,r=t.end,i=t.getWidth(),o=t.getHeight(),a=Math.min(n.x,r.x),u=Math.min(n.y,r.y);return pP.fromRange(a-e,u-e,a+i+e,u+o+e)}(s,u),c=l.minX,f=l.minY,d=l.maxX,h=l.maxY;(0,nE.S6)(e,(function(t){var e=t.getCanvasBBox(),n=e.minX,r=e.minY,i=e.maxX,u=e.maxY,s=e.x,l=e.y,p=e.width,v=e.height,g=s,m=l;if(o.indexOf("left")>=0&&(n<c||i<c)&&(g=c),o.indexOf("top")>=0&&(r<f||u<f)&&(m=f),o.indexOf("right")>=0&&(n>d?g=d-p:i>d&&(g-=i-d)),o.indexOf("bottom")>=0&&(r>h?m=h-v:u>h&&(m-=u-h)),g!==s||m!==l){var y=g-s;if("translate"===a)KF(t,y,m-l);else if("ellipsis"===a){var x=t.findAll((function(t){return"text"===t.get("type")}));x.forEach((function(t){var e=(0,nE.ei)(t.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),n=t.getCanvasBBox(),r=function(t,e,n){var r,i=Pj("...",n);r=(0,nE.HD)(t)?t:(0,nE.BB)(t);var o,a,u=e,s=[];if(Pj(t,n)<=e)return t;for(;o=r.substr(0,16),!((a=Pj(o,n))+i>u&&a>u);)if(s.push(o),u-=a,!(r=r.substr(16)))return s.join("");for(;o=r.substr(0,1),!((a=Pj(o,n))+i>u);)if(s.push(o),u-=a,!(r=r.substr(1)))return s.join("");return"".concat(s.join(""),"...")}(t.attr("text"),n.width-Math.abs(y),e);t.attr("text",r)}))}else t.hide()}}))}}})),RF("pie-outer",(function(t,e,n,r){var i=(0,nE.hX)(t,(function(t){return!(0,nE.UM)(t)})),o=e[0]&&e[0].get("coordinate");if(o){for(var a=o.getCenter(),u=o.getRadius(),s={},l=0,c=e;l<c.length;l++){var f=c[l];s[f.get("id")]=f}var d=(0,nE.U2)(i[0],"labelHeight",14),h=(0,nE.U2)(i[0],"offset",0);if(!(h<=0)){var p="right",v=(0,nE.vM)(i,(function(t){return t.x<a.x?"left":p})),g=o.start,m=o.end,y=Math.min(2*(u+h+d),o.getHeight()),x=y/2,b={minX:g.x,maxX:m.x,minY:a.y-x,maxY:a.y+x};(0,nE.S6)(v,(function(t,e){var n=Math.floor(y/d);t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),(0,nE.S6)(t,(function(t,e){e+1>n&&(s[t.id].set("visible",!1),t.invisible=!0)}))),fj(t,d,b)})),(0,nE.S6)(v,(function(t,e){(0,nE.S6)(t,(function(t){var n=e===p,r=s[t.id].getChildByIndex(0);if(r){var i=u+h,l=t.y-a.y,c=Math.pow(i,2),f=Math.pow(l,2),d=c-f>0?c-f:0,v=Math.sqrt(d),g=Math.abs(Math.cos(t.angle)*i);t.x=n?a.x+Math.max(v,g):a.x-Math.max(v,g)}r&&(r.attr("y",t.y),r.attr("x",t.x)),function(t,e){var n=e.getCenter(),r=e.getRadius();if(t&&t.labelLine){var i=t.angle,o=t.offset,a=aP(n.x,n.y,r,i),u=t.x+(0,nE.U2)(t,"offsetX",0)*(Math.cos(i)>0?1:-1),s=t.y+(0,nE.U2)(t,"offsetY",0)*(Math.sin(i)>0?1:-1),l={x:u-4*Math.cos(i),y:s-4*Math.sin(i)},c=t.labelLine.smooth,f=[],d=l.x-n.x,h=l.y-n.y,p=Math.atan(h/d);if(d<0&&(p+=Math.PI),!1===c){(0,nE.Kn)(t.labelLine)||(t.labelLine={});var v=0;(i<0&&i>-Math.PI/2||i>1.5*Math.PI)&&l.y>a.y&&(v=1),i>=0&&i<Math.PI/2&&l.y>a.y&&(v=1),i>=Math.PI/2&&i<Math.PI&&a.y>l.y&&(v=1),(i<-Math.PI/2||i>=Math.PI&&i<1.5*Math.PI)&&a.y>l.y&&(v=1);var g=o/2>4?4:Math.max(o/2-1,0),m=aP(n.x,n.y,r+g,i),y=aP(n.x,n.y,r+o/2,p);f.push("M ".concat(a.x," ").concat(a.y)),f.push("L ".concat(m.x," ").concat(m.y)),f.push("A ".concat(n.x," ").concat(n.y," 0 ").concat(0," ").concat(v," ").concat(y.x," ").concat(y.y)),f.push("L ".concat(l.x," ").concat(l.y))}else{m=aP(n.x,n.y,r+(o/2>4?4:Math.max(o/2-1,0)),i);var x=a.x<n.x?1:-1;f.push("M ".concat(l.x," ").concat(l.y));var b=(a.y-n.y)/(a.x-n.x),w=(l.y-n.y)/(l.x-n.x);Math.abs(b-w)>Math.pow(Math.E,-16)&&f.push.apply(f,["C",l.x+4*x,l.y,2*m.x-a.x,2*m.y-a.y,a.x,a.y]),f.push("L ".concat(a.x," ").concat(a.y))}t.labelLine.path=f.join(" ")}}(t,o)}))}))}}})),RF("adjust-color",(function(t,e,n){if(0!==n.length){var r=n[0].get("element").geometry.theme,i=r.labels||{},o=i.fillColorLight,a=i.fillColorDark;n.forEach((function(t,n){var i=e[n].find((function(t){return"text"===t.get("type")})),u=pP.fromObject(t.getBBox()),s=pP.fromObject(i.getCanvasBBox()),l=!u.contains(s),c=function(t){var e=iO.toRGB(t).toUpperCase();if(Cj[e])return Cj[e];var n=iO.rgb2arr(e);return(299*n[0]+587*n[1]+114*n[2])/1e3<128}(t.attr("fill"));l?i.attr(r.overflowLabels.style):c?o&&i.attr("fill",o):a&&i.attr("fill",a)}))}})),RF("interval-adjust-position",(function(t,e,n){var r;if(0!==n.length){var i=null===(r=n[0])||void 0===r?void 0:r.get("element"),o=null===i||void 0===i?void 0:i.geometry;if(o&&"interval"===o.type)Ej(o,e,n)&&n.forEach((function(t,n){var r=e[n];!function(t,e,n){var r=t.coordinate,i=pP.fromObject(n.getBBox()),o=JF(e);r.isTransposed?o.attr({x:i.minX+i.width/2,textAlign:"center"}):o.attr({y:i.minY+i.height/2,textBaseline:"middle"})}(o,r,t)}))}})),RF("interval-hide-overlap",(function(t,e,n){var r;if(0!==n.length){var i=null===(r=n[0])||void 0===r?void 0:r.get("element"),o=null===i||void 0===i?void 0:i.geometry;if(o&&"interval"===o.type){var a,u=function(t){var e=[],n=Math.max(Math.floor(t.length/500),1);return(0,nE.S6)(t,(function(t,r){r%n===0?e.push(t):t.set("visible",!1)})),e}(e),s=o.getXYFields()[0],l=[],c=[],f=(0,nE.vM)(u,(function(t){return t.get("data")[s]})),d=(0,nE.jj)((0,nE.UI)(u,(function(t){return t.get("data")[s]})));u.forEach((function(t){t.set("visible",!0)}));var h=function(t){t&&(t.length&&c.push(t.pop()),c.push.apply(c,t))};for((0,nE.dp)(d)>0&&(a=d.shift(),h(f[a])),(0,nE.dp)(d)>0&&(a=d.pop(),h(f[a])),(0,nE.S6)(d.reverse(),(function(t){h(f[t])}));c.length>0;){var p=c.shift();p.get("visible")&&(tN(p,l)?p.set("visible",!1):l.push(p))}}}})),RF("point-adjust-position",(function(t,e,n,r,i){var o,a;if(0!==n.length){var u=null===(o=n[0])||void 0===o?void 0:o.get("element"),s=null===u||void 0===u?void 0:u.geometry;if(s&&"point"===s.type){var l=s.getXYFields(),c=l[0],f=l[1],d=(0,nE.vM)(e,(function(t){return t.get("data")[c]})),h=[],p=i&&i.offset||(null===(a=t[0])||void 0===a?void 0:a.offset)||12;(0,nE.UI)((0,nE.XP)(d).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],i=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return i.length>0&&r.push(i.shift()),i.length>0&&r.push(i.pop()),r.push.apply(r,i),r}(s,d[t]);e.length;){var n=e.shift(),r=JF(n);if(Oj(h,n,(function(t,e){return t.get("data")[c]===e.get("data")[c]&&t.get("data")[f]===e.get("data")[f]})))r.set("visible",!1);else{var i=!1;Mj(h,n)&&(r.attr("y",r.attr("y")+2*p),i=Mj(h,n)),i?r.set("visible",!1):h.push(n)}}}))}}})),RF("pie-spider",(function(t,e,n,r){var i=e[0]&&e[0].get("coordinate");if(i){for(var o=i.getCenter(),a=i.getRadius(),u={},s=0,l=e;s<l.length;s++){var c=l[s];u[c.get("id")]=c}var f=(0,nE.U2)(t[0],"labelHeight",14),d=Math.max((0,nE.U2)(t[0],"offset",0),4);(0,nE.S6)(t,(function(t){if((0,nE.U2)(u,[t.id])){var e=t.x>o.x||t.x===o.x&&t.y>o.y,n=(0,nE.UM)(t.offsetX)?4:t.offsetX,r=aP(o.x,o.y,a+4,t.angle),i=d+n;t.x=o.x+(e?1:-1)*(a+i),t.y=r.y}}));var h=i.start,p=i.end,v="right",g=(0,nE.vM)(t,(function(t){return t.x<o.x?"left":v})),m=2*(a+d)+f;(0,nE.S6)(g,(function(t){var e=t.length*f;e>m&&(m=Math.min(e,Math.abs(h.y-p.y)))}));var y={minX:h.x,maxX:p.x,minY:o.y-m/2,maxY:o.y+m/2};(0,nE.S6)(g,(function(t,e){var n=m/f;t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),(0,nE.S6)(t,(function(t,e){e>n&&(u[t.id].set("visible",!1),t.invisible=!0)}))),fj(t,f,y)}));var x=y.minY,b=y.maxY;(0,nE.S6)(g,(function(t,e){var n=e===v;(0,nE.S6)(t,(function(t){var e=(0,nE.U2)(u,t&&[t.id]);if(e)if(t.y<x||t.y>b)e.set("visible",!1);else{var r=e.getChildByIndex(0),o=r.getCanvasBBox(),a=n?o.x:o.maxX,s=o.y+o.height/2;KF(r,t.x-a,t.y-s),t.labelLine&&function(t,e,n){var r,i=e.getCenter(),o=e.getRadius(),a={x:t.x-(n?4:-4),y:t.y},u=aP(i.x,i.y,o+4,t.angle),s={x:a.x,y:a.y},l={x:u.x,y:u.y},c=aP(i.x,i.y,o,t.angle);if(a.y!==u.y){var f=n?4:-4;s.y=a.y,t.angle<0&&t.angle>=-Math.PI/2&&(s.x=Math.max(u.x,a.x-f),a.y<u.y?l.y=s.y:(l.y=u.y,l.x=Math.max(l.x,s.x-f))),t.angle>0&&t.angle<Math.PI/2&&(s.x=Math.max(u.x,a.x-f),a.y>u.y?l.y=s.y:(l.y=u.y,l.x=Math.max(l.x,s.x-f))),t.angle>Math.PI/2&&(s.x=Math.min(u.x,a.x-f),a.y>u.y?l.y=s.y:(l.y=u.y,l.x=Math.min(l.x,s.x-f))),t.angle<-Math.PI/2&&(s.x=Math.min(u.x,a.x-f),a.y<u.y?l.y=s.y:(l.y=u.y,l.x=Math.min(l.x,s.x-f)))}r=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(u.x,",").concat(u.y),"L ".concat(c.x,",").concat(c.y)].join(" "),t.labelLine=(0,nE.b$)({},t.labelLine,{path:r})}(t,i,n)}}))}))}})),RF("path-adjust-position",(function(t,e,n,r,i){var o,a;if(0!==n.length){var u=null===(o=n[0])||void 0===o?void 0:o.get("element"),s=null===u||void 0===u?void 0:u.geometry;if(s&&!(["path","line","area"].indexOf(s.type)<0)){var l=s.getXYFields(),c=l[0],f=l[1],d=(0,nE.vM)(e,(function(t){return t.get("data")[c]})),h=[],p=i&&i.offset||(null===(a=t[0])||void 0===a?void 0:a.offset)||12;(0,nE.UI)((0,nE.XP)(d).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],i=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return i.length>0&&r.push(i.shift()),i.length>0&&r.push(i.pop()),r.push.apply(r,i),r}(s,d[t]);e.length;){var n=e.shift(),r=JF(n);if(_j(h,n,(function(t,e){return t.get("data")[c]===e.get("data")[c]&&t.get("data")[f]===e.get("data")[f]})))r.set("visible",!1);else{var i=!1;Aj(h,n)&&(r.attr("y",r.attr("y")+2*p),i=Aj(h,n)),i?r.set("visible",!1):h.push(n)}}}))}}})),EF("fade-in",(function(t,e,n){var r={fillOpacity:(0,nE.UM)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:(0,nE.UM)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:(0,nE.UM)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(r,e)})),EF("fade-out",(function(t,e,n){var r=e.easing,i=e.duration,o=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},i,r,(function(){t.remove(!0)}),o)})),EF("grow-in-x",(function(t,e,n){Dj(t,e,n.coordinate,n.minYPoint,"x")})),EF("grow-in-xy",(function(t,e,n){Dj(t,e,n.coordinate,n.minYPoint,"xy")})),EF("grow-in-y",(function(t,e,n){Dj(t,e,n.coordinate,n.minYPoint,"y")})),EF("scale-in-x",(function(t,e,n){var r=t.getBBox(),i=t.get("origin").mappingData.points,o=i[0].y-i[1].y>0?r.maxX:r.minX,a=(r.minY+r.maxY)/2;t.applyToMatrix([o,a,1]);var u=i_.vs(t.getMatrix(),[["t",-o,-a],["s",.01,1],["t",o,a]]);t.setMatrix(u),t.animate({matrix:i_.vs(t.getMatrix(),[["t",-o,-a],["s",100,1],["t",o,a]])},e)})),EF("scale-in-y",(function(t,e,n){var r=t.getBBox(),i=t.get("origin").mappingData,o=(r.minX+r.maxX)/2,a=i.points,u=a[0].y-a[1].y<=0?r.maxY:r.minY;t.applyToMatrix([o,u,1]);var s=i_.vs(t.getMatrix(),[["t",-o,-u],["s",1,.01],["t",o,u]]);t.setMatrix(s),t.animate({matrix:i_.vs(t.getMatrix(),[["t",-o,-u],["s",1,100],["t",o,u]])},e)})),EF("wave-in",(function(t,e,n){var r=xP(n.coordinate,20),i=r.type,o=r.startState,a=r.endState,u=t.setClip({type:i,attrs:o});u.animate(a,(0,eE.pi)((0,eE.pi)({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),u.remove(!0)}}))})),EF("zoom-in",(function(t,e,n){Lj(t,e,"zoomIn")})),EF("zoom-out",(function(t,e,n){Lj(t,e,"zoomOut")})),EF("position-update",(function(t,e,n){var r=n.toAttrs,i=r.x,o=r.y;delete r.x,delete r.y,t.attr(r),t.animate({x:i,y:o},e)})),EF("sector-path-update",(function(t,e,n){var r=n.toAttrs,i=n.coordinate,o=r.path||[],a=o.map((function(t){return t[0]}));if(!(o.length<1)){var u=Ij(o),s=u.startAngle,l=u.endAngle,c=u.radius,f=u.innerRadius,d=Ij(t.attr("path")),h=d.startAngle,p=d.endAngle,v=i.getCenter(),g=s-h,m=l-p;0!==g||0!==m?t.animate((function(t){var e=h+t*g,n=p+t*m;return(0,eE.pi)((0,eE.pi)({},r),{path:(0,nE.Xy)(a,["M","A","A","Z"])?sP(v.x,v.y,c,e,n):uP(v.x,v.y,c,e,n,f)})}),(0,eE.pi)((0,eE.pi)({},e),{callback:function(){t.attr("path",o)}})):t.attr("path",o)}})),EF("path-in",(function(t,e,n){var r=t.getTotalLength();t.attr("lineDash",[r]),t.animate((function(t){return{lineDashOffset:(1-t)*r}}),e)})),RP("rect",$j),RP("mirror",qj),RP("list",Hj),RP("matrix",Wj),RP("circle",zj),RP("tree",Kj),aF("axis",lB),aF("legend",pB),aF("tooltip",SF),aF("annotation",eB),aF("slider",gB),aF("scrollbar",yB),WP("tooltip",CB),WP("sibling-tooltip",OB),WP("ellipsis-text",_B),WP("element-active",IB),WP("element-single-active",YB),WP("element-range-active",UB),WP("element-highlight",tz),WP("element-highlight-by-x",iz),WP("element-highlight-by-color",nz),WP("element-single-highlight",sz),WP("element-range-highlight",az),WP("element-sibling-highlight",az,{effectSiblings:!0,effectByRecord:!0}),WP("element-selected",dz),WP("element-single-selected",pz),WP("element-range-selected",cz),WP("element-link-by-color",RB),WP("active-region",SB),WP("list-active",yz),WP("list-selected",Oz),WP("list-highlight",Cz),WP("list-unchecked",_z),WP("list-checked",Dz),WP("list-focus",Iz),WP("list-radio",Bz),WP("legend-item-highlight",Cz,{componentNames:["legend"]}),WP("axis-label-highlight",Cz,{componentNames:["axis"]}),WP("rect-mask",Yz),WP("x-rect-mask",Xz,{dim:"x"}),WP("y-rect-mask",Xz,{dim:"y"}),WP("circle-mask",Vz),WP("path-mask",Zz),WP("smooth-path-mask",Qz),WP("cursor",eU),WP("data-filter",rU),WP("brush",aU),WP("brush-x",aU,{dims:["x"]}),WP("brush-y",aU,{dims:["y"]}),WP("sibling-filter",sU),WP("sibling-x-filter",sU),WP("sibling-y-filter",sU),WP("element-filter",cU),WP("element-sibling-filter",dU),WP("element-sibling-filter-record",dU,{byRecord:!0}),WP("view-drag",gU),WP("view-move",yU),WP("scale-translate",SU),WP("scale-zoom",CU),WP("reset-button",pU,{name:"reset-button",text:"reset"}),WP("mousewheel-scroll",MU),DD("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),DD("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),DD("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),DD("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),DD("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),DD("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),DD("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),DD("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),DD("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),DD("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),DD("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),DD("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),DD("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:_U,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:_U,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:_U,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),DD("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),DD("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:_U,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:_U,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:_U,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),DD("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:_U,action:"path-mask:start"},{trigger:"mousedown",isEnable:_U,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),DD("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),DD("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(t){return!t.isInShape("legend-item-radio")},action:["list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),DD("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),DD("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),DD("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),DD("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),DD("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return AU(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!AU(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),DD("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),DD("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]}),function(t){t.ERROR="error",t.WARN="warn",t.INFO="log"}(EU||(EU={}));var FU="AntV/G2Plot";function NU(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=0;return FU+": "+t.replace(/%s/g,(function(){return""+e[r++]}))}function IU(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e||console[t](NU.apply(void 0,(0,eE.pr)([n],r)))}function LU(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function RU(t,e){return t.geometries.find((function(t){return t.type===e}))}function jU(t){return(0,nE.u4)(t.geometries,(function(t,e){return t.concat(e.elements)}),[])}function BU(t){return(0,nE.U2)(t,["views","length"],0)<=0?jU(t):(0,nE.u4)(t.views,(function(t,e){return t.concat(BU(e))}),jU(t))}function zU(t,e){return t.views.find((function(t){return t.id===e}))}function UU(t){var e=t.parent;return e?e.views:[]}function HU(t){return UU(t).filter((function(e){return e!==t}))}function VU(t){if(!(0,nE.P9)(t,"Object"))return t;var e=(0,eE.pi)({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}function WU(t,e,n){for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var u,s,l,c=function(t,e,n,r){var i,o,a,u,s=[],l=!!r;if(l){a=[1/0,1/0],u=[-1/0,-1/0];for(var c=0,f=t.length;c<f;c++){var d=t[c];a=l_.VV([0,0],a,d),u=l_.Fp([0,0],u,d)}a=l_.VV([0,0],a,r[0]),u=l_.Fp([0,0],u,r[1])}c=0;for(var h=t.length;c<h;c++){if(d=t[c],n)i=t[c?c-1:h-1],o=t[(c+1)%h];else{if(0===c||c===h-1){s.push(d);continue}i=t[c-1],o=t[c+1]}var p=[0,0];p=l_.lu(p,o,i),p=l_.bA(p,p,e);var v=l_.TE(d,i),g=l_.TE(d,o),m=v+g;0!==m&&(v/=m,g/=m);var y=l_.bA([0,0],p,-v),x=l_.bA([0,0],p,g),b=l_.IH([0,0],d,y),w=l_.IH([0,0],d,x);l&&(b=l_.Fp([0,0],b,a),b=l_.VV([0,0],b,u),w=l_.Fp([0,0],w,a),w=l_.VV([0,0],w,u)),s.push(b),s.push(w)}return n&&s.push(s.shift()),s}(i,.4,r,n),f=i.length,d=[];for(o=0;o<f-1;o++)u=c[2*o],s=c[2*o+1],l=i[o+1],d.push(["C",u[0],u[1],s[0],s[1],l[0],l[1]]);return r&&(u=c[f],s=c[f+1],l=i[0],d.push(["C",u[0],u[1],s[0],s[1],l[0],l[1]])),d}var YU={}.toString,qU=function(t,e){return YU.call(t)==="[object "+e+"]"},GU=function(t){return qU(t,"Array")},$U=function(t){if(!function(t){return"object"===typeof t&&null!==t}(t)||!qU(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},XU=function t(e,n,r,i){for(var o in r=r||0,i=i||5,n)if(Object.prototype.hasOwnProperty.call(n,o)){var a=n[o];a?$U(a)?($U(e[o])||(e[o]={}),r<i?t(e[o],a,r+1,i):e[o]=n[o]):GU(a)?(e[o]=[],e[o]=e[o].concat(a)):e[o]=a:e[o]=a}},KU=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)XU(t,e[r]);return t};function ZU(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}function JU(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,nE.U2)(t,"fill")&&(e.color=t.fill);var r=PU(t,n),i=r.shadowColor,o=r.shadowBlur,a=void 0===o?0:o,u=r.shadowOffsetX,s=void 0===u?0:u,l=r.shadowOffsetY,c=void 0===l?0:l;e["text-shadow"]=""+[i,s+"px",c+"px",a+"px"].join(" ");var f=PU(t,n),d=f.stroke,h=f.lineWidth,p=void 0===h?0:h;return e["-webkit-text-stroke"]=""+[p+"px",d].join(" "),(0,nE.S6)(t,(function(t,r){["fontSize"].includes(r)&&(0,nE.hj)(t)?e[ZU(r)]=t+"px":r&&!n.includes(r)&&(e[ZU(r)]=""+t)})),e}function QU(t,e){t.style["pointer-events"]="none",(0,nE.S6)(e,(function(e,n){n&&e&&(t.style[n]=e)}))}var tH,eH=function(t,e,n){var r=e.statistic,i=e.plotType,o=r.title,a=r.content;[o,a].forEach((function(e,r){if(e){var u="";u=0===r?a?"translate(-50%, -100%)":"translate(-50%, -50%)":o?"translate(-50%, 0)":"translate(-50%, -50%)";var s=(0,nE.mf)(e.style)?e.style(n):e.style;t.annotation().html((0,eE.pi)({position:["50%","50%"],html:function(t,r){var o=r.getCoordinate(),a=0;if("pie"===i||"ring-progress"===i)a=o.getRadius()*o.innerRadius*2;else if("liquid"===i){var l=(0,nE.U2)(r.geometries,[0,"elements",0,"shape"]);if(l){var c=l.find((function(t){return"wrap"===t.get("name")}));a=c.getCanvasBBox().width}}else a||(a=o.getWidth());QU(t,(0,eE.pi)({width:a+"px",transform:u},JU(s)));var f=r.getData();if(e.customHtml)return e.customHtml(t,r,n,f);var d=e.content;return e.formatter&&(d=e.formatter(n,f)),d?(0,nE.HD)(d)?d:""+d:"<div></div>"},key:(0===r?"top":"bottom")+"-statistic"},PU(e,["offsetX","offsetY","rotate","style","formatter"])))}}))};(0,nE.HP)((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=void 0===r?"sans-serif":r,o=e.fontWeight,a=e.fontStyle,u=e.fontVariant,s=(tH||(tH=document.createElement("canvas").getContext("2d")),tH);return s.font=[a,o,u,n+"px",i].join(" "),s.measureText((0,nE.HD)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,eE.pr)([t],(0,nE.VO)(e)).join("")}));function nH(t){return"number"===typeof t&&!isNaN(t)}function rH(t,e){if(!t)return{};var n=t.filter((function(t){var n=(0,nE.U2)(t,[e]);return(0,nE.hj)(n)&&!isNaN(n)})),r=n.every((function(t){return(0,nE.U2)(t,[e])>=0})),i=n.every((function(t){return(0,nE.U2)(t,[e])<=0}));return r?{min:0}:i?{max:0}:{}}function iH(t,e,n,r,i){if(void 0===i&&(i=[]),!Array.isArray(t))return{nodes:[],links:[]};var o=[],a={},u=-1;return t.forEach((function(t){var s=t[e],l=t[n],c=t[r],f=PU(t,i);a[s]||(a[s]=(0,eE.pi)({id:++u,name:s},f)),a[l]||(a[l]=(0,eE.pi)({id:++u,name:l},f)),o.push((0,eE.pi)({source:a[s].id,target:a[l].id,value:c},f))})),{nodes:Object.values(a).sort((function(t,e){return t.id-e.id})),links:o}}function oH(t,e){var n=(0,nE.hX)(t,(function(t){var n=t[e];return null===n||"number"===typeof n&&!isNaN(n)}));return IU(EU.WARN,n.length===t.length,"illegal data existed in chart data."),n}function aH(t){if((0,nE.hj)(t))return[t,t,t,t];if((0,nE.kJ)(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function uH(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var r=aH(t),i=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[r[0]+i[0],r[1]+i[1],r[2]+i[2],r[3]+i[3]]}function sH(t){var e=t.map((function(t){return aH(t)})),n=[0,0,0,0];return e.length>0&&(n=n.map((function(t,n){return e.forEach((function(r,i){t+=e[i][n]})),t}))),n}var lH={locale:"en-US"};var cH={};function fH(t,e){cH[t]=e}function dH(t){return{get:function(e,n){return DU((0,nE.U2)(cH[t],e)||(0,nE.U2)(cH[lH.locale],e)||(0,nE.U2)(cH["en-US"],e)||e,n)}}}var hH=n(315),pH="data-chart-source-type",vH=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],gH=function(t){function e(e,n){var r=t.call(this)||this;return r.container="string"===typeof e?document.getElementById(e):e,r.options=KU({},r.getDefaultOptions(),n),r.createG2(),r.bindEvents(),r}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height,r=t.defaultInteractions;this.chart=new xF((0,eE.pi)((0,eE.pi)((0,eE.pi)((0,eE.pi)({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),PU(this.options,vH)),{defaultInteractions:r})),this.container.setAttribute(pH,"G2Plot")},e.prototype.getChartSize=function(t,e){var n=LU(this.container);return{width:t||n.width||400,height:e||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null===e||void 0===e?void 0:e.type)&&t.emit(e.type,e)}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=KU({},this.options,t)},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=BU(this.chart);(0,nE.S6)(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=BU(this.chart),e=[];return(0,nE.S6)(t,(function(t){var n=t.getData(),r=t.getStates();(0,nE.S6)(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},e.prototype.addAnnotations=function(t){var e=(0,eE.pr)(t),n=this.chart.getController("annotation"),r=n.getComponents().map((function(t){return t.extra}));n.clear(!0);for(var i=function(t){var i=r[t],o=e.findIndex((function(t){return t.id&&t.id===i.id}));-1!==o&&(i=KU({},i,e[o]),e.splice(o,1)),n.annotation(i)},o=0;o<r.length;o++)i(o);e.forEach((function(t){return n.annotation(t)})),this.chart.render(!0)},e.prototype.removeAnnotations=function(t){var e=this.chart.getController("annotation"),n=e.getComponents().map((function(t){return t.extra}));e.clear(!0);for(var r=function(r){var i=n[r];t.find((function(t){return t.id&&t.id===i.id}))||e.annotation(i)},i=0;i<n.length;i++)r(i);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(pH)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,r=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=r,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=(0,hH.ak)(this.container,(function(){var e=LU(t.container),n=e.width,r=e.height;n===t.chart.width&&r===t.chart.height||t.triggerResize()})))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(SE.Z),mH=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];function yH(){return"object"===typeof window?null===window||void 0===window?void 0:window.devicePixelRatio:2}function xH(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),r=yH();return n.width=t*r,n.height=e*r,n.style.width=t+"px",n.style.height=e+"px",n.getContext("2d").scale(r,r),n}function bH(t,e,n,r){void 0===r&&(r=n);var i=e.backgroundColor,o=e.opacity;t.globalAlpha=o,t.fillStyle=i,t.beginPath(),t.fillRect(0,0,n,r),t.closePath()}function wH(t,e,n){var r=t+e;return n?2*r:r}function SH(t,e){return e?[[t*(1/4),t*(1/4)],[t*(3/4),t*(3/4)]]:[[.5*t,.5*t]]}function kH(t,e){var n=e*Math.PI/180;return{a:Math.cos(n)*(1/t),b:Math.sin(n)*(1/t),c:-Math.sin(n)*(1/t),d:Math.cos(n)*(1/t),e:0,f:0}}var CH={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function EH(t,e,n,r){var i=e.size,o=e.fill,a=e.lineWidth,u=e.stroke,s=e.fillOpacity;t.beginPath(),t.globalAlpha=s,t.fillStyle=o,t.strokeStyle=u,t.lineWidth=a,t.arc(n,r,i/2,0,2*Math.PI,!1),t.fill(),a&&t.stroke(),t.closePath()}var OH={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function MH(t){var e=KU({},OH,t),n=e.spacing,r=e.rotation,i=e.lineWidth,o=n+i||1,a=n+i||1,u="\n            M 0 0 L "+o+" 0\n            M 0 "+a+" L "+o+" "+a+"\n            ",s=xH(o,a),l=s.getContext("2d");bH(l,e,o,a),function(t,e,n){var r=e.stroke,i=e.lineWidth,o=e.strokeOpacity,a=new Path2D(n);t.globalAlpha=o,t.lineCap="square",t.strokeStyle=i?r:"transparent",t.lineWidth=i,t.stroke(a)}(l,e,u);var c=l.createPattern(s,"repeat");if(c){var f=kH(yH(),r);c.setTransform(f)}return c}var _H={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function AH(t,e,n,r){var i=e.stroke,o=e.size,a=e.fill,u=e.lineWidth,s=e.fillOpacity;t.globalAlpha=s,t.strokeStyle=i,t.lineWidth=u,t.fillStyle=a,t.strokeRect(n-o/2,r-o/2,o,o),t.fillRect(n-o/2,r-o/2,o,o)}function TH(t){var e,n=t.type,r=t.cfg;switch(n){case"dot":e=function(t){var e=KU({},CH,t),n=e.size,r=e.padding,i=e.isStagger,o=e.rotation,a=wH(n,r,i),u=SH(a,i),s=xH(a,a),l=s.getContext("2d");bH(l,e,a);for(var c=0,f=u;c<f.length;c++){var d=f[c];EH(l,e,d[0],d[1])}var h=l.createPattern(s,"repeat");if(h){var p=kH(yH(),o);h.setTransform(p)}return h}(r);break;case"line":e=MH(r);break;case"square":e=function(t){var e=KU({},_H,t),n=e.size,r=e.padding,i=e.isStagger,o=e.rotation,a=wH(n,r,i),u=SH(a,i),s=xH(a,a),l=s.getContext("2d");bH(l,e,a);for(var c=0,f=u;c<f.length;c++){var d=f[c];AH(l,e,d[0],d[1])}var h=l.createPattern(s,"repeat");if(h){var p=kH(yH(),o);h.setTransform(p)}return h}(r)}return e}function PH(t){var e=this;return function(n){var r,i=n.options,o=n.chart,a=i.pattern;if(!a)return n;return KU({},n,{options:(r={},r[t]=function(n){for(var r,u,s,l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];var f=o.getTheme().defaultColor,d=f,h=null===(u=null===(r=o.geometries)||void 0===r?void 0:r[0])||void 0===u?void 0:u.getAttribute("color");if(h){var p=h.getFields()[0],v=(0,nE.U2)(n,p);d=ON.getMappingValue(h,v,(null===(s=h.values)||void 0===s?void 0:s[0])||f)}var g=a;"function"===typeof a&&(g=a.call(e,n,d)),g instanceof CanvasPattern===!1&&(g=TH(KU({},{cfg:{backgroundColor:d}},g)));var m=i[t];return(0,eE.pi)((0,eE.pi)({},"function"===typeof m?m.call.apply(m,(0,eE.pr)([e,n],l)):m||{}),{fill:g||d})},r)})}}function DH(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.seriesField;return!1===r?e.legend(!1):(i||o)&&e.legend(i||o,r),t}function FH(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t}function NH(t){var e=t.chart,n=t.options.interactions;return(0,nE.S6)(n,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t}function IH(t){var e=t.chart,n=t.options.animation;return"boolean"===typeof n?e.animate(n):e.animate(!0),(0,nE.S6)(e.geometries,(function(t){t.animate(n)})),t}function LH(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t}function RH(t){var e=t.chart,n=t.options.state;return n&&(0,nE.S6)(e.geometries,(function(t){t.state(n)})),t}function jH(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t}function BH(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t}function zH(t,e){return function(n){var r=n.chart,i=n.options,o={};return(0,nE.S6)(t,(function(t,e){o[e]=PU(t,mH)})),o=KU({},e,i.meta,o),r.scale(o),n}}function UH(t){return function(e){var n=e.chart,r=e.options,i=n.getController("annotation");return(0,nE.S6)((0,eE.pr)(r.annotations||[],t||[]),(function(t){i.annotation(t)})),e}}function HH(t){var e=t.chart,n=t.options,r=n.yAxis,i=n.limitInPlot,o=i;return(0,nE.Kn)(r)&&(0,nE.UM)(i)&&(o=!!Object.values(PU(r,["min","max","minLimit","maxLimit"])).some((function(t){return!(0,nE.UM)(t)}))),e.limitInPlot=o,t}function VH(t,e){if(!1===t)return{fields:!1};var n=(0,nE.U2)(t,"fields"),r=(0,nE.U2)(t,"formatter");return r&&!n&&(n=e),{fields:n,formatter:r}}function WH(t,e){var n=t.type,r=t.xField,i=t.yField,o=t.colorField,a=t.shapeField,u=t.sizeField,s=t.styleField,l=t.rawFields,c=void 0===l?[]:l,f=[];if("color"===e)f=(0,eE.pr)([o||r],c);else if("shape"===e)f=(0,eE.pr)([a||r],c);else if("size"===e)f=(0,eE.pr)([u||r],c);else{f=(0,eE.pr)([r,i,o,a,u,s],c);var d=["x","y","color","shape","size","style"].indexOf(e),h=f[d];f.splice(d,1),f.unshift(h)}var p=(0,nE.jj)(f.filter((function(t){return!!t}))),v="line"===n&&[r,i].includes(p.join("*"))?"":p.join("*");return{mappingFields:p,tileMappingField:v}}function YH(t,e){if(e)return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};return t.forEach((function(t,e){i[t]=n[e]})),delete i[void 0],e(i)}}function qH(t){var e=t.chart,n=t.options,r=n.type,i=n.args,o=n.mapping,a=n.xField,u=n.yField,s=n.colorField,l=n.shapeField,c=n.sizeField,f=n.tooltipFields,d=n.label,h=n.state,p=n.customInfo;if(!o)return t;var v=o.color,g=o.shape,m=o.size,y=o.style,x=o.tooltip,b=e[r](i).position(a+"*"+u);if((0,nE.HD)(v))s?b.color(s,v):b.color(v);else if((0,nE.mf)(v)){var w=WH(n,"color"),S=w.mappingFields,k=w.tileMappingField;b.color(k,YH(S,v))}else s&&b.color(s,v);if((0,nE.HD)(g))l?b.shape(l,[g]):b.shape(g);else if((0,nE.mf)(g)){var C=WH(n,"shape");S=C.mappingFields,k=C.tileMappingField;b.shape(k,YH(S,g))}else l&&b.shape(l,g);if((0,nE.hj)(m))c?b.size(c,m):b.size(m);else if((0,nE.mf)(m)){var E=WH(n,"size");S=E.mappingFields,k=E.tileMappingField;b.size(k,YH(S,m))}else c&&b.size(c,m);if((0,nE.mf)(y)){var O=WH(n,"style");S=O.mappingFields,k=O.tileMappingField;b.style(k,YH(S,y))}else(0,nE.Kn)(y)&&b.style(y);if(!1===f?b.tooltip(!1):(0,nE.xb)(f)||b.tooltip(f.join("*"),YH(f,x)),!1===d)b.label(!1);else if(d){var M=d.callback,_=d.fields,A=(0,eE._T)(d,["callback","fields"]);b.label({fields:_||[u],callback:M,cfg:VU(A)})}return h&&b.state(h),p&&b.customInfo(p),[a,u].filter((function(t){return t!==s})).forEach((function(t){e.legend(t,!1)})),(0,eE.pi)((0,eE.pi)({},t),{ext:{geometry:b}})}function GH(t){var e=t.options,n=e.area,r=e.xField,i=e.yField,o=e.seriesField,a=e.smooth,u=VH(e.tooltip,[r,i,o]),s=u.fields,l=u.formatter;return n?qH(KU({},t,{options:{type:"area",colorField:o,tooltipFields:s,mapping:(0,eE.pi)({shape:a?"smooth":"area",tooltip:l},n)}})):t}function $H(t){var e=t.options,n=e.line,r=e.stepType,i=e.xField,o=e.yField,a=e.seriesField,u=e.smooth,s=e.connectNulls,l=VH(e.tooltip,[i,o,a]),c=l.fields,f=l.formatter;return n?qH(KU({},t,{options:{type:"line",colorField:a,tooltipFields:c,mapping:(0,nE.b$)({shape:r||(u?"smooth":"line"),tooltip:f},n),args:{connectNulls:s}}})):t}function XH(t){var e=t.options,n=e.point,r=e.xField,i=e.yField,o=e.seriesField,a=e.sizeField,u=e.shapeField,s=VH(e.tooltip,[r,i,o,a,u]),l=s.fields,c=s.formatter;return n?qH(KU({},t,{options:{type:"point",colorField:o,shapeField:u,tooltipFields:l,mapping:(0,eE.pi)({tooltip:c},n)}})):t}function KH(t){var e=t.options,n=e.xField,r=e.yField,i=e.interval,o=e.seriesField,a=e.tooltip,u=e.minColumnWidth,s=e.maxColumnWidth,l=e.columnBackground,c=e.dodgePadding,f=e.intervalPadding,d=VH(a,[n,r,o]),h=d.fields,p=d.formatter,v=(i?qH(KU({},t,{options:{type:"interval",colorField:o,tooltipFields:h,mapping:(0,eE.pi)({tooltip:p},i),args:{dodgePadding:c,intervalPadding:f,minColumnWidth:u,maxColumnWidth:s,background:l}}})):t).ext;return function(t){var e=t.chart,n=t.options,r=t.ext,i=n.seriesField,o=n.isGroup,a=n.isStack,u=n.marginRatio,s=n.widthRatio,l=n.groupField,c=n.theme,f=[];return i&&(o&&f.push({type:"dodge",dodgeBy:l||i,marginRatio:u}),a&&f.push({type:"stack",marginRatio:u})),f.length&&(null===r||void 0===r?void 0:r.geometry)&&(null===r||void 0===r?void 0:r.geometry).adjust(f),(0,nE.UM)(s)||e.theme(KU({},(0,nE.Kn)(c)?c:$D(c),{columnWidthRatio:s})),t}((0,eE.pi)((0,eE.pi)({},t),{ext:v}))}function ZH(t){var e=t.options,n=e.polygon,r=e.xField,i=e.yField,o=e.seriesField,a=VH(e.tooltip,[r,i,o]),u=a.fields,s=a.formatter;return n?qH(KU({},t,{options:{type:"polygon",colorField:o,tooltipFields:u,mapping:(0,eE.pi)({tooltip:s},n)}})):t}function JH(t){var e=t.options,n=e.edge,r=e.xField,i=e.yField,o=e.seriesField,a=VH(e.tooltip,[r,i,o]),u=a.fields,s=a.formatter;return n?qH(KU({},t,{options:{type:"edge",colorField:o,tooltipFields:u,mapping:(0,eE.pi)({tooltip:s},n)}})):t}function QH(t){var e=t.options,n=e.schema,r=e.xField,i=e.yField,o=e.seriesField,a=VH(e.tooltip,[r,i,o]),u=a.fields,s=a.formatter;return n?qH(KU({},t,{options:{type:"schema",colorField:o,tooltipFields:u,mapping:(0,eE.pi)({tooltip:s},n)}})):t}function tV(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.lineStyle,a=n.lineShape,u=n.point,s=n.area,l=n.seriesField,c=null===u||void 0===u?void 0:u.state,f=null===s||void 0===s?void 0:s.state;e.data(r);var d=KU({},t,{options:{shapeField:l,line:{color:i,style:o,shape:a},point:u&&(0,eE.pi)({color:i,shape:"circle"},u),area:s&&(0,eE.pi)({color:i},s),label:void 0}}),h=KU({},d,{options:{tooltip:!1,state:c}}),p=KU({},d,{options:{tooltip:!1,state:f}});return $H(d),XH(h),GH(p),t}function eV(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,u=r.yField,s=r.data;return TU(zH(((e={})[a]=i,e[u]=o,e),((n={})[a]={type:"cat"},n[u]=rH(s,u),n)))(t)}function nV(t){var e=t.chart,n=t.options.reflect;if(n){var r=n;(0,nE.kJ)(r)||(r=[r]);var i=r.map((function(t){return["reflect",t]}));e.coordinate({type:"rect",actions:i})}return t}function rV(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function iV(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function oV(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=RU(e,"line");if(r){var a=r.callback,u=(0,eE._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:(0,eE.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},VU(u))})}else o.label(!1);return t}function aV(t){var e=t.chart;return t.options.isStack&&(0,nE.S6)(e.geometries,(function(t){t.adjust("stack")})),t}function uV(t){return TU(tV,eV,aV,LH,nV,rV,iV,FH,oV,jH,BH,NH,IH,UH(),HH)(t)}var sV=KU({},gH.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),lV=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items,r=t.geometries.filter((function(t){return"point"===t.type}));(0,nE.S6)(r,(function(t){(0,nE.S6)(t.elements,(function(t){var e=-1!==(0,nE.cx)(n,(function(e){return e.data===t.data}));t.setState("active",e)}))}))}},e.prototype.reset=function(){var t=this.getView().geometries.filter((function(t){return"point"===t.type}));(0,nE.S6)(t,(function(t){(0,nE.S6)(t.elements,(function(t){t.setState("active",!1)}))}))},e.prototype.getView=function(){return this.context.view},e}(BP);WP("marker-active",lV),DD("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var cV=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return sV},e.prototype.changeData=function(t){this.updateOption({data:t});eV({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return uV},e}(gH);function fV(t,e,n,r){var i=(0,nE.u4)(t,(function(t,r){var i=r[n],o=t.has(i)?t.get(i):0,a=r[e];return o=nH(a)?o+a:o,t.set(i,o),t}),new Map);return(0,nE.UI)(t,(function(t){var o,a=t[e],u=t[n],s=nH(a)&&0!==i.get(u)?a/i.get(u):0;return(0,eE.pi)((0,eE.pi)({},t),((o={})[r]=s,o))}))}function dV(t,e,n,r,i){return i?fV(t,e,n,r):t}function hV(t){var e=t.chart,n=t.options,r=n.data,i=n.areaStyle,o=n.color,a=n.point,u=n.line,s=n.isPercent,l=n.xField,c=n.yField,f=n.tooltip,d=n.seriesField,h=n.startOnZero,p=null===a||void 0===a?void 0:a.state,v=dV(r,c,l,c,s);e.data(v);var g=s?(0,eE.pi)({formatter:function(t){return{name:t[d]||t[l],value:(100*Number(t[c])).toFixed(2)+"%"}}},f):f,m=KU({},t,{options:{area:{color:o,style:i},point:a&&(0,eE.pi)({color:o},a),tooltip:g,label:void 0,args:{startOnZero:h}}}),y={chart:e,options:KU({line:{size:2}},(0,nE.CE)(n,["state"]),{line:u&&(0,eE.pi)({color:o},u),sizeField:d,state:null===u||void 0===u?void 0:u.state,tooltip:!1,label:void 0,args:{startOnZero:h}})},x=KU({},m,{options:{tooltip:!1,state:p}});return GH(m),$H(y),XH(x),t}function pV(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=RU(e,"area");if(r){var a=r.callback,u=(0,eE._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:(0,eE.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},VU(u))})}else o.label(!1);return t}function vV(t){var e=t.chart,n=t.options,r=n.isStack,i=n.isPercent,o=n.seriesField;return(i||r)&&o&&(0,nE.S6)(e.geometries,(function(t){t.adjust("stack")})),t}function gV(t){return TU(LH,PH("areaStyle"),hV,eV,vV,rV,iV,FH,pV,jH,UH(),NH,IH,HH)(t)}var mV=KU({},gH.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),yV=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return mV},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,r=e.xField,i=e.yField;eV({chart:this.chart,options:this.options}),this.chart.changeData(dV(t,i,r,i,n))},e.prototype.getSchemaAdaptor=function(){return gV},e}(gH);function xV(t,e){return(0,nE.hj)(t)&&(0,nE.hj)(e)?t===e?"100%":0===t?"\u221e":0===e?"-\u221e":(100*e/t).toFixed(2)+"%":"-"}function bV(t,e){return KU({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:xV}},t)}function wV(t,e){return(0,nE.UI)(e.getModel().points,(function(e){return t.convertPoint(e)}))}function SV(t,e,n){!function(t,e,n){var r=t.view,i=t.geometry,o=t.group,a=t.options,u=t.horizontal,s=a.offset,l=a.size,c=a.arrow,f=r.getCoordinate(),d=wV(f,e)[3],h=wV(f,n)[0],p=h.y-d.y,v=h.x-d.x;if("boolean"!==typeof c){var g,m=c.headSize,y=a.spacing;u?(v-m)/2<y?(y=Math.max(1,(v-m)/2),g=[[d.x+y,d.y-s],[d.x+y,d.y-s-l],[h.x-y,h.y-s-l/2]]):g=[[d.x+y,d.y-s],[d.x+y,d.y-s-l],[h.x-y-m,h.y-s-l],[h.x-y,h.y-s-l/2],[h.x-y-m,h.y-s]]:(p-m)/2<y?(y=Math.max(1,(p-m)/2),g=[[d.x+s,d.y+y],[d.x+s+l,d.y+y],[h.x+s+l/2,h.y-y]]):g=[[d.x+s,d.y+y],[d.x+s+l,d.y+y],[h.x+s+l,h.y-y-m],[h.x+s+l/2,h.y-y],[h.x+s,h.y-y-m]],o.addShape("polygon",{id:r.id+"-conversion-tag-arrow-"+i.getElementId(e.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:(0,eE.pi)((0,eE.pi)({},c.style||{}),{points:g})})}}(t,e,n),function(t,e,n){var r,i,o,a=t.view,u=t.geometry,s=t.group,l=t.options,c=t.field,f=t.horizontal,d=l.offset,h=l.size;if("boolean"!==typeof l.text){var p=a.getCoordinate(),v=(null===(r=l.text)||void 0===r?void 0:r.formatter)&&(null===(i=l.text)||void 0===i?void 0:i.formatter(e.getData()[c],n.getData()[c])),g=wV(p,e)[f?3:0],m=wV(p,n)[f?0:3],y=s.addShape("text",{id:a.id+"-conversion-tag-text-"+u.getElementId(e.getModel().mappingData),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:(0,eE.pi)((0,eE.pi)({},(null===(o=l.text)||void 0===o?void 0:o.style)||{}),{text:v,x:f?(g.x+m.x)/2:g.x+d+h/2,y:f?g.y-d-h/2:(g.y+m.y)/2})});if(f){var x=m.x-g.x,b=y.getBBox().width;if(b>x){var w=b/v.length,S=Math.max(1,Math.ceil(x/w)-1),k=v.slice(0,S)+"...";y.attr("text",k)}}}}(t,e,n)}var kV={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},CV=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};DD(kV.hover,{start:CV(kV.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),DD(kV.click,{start:CV(kV.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var EV={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},OV=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg=(0,eE.pi)({name:"button"},EV),e}return(0,eE.ZT)(e,t),e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,nE.U2)(t,["interactions","filter-action","cfg","buttonConfig"]);return KU(this.buttonCfg,e,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(e);this.drawBackground(e,n.getBBox()),this.buttonGroup=e},e.prototype.drawText=function(t){var e,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:(0,eE.pi)({text:n.text},null===(e=n.textStyle)||void 0===e?void 0:e.default)})},e.prototype.drawBackground=function(t,e){var n,r=this.getButtonCfg(),i=aH(r.padding),o=t.addShape({type:"rect",name:"button-rect",attrs:(0,eE.pi)({x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2]},null===(n=r.buttonStyle)||void 0===n?void 0:n.default)});return o.toBack(),t.on("mouseenter",(function(){var t;o.attr(null===(t=r.buttonStyle)||void 0===t?void 0:t.active)})),t.on("mouseleave",(function(){var t;o.attr(null===(t=r.buttonStyle)||void 0===t?void 0:t.default)})),o},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=ON.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(BP);function MV(t){return t.isInPlot()}function _V(t,e,n){var r=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:MV,action:["brush:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null===n||void 0===n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:MV,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:MV,action:["brush:filter","brush:end",r+"-mask:end",r+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:[r+"-mask:start",r+"-mask:show"],arg:[{maskStyle:null===n||void 0===n?void 0:n.style}]},{trigger:"mask:dragstart",action:[r+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[r+"-mask:resize"]},{trigger:"mask:drag",action:[r+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[r+"-mask:end"]},{trigger:"mask:dragend",action:[r+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",r+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:MV,action:["brush-x:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null===n||void 0===n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:MV,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:MV,action:["brush-x:filter","brush-x:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:MV,action:["brush-y:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null===n||void 0===n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:MV,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:MV,action:["brush-y:filter","brush-y:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}WP("brush-reset-button",OV,{name:"brush-reset-button"}),DD("filter-action",{}),DD("brush",_V("brush")),DD("brush-highlight",_V("brush-highlight")),DD("brush-x",_V("brush-x","x-rect")),DD("brush-y",_V("brush-y","y-rect")),DD("brush-x-highlight",_V("brush-x-highlight","x-rect")),DD("brush-y-highlight",_V("brush-y-highlight","y-rect"));var AV=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function TV(t){var e=t.options,n=e.brush,r=(0,nE.hX)(e.interactions||[],(function(t){return-1===AV.indexOf(t.type)}));return(null===n||void 0===n?void 0:n.enabled)&&(AV.forEach((function(t){var e,i=!1;switch(n.type){case"x-rect":i=t===("highlight"===n.action?"brush-x-highlight":"brush-x");break;case"y-rect":i=t===("highlight"===n.action?"brush-y-highlight":"brush-y");break;default:i=t===("highlight"===n.action?"brush-highlight":"brush")}var o={type:t,enable:i};((null===(e=n.mask)||void 0===e?void 0:e.style)||n.type)&&(o.cfg=_V(t,n.type,n.mask)),r.push(o)})),"highlight"!==(null===n||void 0===n?void 0:n.action)&&r.push({type:"filter-action",cfg:{buttonConfig:n.button}})),KU({},t,{options:{interactions:r}})}function PV(t){var e=t.options,n=e.legend,r=e.seriesField,i=e.isStack;return r?!1!==n&&(n=(0,eE.pi)({position:i?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function DV(t){var e=t.chart,n=t.options,r=n.data,i=n.columnStyle,o=n.color,a=n.columnWidthRatio,u=n.isPercent,s=n.isGroup,l=n.isStack,c=n.xField,f=n.yField,d=n.seriesField,h=n.groupField,p=n.tooltip,v=n.shape,g=u&&s&&l?function(t,e,n,r){var i=(0,nE.u4)(t,(function(t,r){var i=(0,nE.u4)(n,(function(t,e){return""+t+r[e]}),""),o=t.has(i)?t.get(i):0,a=r[e];return o=nH(a)?o+a:o,t.set(i,o),t}),new Map);return(0,nE.UI)(t,(function(t){var o,a=t[e],u=(0,nE.u4)(n,(function(e,n){return""+e+t[n]}),""),s=nH(a)&&0!==i.get(u)?a/i.get(u):0;return(0,eE.pi)((0,eE.pi)({},t),((o={})[r]=s,o))}))}(r,f,[c,h],f):dV(r,f,c,f,u),m=[];l&&d&&!s?g.forEach((function(t){var e=m.find((function(e){return e[c]===t[c]&&e[d]===t[d]}));e?e[f]+=t[f]||0:m.push((0,eE.pi)({},t))})):m=g,e.data(m);var y=u?(0,eE.pi)({formatter:function(t){return{name:s&&l?t[d]+" - "+t[h]:t[d]||t[c],value:(100*Number(t[f])).toFixed(2)+"%"}}},p):p,x=KU({},t,{options:{data:m,widthRatio:a,tooltip:y,interval:{shape:v,style:i,color:o}}});return KH(x),x}function FV(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,u=r.yField,s=r.data,l=r.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return TU(zH(((e={})[a]=i,e[u]=o,e),((n={})[a]={type:"cat"},n[u]=(0,eE.pi)((0,eE.pi)({},rH(s,u)),l),n)))(t)}function NV(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function IV(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function LV(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=n.isRange,a=RU(e,"interval");if(r){var u=r.callback,s=(0,eE._T)(r,["callback"]);a.label({fields:[i],callback:u,cfg:(0,eE.pi)({layout:(null===s||void 0===s?void 0:s.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},VU(o?(0,eE.pi)({content:function(t){var e;return null===(e=t[i])||void 0===e?void 0:e.join("-")}},s):s))})}else a.label(!1);return t}function RV(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.isGroup,o=n.isStack,a=n.groupField,u=n.data,s=n.xField,l=n.yField,c=n.seriesField;if(!1===r)e.tooltip(!1);else{var f=r;if(i&&o){var d=(null===f||void 0===f?void 0:f.formatter)||function(t){return{name:t[c]+" - "+t[a],value:t[l]}};f=(0,eE.pi)((0,eE.pi)({},f),{customItems:function(t){var e=[];return(0,nE.S6)(t,(function(t){(0,nE.hX)(u,(function(e){return(0,nE.BD)(e,PU(t.data,[s,c]))})).forEach((function(n){e.push((0,eE.pi)((0,eE.pi)((0,eE.pi)({},t),{value:n[l],data:n,mappingData:{_origin:n}}),d(n)))}))})),e}})}e.tooltip(f)}return t}function jV(t,e){void 0===e&&(e=!1);var n,r=t.options,i=r.seriesField;return TU(PV,LH,PH("columnStyle"),RH,DV,FV,NV,IV,RV,jH,BH,LV,TV,NH,IH,UH(),function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!1),function(r){var i=r.options,o=r.chart,a=i.conversionTag,u=i.theme;return a&&!n&&(o.theme(KU({},(0,nE.Kn)(u)?u:$D(u),{columnWidthRatio:1/3})),o.annotation().shape({render:function(n,r){var i=n.addGroup({id:o.id+"-conversion-tag-group",name:"conversion-tag-group"}),u=(0,nE.sE)(o.geometries,(function(t){return"interval"===t.type})),s={view:r,geometry:u,group:i,field:t,horizontal:e,options:bV(a,e)},l=u.elements;(0,nE.S6)(l,(function(t,e){e>0&&SV(s,l[e-1],t)}))}})),r}}(r.yField,!e,!!i),(void 0===(n=!r.isStack)&&(n=!1),function(t){var e=t.chart,r=t.options.connectedArea,i=function(){e.removeInteraction(kV.hover),e.removeInteraction(kV.click)};if(!n&&r){var o=r.trigger||"hover";i(),e.interaction(kV[o],{start:CV(o,r.style)})}else i();return t}),HH)(t)}var BV=KU({},gH.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),zV=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return BV},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,r=e.xField,i=e.isPercent;FV({chart:this.chart,options:this.options}),this.chart.changeData(dV(t,n,r,n,i))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return jV},e}(gH);function UV(t){var e=t.options,n=e.xField,r=e.yField,i=e.xAxis,o=e.yAxis,a={left:"bottom",right:"top",top:"left",bottom:"right"},u=!1!==o&&(0,eE.pi)({position:a[(null===o||void 0===o?void 0:o.position)||"left"]},o),s=!1!==i&&(0,eE.pi)({position:a[(null===i||void 0===i?void 0:i.position)||"bottom"]},i);return(0,eE.pi)((0,eE.pi)({},t),{options:(0,eE.pi)((0,eE.pi)({},e),{xField:r,yField:n,xAxis:u,yAxis:s})})}function HV(t){var e=t.options.label;return e&&!e.position&&(e.position="left",e.layout||(e.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),KU({},t,{options:{label:e}})}function VV(t){var e=t.options,n=e.seriesField,r=e.isStack,i=e.legend;return n?!1!==i&&(i=(0,eE.pi)({position:r?"top-left":"right-top"},i||{})):i=!1,KU({},t,{options:{legend:i}})}function WV(t){return t.chart.coordinate({actions:[["transpose"],["reflect","y"]]}),t}function YV(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.barWidthRatio,o=n.minBarWidth,a=n.maxBarWidth,u=n.barBackground;return jV({chart:e,options:(0,eE.pi)((0,eE.pi)({},n),{columnStyle:r,columnWidthRatio:i,minColumnWidth:o,maxColumnWidth:a,columnBackground:u})},!0)}function qV(t){return TU(UV,HV,VV,FH,WV,YV)(t)}var GV=KU({},gH.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),$V=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return GV},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options,r=n.xField,i=n.yField,o=n.isPercent;FV({chart:e,options:(0,eE.pi)((0,eE.pi)({},n),{xField:i,yField:r})}),e.changeData(dV(t,r,i,r,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return qV},e}(gH),XV=KU({},gH.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function KV(t,e){var n;switch(t){case"inner":return n="-30%",(0,nE.HD)(e)&&e.endsWith("%")?.01*parseFloat(e)>0?n:e:e<0?e:n;case"outer":return n=12,(0,nE.HD)(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:e>0?e:n;default:return e}}function ZV(t,e){return(0,nE.yW)(oH(t,e),(function(t){return 0===t[e]}))}var JV=[1,0,0,0,1,0,0,0,1];function QV(t,e){var n=e?(0,eE.pr)(e):(0,eE.pr)(JV);return ON.transform(n,t)}var tW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getActiveElements=function(){var t=ON.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,r=t.item,i=n.get("field");if(i)return e.geometries[0].elements.filter((function(t){return t.getModel().data[i]===r.value}))}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter((function(t){return e.find((function(e){return(0,nE.Xy)(e.getData(),t.get("data"))}))}))},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach((function(e,r){var i=n[r],o=e.geometry.coordinate;if(o.isPolar&&o.isTransposed){var a=ON.getAngle(e.getModel(),o),u=(a.startAngle+a.endAngle)/2,s=t,l=s*Math.cos(u),c=s*Math.sin(u);e.shape.setMatrix(QV([["t",l,c]])),i.setMatrix(QV([["t",l,c]]))}}))},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(BP);var eW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",(function(){var n=t.getAnnotations(e);t.initialAnnotation=n}))},e.prototype.change=function(t){var e=this.context,n=e.view,r=e.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var i=(0,nE.U2)(r,["data","data"]);if(r.type.match("legend-item")){var o=ON.getDelegationObject(this.context),a=n.getGroupedFields()[0];if(o&&a){var u=o.item;i=n.getData().find((function(t){return t[a]===u.value}))}}if(i){var s=(0,nE.U2)(t,"annotations",[]),l=(0,nE.U2)(t,"statistic",{});n.getController("annotation").clear(!0),(0,nE.S6)(s,(function(t){"object"===typeof t&&n.annotation()[t.type](t)})),eH(n,{statistic:l,plotType:"pie"},i),n.render(!0)}var c=function(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}(this.context);c&&c.shape.toFront()},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var e=this.getInitialAnnotation();(0,nE.S6)(e,(function(e){t.annotation()[e.type](e)})),t.render(!0)},e}(BP),nW="pie-statistic";function rW(t){var e=t.chart,n=t.options,r=n.data,i=n.angleField,o=n.colorField,a=n.color,u=n.pieStyle,s=oH(r,i);if(ZV(s,i)){var l="$$percentage$$";s=s.map((function(t){var e;return(0,eE.pi)((0,eE.pi)({},t),((e={}).$$percentage$$=1/s.length,e))})),e.data(s),KH(KU({},t,{options:{xField:"1",yField:l,seriesField:o,isStack:!0,interval:{color:a,style:u},args:{zIndexReversed:!0,sortZIndex:!0}}}))}else{e.data(s),KH(KU({},t,{options:{xField:"1",yField:i,seriesField:o,isStack:!0,interval:{color:a,style:u},args:{zIndexReversed:!0,sortZIndex:!0}}}))}return t}function iW(t){var e,n=t.chart,r=t.options,i=r.meta,o=r.colorField,a=KU({},i);return n.scale(a,((e={})[o]={type:"cat"},e)),t}function oW(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function aW(t){var e=t.chart,n=t.options,r=n.label,i=n.colorField,o=n.angleField,a=e.geometries[0];if(r){var u=r.callback,s=VU((0,eE._T)(r,["callback"]));if(s.content){var l=s.content;s.content=function(t,n,r){var a=t[i],u=t[o],s=e.getScaleByField(o),c=null===s||void 0===s?void 0:s.scale(u);return(0,nE.mf)(l)?l((0,eE.pi)((0,eE.pi)({},t),{percent:c}),n,r):(0,nE.HD)(l)?DU(l,{value:u,name:a,percentage:(0,nE.hj)(c)&&!(0,nE.UM)(u)?(100*c).toFixed(2)+"%":null}):l}}var c=s.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[s.type]:"pie-outer",f=s.layout?(0,nE.kJ)(s.layout)?s.layout:[s.layout]:[];s.layout=(c?[{type:c}]:[]).concat(f),a.label({fields:i?[o,i]:[o],callback:u,cfg:(0,eE.pi)((0,eE.pi)({},s),{offset:KV(s.type,s.offset),type:"pie"})})}else a.label(!1);return t}function uW(t){var e=t.innerRadius,n=t.statistic,r=t.angleField,i=t.colorField,o=t.meta,a=dH(t.locale);if(e&&n){var u=KU({},XV.statistic,n),s=u.title,l=u.content;return!1!==s&&(s=KU({},{formatter:function(t){return t?t[i]:(0,nE.UM)(s.content)?a.get(["statistic","total"]):s.content}},s)),!1!==l&&(l=KU({},{formatter:function(t,e){var n=t?t[r]:function(t,e){var n=null;return(0,nE.S6)(t,(function(t){"number"===typeof t[e]&&(n+=t[e])})),n}(e,r),i=(0,nE.U2)(o,[r,"formatter"])||function(t){return t};return t||(0,nE.UM)(l.content)?i(n):l.content}},l)),KU({},{statistic:{title:s,content:l}},t)}return t}function sW(t){var e=t.chart,n=uW(t.options),r=n.innerRadius,i=n.statistic;return e.getController("annotation").clear(!0),TU(UH())(t),r&&i&&eH(e,{statistic:i,plotType:"pie"}),t}function lW(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.colorField,o=n.angleField,a=n.data;if(!1===r)e.tooltip(r);else if(e.tooltip(KU({},r,{shared:!1})),ZV(a,o)){var u=(0,nE.U2)(r,"fields"),s=(0,nE.U2)(r,"formatter");(0,nE.xb)((0,nE.U2)(r,"fields"))&&(u=[i,o],s=s||function(t){return{name:t[i],value:(0,nE.BB)(t[o])}}),e.geometries[0].tooltip(u.join("*"),YH(u,s))}return t}function cW(t){var e=t.chart,n=uW(t.options),r=n.interactions,i=n.statistic,o=n.annotations;return(0,nE.S6)(r,(function(t){var n,r;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var a=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(a=[{trigger:"element:mouseenter",action:"pie-statistic:change",arg:{statistic:i,annotations:o}}]),(0,nE.S6)(null===(r=t.cfg)||void 0===r?void 0:r.start,(function(t){a.push((0,eE.pi)((0,eE.pi)({},t),{arg:{statistic:i,annotations:o}}))})),e.interaction(t.type,KU({},t.cfg,{start:a}))}else e.interaction(t.type,t.cfg||{})})),t}function fW(t){return TU(PH("pieStyle"),rW,iW,LH,oW,DH,lW,aW,RH,sW,cW,IH)(t)}WP(nW,eW),DD("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),WP("pie-legend",tW),DD("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var dW=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return XV},e.prototype.changeData=function(t){this.chart.emit(rE.BEFORE_CHANGE_DATA,cF.fromData(this.chart,rE.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,r=oH(e.data,n),i=oH(t,n);ZV(r,n)||ZV(i,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(i),sW({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(rE.AFTER_CHANGE_DATA,cF.fromData(this.chart,rE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return fW},e}(gH);function hW(t){var e=t.chart,n=t.options,r=n.data,i=n.sectorStyle,o=n.color;return e.data(r),TU(KH)(KU({},t,{options:{marginRatio:1,interval:{style:i,color:o}}})),t}function pW(t){var e=t.chart,n=t.options,r=n.label,i=n.xField,o=RU(e,"interval");if(!1===r)o.label(!1);else if((0,nE.Kn)(r)){var a=r.callback,u=r.fields,s=(0,eE._T)(r,["callback","fields"]),l=s.offset,c=s.layout;(void 0===l||l>=0)&&(c=c?(0,nE.kJ)(c)?c:[c]:[],s.layout=(0,nE.hX)(c,(function(t){return"limit-in-shape"!==t.type})),s.layout.length||delete s.layout),o.label({fields:u||[i],callback:a,cfg:VU(s)})}else IU(EU.WARN,null===r,"the label option must be an Object."),o.label({fields:[i]});return t}function vW(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return!1===r?e.legend(!1):i&&e.legend(i,r),t}function gW(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function mW(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return TU(zH(((e={})[o]=r,e[a]=i,e)))(t)}function yW(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return r?e.axis(o,r):e.axis(o,!1),i?e.axis(a,i):e.axis(a,!1),t}function xW(t){TU(PH("sectorStyle"),hW,mW,pW,gW,yW,vW,FH,NH,IH,LH,UH(),RH)(t)}var bW=KU({},gH.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),wW=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return bW},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return xW}}(gH),{font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3});function SW(t,e){return function(t,e){var n=function(){var t=[256,256],e=OW,n=_W,r=MW,i=AW,o=TW,a=IW,u=Math.random,s=[],l=1/0,c=EW,f=MW,d=RW,h={};function p(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=CW/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function v(e,n,r){for(var i,o,s,l=n.x,c=n.y,f=Math.sqrt(t[0]*t[0]+t[1]*t[1]),d=a(t),h=u()<.5?1:-1,p=-h;(i=d(p+=h))&&(o=~~i[0],s=~~i[1],!(Math.min(Math.abs(o),Math.abs(s))>=f));)if(n.x=l+o,n.y=c+s,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!DW(n,e,t[0]))&&(!r||NW(n,r))){for(var v=n.sprite,g=n.width>>5,m=t[0]>>5,y=n.x-(g<<4),x=127&y,b=32-x,w=n.y1-n.y0,S=void 0,k=(n.y+n.y0)*m+(y>>5),C=0;C<w;C++){S=0;for(var E=0;E<=g;E++)e[k+E]|=S<<b|(E<g?(S=v[C*g+E])>>>x:0);k+=m}return delete n.sprite,!0}return!1}return h.start=function(){var a=t[0],g=t[1],m=p(d()),y=h.board?h.board:LW((t[0]>>5)*t[1]),x=s.length,b=[],w=s.map((function(t,a,u){return t.text=c.call(this,t,a,u),t.font=e.call(this,t,a,u),t.style=f.call(this,t,a,u),t.weight=r.call(this,t,a,u),t.rotate=i.call(this,t,a,u),t.size=~~n.call(this,t,a,u),t.padding=o.call(this,t,a,u),t})).sort((function(t,e){return e.size-t.size})),S=-1,k=h.board?[{x:0,y:0},{x:a,y:g}]:null;function C(){for(var e=Date.now();Date.now()-e<l&&++S<x;){var n=w[S];n.x=a*(u()+.5)>>1,n.y=g*(u()+.5)>>1,PW(m,n,w,S),n.hasText&&v(y,n,k)&&(b.push(n),k?h.hasImage||FW(k,n):k=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}h._tags=b,h._bounds=k}return C(),h},h.createMask=function(e){var n=document.createElement("canvas"),r=t[0],i=t[1];if(r&&i){var o=r>>5,a=LW((r>>5)*i);n.width=r,n.height=i;var u=n.getContext("2d");u.drawImage(e,0,0,e.width,e.height,0,0,r,i);for(var s=u.getImageData(0,0,r,i).data,l=0;l<i;l++)for(var c=0;c<r;c++){var f=o*l+(c>>5),d=l*r+c<<2,p=s[d]>=250&&s[d+1]>=250&&s[d+2]>=250?1<<31-c%32:0;a[f]|=p}h.board=a,h.hasImage=!0}},h.timeInterval=function(t){l=null==t?1/0:t},h.words=function(t){s=t},h.size=function(e){t=[+e[0],+e[1]]},h.font=function(t){e=jW(t)},h.fontWeight=function(t){r=jW(t)},h.rotate=function(t){i=jW(t)},h.spiral=function(t){a=BW[t]||t},h.fontSize=function(t){n=jW(t)},h.padding=function(t){o=jW(t)},h.random=function(t){u=jW(t)},h}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach((function(t){(0,nE.UM)(e[t])||n[t](e[t])})),n.words(t),e.imageMask&&n.createMask(e.imageMask);var r=n.start()._tags;r.forEach((function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2}));var i=e.size,o=i[0],a=i[1];return r.push({text:"",value:0,x:0,y:0,opacity:0}),r.push({text:"",value:0,x:o,y:a,opacity:0}),r}(t,e=(0,nE.f0)({},wW,e))}var kW=Math.PI/180,CW=2048;function EW(t){return t.text}function OW(){return"serif"}function MW(){return"normal"}function _W(t){return t.value}function AW(){return 90*~~(2*Math.random())}function TW(){return 1}function PW(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,2048/o,CW/o);var a=0,u=0,s=0,l=n.length;for(--r;++r<l;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var c=i.measureText(e.text+"m").width*o,f=e.size<<1;if(e.rotate){var d=Math.sin(e.rotate*kW),h=Math.cos(e.rotate*kW),p=c*h,v=c*d,g=f*h,m=f*d;c=Math.max(Math.abs(p+m),Math.abs(p-m))+31>>5<<5,f=~~Math.max(Math.abs(v+g),Math.abs(v-g))}else c=c+31>>5<<5;if(f>s&&(s=f),a+c>=2048&&(a=0,u+=s,s=0),u+f>=CW)break;i.translate((a+(c>>1))/o,(u+(f>>1))/o),e.rotate&&i.rotate(e.rotate*kW),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=c,e.height=f,e.xoff=a,e.yoff=u,e.x1=c>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=c}for(var y=i.getImageData(0,0,2048/o,CW/o).data,x=[];--r>=0;)if((e=n[r]).hasText){for(var b=(c=e.width)>>5,w=(f=e.y1-e.y0,0);w<f*b;w++)x[w]=0;if(null==(a=e.xoff))return;u=e.yoff;for(var S=0,k=-1,C=0;C<f;C++){for(w=0;w<c;w++){var E=b*C+(w>>5),O=y[2048*(u+C)+(a+w)<<2]?1<<31-w%32:0;x[E]|=O,S|=O}S?k=C:(e.y0++,f--,C--,u++)}e.y1=e.y0+k,e.sprite=x.slice(0,(e.y1-e.y0)*b)}}}function DW(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),u=127&a,s=32-u,l=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),f=0;f<l;f++){r=0;for(var d=0;d<=o;d++)if((r<<s|(d<o?(r=i[f*o+d])>>>u:0))&e[c+d])return!0;c+=n}return!1}function FW(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function NW(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function IW(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function LW(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function RW(){return document.createElement("canvas")}function jW(t){return(0,nE.mf)(t)?t:function(){return t}}var BW={archimedean:IW,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};function zW(t){var e=t.options,n=t.chart,r=n,i=r.width,o=r.height,a=r.padding,u=r.appendPadding,s=r.ele,l=e.data,c=e.imageMask,f=e.wordField,d=e.weightField,h=e.colorField,p=e.wordStyle,v=e.timeInterval,g=e.random,m=e.spiral,y=e.autoFit,x=void 0===y||y,b=e.placementStrategy;if(!l||!l.length)return[];var w=p.fontFamily,S=p.fontWeight,k=p.padding,C=p.fontSize,E=function(t,e){return t.map((function(t){return t[e]})).filter((function(t){return"number"===typeof t&&!isNaN(t)}))}(l,d),O=[WW(E),YW(E)],M=l.map((function(t){return{text:t[f],value:t[d],color:t[h],datum:t}})),_={imageMask:c,font:w,fontSize:HW(C,O),fontWeight:S,size:UW({width:i,height:o,padding:a,appendPadding:u,autoFit:x,container:s}),padding:k,timeInterval:v,random:g,spiral:m,rotate:VW(e)};if((0,nE.mf)(b)){var A=M.map((function(t,e,r){return(0,eE.pi)((0,eE.pi)((0,eE.pi)({},t),{hasText:!!t.text,font:jW(_.font)(t,e,r),weight:jW(_.fontWeight)(t,e,r),rotate:jW(_.rotate)(t,e,r),size:jW(_.fontSize)(t,e,r),style:"normal"}),b.call(n,t,e,r))}));return A.push({text:"",value:0,x:0,y:0,opacity:0}),A.push({text:"",value:0,x:_.size[0],y:_.size[1],opacity:0}),A}return SW(M,_)}function UW(t){var e=t.width,n=t.height,r=t.container,i=t.autoFit,o=t.padding,a=t.appendPadding;if(i){var u=LU(r);e=u.width,n=u.height}e=e||400,n=n||400;var s=function(t){var e=aH(t.padding),n=aH(t.appendPadding),r=e[0]+n[0],i=e[1]+n[1],o=e[2]+n[2],a=e[3]+n[3];return[r,i,o,a]}({padding:o,appendPadding:a}),l=s[0],c=s[1],f=s[2];return[e-(s[3]+c),n-(l+f)]}function HW(t,e){if((0,nE.mf)(t))return t;if((0,nE.kJ)(t)){var n=t[0],r=t[1];if(!e)return function(){return(r+n)/2};var i=e[0],o=e[1];return o===i?function(){return(r+n)/2}:function(t){var e=t.value;return(r-n)/(o-i)*(e-i)+n}}return function(){return t}}function VW(t){var e=function(t){var e=t.wordStyle.rotationSteps;e<1&&(IU(EU.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1);return{rotation:t.wordStyle.rotation,rotationSteps:e}}(t),n=e.rotation,r=e.rotationSteps;if(!(0,nE.kJ)(n))return n;var i=n[0],o=n[1],a=1===r?0:(o-i)/(r-1);return function(){return o===i?o:Math.floor(Math.random()*r)*a}}function WW(t){return Math.min.apply(Math,t)}function YW(t){return Math.max.apply(Math,t)}var qW="color",GW=KU({},gH.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",qW],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});function $W(t){var e=t.chart,n=t.options,r=n.colorField,i=n.color,o=zW(t);return e.data(o),XH(KU({},t,{options:{xField:"x",yField:"y",seriesField:r&&qW,rawFields:(0,nE.mf)(i)&&(0,eE.pr)((0,nE.U2)(n,"rawFields",[]),["datum"]),point:{color:i,shape:"word-cloud"}}})).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function XW(t){return TU(zH({x:{nice:!1},y:{nice:!1}}))(t)}function KW(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField;return!1===r?e.legend(!1):i&&e.legend(qW,r),t}function ZW(t){TU($W,XW,FH,KW,NH,IH,LH,RH)(t)}function JW(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}HF("point","word-cloud",{draw:function(t,e){var n=t.x,r=t.y,i=e.addShape("text",{attrs:(0,eE.pi)((0,eE.pi)({},JW(t)),{x:n,y:r})}),o=t.data.rotate;return"number"===typeof o&&ON.rotate(i,o*Math.PI/180),i}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="word-cloud",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return GW},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(zW({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var e=this;return new Promise((function(n){var r=e.options.imageMask;if(!r)return t.prototype.render.call(e),void n();var i,o=function(r){e.options=(0,eE.pi)((0,eE.pi)({},e.options),{imageMask:r||null}),t.prototype.render.call(e),n()};(i=r,new Promise((function(t,e){if(i instanceof HTMLImageElement)t(i);else{if((0,nE.HD)(i)){var n=new Image;return n.crossOrigin="anonymous",n.src=i,n.onload=function(){t(n)},void(n.onerror=function(){IU(EU.ERROR,!1,"image %s load failed !!!",i),e()})}IU(EU.WARN,void 0===i,"The type of imageMask option must be String or HTMLImageElement."),e()}}))).then(o).catch(o)}))},e.prototype.getSchemaAdaptor=function(){return ZW},e.prototype.triggerResize=function(){var e=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout((function(){t.prototype.triggerResize.call(e)})))}}(gH);var QW=n(7046),tY={exp:QW.regressionExp,linear:QW.regressionLinear,loess:QW.regressionLoess,log:QW.regressionLog,poly:QW.regressionPoly,pow:QW.regressionPow,quad:QW.regressionQuad};var eY=function(t,e){var n=e.view,r=e.options,i=r.xField,o=r.yField,a=n.getScaleByField(i),u=n.getScaleByField(o);return function(t,e,n){var r=[],i=t[0],o=null;if(t.length<=2)return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var o=t[r];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e);for(var a=0,u=t.length;a<u;a++){var s=t[a];o&&o.x===s.x&&o.y===s.y||(r.push(s.x),r.push(s.y),o=s)}var l=WU(r,e,n||[[0,0],[1,1]]);return l.unshift(["M",i.x,i.y]),l}(t.map((function(t){return n.getCoordinate().convert({x:a.scale(t[0]),y:u.scale(t[1])})})),!1)};function nY(t){var e=t.data,n=void 0===e?[]:e,r=t.xField,i=t.yField;if(n.length){for(var o=!0,a=!0,u=n[0],s=void 0,l=1;l<n.length&&(s=n[l],u[r]!==s[r]&&(o=!1),u[i]!==s[i]&&(a=!1),o||a);l++)u=s;var c=[];o&&c.push(r),a&&c.push(i);var f=PU(function(t){var e,n=t.meta,r=void 0===n?{}:n,i=t.xField,o=t.yField,a=t.data,u=a[0][i],s=a[0][o],l=u>0,c=s>0;function f(t,e){var n=(0,nE.U2)(r,[t]);function i(t){return(0,nE.U2)(n,t)}var o={};return"x"===e?((0,nE.hj)(u)&&((0,nE.hj)(i("min"))||(o.min=l?0:2*u),(0,nE.hj)(i("max"))||(o.max=l?2*u:0)),o):((0,nE.hj)(s)&&((0,nE.hj)(i("min"))||(o.min=c?0:2*s),(0,nE.hj)(i("max"))||(o.max=c?2*s:0)),o)}return(0,eE.pi)((0,eE.pi)({},r),((e={})[i]=(0,eE.pi)((0,eE.pi)({},r[i]),f(i,"x")),e[o]=(0,eE.pi)((0,eE.pi)({},r[o]),f(o,"y")),e))}(t),c);return KU({},t,{meta:f})}return t}function rY(t){var e=t.chart,n=t.options,r=n.data,i=n.type,o=n.color,a=n.shape,u=n.pointStyle,s=n.shapeField,l=n.colorField,c=n.xField,f=n.yField,d=n.sizeField,h=n.size,p=n.tooltip;d&&(h||(h=[2,8]),(0,nE.hj)(h)&&(h=[h,h])),p&&!p.fields&&(p=(0,eE.pi)((0,eE.pi)({},p),{fields:[c,f,l,d,s]})),e.data(r),XH(KU({},t,{options:{seriesField:l,point:{color:o,shape:a,size:h,style:u},tooltip:p}}));var v=RU(e,"point");return i&&v.adjust(i),t}function iY(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,u=nY(n);return TU(zH(((e={})[o]=r,e[a]=i,e)))(KU({},t,{options:u}))}function oY(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return e.axis(o,r),e.axis(a,i),t}function aY(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.shapeField,a=n.sizeField,u=n.shapeLegend,s=n.sizeLegend,l=!1!==r;return i&&e.legend(i,!!l&&r),o&&(u?e.legend(o,u):e.legend(o,!1!==u&&r)),a&&e.legend(a,s||!1),l||u||s||e.legend(!1),t}function uY(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=RU(e,"point");if(r){var a=r.callback,u=(0,eE._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:VU(u)})}else o.label(!1);return t}function sY(t){var e=t.options.quadrant,n=[];if(e){var r=e.xBaseline,i=void 0===r?0:r,o=e.yBaseline,a=void 0===o?0:o,u=e.labels,s=e.regionStyle,l=e.lineStyle,c=function(t,e){var n=10;return{regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(i,a);new Array(4).join(",").split(",").forEach((function(t,e){n.push((0,eE.pi)((0,eE.pi)({type:"region",top:!1},c.regionStyle[e].position),{style:KU({},c.regionStyle[e].style,null===s||void 0===s?void 0:s[e])}),(0,eE.pi)({type:"text",top:!0},KU({},c.labelStyle[e],null===u||void 0===u?void 0:u[e])))})),n.push({type:"line",top:!1,start:["min",a],end:["max",a],style:KU({},c.lineStyle,l)},{type:"line",top:!1,start:[i,"min"],end:[i,"max"],style:KU({},c.lineStyle,l)})}return TU(UH(n))(t)}function lY(t){var e=t.options,n=t.chart,r=e.regressionLine;if(r){var i=r.style,o=r.top,a=void 0!==o&&o,u={stroke:"#9ba29a",lineWidth:2,opacity:.5};n.annotation().shape({top:a,render:function(t,r){var o=t.addGroup({id:n.id+"-regression-line",name:"regression-line-group"}),a=function(t){var e,n=t.options,r=n.xField,i=n.yField,o=n.data,a=n.regressionLine,u=a.type,s=void 0===u?"linear":u,l=a.algorithm;return e=l?(0,nE.kJ)(l)?l:l(o):tY[s]().x((function(t){return t[r]})).y((function(t){return t[i]}))(o),eY(e,t)}({view:r,options:e});o.addShape("path",{name:"regression-line",attrs:(0,eE.pi)((0,eE.pi)({path:a},u),i)})}})}return t}function cY(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}function fY(t){return TU(rY,iY,oY,aY,cY,uY,TV,jH,BH,NH,sY,IH,LH,lY)(t)}var dY=KU({},gH.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});DD("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var hY=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="scatter",r.on(rE.BEFORE_RENDER,(function(t){var e,n,i=r,o=i.options,a=i.chart;if((null===(e=t.data)||void 0===e?void 0:e.source)===Gz.FILTER){var u=r.chart.filterData(r.chart.getData());iY({chart:a,options:(0,eE.pi)((0,eE.pi)({},o),{data:u})})}(null===(n=t.data)||void 0===n?void 0:n.source)===Gz.RESET&&iY({chart:a,options:o})})),r}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return dY},e.prototype.changeData=function(t){this.updateOption(nY(KU({},this.options,{data:t})));var e=this.options;iY({chart:this.chart,options:e}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return fY},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(gH);function pY(t){var e=t.chart,n=t.options,r=n.data,i=n.lineStyle,o=n.color,a=n.point,u=n.area;e.data(r);var s=KU({},t,{options:{line:{style:i,color:o},point:a?(0,eE.pi)({color:o},a):a,area:u?(0,eE.pi)({color:o},u):u,label:void 0}}),l=KU({},s,{options:{tooltip:!1}}),c=(null===a||void 0===a?void 0:a.state)||n.state,f=KU({},s,{options:{tooltip:!1,state:c}});return $H(s),XH(f),GH(l),t}function vY(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return TU(zH(((e={})[o]=r,e[a]=i,e)))(t)}function gY(t){var e=t.chart,n=t.options,r=n.radius,i=n.startAngle,o=n.endAngle;return e.coordinate("polar",{radius:r,startAngle:i,endAngle:o}),t}function mY(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis,o=n.yField,a=n.yAxis;return e.axis(r,i),e.axis(o,a),t}function yY(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=RU(e,"line");if(r){var a=r.callback,u=(0,eE._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:VU(u)})}else o.label(!1);return t}function xY(t){return TU(pY,vY,LH,gY,mY,DH,FH,yY,NH,IH,UH())(t)}var bY=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),r=n.shared,i=n.title,o=t.prototype.getTooltipItems.call(this,e);if(o.length>0){var a=this.view.geometries[0],u=a.dataArray,s=o[0].name,l=[];return u.forEach((function(t){t.forEach((function(t){var e=ON.getTooltipItems(t,a)[0];if(!r&&e&&e.name===s){var n=(0,nE.UM)(i)?s:i;l.push((0,eE.pi)((0,eE.pi)({},e),{name:e.title,title:n}))}else if(r&&e){n=(0,nE.UM)(i)?e.name||s:i;l.push((0,eE.pi)((0,eE.pi)({},e),{name:e.title,title:n}))}}))})),l}return[]},e}(SF);aF("radar-tooltip",bY);var wY=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(BP);WP("radar-tooltip",wY),DD("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var SY,kY;!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}(0,eE.ZT)(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return KU({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return xY}}(gH);!function(t){t.Left="Left",t.Right="Right"}(SY||(SY={})),function(t){t.Line="line",t.Column="column"}(kY||(kY={}));var CY="left-axes-view",EY="right-axes-view",OY={nice:!0,label:{autoHide:!0,autoRotate:!1}},MY=(0,eE.pi)((0,eE.pi)({},OY),{position:"left"}),_Y=(0,eE.pi)((0,eE.pi)({},OY),{position:"right",grid:null});function AY(t){return(0,nE.U2)(t,"geometry")===kY.Line}function TY(t){return(0,nE.U2)(t,"geometry")===kY.Column}function PY(t,e,n){return TY(n)?KU({},{geometry:kY.Column,label:n.label&&n.isRange?{content:function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.join("-")}}:void 0},n):(0,eE.pi)({geometry:kY.Line},n)}function DY(t,e){var n=t[0],r=t[1];return(0,nE.kJ)(e)?[e[0],e[1]]:[(0,nE.U2)(e,n),(0,nE.U2)(e,r)]}function FY(t,e){return e===SY.Left?!1!==t&&KU({},MY,t):e===SY.Right?!1!==t&&KU({},_Y,t):t}function NY(t){var e=t.view,n=t.geometryOption,r=t.yField,i=t.legend,o=(0,nE.U2)(i,"marker"),a=RU(e,AY(n)?"line":"interval");if(!n.seriesField){var u=(0,nE.U2)(e,"options.scales."+r+".alias")||r,s=a.getAttribute("color"),l=e.getTheme().defaultColor;s&&(l=ON.getMappingValue(s,u,(0,nE.U2)(s,["values",0],l)));var c=((0,nE.mf)(o)?o:!(0,nE.xb)(o)&&KU({},{style:{stroke:l,fill:l}},o))||(AY(n)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:l}}:{symbol:"square",style:{fill:l}});return[{value:r,name:u,marker:c,isGeometry:!0,viewId:e.id}]}var f=a.getGroupAttributes();return(0,nE.u4)(f,(function(t,n){var r=ON.getLegendItems(e,a,n,e.getTheme(),o);return t.concat(r)}),[])}var IY=function(t,e){var n=e[0],r=e[1],i=t.getOptions().data,o=t.getXScale(),a=(0,nE.dp)(i);if(o&&a){var u=(0,nE.I)(i,o.field),s=u,l=(0,nE.dp)(s),c=Math.floor(n*(l-1)),f=Math.floor(r*(l-1));t.filter(o.field,(function(t){var e=s.indexOf(t);return!(e>-1)||function(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i}(e,c,f)})),t.getRootView().render(!0)}};function LY(t){var e,n=t.options,r=n.geometryOptions,i=void 0===r?[]:r,o=n.xField,a=n.yField,u=(0,nE.yW)(i,(function(t){var e=t.geometry;return e===kY.Line||void 0===e}));return KU({},{options:{geometryOptions:[],meta:(e={},e[o]={type:"cat",sync:!0,range:u?[0,1]:void 0},e),tooltip:{showMarkers:u,showCrosshairs:u,shared:!0,crosshairs:{type:"x"}},interactions:u?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:DY(a,n.yAxis),geometryOptions:[PY(0,a[0],i[0]),PY(0,a[1],i[1])],annotations:DY(a,n.annotations)}})}function RY(t){var e,n,r=t.chart,i=t.options.geometryOptions,o={line:0,column:1};return[{type:null===(e=i[0])||void 0===e?void 0:e.geometry,id:CY},{type:null===(n=i[1])||void 0===n?void 0:n.geometry,id:EY}].sort((function(t,e){return-o[t.type]+o[e.type]})).forEach((function(t){return r.createView({id:t.id})})),t}function jY(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.geometryOptions,a=n.data,u=n.tooltip;return[(0,eE.pi)((0,eE.pi)({},o[0]),{id:CY,data:a[0],yField:i[0]}),(0,eE.pi)((0,eE.pi)({},o[1]),{id:EY,data:a[1],yField:i[1]})].forEach((function(t){var n=t.id,i=t.data,o=t.yField,a=TY(t)&&t.isPercent,s=a?fV(i,o,r,o):i,l=zU(e,n).data(s),c=a?(0,eE.pi)({formatter:function(e){return{name:e[t.seriesField]||o,value:(100*Number(e[o])).toFixed(2)+"%"}}},u):u;!function(t){var e=t.options,n=t.chart,r=e.geometryOption,i=r.isStack,o=r.color,a=r.seriesField,u=r.groupField,s=r.isGroup,l=["xField","yField"];if(AY(r)){$H(KU({},t,{options:(0,eE.pi)((0,eE.pi)((0,eE.pi)({},PU(e,l)),r),{line:{color:r.color,style:r.lineStyle}})})),XH(KU({},t,{options:(0,eE.pi)((0,eE.pi)((0,eE.pi)({},PU(e,l)),r),{point:r.point&&(0,eE.pi)({color:o,shape:"circle"},r.point)})}));var c=[];s&&c.push({type:"dodge",dodgeBy:u||a,customOffset:0}),i&&c.push({type:"stack"}),c.length&&(0,nE.S6)(n.geometries,(function(t){t.adjust(c)}))}TY(r)&&jV(KU({},t,{options:(0,eE.pi)((0,eE.pi)((0,eE.pi)({},PU(e,l)),r),{widthRatio:r.columnWidthRatio,interval:(0,eE.pi)((0,eE.pi)({},PU(r,["color"])),{style:r.columnStyle})})}))}({chart:l,options:{xField:r,yField:o,tooltip:c,geometryOption:t}})})),t}function BY(t){var e,n=t.chart,r=t.options.geometryOptions,i=(null===(e=n.getTheme())||void 0===e?void 0:e.colors10)||[],o=0;return n.once("beforepaint",(function(){(0,nE.S6)(r,(function(t,e){var r=zU(n,0===e?CY:EY);if(!t.color){var a=r.getGroupScales(),u=(0,nE.U2)(a,[0,"values","length"],1),s=i.slice(o,o+u).concat(0===e?[]:i);r.geometries.forEach((function(e){t.seriesField?e.color(t.seriesField,s):e.color(s[0])})),o+=u}})),n.render(!0)})),t}function zY(t){var e,n,r=t.chart,i=t.options,o=i.xAxis,a=i.yAxis,u=i.xField,s=i.yField;return zH(((e={})[u]=o,e[s[0]]=a[0],e))(KU({},t,{chart:zU(r,CY)})),zH(((n={})[u]=o,n[s[1]]=a[1],n))(KU({},t,{chart:zU(r,EY)})),t}function UY(t){var e=t.chart,n=t.options,r=zU(e,CY),i=zU(e,EY),o=n.xField,a=n.yField,u=n.xAxis,s=n.yAxis;return e.axis(o,!1),e.axis(a[0],!1),e.axis(a[1],!1),r.axis(o,u),r.axis(a[0],FY(s[0],SY.Left)),i.axis(o,!1),i.axis(a[1],FY(s[1],SY.Right)),t}function HY(t){var e=t.chart,n=t.options.tooltip,r=zU(e,CY),i=zU(e,EY);return e.tooltip(n),r.tooltip({shared:!0}),i.tooltip({shared:!0}),t}function VY(t){var e=t.chart;return NH(KU({},t,{chart:zU(e,CY)})),NH(KU({},t,{chart:zU(e,EY)})),t}function WY(t){var e=t.chart,n=t.options.annotations,r=(0,nE.U2)(n,[0]),i=(0,nE.U2)(n,[1]);return UH(r)(KU({},t,{chart:zU(e,CY),options:{annotations:r}})),UH(i)(KU({},t,{chart:zU(e,EY),options:{annotations:i}})),t}function YY(t){var e=t.chart;return LH(KU({},t,{chart:zU(e,CY)})),LH(KU({},t,{chart:zU(e,EY)})),LH(t),t}function qY(t){var e=t.chart;return IH(KU({},t,{chart:zU(e,CY)})),IH(KU({},t,{chart:zU(e,EY)})),t}function GY(t){var e=t.chart,n=t.options.yAxis;return HH(KU({},t,{chart:zU(e,CY),options:{yAxis:n[0]}})),HH(KU({},t,{chart:zU(e,EY),options:{yAxis:n[1]}})),t}function $Y(t){var e=t.chart,n=t.options,r=n.legend,i=n.geometryOptions,o=n.yField,a=n.data,u=zU(e,CY),s=zU(e,EY);if(!1===r)e.legend(!1);else if((0,nE.Kn)(r)&&!0===r.custom)e.legend(r);else{var l=(0,nE.U2)(i,[0,"legend"],r),c=(0,nE.U2)(i,[1,"legend"],r);e.once("beforepaint",(function(){var t=a[0].length?NY({view:u,geometryOption:i[0],yField:o[0],legend:l}):[],n=a[1].length?NY({view:s,geometryOption:i[1],yField:o[1],legend:c}):[];e.legend(KU({},r,{custom:!0,items:t.concat(n)}))})),i[0].seriesField&&u.legend(i[0].seriesField,l),i[1].seriesField&&s.legend(i[1].seriesField,c),e.on("legend-item:click",(function(t){var n=(0,nE.U2)(t,"gEvent.delegateObject",{});if(n&&n.item){var r=n.item,i=r.value,a=r.isGeometry,u=r.viewId;if(a){if((0,nE.cx)(o,(function(t){return t===i}))>-1){var s=(0,nE.U2)(zU(e,u),"geometries");(0,nE.S6)(s,(function(t){t.changeVisible(!n.item.unchecked)}))}}else{var l=(0,nE.U2)(e.getController("legend"),"option.items",[]);(0,nE.S6)(e.views,(function(t){var n=t.getGroupScales();(0,nE.S6)(n,(function(e){e.values&&e.values.indexOf(i)>-1&&t.filter(e.field,(function(t){return!(0,nE.sE)(l,(function(e){return e.value===t})).unchecked}))})),e.render(!0)}))}}}))}return t}function XY(t){var e=t.chart,n=t.options.slider,r=zU(e,CY),i=zU(e,EY);return n&&(r.option("slider",n),r.on("slider:valuechanged",(function(t){var e=t.event,n=e.value,r=e.originValue;(0,nE.Xy)(n,r)||IY(i,n)})),e.once("afterpaint",(function(){if(!(0,nE.jn)(n)){var t=n.start,e=n.end;(t||e)&&IY(i,[t,e])}}))),t}function KY(t){return TU(LY,RY,YY,jY,zY,UY,GY,HY,VY,WY,qY,BY,$Y,XY)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dual-axes",e}(0,eE.ZT)(e,t),e.prototype.getDefaultOptions=function(){return KU({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return KY}}(gH);var ZY="x",JY="y",QY={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+(0,nE.U2)(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},tq={appendPadding:2,tooltip:(0,eE.pi)({},QY),animation:{}};function eq(t){return(0,nE.UI)(t||[],(function(t,e){return{x:""+e,y:t}}))}function nq(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.areaStyle,a=n.point,u=n.line,s=null===a||void 0===a?void 0:a.state,l=eq(r);e.data(l);var c=KU({},t,{options:{xField:ZY,yField:JY,area:{color:i,style:o},line:u,point:a}}),f=KU({},c,{options:{tooltip:!1}}),d=KU({},c,{options:{tooltip:!1,state:s}});return GH(c),$H(f),XH(d),e.axis(!1),e.legend(!1),t}function rq(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=eq(r.data);return TU(zH(((e={}).x=i,e.y=o,e),((n={}).x={type:"cat"},n.y=rH(a,JY),n)))(t)}function iq(t){return TU(PH("areaStyle"),nq,rq,FH,LH,IH,UH())(t)}function oq(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.lineStyle,a=n.point,u=null===a||void 0===a?void 0:a.state,s=eq(r);e.data(s);var l=KU({},t,{options:{xField:ZY,yField:JY,line:{color:i,style:o},point:a}}),c=KU({},l,{options:{tooltip:!1,state:u}});return $H(l),XH(c),e.axis(!1),e.legend(!1),t}function aq(t){return TU(oq,rq,LH,FH,IH,UH())(t)}var uq=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return tq},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;rq({chart:e,options:this.options}),e.changeData(eq(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return aq},e}(gH);function sq(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.columnStyle,a=n.columnWidthRatio,u=eq(r);return e.data(u),KH(KU({},t,{options:{xField:ZY,yField:JY,widthRatio:a,interval:{style:o,color:i}}})),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function lq(t){return TU(LH,PH("columnStyle"),sq,rq,FH,IH,UH())(t)}var cq={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+(0,nE.U2)(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},fq={appendPadding:2,tooltip:(0,eE.pi)({},cq),animation:{}},dq=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return fq},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;rq({chart:e,options:this.options}),e.changeData(eq(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return lq},e}(gH),hq={appendPadding:2,tooltip:(0,eE.pi)({},QY),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},pq=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return hq},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;rq({chart:e,options:this.options}),e.changeData(eq(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return iq},e}(gH);function vq(t,e,n){if(1===n)return[0,e];var r=Math.floor(t/e);return[e*r,e*(r+1)]}function gq(t,e,n,r,i){var o=(0,nE.d9)(t);(0,nE.MR)(o,e);var a=(0,nE.I)(o,e),u=(0,nE.rx)(a),s=u.max-u.min,l=n;if(!n&&r&&(l=r>1?s/(r-1):u.max),!n&&!r){var c=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}(a);l=s/c}var f={},d=(0,nE.vM)(o,i);(0,nE.xb)(d)?(0,nE.S6)(o,(function(t){var n=vq(t[e],l,r),i=n[0]+"-"+n[1];(0,nE.wH)(f,i)||(f[i]={range:n,count:0}),f[i].count+=1})):Object.keys(d).forEach((function(t){(0,nE.S6)(d[t],(function(n){var o=vq(n[e],l,r),a=o[0]+"-"+o[1]+"-"+t;(0,nE.wH)(f,a)||(f[a]={range:o,count:0},f[a][i]=t),f[a].count+=1}))}));var h=[];return(0,nE.S6)(f,(function(t){h.push(t)})),h}var mq="range",yq="count",xq=KU({},gH.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function bq(t){var e=t.chart,n=t.options,r=n.data,i=n.binField,o=n.binNumber,a=n.binWidth,u=n.color,s=n.stackField,l=n.legend,c=n.columnStyle,f=gq(r,i,a,o,s);return e.data(f),KH(KU({},t,{options:{xField:mq,yField:yq,seriesField:s,isStack:!0,interval:{color:u,style:c}}})),l&&s&&e.legend(s,l),t}function wq(t){var e,n=t.options,r=n.xAxis,i=n.yAxis;return TU(zH(((e={}).range=r,e.count=i,e)))(t)}function Sq(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis;return!1===r?e.axis(mq,!1):e.axis(mq,r),!1===i?e.axis(yq,!1):e.axis(yq,i),t}function kq(t){var e=t.chart,n=t.options.label,r=RU(e,"interval");if(n){var i=n.callback,o=(0,eE._T)(n,["callback"]);r.label({fields:[yq],callback:i,cfg:VU(o)})}else r.label(!1);return t}function Cq(t){return TU(LH,PH("columnStyle"),bq,wq,Sq,RH,kq,FH,NH,IH)(t)}var Eq=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return xq},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,r=e.binNumber,i=e.binWidth,o=e.stackField;this.chart.changeData(gq(t,n,i,r,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Cq},e}(gH),Oq=["#FAAD14","#E8EDF3"],Mq={percent:.2,color:Oq,animation:{}};function _q(t){var e=(0,nE.uZ)(nH(t)?t:0,0,1);return[{type:"current",percent:e},{type:"target",percent:1-e}]}function Aq(t){var e=t.chart,n=t.options,r=n.percent,i=n.progressStyle,o=n.color,a=n.barWidthRatio;return e.data(_q(r)),KH(KU({},t,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:a,interval:{style:i,color:(0,nE.HD)(o)?[o,Oq[1]]:o},args:{zIndexReversed:!0,sortZIndex:!0}}})),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function Tq(t){return t.chart.coordinate("rect").transpose(),t}function Pq(t){return TU(Aq,zH({}),Tq,IH,LH,UH())(t)}var Dq=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return Mq},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(_q(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Pq},e}(gH);function Fq(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius;return e.coordinate("theta",{innerRadius:r,radius:i}),t}function Nq(t,e){var n=t.chart,r=t.options,i=r.innerRadius,o=r.statistic,a=r.percent,u=r.meta;if(n.getController("annotation").clear(!0),i&&o){var s=(0,nE.U2)(u,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},l=o.content;l&&(l=KU({},l,{content:(0,nE.UM)(l.content)?s(a):l.content})),eH(n,{statistic:(0,eE.pi)((0,eE.pi)({},o),{content:l}),plotType:"ring-progress"},{percent:a})}return e&&n.render(!0),t}function Iq(t){return TU(Aq,zH({}),Fq,Nq,IH,LH,UH())(t)}var Lq={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},Rq=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return Lq},e.prototype.changeData=function(t){this.chart.emit(rE.BEFORE_CHANGE_DATA,cF.fromData(this.chart,rE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(_q(t)),Nq({chart:this.chart,options:this.options},!0),this.chart.emit(rE.AFTER_CHANGE_DATA,cF.fromData(this.chart,rE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Iq},e}(gH);function jq(t){var e=t.chart,n=t.options,r=n.data,i=n.type,o=n.xField,a=n.yField,u=n.colorField,s=n.sizeField,l=n.sizeRatio,c=n.shape,f=n.color,d=n.tooltip,h=n.heatmapStyle;e.data(r);var p="polygon";"density"===i&&(p="heatmap");var v=VH(d,[o,a,u]),g=v.fields,m=v.formatter,y=1;return(l||0===l)&&(c||s?l<0||l>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):y=l:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),qH(KU({},t,{options:{type:p,colorField:u,tooltipFields:g,shapeField:s||"",label:void 0,mapping:{tooltip:m,shape:c&&(s?function(t){var e=r.map((function(t){return t[s]})),n=Math.min.apply(Math,e),i=Math.max.apply(Math,e);return[c,((0,nE.U2)(t,s)-n)/(i-n),y]}:function(){return[c,1,y]}),color:f||u&&e.getTheme().sequenceColors.join("-"),style:h}}})),t}function Bq(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return TU(zH(((e={})[o]=r,e[a]=i,e)))(t)}function zq(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function Uq(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.sizeField,a=n.sizeLegend,u=!1!==r;return i&&e.legend(i,!!u&&r),o&&e.legend(o,void 0===a?r:a),u||a||e.legend(!1),t}function Hq(t){var e=t.chart,n=t.options,r=n.label,i=n.colorField,o=RU(e,"density"===n.type?"heatmap":"polygon");if(r){if(i){var a=r.callback,u=(0,eE._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:VU(u)})}}else o.label(!1);return t}function Vq(t){var e=t.chart,n=t.options,r=n.coordinate,i=n.reflect;return r&&e.coordinate({type:r.type||"rect",cfg:r.cfg}),i&&e.coordinate().reflect(i),t}function Wq(t){return TU(LH,PH("heatmapStyle"),Bq,Vq,jq,zq,Uq,FH,Hq,UH(),NH,IH,RH)(t)}var Yq=KU({},gH.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});HF("polygon","circle",{draw:function(t,e){var n,r,i=t.x,o=t.y,a=this.parsePoints(t.points),u=Math.abs(a[2].x-a[1].x),s=Math.abs(a[1].y-a[0].y),l=Math.min(u,s)/2,c=Number(t.shape[1]),f=Number(t.shape[2]),d=l*Math.sqrt(f)*Math.sqrt(c),h=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(r=t.defaultStyle)||void 0===r?void 0:r.fill);return e.addShape("circle",{attrs:(0,eE.pi)((0,eE.pi)((0,eE.pi)({x:i,y:o,r:d},t.defaultStyle),t.style),{fill:h})})}}),HF("polygon","square",{draw:function(t,e){var n,r,i=t.x,o=t.y,a=this.parsePoints(t.points),u=Math.abs(a[2].x-a[1].x),s=Math.abs(a[1].y-a[0].y),l=Math.min(u,s),c=Number(t.shape[1]),f=Number(t.shape[2]),d=l*Math.sqrt(f)*Math.sqrt(c),h=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(r=t.defaultStyle)||void 0===r?void 0:r.fill);return e.addShape("rect",{attrs:(0,eE.pi)((0,eE.pi)((0,eE.pi)({x:i-d/2,y:o-d/2,width:d,height:d},t.defaultStyle),t.style),{fill:h})})}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return Yq},e.prototype.getSchemaAdaptor=function(){return Wq},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(gH);var qq,Gq="$$range$$",$q="outliers_view",Xq=KU({},gH.getDefaultOptions(),{meta:(qq={},qq.$$range$$={min:0,alias:"low-q1-median-q3-high"},qq),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),Kq=function(t,e){var n=t;if(Array.isArray(e)){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4];n=(0,nE.UI)(t,(function(t){return t.$$range$$=[t[r],t[i],t[o],t[a],t[u]],t}))}return n};function Zq(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.groupField,a=n.color,u=n.tooltip,s=n.boxStyle;e.data(Kq(n.data,i));var l=(0,nE.kJ)(i)?Gq:i,c=i?(0,nE.kJ)(i)?i:[i]:[],f=u;!1!==f&&(f=KU({},{fields:(0,nE.kJ)(i)?i:[]},f));var d=QH(KU({},t,{options:{xField:r,yField:l,seriesField:o,tooltip:f,rawFields:c,label:!1,schema:{shape:"box",color:a,style:s}}})).ext;return o&&d.geometry.adjust("dodge"),t}function Jq(t){var e=t.chart,n=t.options,r=n.xField,i=n.data,o=n.outliersField,a=n.outliersStyle,u=n.padding,s=n.label;if(!o)return t;var l=e.createView({padding:u,id:$q}),c=i.reduce((function(t,e){return e[o].forEach((function(n){var r;return t.push((0,eE.pi)((0,eE.pi)({},e),((r={})[o]=n,r)))})),t}),[]);return l.data(c),XH({chart:l,options:{xField:r,yField:o,point:{shape:"circle",style:a},label:s}}),l.axis(!1),t}function Qq(t){var e,n,r=t.chart,i=t.options,o=i.meta,a=i.xAxis,u=i.yAxis,s=i.xField,l=i.yField,c=i.outliersField,f=Array.isArray(l)?Gq:l,d={};if(c){var h="$$y_outliers$$";(e={})[c]={sync:h,nice:!0},e[f]={sync:h,nice:!0},d=e}var p=KU(d,o,((n={})[s]=PU(a,mH),n[f]=PU(u,mH),n));return r.scale(p),t}function tG(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,u=Array.isArray(a)?Gq:a;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(Gq,!1):e.axis(u,i),t}function eG(t){var e=t.chart,n=t.options,r=n.legend,i=n.groupField;return i?r?e.legend(i,r):e.legend(i,{position:"bottom"}):e.legend(!1),t}function nG(t){return TU(Zq,Jq,Qq,tG,eG,FH,NH,IH,LH)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="box",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return Xq},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField,n=this.chart.views.find((function(t){return t.id===$q}));n&&n.data(t),this.chart.changeData(Kq(t,e))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return nG}}(gH);var rG=n(1024),iG=n.n(rG);function oG(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function aG(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function uG(t,e,n,r){for(n=n||0,r=r||t.length-1;r>n;){if(r-n>600){var i=r-n+1,o=e-n+1,a=Math.log(i),u=.5*Math.exp(2*a/3),s=.5*Math.sqrt(a*u*(i-u)/i);o-i/2<0&&(s*=-1),uG(t,e,Math.max(n,Math.floor(e-o*u/i+s)),Math.min(r,Math.floor(e+(i-o)*u/i+s)))}var l=t[e],c=n,f=r;for(aG(t,n,e),t[r]>l&&aG(t,n,r);c<f;){for(aG(t,c,f),c++,f--;t[c]<l;)c++;for(;t[f]>l;)f--}t[n]===l?aG(t,n,f):aG(t,++f,r),f<=e&&(n=f+1),e<=f&&(r=f-1)}}function sG(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(fG(t.length,e[r]));n.push(t.length-1),n.sort(cG);var i=[0,n.length-1];for(;i.length;){var o=Math.ceil(i.pop()),a=Math.floor(i.pop());if(!(o-a<=1)){var u=Math.floor((a+o)/2);lG(t,n[u],Math.floor(n[a]),Math.ceil(n[o])),i.push(a,u,u,o)}}}(n,e);for(var r=[],i=0;i<e.length;i++)r[i]=oG(n,e[i]);return r}return lG(n,fG(n.length,e),0,n.length-1),oG(n,e)}function lG(t,e,n,r){e%1===0?uG(t,e,n,r):(uG(t,e=Math.floor(e),n,r),uG(t,e+1,e+1,r))}function cG(t,e){return t-e}function fG(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!==0?Math.ceil(n)-1:t%2===0?n-.5:n}var dG=function(t){return{low:(0,nE.VV)(t),high:(0,nE.Fp)(t),q1:sG(t,.25),q3:sG(t,.75),median:sG(t,[.5]),minMax:[(0,nE.VV)(t),(0,nE.Fp)(t)],quantile:[sG(t,.25),sG(t,.75)]}},hG=function(t,e){var n=iG().create(t,e);return{violinSize:n.map((function(t){return t.y})),violinY:n.map((function(t){return t.x}))}},pG=function(t){var e=t.xField,n=t.yField,r=t.seriesField,i=t.data,o=t.kde,a={min:o.min,max:o.max,size:o.sampleSize,width:o.width};if(!r){var u=(0,nE.vM)(i,e);return Object.keys(u).map((function(t){var e=u[t].map((function(t){return t[n]}));return(0,eE.pi)((0,eE.pi)({x:t},hG(e,a)),dG(e))}))}var s=[],l=(0,nE.vM)(i,r);return Object.keys(l).forEach((function(t){var i=(0,nE.vM)(l[t],e);return Object.keys(i).forEach((function(e){var o,u=i[e].map((function(t){return t[n]}));s.push((0,eE.pi)((0,eE.pi)(((o={x:e})[r]=t,o),hG(u,a)),dG(u)))}))})),s},vG="x",gG="violinY",mG="minMax",yG="quantile",xG="median",bG="violin_view",wG=KU({},gH.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),SG=["low","high","q1","q3","median"],kG=[{type:"dodge",marginRatio:1/32}];function CG(t){var e=t.chart,n=t.options;return e.data(pG(n)),t}function EG(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,o=n.shape,a=void 0===o?"violin":o,u=n.violinStyle,s=n.tooltip,l=n.state,c=e.createView({id:bG});return function(t){var e=t.options,n=e.violin,r=e.xField,i=e.yField,o=e.seriesField,a=e.sizeField,u=VH(e.tooltip,[r,i,o,a]),s=u.fields,l=u.formatter;n&&qH(KU({},t,{options:{type:"violin",colorField:o,tooltipFields:s,mapping:(0,eE.pi)({tooltip:l},n)}}))}({chart:c,options:{xField:vG,yField:gG,seriesField:r||vG,sizeField:"violinSize",tooltip:(0,eE.pi)({fields:SG},s),violin:{style:u,color:i,shape:a},state:l}}),c.geometries[0].adjust(kG),t}function OG(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,o=n.tooltip,a=n.box;if(!1===a)return t;var u=e.createView({id:"min_max_view"});KH({chart:u,options:{xField:vG,yField:mG,seriesField:r||vG,tooltip:(0,eE.pi)({fields:SG},o),state:"object"===typeof a?a.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),u.geometries[0].adjust(kG);var s=e.createView({id:"quantile_view"});KH({chart:s,options:{xField:vG,yField:yG,seriesField:r||vG,tooltip:(0,eE.pi)({fields:SG},o),state:"object"===typeof a?a.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),s.geometries[0].adjust(kG);var l=e.createView({id:"median_view"});return XH({chart:l,options:{xField:vG,yField:xG,seriesField:r||vG,tooltip:(0,eE.pi)({fields:SG},o),state:"object"===typeof a?a.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),l.geometries[0].adjust(kG),s.axis(!1),u.axis(!1),l.axis(!1),l.legend(!1),u.legend(!1),s.legend(!1),t}function MG(t){var e,n=t.chart,r=t.options,i=r.meta,o=r.xAxis,a=r.yAxis,u=KU({},i,((e={}).x=(0,eE.pi)((0,eE.pi)({sync:!0},PU(o,mH)),{type:"cat"}),e.violinY=(0,eE.pi)({sync:!0},PU(a,mH)),e.minMax=(0,eE.pi)({sync:gG},PU(a,mH)),e.quantile=(0,eE.pi)({sync:gG},PU(a,mH)),e.median=(0,eE.pi)({sync:gG},PU(a,mH)),e));return n.scale(u),t}function _G(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=zU(e,bG);return!1===r?o.axis(vG,!1):o.axis(vG,r),!1===i?o.axis(gG,!1):o.axis(gG,i),e.axis(!1),t}function AG(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField,o=n.shape;if(!1===r)e.legend(!1);else{var a=i||vG,u=(0,nE.CE)(r,["selected"]);o&&o.startsWith("hollow")||(0,nE.U2)(u,["marker","style","lineWidth"])||(0,nE.t8)(u,["marker","style","lineWidth"],0),e.legend(a,u),(0,nE.U2)(r,"selected")&&(0,nE.S6)(e.views,(function(t){return t.legend(a,r)}))}return t}function TG(t){var e=zU(t.chart,bG);return UH()((0,eE.pi)((0,eE.pi)({},t),{chart:e})),t}function PG(t){var e=t.chart,n=t.options.animation;return(0,nE.S6)(e.views,(function(t){"boolean"===typeof n?t.animate(n):t.animate(!0),(0,nE.S6)(t.geometries,(function(t){t.animate(n)}))})),t}function DG(t){return TU(LH,CG,EG,OG,MG,FH,_G,AG,NH,TG,PG)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return wG},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(pG(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return DG}}(gH);var FG={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return t>e?e:t},lighten:function(t,e){return t>e?t:e},dodge:function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t},burn:function(t,e){return 255===e?255:0===t?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}};function NG(t,e,n){void 0===n&&(n="normal");var r,i=(r=function(t){if(!FG[t])throw new Error("unknown blend mode "+t);return FG[t]}(n),function(t,e){var n=[];return n[0]=r(t[0],e[0]),n[1]=r(t[1],e[1]),n[2]=r(t[2],e[2]),n})(IG(t),IG(e)),o=IG(t),a=o[0],u=o[1],s=o[2],l=o[3],c=IG(e),f=c[0],d=c[1],h=c[2],p=c[3],v=Number((l+p*(1-l)).toFixed(2));return"rgba("+Math.round((l*(1-p)*(a/255)+l*p*(i[0]/255)+(1-l)*p*(f/255))/v*255)+", "+Math.round((l*(1-p)*(u/255)+l*p*(i[1]/255)+(1-l)*p*(d/255))/v*255)+", "+Math.round((l*(1-p)*(s/255)+l*p*(i[2]/255)+(1-l)*p*(h/255))/v*255)+", "+v+")"}function IG(t){var e,n=t.replace("/s+/g","");return"string"!==typeof n||n.startsWith("rgba")||n.startsWith("#")?(n.startsWith("rgba")&&(e=n.replace("rgba(","").replace(")","").split(",")),n.startsWith("#")&&(e=iO.rgb2arr(n).concat([1])),e.map((function(t,e){return 3===e?Number(t):0|t}))):iO.rgb2arr(iO.toRGB(n)).concat([1])}var LG=n(9698),RG=1e-10;function jG(t,e){var n,r=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=HG(t[n],t[r]),o=0;o<i.length;++o){var a=i[o];a.parentIndex=[n,r],e.push(a)}return e}(t),i=r.filter((function(e){return function(t,e){for(var n=0;n<e.length;++n)if(zG(t,e[n])>e[n].radius+RG)return!1;return!0}(e,t)})),o=0,a=0,u=[];if(i.length>1){var s=VG(i);for(n=0;n<i.length;++n){var l=i[n];l.angle=Math.atan2(l.x-s.x,l.y-s.y)}i.sort((function(t,e){return e.angle-t.angle}));var c=i[i.length-1];for(n=0;n<i.length;++n){var f=i[n];a+=(c.x+f.x)*(f.y-c.y);for(var d={x:(f.x+c.x)/2,y:(f.y+c.y)/2},h=null,p=0;p<f.parentIndex.length;++p)if(c.parentIndex.indexOf(f.parentIndex[p])>-1){var v=t[f.parentIndex[p]],g=Math.atan2(f.x-v.x,f.y-v.y),m=Math.atan2(c.x-v.x,c.y-v.y),y=m-g;y<0&&(y+=2*Math.PI);var x=m-y/2,b=zG(d,{x:v.x+v.radius*Math.sin(x),y:v.y+v.radius*Math.cos(x)});b>2*v.radius&&(b=2*v.radius),(null===h||h.width>b)&&(h={circle:v,width:b,p1:f,p2:c})}null!==h&&(u.push(h),o+=BG(h.circle.radius,h.width),c=f)}}else{var w=t[0];for(n=1;n<t.length;++n)t[n].radius<w.radius&&(w=t[n]);var S=!1;for(n=0;n<t.length;++n)if(zG(t[n],w)>Math.abs(w.radius-t[n].radius)){S=!0;break}S?o=a=0:(o=w.radius*w.radius*Math.PI,u.push({circle:w,p1:{x:w.x,y:w.y+w.radius},p2:{x:w.x-RG,y:w.y+w.radius},width:2*w.radius}))}return a/=2,e&&(e.area=o+a,e.arcArea=o,e.polygonArea=a,e.arcs=u,e.innerPoints=i,e.intersectionPoints=r),o+a}function BG(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function zG(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function UG(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=e-(n*n-t*t+e*e)/(2*n);return BG(t,t-(n*n-e*e+t*t)/(2*n))+BG(e,r)}function HG(t,e){var n=zG(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];var o=(r*r-i*i+n*n)/(2*n),a=Math.sqrt(r*r-o*o),u=t.x+o*(e.x-t.x)/n,s=t.y+o*(e.y-t.y)/n,l=-(e.y-t.y)*(a/n),c=-(e.x-t.x)*(a/n);return[{x:u+l,y:s-c},{x:u-l,y:s+c}]}function VG(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}var WG=1e-10;function YG(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+1e-10?Math.abs(t-e):(0,LG.bisect)((function(r){return UG(t,e,r)-n}),0,t+e)}function qG(t,e){var n=function(t,e){for(var n,r=e&&e.lossFunction?e.lossFunction:GG,i={},o={},a=0;a<t.length;++a){var u=t[a];1==u.sets.length&&(n=u.sets[0],i[n]={x:1e10,y:1e10,rowid:Object.keys(i).length,size:u.size,radius:Math.sqrt(u.size/Math.PI)},o[n]=[])}t=t.filter((function(t){return 2==t.sets.length}));for(a=0;a<t.length;++a){var s=t[a],l=s.hasOwnProperty("weight")?s.weight:1,c=s.sets[0],f=s.sets[1];s.size+WG>=Math.min(i[c].size,i[f].size)&&(l=0),o[c].push({set:f,size:s.size,weight:l}),o[f].push({set:c,size:s.size,weight:l})}var d=[];for(n in o)if(o.hasOwnProperty(n)){var h=0;for(a=0;a<o[n].length;++a)h+=o[n][a].size*o[n][a].weight;d.push({set:n,size:h})}function p(t,e){return e.size-t.size}d.sort(p);var v={};function g(t){return t.set in v}function m(t,e){i[e].x=t.x,i[e].y=t.y,v[e]=!0}m({x:0,y:0},d[0].set);for(a=1;a<d.length;++a){var y=d[a].set,x=o[y].filter(g);if(n=i[y],x.sort(p),0===x.length)throw"ERROR: missing pairwise overlap information";for(var b=[],w=0;w<x.length;++w){var S=i[x[w].set],k=YG(n.radius,S.radius,x[w].size);b.push({x:S.x+k,y:S.y}),b.push({x:S.x-k,y:S.y}),b.push({y:S.y+k,x:S.x}),b.push({y:S.y-k,x:S.x});for(var C=w+1;C<x.length;++C)for(var E=i[x[C].set],O=YG(n.radius,E.radius,x[C].size),M=HG({x:S.x,y:S.y,radius:k},{x:E.x,y:E.y,radius:O}),_=0;_<M.length;++_)b.push(M[_])}var A=1e50,T=b[0];for(w=0;w<b.length;++w){i[y].x=b[w].x,i[y].y=b[w].y;var P=r(i,t);P<A&&(A=P,T=b[w])}m(T,y)}return i}(t,e),r=e.lossFunction||GG;if(t.length>=8){var i=function(t,e){var n,r=(e=e||{}).restarts||10,i=[],o={};for(n=0;n<t.length;++n){var a=t[n];1==a.sets.length&&(o[a.sets[0]]=i.length,i.push(a))}var u=function(t,e,n){var r=(0,LG.zerosM)(e.length,e.length),i=(0,LG.zerosM)(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var o=n[t.sets[0]],a=n[t.sets[1]],u=YG(Math.sqrt(e[o].size/Math.PI),Math.sqrt(e[a].size/Math.PI),t.size);r[o][a]=r[a][o]=u;var s=0;t.size+1e-10>=Math.min(e[o].size,e[a].size)?s=1:t.size<=1e-10&&(s=-1),i[o][a]=i[a][o]=s})),{distances:r,constraints:i}}(t,i,o),s=u.distances,l=u.constraints,c=(0,LG.norm2)(s.map(LG.norm2))/s.length;s=s.map((function(t){return t.map((function(t){return t/c}))}));var f,d,h=function(t,e){return function(t,e,n,r){var i,o=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var a=t[2*i],u=t[2*i+1],s=i+1;s<n.length;++s){var l=t[2*s],c=t[2*s+1],f=n[i][s],d=r[i][s],h=(l-a)*(l-a)+(c-u)*(c-u),p=Math.sqrt(h),v=h-f*f;d>0&&p<=f||d<0&&p>=f||(o+=2*v*v,e[2*i]+=4*v*(a-l),e[2*i+1]+=4*v*(u-c),e[2*s]+=4*v*(l-a),e[2*s+1]+=4*v*(c-u))}return o}(t,e,s,l)};for(n=0;n<r;++n){var p=(0,LG.zeros)(2*s.length).map(Math.random);d=(0,LG.conjugateGradient)(h,p,e),(!f||d.fx<f.fx)&&(f=d)}var v=f.x,g={};for(n=0;n<i.length;++n){var m=i[n];g[m.sets[0]]={x:v[2*n]*c,y:v[2*n+1]*c,radius:Math.sqrt(m.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)(0,LG.scale)(e.history[n].x,c);return g}(t,e);r(i,t)+1e-8<r(n,t)&&(n=i)}return n}function GG(t,e){var n=0;for(var r=0;r<e.length;++r){var i=e[r],o=void 0;if(1!=i.sets.length){if(2==i.sets.length){var a=t[i.sets[0]],u=t[i.sets[1]];o=UG(a.radius,u.radius,zG(a,u))}else o=jG(i.sets.map((function(e){return t[e]})));n+=(i.hasOwnProperty("weight")?i.weight:1)*(o-i.size)*(o-i.size)}}return n}function $G(t){var e=function(e){return{max:Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),min:Math.min.apply(null,t.map((function(t){return t[e]-t.radius})))}};return{xRange:e("x"),yRange:e("y")}}function XG(t,e,n){var r,i,o=e[0].radius-zG(e[0],t);for(r=1;r<e.length;++r)(i=e[r].radius-zG(e[r],t))<=o&&(o=i);for(r=0;r<n.length;++r)(i=zG(n[r],t)-n[r].radius)<=o&&(o=i);return o}function KG(t,e){var n,r=[];for(n=0;n<t.length;++n){var i=t[n];r.push({x:i.x,y:i.y}),r.push({x:i.x+i.radius/2,y:i.y}),r.push({x:i.x-i.radius/2,y:i.y}),r.push({x:i.x,y:i.y+i.radius/2}),r.push({x:i.x,y:i.y-i.radius/2})}var o=r[0],a=XG(r[0],t,e);for(n=1;n<r.length;++n){var u=XG(r[n],t,e);u>=a&&(o=r[n],a=u)}var s=(0,LG.nelderMead)((function(n){return-1*XG({x:n[0],y:n[1]},t,e)}),[o.x,o.y],{maxIterations:500,minErrorDelta:1e-10}).x,l={x:s[0],y:s[1]},c=!0;for(n=0;n<t.length;++n)if(zG(l,t[n])>t[n].radius){c=!1;break}for(n=0;n<e.length;++n)if(zG(l,e[n])<e[n].radius){c=!1;break}if(!c)if(1==t.length)l={x:t[0].x,y:t[0].y};else{var f={};jG(t,f),l=0===f.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==f.arcs.length?{x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}:e.length?KG(t,[]):VG(f.arcs.map((function(t){return t.p1})))}return l}function ZG(t,e){for(var n={},r=function(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var i=0;i<n.length;i++)for(var o=t[n[i]],a=i+1;a<n.length;++a){var u=t[n[a]],s=zG(o,u);s+u.radius<=o.radius+1e-10?e[n[a]].push(n[i]):s+o.radius<=u.radius+1e-10&&e[n[i]].push(n[a])}return e}(t),i=0;i<e.length;++i){for(var o=e[i].sets,a={},u={},s=0;s<o.length;++s){a[o[s]]=!0;for(var l=r[o[s]],c=0;c<l.length;++c)u[l[c]]=!0}var f=[],d=[];for(var h in t)h in a?f.push(t[h]):h in u||d.push(t[h]);var p=KG(f,d);n[o]=p,p.disjoint&&e[i].size>0&&console.log("WARNING: area "+o+" not represented on screen")}return n}var JG="id",QG={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]},t$=(0,nE.HP)((function(t,e,n,r){var i=new Map,o=t.length;return e.forEach((function(e,a){if(1===e[r].length)i.set(e.id,t[(a+o)%o]);else{var u=e[r].map((function(t){return i.get(t)}));i.set(e.id,u.slice(1).reduce((function(t,e){return NG(t,e,n)}),u[0]))}})),i}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)}));function e$(t,e,n,r){void 0===r&&(r=0);var i=t.data,o=t.setsField,a=t.sizeField;if(0===i.length)return IU(EU.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),[];var u=i.map((function(t){var e;return(0,eE.pi)((0,eE.pi)({},t),((e={sets:t[o]||[],size:t[a]}).path="",e.id="",e))}));u.sort((function(t,e){return t.sets.length-e.sets.length}));var s=function(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n=e.initialLayout||qG,r=e.lossFunction||GG;t=function(t){t=t.slice();var e,n,r,i,o=[],a={};for(e=0;e<t.length;++e){var u=t[e];1==u.sets.length?o.push(u.sets[0]):2==u.sets.length&&(a[[r=u.sets[0],i=u.sets[1]]]=!0,a[[i,r]]=!0)}for(o.sort((function(t,e){return t>e?1:-1})),e=0;e<o.length;++e)for(r=o[e],n=e+1;n<o.length;++n)[r,i=o[n]]in a||t.push({sets:[r,i],size:0});return t}(t);var i,o=n(t,e),a=[],u=[];for(i in o)o.hasOwnProperty(i)&&(a.push(o[i].x),a.push(o[i].y),u.push(i));for(var s=(0,LG.nelderMead)((function(e){for(var n={},i=0;i<u.length;++i){var a=u[i];n[a]={x:e[2*i],y:e[2*i+1],radius:o[a].radius}}return r(n,t)}),a,e),l=s.x,c=0;c<u.length;++c)i=u[c],o[i].x=l[2*c],o[i].y=l[2*c+1];return o}(u),l=function(t,e,n,r){var i=[],o=[];for(var a in t)t.hasOwnProperty(a)&&(o.push(a),i.push(t[a]));e-=2*r,n-=2*r;var u=$G(i),s=u.xRange,l=u.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),t;for(var c=e/(s.max-s.min),f=n/(l.max-l.min),d=Math.min(f,c),h=(e-(s.max-s.min)*d)/2,p=(n-(l.max-l.min)*d)/2,v={},g=0;g<i.length;++g){var m=i[g];v[o[g]]={radius:d*m.radius,x:r+h+(m.x-s.min)*d,y:r+p+(m.y-l.min)*d}}return v}(s,e,n,r),c=ZG(l,u);return u.forEach((function(t){var e=t.sets,n=e.join(",");t.id=n;var r=e.map((function(t){return l[t]})),i=function(t){var e={};jG(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var r=n[0].circle;return function(t,e,n){var r=[],i=t-n,o=e;return r.push("M",i,o),r.push("A",n,n,0,1,0,i+2*n,o),r.push("A",n,n,0,1,0,i,o),r.join(" ")}(r.x,r.y,r.radius)}for(var i=["\nM",n[0].p2.x,n[0].p2.y],o=0;o<n.length;++o){var a=n[o],u=a.circle.radius,s=a.width>u;i.push("\nA",u,u,0,s?1:0,1,a.p1.x,a.p1.y)}return i.join(" ")}(r);/[zZ]$/.test(i)||(i+=" Z"),t.path=i;var o=c[n]||{x:0,y:0};(0,nE.f0)(t,o)})),u}HF("schema","venn",{draw:function(t,e){var n=t.data,r=(0,IT.tr)(n.path),i=function(t){return KU({},t.defaultStyle,{fill:t.color},t.style)}(t),o=e.addGroup({name:"venn-shape"});o.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},i),{path:r}),name:"venn-path"});var a=t.customInfo,u=a.offsetX,s=a.offsetY,l=ON.transform(null,[["t",u,s]]);return o.setMatrix(l),o},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var n$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getLabelPoint=function(t,e,n){var r=t.data,i=r.x,o=r.y,a=t.customLabelInfo,u=a.offsetX,s=a.offsetY;return{content:t.content[n],x:i+u,y:o+s}},e}(aN);function r$(t){t&&t.geometries[0].elements.forEach((function(t){t.shape.toFront()}))}LF("venn",n$);var i$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.syncElementsPos=function(){r$(this.context.view)},e.prototype.active=function(){t.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(VP("element-active")),o$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.syncElementsPos=function(){r$(this.context.view)},e.prototype.highlight=function(){t.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){t.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(VP("element-highlight")),a$=VP("element-selected"),u$=VP("element-single-selected"),s$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.syncElementsPos=function(){r$(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(a$),l$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.syncElementsPos=function(){r$(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(u$);WP("venn-element-active",i$),WP("venn-element-highlight",o$),WP("venn-element-selected",s$),WP("venn-element-single-selected",l$),DD("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),DD("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),DD("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),DD("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),DD("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),DD("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});function c$(t,e,n){var r=t.chart,i=t.options,o=i.blendMode,a=i.setsField,u=r.getTheme(),s=u.colors10,l=u.colors20,c=n;(0,nE.kJ)(c)||(c=e.filter((function(t){return 1===t[a].length})).length<=10?s:l);var f=t$(c,e,o,a);return function(t){return f.get(t)||c[0]}}function f$(t){var e=t.chart,n=t.options,r=n.legend,i=n.appendPadding,o=n.padding,a=aH(i);return!1!==r&&(a=uH(i,(0,nE.U2)(r,"position"),40)),e.appendPadding=sH([a,o]),t}function d$(t){var e=t.options.data;e||(IU(EU.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),e=[]);var n=e.filter((function(t){return 1===t.sets.length})).map((function(t){return t.sets[0]})),r=e.filter((function(t){var e=t.sets;return function(t,e){for(var n=0;n<e.length;n++)if(!t.includes(e[n]))return!1;return!0}(n,e)}));return(0,nE.Xy)(r,e)||IU(EU.WARN,!1,"warn: %s","\u4ea4\u96c6\u4e2d\u4e0d\u80fd\u51fa\u73b0\u4e0d\u5b58\u5728\u7684\u96c6\u5408, \u8bf7\u8f93\u5165\u5408\u6cd5\u6570\u636e"),(0,nE.b$)({},t,{options:{data:r}})}function h$(t){var e=t.chart,n=t.options,r=n.pointStyle,i=n.setsField,o=n.sizeField,a=aH(e.appendPadding),u=a[0],s=a[1],l=a[2],c=a[3],f={offsetX:c,offsetY:u},d=e.viewBBox,h=d.width,p=d.height,v=e$(n,Math.max(h-(s+c),0),Math.max(p-(u+l),0),0);e.data(v);var g=QH(KU({},t,{options:{xField:"x",yField:"y",sizeField:o,seriesField:JG,rawFields:[i,o],schema:{shape:"venn",style:r}}})).ext.geometry;g.customInfo(f);var m=function(t,e){var n=t.options.color;if("function"!==typeof n){var r=c$(t,e,"string"===typeof n?[n]:n);return function(t){return r(t.id)}}return n}(t,v);return"function"===typeof m&&g.color(JG,(function(e){var n=v.find((function(t){return t.id===e})),r=c$(t,v)(e);return m(n,r)})),t}function p$(t){var e=t.chart,n=t.options.label,r=aH(e.appendPadding),i=r[0],o={offsetX:r[3],offsetY:i},a=RU(e,"schema");if(n){var u=n.callback,s=(0,eE._T)(n,["callback"]);a.label({fields:["id"],callback:u,cfg:(0,nE.b$)({},VU(s),{type:"venn",customLabelInfo:o})})}else a.label(!1);return t}function v$(t){var e=t.chart,n=t.options,r=n.legend,i=n.sizeField;return e.legend(JG,r),e.legend(i,!1),t}function g$(t){return t.chart.axis(!1),t}function m$(t){var e=t.options,n=t.chart,r=e.interactions;if(r){var i={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};NH(KU({},t,{options:{interactions:r.map((function(t){return(0,eE.pi)((0,eE.pi)({},t),{type:i[t.type]||t.type})}))}}))}return n.removeInteraction("legend-active"),n.removeInteraction("legend-highlight"),t}function y$(t){return TU(f$,LH,d$,h$,p$,zH({}),v$,g$,FH,m$,IH)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="venn",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return QG},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return y$},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(gH);var x$="$$stock-range$$",b$="trend",w$="down",S$=KU({},gH.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var r;if("x"===t){var i=n[0];r=i?i.title:e}else r=e;return{position:"y"===t?"start":"end",content:r,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function k$(t,e){return(0,nE.UI)(t,(function(t){if((0,nE.kJ)(e)){var n=e[0],r=e[1],i=e[2],o=e[3];t.trend=t[n]<=t[r]?"up":w$,t[x$]=[t[n],t[r],t[i],t[o]]}return t}))}function C$(t){var e=t.chart,n=t.options,r=n.yField,i=n.data,o=n.risingFill,a=n.fallingFill,u=n.tooltip,s=n.stockStyle;e.data(k$(i,r));var l=u;return!1!==l&&(l=KU({},{fields:r},l)),QH(KU({},t,{options:{schema:{shape:"candle",color:[o,a],style:s},yField:x$,seriesField:b$,rawFields:r,tooltip:l}})),t}function E$(t){var e,n,r=t.chart,i=t.options,o=i.meta,a=i.xAxis,u=i.yAxis,s=i.xField,l=((e={})[s]={type:"timeCat",tickCount:6},e.trend={values:["up",w$]},e),c=KU(l,o,((n={})[s]=PU(a,mH),n[x$]=PU(u,mH),n));return r.scale(c),t}function O$(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(x$,!1):e.axis(x$,i),t}function M$(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t}function _$(t){var e=t.chart,n=t.options.legend;return n?e.legend(b$,n):!1===n&&e.legend(!1),t}function A$(t){TU(LH,C$,E$,O$,M$,_$,NH,IH,UH(),jH)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stock",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return S$},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return A$},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData(k$(t,e))}}(gH);var T$,P$="$$percentage$$",D$="$$mappingValue$$",F$="$$conversion$$",N$="$$totalPercentage$$",I$="$$x$$",L$="$$y$$",R$={appendPadding:[0,80],minSize:0,maxSize:1,meta:(T$={},T$.$$mappingValue$$={min:0,max:1,nice:!1},T$),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};function j$(t,e,n){var r,i=n.yField,o=n.maxSize,a=n.minSize,u=(0,nE.U2)((0,nE.UT)(e,i),[i]),s=(0,nE.hj)(o)?o:1,l=(0,nE.hj)(a)?a:0;return r=(0,nE.UI)(t,(function(e,n){var r=(e[i]||0)/u;return e.$$percentage$$=r,e.$$mappingValue$$=(s-l)*r+l,e.$$conversion$$=[(0,nE.U2)(t,[n-1,i]),e[i]],e})),r}function B$(t){return function(e){var n=e.chart,r=e.options.conversionTag,i=n.getOptions().data;if(r){var o=r.formatter;i.forEach((function(e,a){if(!(a<=0||Number.isNaN(e.$$mappingValue$$))){var u=t(e,a,i,{top:!0,text:{content:(0,nE.mf)(o)?o(e,i):o,offsetX:r.offsetX,offsetY:r.offsetY,position:"end",autoRotate:!1,style:(0,eE.pi)({textAlign:"start",textBaseline:"middle"},r.style)}});n.annotation().line(u)}}))}return e}}function z$(t){var e=t.chart,n=t.options,r=n.data,i=void 0===r?[]:r,o=j$(i,i,{yField:n.yField,maxSize:n.maxSize,minSize:n.minSize});return e.data(o),t}function U$(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.color,a=n.tooltip,u=n.label,s=n.shape,l=void 0===s?"funnel":s,c=n.funnelStyle,f=n.state,d=VH(a,[r,i]),h=d.fields,p=d.formatter;return qH({chart:e,options:{type:"interval",xField:r,yField:D$,colorField:r,tooltipFields:(0,nE.kJ)(h)&&h.concat([P$,F$]),mapping:{shape:l,tooltip:p,color:o,style:c},label:u,state:f}}),RU(t.chart,"interval").adjust("symmetric"),t}function H$(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function V$(t){var e=t.options.maxSize;return B$((function(t,n,r,i){var o=e-(e-t.$$mappingValue$$)/2;return(0,eE.pi)((0,eE.pi)({},i),{start:[n-.5,o],end:[n-.5,o+.05]})}))(t),t}function W$(t){return TU(z$,U$,H$,V$)(t)}function Y$(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function q$(t){var e=t.chart,n=t.options,r=n.data,i=n.xField,o=n.yField,a=n.color,u=n.compareField,s=n.isTransposed,l=n.tooltip,c=n.maxSize,f=n.minSize,d=n.label,h=n.funnelStyle,p=n.state;return e.facet("mirror",{fields:[u],transpose:!s,padding:s?0:[32,0,0,0],eachView:function(t,e){var n=s?e.rowIndex:e.columnIndex;s||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var v=j$(e.data,r,{yField:o,maxSize:c,minSize:f});t.data(v);var g=VH(l,[i,o,u]),m=g.fields,y=g.formatter,x=s?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};qH({chart:t,options:{type:"interval",xField:i,yField:D$,colorField:i,tooltipFields:(0,nE.kJ)(m)&&m.concat([P$,F$]),mapping:{shape:"funnel",tooltip:y,color:a,style:h},label:!1!==d&&KU({},x,d),state:p}})}}),t}function G$(t){var e=t.chart,n=t.options,r=n.conversionTag,i=n.isTransposed;return e.once("beforepaint",(function(){e.views.forEach((function(t,e){B$((function(t,n,o,a){var u=0===e?-1:1;return KU({},a,{start:[n-.5,t.$$mappingValue$$],end:[n-.5,t.$$mappingValue$$+.05],text:i?{style:{textAlign:"start"}}:{offsetX:!1!==r?u*r.offsetX:0,style:{textAlign:0===e?"end":"start"}}})}))(KU({},{chart:t,options:n}))}))})),t}function $$(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function X$(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.isTransposed;return e.facet("rect",{fields:[r],padding:[i?0:32,10,0,10],eachView:function(e,n){W$(KU({},t,{chart:e,options:{data:n.data}}))}}),t}function K$(t){var e=t.chart,n=t.options,r=n.data,i=void 0===r?[]:r,o=n.yField,a=(0,nE.u4)(i,(function(t,e){return t+(e[o]||0)}),0),u=(0,nE.UT)(i,o)[o],s=(0,nE.UI)(i,(function(t,e){var n=[],r=[];if(t.$$totalPercentage$$=(t[o]||0)/a,e){var s=i[e-1].$$x$$,l=i[e-1].$$y$$;n[0]=s[3],r[0]=l[3],n[1]=s[2],r[1]=l[2]}else n[0]=-.5,r[0]=1,n[1]=.5,r[1]=1;return r[2]=r[1]-t.$$totalPercentage$$,n[2]=(r[2]+1)/4,r[3]=r[2],n[3]=-n[2],t.$$x$$=n,t.$$y$$=r,t.$$percentage$$=(t[o]||0)/u,t.$$conversion$$=[(0,nE.U2)(i,[e-1,o]),t[o]],t}));return e.data(s),t}function Z$(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.color,a=n.tooltip,u=n.label,s=n.funnelStyle,l=n.state,c=VH(a,[r,i]),f=c.fields,d=c.formatter;return qH({chart:e,options:{type:"polygon",xField:I$,yField:L$,colorField:r,tooltipFields:(0,nE.kJ)(f)&&f.concat([P$,F$]),label:u,state:l,mapping:{tooltip:d,color:o,style:s}}}),t}function J$(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function Q$(t){return B$((function(t,e,n,r){return(0,eE.pi)((0,eE.pi)({},r),{start:[t.$$x$$[1],t.$$y$$[1]],end:[t.$$x$$[1]+.05,t.$$y$$[1]]})}))(t),t}function tX(t){var e,n=t.options,r=n.compareField,i=n.xField,o=n.yField,a=n.locale,u=n.funnelStyle,s=n.data,l=dH(a),c={label:r?{fields:[i,o,r,P$,F$],formatter:function(t){return""+t[o]}}:{fields:[i,o,P$,F$],offset:0,position:"middle",formatter:function(t){return t[i]+" "+t[o]}},tooltip:{title:i,formatter:function(t){return{name:t[i],value:t[o]}}},conversionTag:{formatter:function(t){return l.get(["conversionTag","label"])+": "+xV.apply(void 0,t.$$conversion$$)}}};return(r||u)&&(e=function(t){return KU({},r&&{lineWidth:1,stroke:"#fff"},(0,nE.mf)(u)?u(t):u)}),KU({options:c},t,{options:{funnelStyle:e,data:(0,nE.d9)(s)}})}function eX(t){var e=t.options,n=e.compareField,r=e.dynamicHeight;return e.seriesField?function(t){return TU($$,X$)(t)}(t):n?function(t){return TU(Y$,q$,G$)(t)}(t):r?function(t){return TU(K$,Z$,J$,Q$)(t)}(t):W$(t)}function nX(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return TU(zH(((e={})[o]=r,e[a]=i,e)))(t)}function rX(t){return t.chart.axis(!1),t}function iX(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}function oX(t){return TU(tX,eX,nX,rX,FH,NH,iX,IH,LH,UH())(t)}var aX=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return R$},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return oX},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=BU(this.chart);(0,nE.S6)(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=BU(this.chart),e=[];return(0,nE.S6)(t,(function(t){var n=t.getData(),r=t.getStates();(0,nE.S6)(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.CONVERSATION_FIELD=F$,e.PERCENT_FIELD=P$,e.TOTAL_PERCENT_FIELD=N$,e}(gH);function uX(t){return[{percent:t,type:"liquid"}]}function sX(t){var e=t.chart,n=t.options,r=n.percent,i=n.liquidStyle,o=n.radius,a=n.outline,u=n.wave,s=n.shape,l=n.animation;e.scale({percent:{min:0,max:1}}),e.data(uX(r));var c=n.color||e.getTheme().defaultColor,f=KH(KU({},t,{options:{xField:"type",yField:"percent",widthRatio:o,interval:{color:c,style:i,shape:"liquid-fill-gauge"}}})).ext.geometry,d={radius:o,outline:a,wave:u,shape:s,background:e.getTheme().background,animation:l};return f.customInfo(d),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function lX(t,e){var n=t.chart,r=t.options,i=r.statistic,o=r.percent,a=r.meta;n.getController("annotation").clear(!0);var u=(0,nE.U2)(a,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},s=i.content;return s&&(s=KU({},s,{content:(0,nE.UM)(s.content)?u(o):s.content})),eH(n,{statistic:(0,eE.pi)((0,eE.pi)({},i),{content:s}),plotType:"liquid"},{percent:o}),e&&n.render(!0),t}function cX(t){return TU(LH,PH("liquidStyle"),sX,lX,zH({}),IH,NH)(t)}var fX={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function dX(t,e,n){return t+(e-t)*n}function hX(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function pX(t,e,n,r,i,o,a){for(var u=4*Math.ceil(2*t/n*4),s=[],l=r;l<2*-Math.PI;)l+=2*Math.PI;for(;l>0;)l-=2*Math.PI;var c=o-t+(l=l/Math.PI/2*n)-2*t;s.push(["M",c,e]);for(var f=0,d=0;d<u;++d){var h=hX(d*n/4,d%4,n,i);s.push(["C",h[0][0]+c,-h[0][1]+e,h[1][0]+c,-h[1][1]+e,h[2][0]+c,-h[2][1]+e]),d===u-1&&(f=h[2][0])}return s.push(["L",f+c,a+t]),s.push(["L",c,a+t]),s.push(["Z"]),s}function vX(t,e,n,r){var i=2*n/3,o=Math.max(i,r),a=i/2,u=t,s=a+e-o/2,l=Math.asin(a/(.85*(o-a))),c=Math.sin(l)*a,f=Math.cos(l)*a,d=u-f,h=s+c,p=t,v=s+a/Math.sin(l);return"\n      M "+d+" "+h+"\n      A "+a+" "+a+" 0 1 1 "+(d+2*f)+" "+h+"\n      Q "+p+" "+v+" "+t+" "+(e+o/2)+"\n      Q "+p+" "+v+" "+d+" "+h+"\n      Z \n    "}function gX(t,e,n,r){var i=n/2,o=r/2;return"\n      M "+t+" "+(e-o)+" \n      a "+i+" "+o+" 0 1 0 0 "+2*o+"\n      a "+i+" "+o+" 0 1 0 0 "+2*-o+"\n      Z\n    "}function mX(t,e,n,r){var i=r/2,o=n/2;return"\n      M "+t+" "+(e-i)+"\n      L "+(t+o)+" "+e+"\n      L "+t+" "+(e+i)+"\n      L "+(t-o)+" "+e+"\n      Z\n    "}function yX(t,e,n,r){var i=r/2,o=n/2;return"\n      M "+t+" "+(e-i)+"\n      L "+(t+o)+" "+(e+i)+"\n      L "+(t-o)+" "+(e+i)+"\n      Z\n    "}function xX(t,e,n,r){var i=r/2,o=n/2*.618;return"\n      M "+(t-o)+" "+(e-i)+"\n      L "+(t+o)+" "+(e-i)+"\n      L "+(t+o)+" "+(e+i)+"\n      L "+(t-o)+" "+(e+i)+"\n      Z\n    "}HF("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,r=n,i=r.radius,o=r.shape,a=r.background,u=r.animation,s=n.outline,l=n.wave,c=s.border,f=s.distance,d=l.count,h=l.length,p=(0,nE.u4)(t.points,(function(t,e){return Math.min(t,e.x)}),1/0),v=this.parsePoint({x:.5,y:.5}),g=this.parsePoint({x:p,y:.5}),m=v.x-g.x,y=Math.min(m,g.y*i),x=function(t){var e=(0,eE.pi)({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}(t),b=function(t){var e=(0,nE.CD)({},{fill:"#fff",fillOpacity:0,lineWidth:4},t.style);return t.color&&!e.stroke&&(e.stroke=t.color),(0,nE.hj)(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity),e}((0,nE.CD)({},t,s)),w=y-c/2,S={pin:vX,circle:gX,diamond:mX,triangle:yX,rect:xX},k=("function"===typeof o?o:S[o]||S.circle)(v.x,v.y,2*w,2*w),C=e.addGroup({name:"waves"}),E=C.setClip({type:"path",attrs:{path:k}});return function(t,e,n,r,i,o,a,u,s,l){for(var c=i.fill,f=i.opacity,d=a.getBBox(),h=d.maxX-d.minX,p=d.maxY-d.minY,v=0;v<r;v++){var g=r<=1?0:v/(r-1),m=o.addShape("path",{name:"waterwave-path",attrs:{path:pX(u,d.minY+p*n,s,0,h/32,t,e),fill:c,opacity:dX(.2,.9,g)*f}});try{if(!1===l)return;var y=QV([["t",s,0]]);m.stopAnimate(),m.animate({matrix:y},{duration:dX(2500,5e3,g),repeat:!0})}catch(v1t){console.warn("off-screen group animate error!")}}}(v.x,v.y,1-t.points[1].y,d,x,C,E,2*y,h,u),e.addShape("path",{name:"distance",attrs:{path:k,fill:"transparent",lineWidth:c+2*f,stroke:"transparent"===a?"#fff":a}}),e.addShape("path",{name:"wrap",attrs:(0,nE.CD)(b,{path:k,fill:"transparent",lineWidth:c})}),e}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return fX},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(rE.BEFORE_CHANGE_DATA,cF.fromData(this.chart,rE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(uX(t)),lX({chart:this.chart,options:this.options},!0),this.chart.emit(rE.AFTER_CHANGE_DATA,cF.fromData(this.chart,rE.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return cX}}(gH);function bX(t){var e=t.data,n=t.xField,r=t.measureField,i=t.rangeField,o=t.targetField,a=t.layout,u=[],s=[];e.forEach((function(t,e){var a;t[i].sort((function(t,e){return t-e})),t[i].forEach((function(r,o){var a,s=0===o?r:t[i][o]-t[i][o-1];u.push(((a={rKey:i+"_"+o})[n]=n?t[n]:String(e),a[i]=s,a))})),t[r].forEach((function(i,o){var a;u.push(((a={mKey:t[r].length>1?r+"_"+o:""+r})[n]=n?t[n]:String(e),a[r]=i,a))})),u.push(((a={tKey:""+o})[n]=n?t[n]:String(e),a[o]=t[o],a)),s.push(t[i],t[r],t[o])}));var l=Math.min.apply(Math,s.flat(1/0)),c=Math.max.apply(Math,s.flat(1/0));return l=l>0?0:l,"vertical"===a&&u.reverse(),{min:l,max:c,ds:u}}function wX(t){var e=t.chart,n=t.options,r=n.bulletStyle,i=n.targetField,o=n.rangeField,a=n.measureField,u=n.xField,s=n.color,l=n.layout,c=n.size,f=n.label,d=bX(n),h=d.min,p=d.max,v=d.ds;e.data(v),KH(KU({},t,{options:{xField:u,yField:o,seriesField:"rKey",isStack:!0,label:(0,nE.U2)(f,"range"),interval:{color:(0,nE.U2)(s,"range"),style:(0,nE.U2)(r,"range"),size:(0,nE.U2)(c,"range")}}})),e.geometries[0].tooltip(!1),KH(KU({},t,{options:{xField:u,yField:a,seriesField:"mKey",isStack:!0,label:(0,nE.U2)(f,"measure"),interval:{color:(0,nE.U2)(s,"measure"),style:(0,nE.U2)(r,"measure"),size:(0,nE.U2)(c,"measure")}}}));var g=KU({},t,{options:{xField:u,yField:i,seriesField:"tKey",label:(0,nE.U2)(f,"target"),point:{color:(0,nE.U2)(s,"target"),style:(0,nE.U2)(r,"target"),size:(0,nE.mf)((0,nE.U2)(c,"target"))?function(t){return(0,nE.U2)(c,"target")(t)/2}:(0,nE.U2)(c,"target")/2,shape:"horizontal"===l?"line":"hyphen"}}});return XH(g),"horizontal"===l&&e.coordinate().transpose(),(0,eE.pi)((0,eE.pi)({},t),{ext:{data:{min:h,max:p}}})}function SX(t){var e,n,r=t.options,i=t.ext,o=r.xAxis,a=r.yAxis,u=r.targetField,s=r.rangeField,l=r.measureField,c=r.xField,f=i.data;return TU(zH(((e={})[c]=o,e[l]=a,e),((n={})[l]={min:null===f||void 0===f?void 0:f.min,max:null===f||void 0===f?void 0:f.max,sync:!0},n[u]={sync:""+l},n[s]={sync:""+l},n)))(t)}function kX(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.measureField,u=n.rangeField,s=n.targetField;return e.axis(""+u,!1),e.axis(""+s,!1),!1===r?e.axis(""+o,!1):e.axis(""+o,r),!1===i?e.axis(""+a,!1):e.axis(""+a,i),t}function CX(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function EX(t){var e=t.chart,n=t.options,r=n.label,i=n.measureField,o=n.targetField,a=n.rangeField,u=e.geometries,s=u[0],l=u[1],c=u[2];return(0,nE.U2)(r,"range")?s.label(""+a,(0,eE.pi)({layout:[{type:"limit-in-plot"}]},VU(r.range))):s.label(!1),(0,nE.U2)(r,"measure")?l.label(""+i,(0,eE.pi)({layout:[{type:"limit-in-plot"}]},VU(r.measure))):l.label(!1),(0,nE.U2)(r,"target")?c.label(""+o,(0,eE.pi)({layout:[{type:"limit-in-plot"}]},VU(r.target))):c.label(!1),t}function OX(t){TU(wX,SX,kX,CX,LH,EX,FH,NH,IH)(t)}var MX=KU({},gH.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),_X=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return MX},e.prototype.changeData=function(t){this.updateOption({data:t});var e=bX(this.options),n=e.min,r=e.max,i=e.ds;SX({options:this.options,ext:{data:{min:n,max:r}},chart:this.chart}),this.chart.changeData(i)},e.prototype.getSchemaAdaptor=function(){return OX},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(gH),"nodeIndex"),AX="childNodeCount",TX="nodeAncestor",PX="Invalid field: it must be a string!";function DX(t,e){var n=t.field,r=t.fields;if((0,nE.HD)(n))return n;if((0,nE.kJ)(n))return console.warn(PX),n[0];if(console.warn(PX+" will try to get fields instead."),(0,nE.HD)(r))return r;if((0,nE.kJ)(r)&&r.length)return r[0];if(e)return e;throw new TypeError(PX)}function FX(t){var e,n,r=[];t&&t.each?t.each((function(t){var i,o;t.parent!==e?(e=t.parent,n=0):n+=1;var a=(0,nE.hX)(((null===(i=t.ancestors)||void 0===i?void 0:i.call(t))||[]).map((function(t){return r.find((function(e){return e.name===t.name}))||t})),(function(e){var n=e.depth;return n>0&&n<t.depth}));t.nodeAncestor=a,t.childNodeCount=(null===(o=t.children)||void 0===o?void 0:o.length)||0,t.nodeIndex=n,r.push(t)})):t&&t.eachNode&&t.eachNode((function(t){r.push(t)}));return r}var NX="ancestor-node",IX="value",LX="path",RX=[LX,_X,TX,AX,"name","depth","height"],jX=KU({},gH.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),BX="drilldown-bread-crumb",zX={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},UX="hierarchy-data-transform-params",HX=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=zX,e}return(0,eE.ZT)(e,t),e.prototype.click=function(){var t=(0,nE.U2)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),e=this.breadCrumbGroup,n=e.getBBox(),r=this.getButtonCfg().position,i={x:t.start.x,y:t.end.y-(n.height+10)};t.isPolar&&(i={x:0,y:0}),"bottom-left"===r&&(i={x:t.start.x,y:t.start.y});var o=ON.transform(null,[["t",i.x+0,i.y+n.height+5]]);e.setMatrix(o)}},e.prototype.back=function(){(0,nE.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var e=this.context.view,n=(0,nE.U2)(e,["interactions","drill-down","cfg","transformData"],(function(t){return t})),r=n((0,eE.pi)({data:t.data},t[UX]));e.changeData(r);for(var i=[],o=t;o;){var a=o.data;i.unshift({id:a.name+"_"+o.height+"_"+o.depth,name:a.name,children:n((0,eE.pi)({data:a},t[UX]))}),o=o.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(i)},e.prototype.backTo=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=(0,nE.Z$)(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,nE.U2)(t,["interactions","drill-down","cfg","drillDownConfig"]);return KU(this.breadCrumbCfg,null===e||void 0===e?void 0:e.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,e=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:BX});var r=0;n.forEach((function(i,o){var a=t.breadCrumbGroup.addShape({type:"text",id:i.id,name:BX+"_"+i.name+"_text",attrs:(0,eE.pi)((0,eE.pi)({text:0!==o||(0,nE.UM)(e.rootText)?i.name:e.rootText},e.textStyle),{x:r,y:0})}),u=a.getBBox();if(r+=u.width+4,a.on("click",(function(e){var r,i=e.target.get("id");if(i!==(null===(r=(0,nE.Z$)(n))||void 0===r?void 0:r.id)){var o=n.slice(0,n.findIndex((function(t){return t.id===i}))+1);t.backTo(o)}})),a.on("mouseenter",(function(t){var r;t.target.get("id")!==(null===(r=(0,nE.Z$)(n))||void 0===r?void 0:r.id)?a.attr(e.activeTextStyle):a.attr({cursor:"default"})})),a.on("mouseleave",(function(){a.attr(e.textStyle)})),o<n.length-1){var s=t.breadCrumbGroup.addShape({type:"text",name:e.name+"_"+i.name+"_divider",attrs:(0,eE.pi)((0,eE.pi)({text:e.dividerText},e.textStyle),{x:r,y:0})}).getBBox();r+=s.width+4}}))},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(BP);function VX(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function WX(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,l=t.value&&(r-e)/t.value;++u<s;)(o=a[u]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}function YX(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&WX(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,u=r.y1-n;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(e,o)),r&&i.eachBefore(VX),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}function qX(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}var GX=Et().mark($X);function $X(){var t,e,n,r,i,o;return Et().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=[t=this];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){a.next=8;break}return a.next=5,t;case 5:if(r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);a.next=2;break;case 8:if(n.length){a.next=1;break}case 9:case"end":return a.stop()}}),GX,this)}function XX(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=ZX)):void 0===e&&(e=KX);for(var n,r,i,o,a,u=new tK(t),s=[u];n=s.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)s.push(r=i[o]=new tK(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(QX)}function KX(t){return t.children}function ZX(t){return Array.isArray(t)?t[1]:null}function JX(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function QX(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function tK(t){this.data=t,this.depth=this.height=0,this.parent=null}tK.prototype=XX.prototype=mt({constructor:tK,count:function(){return this.eachAfter(qX)},each:function(t,e){var n,r=-1,i=qe(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.call(e,o,++r,this)}}catch(a){i.e(a)}finally{i.f()}return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],u=[],s=-1;o=a.pop();)if(u.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=u.pop();)t.call(e,o,++s,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){var n,r=-1,i=qe(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t.call(e,o,++r,this))return o}}catch(a){i.e(a)}finally{i.f()}},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return XX(this).eachBefore(JX)}},Symbol.iterator,$X);var eK={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function nK(t,e){var n,r=(e=(0,nE.f0)({},eK,e)).as;if(!(0,nE.kJ)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=DX(e)}catch(v1t){console.warn(v1t)}var i=function(t){return YX().size(e.size).round(e.round).padding(e.padding)(XX(t).sum((function(t){return(0,nE.dp)(t.children)?e.ignoreParentValue?0:t[n]-(0,nE.u4)(t.children,(function(t,e){return t+e[n]}),0):t[n]})).sort(e.sort))}(t),o=r[0],a=r[1];return i.each((function(t){var e,n;t[o]=[t.x0,t.x1,t.x1,t.x0],t[a]=[t.y1,t.y1,t.y0,t.y0],t.name=t.name||(null===(e=t.data)||void 0===e?void 0:e.name)||(null===(n=t.data)||void 0===n?void 0:n.label),t.data.name=t.name,["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),FX(i)}function rK(t,e){return t.parent===e.parent?1:2}function iK(t,e){return t+e.x}function oK(t,e){return Math.max(t,e.y)}function aK(){var t=rK,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(iK,0)/t.length}(n),e.y=function(t){return 1+t.reduce(oK,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var u=function(t){for(var e;e=t.children;)t=e[0];return t}(i),s=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),l=u.x-t(u,s)/2,c=s.x+t(s,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-l)/(c-l)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function uK(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&cK(n,e)?++r:(n=dK(o=sK(o,e)),r=0);return n}function sK(t,e){var n,r;if(fK(e,t))return[e];for(n=0;n<t.length;++n)if(lK(e,t[n])&&fK(hK(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(lK(hK(t[n],t[r]),e)&&lK(hK(t[n],e),t[r])&&lK(hK(t[r],e),t[n])&&fK(pK(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function lK(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function cK(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function fK(t,e){for(var n=0;n<e.length;++n)if(!cK(t,e[n]))return!1;return!0}function dK(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return hK(t[0],t[1]);case 3:return pK(t[0],t[1],t[2])}}function hK(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,s=o-n,l=a-r,c=u-i,f=Math.sqrt(s*s+l*l);return{x:(n+o+s/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+u)/2}}function pK(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,s=e.r,l=n.x,c=n.y,f=n.r,d=r-a,h=r-l,p=i-u,v=i-c,g=s-o,m=f-o,y=r*r+i*i-o*o,x=y-a*a-u*u+s*s,b=y-l*l-c*c+f*f,w=h*p-d*v,S=(p*b-v*x)/(2*w)-r,k=(v*g-p*m)/w,C=(h*x-d*b)/(2*w)-i,E=(d*m-h*g)/w,O=k*k+E*E-1,M=2*(o+S*k+C*E),_=S*S+C*C-o*o,A=-(O?(M+Math.sqrt(M*M-4*O*_))/(2*O):_/M);return{x:r+S+k*A,y:i+C+E*A,r:A}}function vK(t,e,n){var r,i,o,a,u=t.x-e.x,s=t.y-e.y,l=u*u+s*s;l?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*u-o*s,n.y=t.y-r*s+o*u):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*u-o*s,n.y=e.y+r*s+o*u)):(n.x=e.x+n.r,n.y=e.y)}function gK(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function mK(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function yK(t){this._=t,this.next=null,this.previous=null}function xK(t){if(!(i=(t=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,n,r,i,o,a,u,s,l,c,f;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;vK(n,e,r=t[2]),e=new yK(e),n=new yK(n),r=new yK(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){vK(e._,n._,r=t[u]),r=new yK(r),s=n.next,l=e.previous,c=n._.r,f=e._.r;do{if(c<=f){if(gK(s._,r._)){n=s,e.next=n,n.previous=e,--u;continue t}c+=s._.r,s=s.next}else{if(gK(l._,r._)){(e=l).next=n,n.previous=e,--u;continue t}f+=l._.r,l=l.previous}}while(s!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=mK(e);(r=r.next)!==n;)(a=mK(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=uK(e),u=0;u<i;++u)(e=t[u]).x-=r.x,e.y-=r.y;return r.r}function bK(t){return xK(t),t}function wK(t){return null==t?null:SK(t)}function SK(t){if("function"!==typeof t)throw new Error;return t}function kK(){return 0}function CK(t){return function(){return t}}function EK(t){return Math.sqrt(t.value)}function OK(){var t=null,e=1,n=1,r=kK;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(MK(t)).eachAfter(_K(r,.5)).eachBefore(AK(1)):i.eachBefore(MK(EK)).eachAfter(_K(kK,1)).eachAfter(_K(r,i.r/Math.min(e,n))).eachBefore(AK(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=wK(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:CK(+t),i):r},i}function MK(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function _K(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=xK(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function AK(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var TK={depth:-1},PK={};function DK(t){return t.id}function FK(t){return t.parentId}function NK(){var t=DK,e=FK;function n(n){var r,i,o,a,u,s,l,c=Array.from(n),f=c.length,d=new Map;for(i=0;i<f;++i)r=c[i],u=c[i]=new tK(r),null!=(s=t(r,i,n))&&(s+="")&&(l=u.id=s,d.set(l,d.has(l)?PK:u)),null!=(s=e(r,i,n))&&(s+="")&&(u.parent=s);for(i=0;i<f;++i)if(s=(u=c[i]).parent){if(!(a=d.get(s)))throw new Error("missing: "+s);if(a===PK)throw new Error("ambiguous: "+s);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=TK,o.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(QX),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=SK(e),n):t},n.parentId=function(t){return arguments.length?(e=SK(t),n):e},n}function IK(t,e){return t.parent===e.parent?1:2}function LK(t){var e=t.children;return e?e[0]:t.t}function RK(t){var e=t.children;return e?e[e.length-1]:t.t}function jK(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function BK(t,e,n){return t.a.parent===e.parent?t.a:n}function zK(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function UK(){var t=IK,e=1,n=1,r=null;function i(i){var s=function(t){for(var e,n,r,i,o,a=new zK(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=e.children[i]=new zK(r[i],i)),n.parent=e;return(a.parent=new zK(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(u);else{var l=i,c=i,f=i;i.eachBefore((function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)}));var d=l===c?1:t(l,c)/2,h=d-l.x,p=e/(c.x+d+h),v=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+h)*p,t.y=t.depth*v}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,u=n,s=o.parent.children[0],l=o.m,c=a.m,f=u.m,d=s.m;u=RK(u),o=LK(o),u&&o;)s=LK(s),(a=RK(a)).a=e,(i=u.z+f-o.z-l+t(u._,o._))>0&&(jK(BK(u,e,r),e,i),l+=i,c+=i),f+=u.m,l+=o.m,d+=s.m,c+=a.m;u&&!RK(a)&&(a.t=u,a.m+=f-c),o&&!LK(s)&&(s.t=o,s.m+=l-d,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function HK(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,l=t.value&&(i-n)/t.value;++u<s;)(o=a[u]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}zK.prototype=Object.create(tK.prototype);var VK=(1+Math.sqrt(5))/2;function WK(t,e,n,r,i,o){for(var a,u,s,l,c,f,d,h,p,v,g,m=[],y=e.children,x=0,b=0,w=y.length,S=e.value;x<w;){s=i-n,l=o-r;do{c=y[b++].value}while(!c&&b<w);for(f=d=c,g=c*c*(v=Math.max(l/s,s/l)/(S*t)),p=Math.max(d/g,g/f);b<w;++b){if(c+=u=y[b].value,u<f&&(f=u),u>d&&(d=u),g=c*c*v,(h=Math.max(d/g,g/f))>p){c-=u;break}p=h}m.push(a={value:c,dice:s<l,children:y.slice(x,b)}),a.dice?WX(a,n,r,i,S?r+=l*c/S:o):HK(a,n,r,S?n+=s*c/S:i,o),S-=c,x=b}return m}var YK=function t(e){function n(t,n,r,i,o){WK(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(VK);function qK(){var t=YK,e=!1,n=1,r=1,i=[0],o=kK,a=kK,u=kK,s=kK,l=kK;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(VX),t}function f(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,f=e.x1-n,d=e.y1-n;f<r&&(r=f=(r+f)/2),d<c&&(c=d=(c+d)/2),e.x0=r,e.y0=c,e.x1=f,e.y1=d,e.children&&(n=i[e.depth+1]=o(e)/2,r+=l(e)-n,c+=a(e)-n,(f-=u(e)-n)<r&&(r=f=(r+f)/2),(d-=s(e)-n)<c&&(c=d=(c+d)/2),t(e,r,c,f,d))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=SK(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:CK(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:CK(+t),c):a},c.paddingRight=function(t){return arguments.length?(u="function"===typeof t?t:CK(+t),c):u},c.paddingBottom=function(t){return arguments.length?(s="function"===typeof t?t:CK(+t),c):s},c.paddingLeft=function(t){return arguments.length?(l="function"===typeof t?t:CK(+t),c):l},c}function GK(t,e,n,r,i){var o,a,u=t.children,s=u.length,l=new Array(s+1);for(l[0]=a=o=0;o<s;++o)l[o+1]=a+=u[o].value;!function t(e,n,r,i,o,a,s){if(e>=n-1){var c=u[e];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=s)}var f=l[e],d=r/2+f,h=e+1,p=n-1;for(;h<p;){var v=h+p>>>1;l[v]<d?h=v+1:p=v}d-l[h-1]<l[h]-d&&e+1<h&&--h;var g=l[h]-f,m=r-g;if(a-i>s-o){var y=r?(i*m+a*g)/r:a;t(e,h,g,i,o,y,s),t(h,n,m,y,o,a,s)}else{var x=r?(o*m+s*g)/r:s;t(e,h,g,i,o,a,x),t(h,n,m,i,x,a,s)}}(0,s,t.value,e,n,r,i)}function $K(t,e,n,r,i){(1&t.depth?HK:WX)(t,e,n,r,i)}var XK=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,u,s,l,c,f=-1,d=a.length,h=t.value;++f<d;){for(s=(u=a[f]).children,l=u.value=0,c=s.length;l<c;++l)u.value+=s[l].value;u.dice?WX(u,n,r,i,h?r+=(o-r)*u.value/h:o):HK(u,n,r,h?n+=(i-n)*u.value/h:i,o),h-=u.value}else t._squarify=a=WK(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(VK),KK={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function ZK(t,e){var n,r=(e=(0,nE.f0)({},KK,e)).as;if(!(0,nE.kJ)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=DX(e)}catch(v1t){console.warn(v1t)}var i,o,a=(i=e.tile,o=e.ratio,"treemapSquarify"===i?p[i].ratio(o):p[i]),u=function(t){return qK().tile(a).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(XX(t).sum((function(t){return e.ignoreParentValue&&t.children?0:t[n]})).sort(e.sort))}(t),s=r[0],l=r[1];return u.each((function(t){t[s]=[t.x0,t.x1,t.x1,t.x0],t[l]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),FX(u)}function JK(t){var e=t.data,n=t.colorField,r=t.rawFields,i=t.hierarchyConfig,o=void 0===i?{}:i,a=o.activeDepth,u={partition:nK,treemap:ZK},s=t.seriesField,l=t.type||"partition",c=u[l](e,(0,eE.pi)((0,eE.pi)({field:s||"value"},(0,nE.CE)(o,["activeDepth"])),{type:"hierarchy."+l,as:["x","y"]})),f=[];return c.forEach((function(t){var e,i,u,l,c,d;if(0===t.depth)return null;if(a>0&&t.depth>a)return null;for(var h=t.data.name,p=(0,eE.pi)({},t);p.depth>1;)h=(null===(i=p.parent.data)||void 0===i?void 0:i.name)+" / "+h,p=p.parent;var v=(0,eE.pi)((0,eE.pi)((0,eE.pi)({},PU(t.data,(0,eE.pr)(r||[],[o.field]))),((e={}).path=h,e["ancestor-node"]=p.data.name,e)),t);s&&(v[s]=t.data[s]||(null===(l=null===(u=t.parent)||void 0===u?void 0:u.data)||void 0===l?void 0:l[s])),n&&(v[n]=t.data[n]||(null===(d=null===(c=t.parent)||void 0===c?void 0:c.data)||void 0===d?void 0:d[n])),v.ext=o,v[UX]={hierarchyConfig:o,colorField:n,rawFields:r},f.push(v)})),f}function QK(t){var e,n=t.chart,r=t.options,i=r.color,o=r.colorField,a=void 0===o?NX:o,u=r.sunburstStyle,s=r.rawFields,l=void 0===s?[]:s,c=JK(r);return n.data(c),u&&(e=function(t){return KU({},{fillOpacity:Math.pow(.85,t.depth)},(0,nE.mf)(u)?u(t):u)}),ZH(KU({},t,{options:{xField:"x",yField:"y",seriesField:a,rawFields:(0,nE.jj)((0,eE.pr)(RX,l)),polygon:{color:i,style:e}}})),t}function tZ(t){return t.chart.axis(!1),t}function eZ(t){var e=t.chart,n=t.options.label,r=RU(e,"polygon");if(n){var i=n.fields,o=void 0===i?["name"]:i,a=n.callback,u=(0,eE._T)(n,["fields","callback"]);r.label({fields:o,callback:a,cfg:VU(u)})}else r.label(!1);return t}function nZ(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius,o=n.reflect,a=e.coordinate({type:"polar",cfg:{innerRadius:r,radius:i}});return o&&a.reflect(o),t}function rZ(t){var e,n=t.options,r=n.hierarchyConfig,i=n.meta;return TU(zH({},((e={}).value=(0,nE.U2)(i,(0,nE.U2)(r,["field"],"value")),e)))(t)}function iZ(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var r=n;(0,nE.U2)(n,"fields")||(r=KU({},{customItems:function(t){return t.map((function(t){var n=(0,nE.U2)(e.getOptions(),"scales"),r=(0,nE.U2)(n,[LX,"formatter"],(function(t){return t})),i=(0,nE.U2)(n,[IX,"formatter"],(function(t){return t}));return(0,eE.pi)((0,eE.pi)({},t),{name:r(t.data.path),value:i(t.data.value)})}))}},r)),e.tooltip(r)}return t}function oZ(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return(null===e||void 0===e?void 0:e.enabled)?KU({},t,{interactions:(0,eE.pr)(r,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:JK}}])}):t}function aZ(t){var e=t.chart,n=t.options,r=n.drilldown;return NH({chart:e,options:oZ(n)}),(null===r||void 0===r?void 0:r.enabled)&&(e.appendPadding=uH(e.appendPadding,(0,nE.U2)(r,["breadCrumb","position"]))),t}function uZ(t){return TU(LH,PH("sunburstStyle"),QK,tZ,rZ,DH,nZ,iZ,eZ,aZ,IH,UH())(t)}function sZ(t){var e=(0,nE.U2)(t,["event","data","data"],{});return(0,nE.kJ)(e.children)&&e.children.length>0}function lZ(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var r=t.event,i=r.x,o=r.y,a=e.center,u=a.x,s=a.y,l=e.getRadius()*n;return Math.sqrt(Math.pow(u-i,2)+Math.pow(s-o,2))<l}return!1}WP("drill-down-action",HX),DD("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:sZ},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:lZ}],start:[{trigger:"element:click",isEnable:sZ,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:lZ,action:["drill-down-action:back"]}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sunburst",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return jX},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return uZ},e.SUNBURST_ANCESTOR_FIELD=NX,e.SUNBURST_PATH_FIELD=LX,e.NODE_ANCESTORS_FIELD=TX}(gH);var cZ,fZ="range",dZ="type",hZ="percent",pZ="indicator-view",vZ="range-view",gZ={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(cZ={},cZ.range={sync:"v"},cZ.percent={sync:"v",tickCount:5,tickInterval:.2},cZ),animation:!1};function mZ(t){var e;return[(e={},e.percent=(0,nE.uZ)(t,0,1),e)]}function yZ(t,e){var n=(0,nE.U2)(e,["ticks"],[]);return function(t,e){return t.map((function(n,r){var i;return(i={}).range=n-(t[r-1]||0),i.type=""+r,i.percent=e,i})).filter((function(t){return!!t.range}))}((0,nE.dp)(n)?n:[0,(0,nE.uZ)(t,0,1),1],t)}function xZ(t){var e=t.chart,n=t.options,r=n.percent,i=n.range,o=n.radius,a=n.innerRadius,u=n.startAngle,s=n.endAngle,l=n.axis,c=n.indicator,f=n.gaugeStyle,d=n.type,h=n.meter,p=i.color,v=i.width;if(c){var g=mZ(r),m=e.createView({id:pZ});m.data(g),m.point().position("percent*1").shape(c.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:c}),m.coordinate("polar",{startAngle:u,endAngle:s,radius:a*o}),m.axis(hZ,l),m.scale(hZ,PU(l,mH))}var y=yZ(r,n.range),x=e.createView({id:vZ});x.data(y);var b=(0,nE.HD)(p)?[p,"#f0f0f0"]:p;return KH({chart:x,options:{xField:"1",yField:fZ,seriesField:dZ,rawFields:[hZ],isStack:!0,interval:{color:b,style:f,shape:"meter"===d?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:v,maxColumnWidth:v}}).ext.geometry.customInfo({meter:h}),x.coordinate("polar",{innerRadius:a,radius:o,startAngle:u,endAngle:s}).transpose(),t}function bZ(t){var e;return TU(zH(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}}).percent={},e)))(t)}function wZ(t,e){var n=t.chart,r=t.options,i=r.statistic,o=r.percent;if(n.getController("annotation").clear(!0),i){var a=i.content,u=void 0;a&&(u=KU({},{content:(100*o).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},a)),function(t,e,n){var r=e.statistic;[r.title,r.content].forEach((function(e){if(e){var r=(0,nE.mf)(e.style)?e.style(n):e.style;t.annotation().html((0,eE.pi)({position:["50%","100%"],html:function(t,i){var o=i.getCoordinate(),a=i.views[0].getCoordinate(),u=a.getCenter(),s=a.getRadius(),l=Math.max(Math.sin(a.startAngle),Math.sin(a.endAngle))*s,c=u.y+l-o.y.start-parseFloat((0,nE.U2)(r,"fontSize",0)),f=o.getRadius()*o.innerRadius*2;QU(t,(0,eE.pi)({width:f+"px",transform:"translate(-50%, "+c+"px)"},JU(r)));var d=i.getData();if(e.customHtml)return e.customHtml(t,i,n,d);var h=e.content;return e.formatter&&(h=e.formatter(n,d)),h?(0,nE.HD)(h)?h:""+h:"<div></div>"}},PU(e,["offsetX","offsetY","rotate","style","formatter"])))}}))}(n,{statistic:(0,eE.pi)((0,eE.pi)({},i),{content:u})},{percent:o})}return e&&n.render(!0),t}function SZ(t){var e=t.chart;return e.legend(!1),e.tooltip(!1),t}function kZ(t){return TU(LH,IH,xZ,bZ,wZ,NH,UH(),SZ)(t)}HF("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,r=n.indicator,i=n.defaultColor,o=r,a=o.pointer,u=o.pin,s=e.addGroup(),l=this.parsePoint({x:0,y:0});return a&&s.addShape("line",{name:"pointer",attrs:(0,eE.pi)({x1:l.x,y1:l.y,x2:t.x,y2:t.y,stroke:i},a.style)}),u&&s.addShape("circle",{name:"pin",attrs:(0,eE.pi)({x:l.x,y:l.y,stroke:i},u.style)}),s}}),HF("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,r=void 0===n?{}:n,i=r.steps,o=void 0===i?50:i,a=r.stepRatio,u=void 0===a?.5:a;o=o<1?1:o,u=(0,nE.uZ)(u,0,1);var s=this.coordinate,l=s.startAngle,c=s.endAngle,f=0;u>0&&u<1&&(f=(c-l)/o/(u/(1-u)+1-1/o));for(var d=f/(1-u)*u,h=e.addGroup(),p=this.coordinate.getCenter(),v=this.coordinate.getRadius(),g=ON.getAngle(t,this.coordinate),m=g.startAngle,y=g.endAngle,x=m;x<y;){var b=void 0,w=(x-l)%(d+f);b=w<d?x+(d-w):(x+=d+f-w)+d;var S=ON.getSectorPath(p.x,p.y,v,x,Math.min(b,y),v*this.coordinate.innerRadius);h.addShape("path",{name:"meter-gauge",attrs:{path:S,fill:t.color,stroke:t.color,lineWidth:.5}}),x=b+f}return h}});var CZ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e}return(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return gZ},e.prototype.changeData=function(t){this.chart.emit(rE.BEFORE_CHANGE_DATA,cF.fromData(this.chart,rE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find((function(t){return t.id===pZ}));e&&e.data(mZ(t));var n=this.chart.views.find((function(t){return t.id===vZ}));n&&n.data(yZ(t,this.options.range)),wZ({chart:this.chart,options:this.options},!0),this.chart.emit(rE.AFTER_CHANGE_DATA,cF.fromData(this.chart,rE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return kZ},e}(gH),EZ="$$yField$$",OZ="$$diffField$$",MZ="$$absoluteField$$",_Z="$$isTotal$$",AZ={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function TZ(t,e,n,r){var i=function(t,e,n,r,i){var o,a=[];if((0,nE.u4)(t,(function(t,e){var i;IU(EU.WARN,(0,nE.hj)(e[n]),e[n]+" is not a valid number");var o=(0,nE.o8)(e[n])?null:e[n];return a.push((0,eE.pi)((0,eE.pi)({},e),((i={})[r]=[t,t+o],i))),t+o}),0),a.length&&i){var u=(0,nE.U2)(a,[[t.length-1],r,[1]]);a.push(((o={})[e]=i.label,o[n]=u,o[r]=[0,u],o))}return a}(t,e,n,EZ,r);return i.map((function(e,n){var r;return(0,nE.Kn)(e)?(0,eE.pi)((0,eE.pi)({},e),((r={})[MZ]=e.$$yField$$[1],r[OZ]=e.$$yField$$[1]-e.$$yField$$[0],r[_Z]=n===t.length,r)):e}))}function PZ(t){var e=t.options,n=e.locale,r=e.total,i=dH(n).get(["waterfall","total"]);return r&&"string"!==typeof r.label&&i&&(t.options.total.label=i),t}function DZ(t){var e=t.chart,n=t.options,r=n.data,i=n.xField,o=n.yField,a=n.total,u=n.leaderLine,s=n.columnWidthRatio,l=n.waterfallStyle,c=n.risingFill,f=n.fallingFill,d=n.color;e.data(TZ(r,i,o,a));var h=d||function(t){return(0,nE.U2)(t,[_Z])?(0,nE.U2)(a,["style","fill"],""):(0,nE.U2)(t,[EZ,1])-(0,nE.U2)(t,[EZ,0])>0?c:f};return KH(KU({},t,{options:{xField:i,yField:EZ,seriesField:i,rawFields:[o,OZ,_Z,EZ],widthRatio:s,interval:{style:l,shape:"waterfall",color:h}}})).ext.geometry.customInfo({leaderLine:u}),t}function FZ(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,u=r.yField,s=r.meta,l=KU({},{alias:u},(0,nE.U2)(s,u));return TU(zH(((e={})[a]=i,e[u]=o,e.$$yField$$=o,e),KU({},s,((n={}).$$yField$$=l,n[OZ]=l,n[MZ]=l,n))))(t)}function NZ(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?(e.axis(a,!1),e.axis(EZ,!1)):(e.axis(a,i),e.axis(EZ,i)),t}function IZ(t){var e=t.chart,n=t.options,r=n.legend,i=n.total,o=n.risingFill,a=n.fallingFill,u=dH(n.locale);if(!1===r)e.legend(!1);else{var s=[{name:u.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:o}}},{name:u.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:a}}}];i&&s.push({name:i.label||"",value:"total",marker:{symbol:"square",style:KU({},{r:5},(0,nE.U2)(i,"style"))}}),e.legend(KU({},{custom:!0,position:"top",items:s},r)),e.removeInteraction("legend-filter")}return t}function LZ(t){var e=t.chart,n=t.options,r=n.label,i=n.labelMode,o=n.xField,a=RU(e,"interval");if(r){var u=r.callback,s=(0,eE._T)(r,["callback"]);a.label({fields:"absolute"===i?[MZ,o]:[OZ,o],callback:u,cfg:VU(s)})}else a.label(!1);return t}function RZ(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.xField,o=n.yField;if(!1!==r){e.tooltip((0,eE.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[o]},r));var a=e.geometries[0];(null===r||void 0===r?void 0:r.formatter)?a.tooltip(i+"*"+o,r.formatter):a.tooltip(o)}else e.tooltip(!1);return t}function jZ(t){return TU(PZ,LH,DZ,FZ,NZ,IZ,RZ,LZ,RH,NH,IH,UH())(t)}HF("interval","waterfall",{draw:function(t,e){var n=t.customInfo,r=t.points,i=t.nextPoints,o=e.addGroup(),a=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["z"]),e}(r)),u=function(t){return KU({},t.defaultStyle,t.style,{fill:t.color})}(t);o.addShape("path",{attrs:(0,eE.pi)((0,eE.pi)({},u),{path:a})});var s=(0,nE.U2)(n,"leaderLine");if(s&&i){var l=[["M",r[2].x,r[2].y],["L",i[0].x,i[0].y]];r[2].y===i[1].y&&(l[1]=["L",i[1].x,i[1].y]),l=this.parsePath(l),o.addShape("path",{attrs:(0,eE.pi)({path:l},s.style||{})})}return o}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="waterfall",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return AZ},e.prototype.changeData=function(t){var e=this.options,n=e.xField,r=e.yField,i=e.total;this.updateOption({data:t}),this.chart.changeData(TZ(t,n,r,i))},e.prototype.getSchemaAdaptor=function(){return jZ},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(gH);function BZ(t,e,n){var r=n.map((function(t){return t[e]})).filter((function(t){return void 0!==t})),i=r.length>0?Math.max.apply(Math,r):0,o=Math.abs(t)%360;return o?360*i/o:i}function zZ(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.color,o=n.tooltip,a=n.colorField,u=n.type,s=n.xField,l=n.yField,c=oH(n.data,l);return e.data(c),KH(KU({},t,{options:{tooltip:o,seriesField:a,interval:{style:r,color:i,shape:"line"===u?"line":"intervel"},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}})),"line"===u&&XH({chart:e,options:{xField:s,yField:l,seriesField:a,point:{shape:"circle",color:i}}}),t}function UZ(t){var e,n=t.options,r=n.yField,i=n.xField,o=n.data,a=n.isStack,u=n.isGroup,s=n.colorField,l=n.maxAngle,c=a&&!u&&s?function(t,e,n){var r=[];return t.forEach((function(t){var i=r.find((function(n){return n[e]===t[e]}));i?i[n]+=t[n]||null:r.push((0,eE.pi)({},t))})),r}(o,i,r):o,f=oH(c,r);return TU(zH(((e={})[r]={min:0,max:BZ(l,r,f)},e)))(t)}function HZ(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}).transpose(),t}function VZ(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis;return e.axis(r,i),t}function WZ(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=RU(e,"interval");if(r){var a=r.callback,u=(0,eE._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:(0,eE.pi)((0,eE.pi)({},VU(u)),{type:"polar"})})}else o.label(!1);return t}function YZ(t){return TU(PH("barStyle"),zZ,UZ,VZ,HZ,NH,IH,LH,FH,DH,UH(),WZ)(t)}var qZ=KU({},gH.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),GZ=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radial-bar",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return qZ},e.prototype.changeData=function(t){this.updateOption({data:t}),UZ({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return YZ}}(gH),"first-axes-view"),$Z="second-axes-view",XZ="series-field-key";function KZ(t,e,n,r,i){var o=[];e.forEach((function(e){r.forEach((function(r){var i,a=((i={})[t]=r[t],i[n]=e,i[e]=r[e],i);o.push(a)}))}));var a=Object.values((0,nE.vM)(o,n)),u=a[0],s=void 0===u?[]:u,l=a[1],c=void 0===l?[]:l;return i?[s.reverse(),c.reverse()]:[s,c]}function ZZ(t){return"vertical"!==t}function JZ(t,e,n){var r=e[0],i=e[1],o=r.autoPadding,a=i.autoPadding,u=t.__axisPosition,s=u.layout,l=u.position;if(ZZ(s)&&"top"===l&&(r.autoPadding=n.instance(o.top,0,o.bottom,o.left),i.autoPadding=n.instance(a.top,o.left,a.bottom,0)),ZZ(s)&&"bottom"===l&&(r.autoPadding=n.instance(o.top,o.right/2+5,o.bottom,o.left),i.autoPadding=n.instance(a.top,a.right,a.bottom,o.right/2+5)),!ZZ(s)&&"bottom"===l){var c=o.left>=a.left?o.left:a.left;r.autoPadding=n.instance(o.top,o.right,o.bottom/2+5,c),i.autoPadding=n.instance(o.bottom/2+5,a.right,a.bottom,c)}if(!ZZ(s)&&"top"===l){c=o.left>=a.left?o.left:a.left;r.autoPadding=n.instance(o.top,o.right,0,c),i.autoPadding=n.instance(0,a.right,o.top,c)}}function QZ(t){var e,n,r=t.chart,i=t.options,o=i.data,a=i.xField,u=i.yField,s=i.color,l=i.barStyle,c=i.widthRatio,f=i.legend,d=i.layout,h=KZ(a,u,XZ,o,ZZ(d));f?r.legend(XZ,f):!1===f&&r.legend(!1);var p=h[0],v=h[1];return ZZ(d)?((e=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:GZ})).coordinate().transpose().reflect("x"),(n=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:$Z})).coordinate().transpose(),e.data(p),n.data(v)):(e=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:GZ}),(n=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:$Z})).coordinate().reflect("y"),e.data(p),n.data(v)),KH(KU({},t,{chart:e,options:{widthRatio:c,xField:a,yField:u[0],seriesField:XZ,interval:{color:s,style:l}}})),KH(KU({},t,{chart:n,options:{xField:a,yField:u[1],seriesField:XZ,widthRatio:c,interval:{color:s,style:l}}})),t}function tJ(t){var e,n,r,i=t.options,o=t.chart,a=i.xAxis,u=i.yAxis,s=i.xField,l=i.yField,c=zU(o,GZ),f=zU(o,$Z),d={};return(0,nE.XP)((null===i||void 0===i?void 0:i.meta)||{}).map((function(t){(0,nE.U2)(null===i||void 0===i?void 0:i.meta,[t,"alias"])&&(d[t]=i.meta[t].alias)})),o.scale(((e={})[XZ]={sync:!0,formatter:function(t){return(0,nE.U2)(d,t,t)}},e)),zH(((n={})[s]=a,n[l[0]]=u[l[0]],n))(KU({},t,{chart:c})),zH(((r={})[s]=a,r[l[1]]=u[l[1]],r))(KU({},t,{chart:f})),t}function eJ(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,u=n.layout,s=zU(e,GZ),l=zU(e,$Z);return"bottom"===(null===r||void 0===r?void 0:r.position)?l.axis(o,(0,eE.pi)((0,eE.pi)({},r),{label:{formatter:function(){return""}}})):l.axis(o,!1),!1===r?s.axis(o,!1):s.axis(o,(0,eE.pi)({position:ZZ(u)?"top":"bottom"},r)),!1===i?(s.axis(a[0],!1),l.axis(a[1],!1)):(s.axis(a[0],i[a[0]]),l.axis(a[1],i[a[1]])),e.__axisPosition={position:s.getOptions().axes[o].position,layout:u},t}function nJ(t){var e=t.chart;return NH(KU({},t,{chart:zU(e,GZ)})),NH(KU({},t,{chart:zU(e,$Z)})),t}function rJ(t){var e=t.chart,n=t.options,r=n.yField,i=n.yAxis;return HH(KU({},t,{chart:zU(e,GZ),options:{yAxis:i[r[0]]}})),HH(KU({},t,{chart:zU(e,$Z),options:{yAxis:i[r[1]]}})),t}function iJ(t){var e=t.chart;return LH(KU({},t,{chart:zU(e,GZ)})),LH(KU({},t,{chart:zU(e,$Z)})),t}function oJ(t){var e=t.chart;return IH(KU({},t,{chart:zU(e,GZ)})),IH(KU({},t,{chart:zU(e,$Z)})),t}function aJ(t){var e,n,r=this,i=t.chart,o=t.options,a=o.label,u=o.yField,s=o.layout,l=zU(i,GZ),c=zU(i,$Z),f=RU(l,"interval"),d=RU(c,"interval");if(a){var h=a.callback,p=(0,eE._T)(a,["callback"]);p.position||(p.position="middle"),void 0===p.offset&&(p.offset=2);var v=(0,eE.pi)({},p);if(ZZ(s)){var g=(null===(e=v.style)||void 0===e?void 0:e.textAlign)||("middle"===p.position?"center":"left");p.style=KU({},p.style,{textAlign:g});v.style=KU({},v.style,{textAlign:{left:"right",right:"left",center:"center"}[g]})}else{var m={top:"bottom",bottom:"top",middle:"middle"};"string"===typeof p.position?p.position=m[p.position]:"function"===typeof p.position&&(p.position=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m[p.position.apply(r,t)]});var y=(null===(n=v.style)||void 0===n?void 0:n.textBaseline)||"bottom";v.style=KU({},v.style,{textBaseline:y});p.style=KU({},p.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[y]})}f.label({fields:[u[0]],callback:h,cfg:VU(v)}),d.label({fields:[u[1]],callback:h,cfg:VU(p)})}else f.label(!1),d.label(!1);return t}function uJ(t){return TU(QZ,tJ,eJ,rJ,iJ,aJ,FH,nJ,oJ)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bidirectional-bar",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return KU({},t.getDefaultOptions.call(this),{syncViewPadding:JZ})},e.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(rE.BEFORE_CHANGE_DATA,cF.fromData(this.chart,rE.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var e=this.options,n=e.xField,r=e.yField,i=e.layout,o=KZ(n,r,XZ,t,ZZ(i)),a=o[0],u=o[1],s=zU(this.chart,GZ),l=zU(this.chart,$Z);s.data(a),l.data(u),this.chart.render(!0),this.chart.emit(rE.AFTER_CHANGE_DATA,cF.fromData(this.chart,rE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return uJ},e.SERIES_FIELD_KEY=XZ}(gH);function sJ(t,e){if((0,nE.kJ)(t))return t.find((function(t){return t.type===e}))}function lJ(t,e){var n=sJ(t,e);return n&&!1!==n.enable}function cJ(t){var e=t.interactions,n=t.drilldown;return(0,nE.U2)(n,"enabled")||lJ(e,"treemap-drill-down")}function fJ(t){var e=t.data,n=t.colorField,r=t.enableDrillDown,i=t.hierarchyConfig,o=ZK(e,(0,eE.pi)((0,eE.pi)({},i),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),a=[];return o.forEach((function(t){if(0===t.depth)return null;if(r&&1!==t.depth)return null;if(!r&&t.children)return null;var o=t.ancestors().map((function(t){return{data:t.data,height:t.height,value:t.value}})),u=r&&(0,nE.kJ)(e.path)?o.concat(e.path.slice(1)):o,s=Object.assign({},t.data,(0,eE.pi)({x:t.x,y:t.y,depth:t.depth,value:t.value,path:u},t));if(!t.data[n]&&t.parent){var l=t.ancestors().find((function(t){return t.data[n]}));s[n]=null===l||void 0===l?void 0:l.data[n]}else s[n]=t.data[n];s[UX]={hierarchyConfig:i,colorField:n,enableDrillDown:r},a.push(s)})),a}function dJ(t){var e=t.options.colorField;return KU({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function hJ(t){var e=t.chart,n=t.options,r=n.color,i=n.colorField,o=n.rectStyle,a=n.hierarchyConfig,u=n.rawFields,s=fJ({data:n.data,colorField:n.colorField,enableDrillDown:cJ(n),hierarchyConfig:a});return e.data(s),ZH(KU({},t,{options:{xField:"x",yField:"y",seriesField:i,rawFields:u,polygon:{color:r,style:o}}})),e.coordinate().reflect("y"),t}function pJ(t){return t.chart.axis(!1),t}function vJ(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return cJ(t)?KU({},t,{interactions:(0,eE.pr)(r,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:fJ}}])}):t}function gJ(t){var e=t.chart,n=t.options,r=n.interactions,i=n.drilldown;NH({chart:e,options:vJ(n)});var o=sJ(r,"view-zoom");return o&&(!1!==o.enable?e.getCanvas().on("mousewheel",(function(t){t.preventDefault()})):e.getCanvas().off("mousewheel")),cJ(n)&&(e.appendPadding=uH(e.appendPadding,(0,nE.U2)(i,["breadCrumb","position"]))),t}function mJ(t){return TU(dJ,LH,PH("rectStyle"),hJ,pJ,DH,FH,gJ,IH,UH())(t)}var yJ={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521d\u59cb",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return yJ},e.prototype.changeData=function(t){var e=this.options,n=e.colorField,r=e.interactions,i=e.hierarchyConfig;this.updateOption({data:t});var o=fJ({data:t,colorField:n,enableDrillDown:lJ(r,"treemap-drill-down"),hierarchyConfig:i});this.chart.changeData(o),function(t){var e=t.interactions["drill-down"];e&&e.context.actions.find((function(t){return"drill-down-action"===t.name})).reset()}(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return mJ}}(gH);function xJ(t){return t.target.depth}function bJ(t,e){return t.sourceLinks.length?t.depth:e-1}function wJ(t){return function(){return t}}function SJ(t,e){for(var n=0,r=0;r<t.length;r++)n+=e(t[r]);return n}function kJ(t,e){for(var n=-1/0,r=0;r<t.length;r++)n=Math.max(e(t[r]),n);return n}function CJ(t,e){return OJ(t.source,e.source)||t.index-e.index}function EJ(t,e){return OJ(t.target,e.target)||t.index-e.index}function OJ(t,e){return t.y0-e.y0}function MJ(t){return t.value}function _J(t){return t.index}function AJ(t){return t.nodes}function TJ(t){return t.links}function PJ(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function DJ(t){for(var e=0,n=t.nodes;e<n.length;e++){for(var r=n[e],i=r.y0,o=i,a=0,u=r.sourceLinks;a<u.length;a++){(c=u[a]).y0=i+c.width/2,i+=c.width}for(var s=0,l=r.targetLinks;s<l.length;s++){var c;(c=l[s]).y1=o+c.width/2,o+=c.width}}}function FJ(){var t,e,n,r,i=0,o=0,a=1,u=1,s=24,l=8,c=_J,f=bJ,d=AJ,h=TJ,p=6;function v(v){var y={nodes:d(v),links:h(v)};return function(t){var e=t.nodes,n=t.links;e.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var i=new Map(e.map((function(t){return[c(t),t]})));if(n.forEach((function(t,e){t.index=e;var n=t.source,r=t.target;"object"!==typeof n&&(n=t.source=PJ(i,n)),"object"!==typeof r&&(r=t.target=PJ(i,r)),n.sourceLinks.push(t),r.targetLinks.push(t)})),null!=r)for(var o=0,a=e;o<a.length;o++){var u=a[o],s=u.sourceLinks,l=u.targetLinks;s.sort(r),l.sort(r)}}(y),function(t){for(var e=t.nodes,n=0,r=e;n<r.length;n++){var i=r[n];i.value=void 0===i.fixedValue?Math.max(SJ(i.sourceLinks,MJ),SJ(i.targetLinks,MJ)):i.fixedValue}}(y),function(t){var n=t.nodes,r=n.length,i=new Set(n),o=new Set,a=0;for(;i.size;){if(i.forEach((function(t){t.depth=a;for(var e=0,n=t.sourceLinks;e<n.length;e++){var r=n[e].target;o.add(r)}})),++a>r)throw new Error("circular link");i=o,o=new Set}if(e)for(var u=Math.max(kJ(n,(function(t){return t.depth}))+1,0),s=void 0,l=0;l<n.length;l++)(s=n[l]).depth=e.call(null,s,u)}(y),function(t){var e=t.nodes,n=e.length,r=new Set(e),i=new Set,o=0;for(;r.size;){if(r.forEach((function(t){t.height=o;for(var e=0,n=t.targetLinks;e<n.length;e++){var r=n[e].source;i.add(r)}})),++o>n)throw new Error("circular link");r=i,i=new Set}}(y),function(e){var r=function(t){for(var e=t.nodes,r=Math.max(kJ(e,(function(t){return t.depth}))+1,0),o=(a-i-s)/(r-1),u=new Array(r).fill(0).map((function(){return[]})),l=0,c=e;l<c.length;l++){var d=c[l],h=Math.max(0,Math.min(r-1,Math.floor(f.call(null,d,r))));d.layer=h,d.x0=i+h*o,d.x1=d.x0+s,u[h]?u[h].push(d):u[h]=[d]}if(n)for(var p=0,v=u;p<v.length;p++){v[p].sort(n)}return u}(e);t=Math.min(l,(u-o)/(kJ(r,(function(t){return t.length}))-1)),function(e){for(var n=function(t,e){for(var n=1/0,r=0;r<t.length;r++)n=Math.min(e(t[r]),n);return n}(e,(function(e){return(u-o-(e.length-1)*t)/SJ(e,MJ)})),r=0,i=e;r<i.length;r++){for(var a=i[r],s=o,l=0,c=a;l<c.length;l++){(v=c[l]).y0=s,v.y1=s+v.value*n,s=v.y1+t;for(var f=0,d=v.sourceLinks;f<d.length;f++){var h=d[f];h.width=h.value*n}}s=(u-s+t)/(a.length+1);for(var p=0;p<a.length;++p){var v;(v=a[p]).y0+=s*(p+1),v.y1+=s*(p+1)}S(a)}}(r);for(var c=0;c<p;++c){var d=Math.pow(.99,c),h=Math.max(1-d,(c+1)/p);m(r,d,h),g(r,d,h)}}(y),DJ(y),y}function g(t,e,r){for(var i=1,o=t.length;i<o;++i){for(var a=t[i],u=0,s=a;u<s.length;u++){for(var l=s[u],c=0,f=0,d=0,h=l.targetLinks;d<h.length;d++){var p=h[d],v=p.source,g=p.value*(l.layer-v.layer);c+=k(v,l)*g,f+=g}if(f>0){var m=(c/f-l.y0)*e;l.y0+=m,l.y1+=m,w(l)}}void 0===n&&a.sort(OJ),a.length&&y(a,r)}}function m(t,e,r){for(var i=t.length-2;i>=0;--i){for(var o=t[i],a=0,u=o;a<u.length;a++){for(var s=u[a],l=0,c=0,f=0,d=s.sourceLinks;f<d.length;f++){var h=d[f],p=h.target,v=h.value*(p.layer-s.layer);l+=C(s,p)*v,c+=v}if(c>0){var g=(l/c-s.y0)*e;s.y0+=g,s.y1+=g,w(s)}}void 0===n&&o.sort(OJ),o.length&&y(o,r)}}function y(e,n){var r=e.length>>1,i=e[r];b(e,i.y0-t,r-1,n),x(e,i.y1+t,r+1,n),b(e,u,e.length-1,n),x(e,o,0,n)}function x(e,n,r,i){for(;r<e.length;++r){var o=e[r],a=(n-o.y0)*i;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+t}}function b(e,n,r,i){for(;r>=0;--r){var o=e[r],a=(o.y1-n)*i;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-t}}function w(t){var e=t.sourceLinks,n=t.targetLinks;if(void 0===r){for(var i=0,o=n;i<o.length;i++){o[i].source.sourceLinks.sort(EJ)}for(var a=0,u=e;a<u.length;a++){u[a].target.targetLinks.sort(CJ)}}}function S(t){if(void 0===r)for(var e=0,n=t;e<n.length;e++){var i=n[e],o=i.sourceLinks,a=i.targetLinks;o.sort(EJ),a.sort(CJ)}}function k(e,n){for(var r=e.y0-(e.sourceLinks.length-1)*t/2,i=0,o=e.sourceLinks;i<o.length;i++){var a=o[i],u=a.target,s=a.width;if(u===n)break;r+=s+t}for(var l=0,c=n.targetLinks;l<c.length;l++){var f=c[l];u=f.source,s=f.width;if(u===e)break;r-=s}return r}function C(e,n){for(var r=n.y0-(n.targetLinks.length-1)*t/2,i=0,o=n.targetLinks;i<o.length;i++){var a=o[i],u=a.source,s=a.width;if(u===e)break;r+=s+t}for(var l=0,c=e.sourceLinks;l<c.length;l++){var f=c[l];u=f.target,s=f.width;if(u===n)break;r-=s}return r}return v.update=function(t){return DJ(t),t},v.nodeId=function(t){return arguments.length?(c="function"===typeof t?t:wJ(t),v):c},v.nodeAlign=function(t){return arguments.length?(f="function"===typeof t?t:wJ(t),v):f},v.nodeDepth=function(t){return arguments.length?(e=t,v):e},v.nodeSort=function(t){return arguments.length?(n=t,v):n},v.nodeWidth=function(t){return arguments.length?(s=+t,v):s},v.nodePadding=function(e){return arguments.length?(l=t=+e,v):l},v.nodes=function(t){return arguments.length?(d="function"===typeof t?t:wJ(t),v):d},v.links=function(t){return arguments.length?(h="function"===typeof t?t:wJ(t),v):h},v.linkSort=function(t){return arguments.length?(r=t,v):r},v.size=function(t){return arguments.length?(i=o=0,a=+t[0],u=+t[1],v):[a-i,u-o]},v.extent=function(t){return arguments.length?(i=+t[0][0],a=+t[1][0],o=+t[0][1],u=+t[1][1],v):[[i,o],[a,u]]},v.iterations=function(t){return arguments.length?(p=+t,v):p},v}var NJ={left:function(t){return t.depth},right:function(t,e){return e-1-t.height},center:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?(0,nE.F)(t.sourceLinks,xJ)-1:0},justify:bJ},IJ={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function LJ(t,e){var n=function(t){return(0,nE.f0)({},IJ,t)}(t),r=n.nodeId,i=n.nodeSort,o=n.nodeAlign,a=n.nodeWidth,u=n.nodePadding,s=n.nodeDepth,l=FJ().nodeSort(i).nodeWidth(a).nodePadding(u).nodeDepth(s).nodeAlign(function(t){return((0,nE.HD)(t)?NJ[t]:(0,nE.mf)(t)?t:null)||bJ}(o)).extent([[0,0],[1,1]]).nodeId(r),c=l(e);return c.nodes.forEach((function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;t.x=[e,n,n,e],t.y=[r,r,i,i]})),c.links.forEach((function(t){var e=t.source,n=t.target,r=e.x1,i=n.x0;t.x=[r,r,i,i];var o=t.width/2;t.y=[t.y0+o,t.y0-o,t.y1+o,t.y1-o]})),c}function RJ(t,e,n){if(!(0,nE.kJ)(t))return[];var r=[],i=function(t,e,n){var r=[];return t.forEach((function(t){var i=t[e],o=t[n];r.includes(i)||r.push(i),r.includes(o)||r.push(o)})),r}(t,e,n),o=function(t,e,n,r){var i={};return e.forEach((function(t){i[t]={},e.forEach((function(e){i[t][e]=0}))})),t.forEach((function(t){i[t[n]][t[r]]=1})),i}(t,i,e,n),a={};function u(t){a[t]=1,i.forEach((function(e){if(0!=o[t][e])if(1==a[e])r.push(t+"_"+e);else{if(-1==a[e])return;u(e)}})),a[t]=-1}return i.forEach((function(t){a[t]=0})),i.forEach((function(t){-1!=a[t]&&u(t)})),0!==r.length&&console.warn("sankey data contains circle, "+r.length+" records removed.",r),t.filter((function(t){return r.findIndex((function(r){return r===t[e]+"_"+t[n]}))<0}))}function jJ(t,e,n){return nH(t)?t/n:e}function BJ(t,e,n){return nH(t)?t/n:e}function zJ(t,e,n){var r,i=t.dataType,o=t.data,a=t.sourceField,u=t.targetField,s=t.weightField,l=t.nodeAlign,c=t.nodeSort,f=t.nodePadding,d=t.nodePaddingRatio,h=t.nodeWidth,p=t.nodeWidthRatio,v=t.nodeDepth,g=t.rawFields,m=void 0===g?[]:g;r=function(t){return"node-link"===t}(i)?o:iH(RJ(o,a,u),a,u,s,m);var y=LJ({nodeAlign:l,nodePadding:BJ(f,d,n),nodeWidth:jJ(h,p,e),nodeSort:c,nodeDepth:v},r),x=y.nodes,b=y.links;return{nodes:x.map((function(t){return(0,eE.pi)((0,eE.pi)({},PU(t,(0,eE.pr)(["x","y","name"],m))),{isNode:!0})})),edges:b.map((function(t){return(0,eE.pi)((0,eE.pi)({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},PU(t,(0,eE.pr)(["x","y","value"],m))),{isNode:!1})}))}}var UJ="name",HJ="nodes",VJ="edges";function WJ(t){var e=t.options.rawFields,n=void 0===e?[]:e;return KU({},{options:{tooltip:{fields:(0,nE.jj)((0,eE.pr)(["name","source","target","value","isNode"],n))},label:{fields:(0,nE.jj)((0,eE.pr)(["x","name"],n))}}},t)}function YJ(t){var e=t.chart,n=t.options,r=n.color,i=n.nodeStyle,o=n.edgeStyle,a=n.label,u=n.tooltip,s=n.nodeState,l=n.edgeState;e.legend(!1),e.tooltip(u),e.axis(!1),e.coordinate().reflect("y");var c=zJ(n,e.width,e.height),f=c.nodes,d=c.edges,h=e.createView({id:VJ});h.data(d),JH({chart:h,options:{xField:"x",yField:"y",seriesField:UJ,edge:{color:r,style:o,shape:"arc"},tooltip:u,state:l}});var p=e.createView({id:HJ});return p.data(f),ZH({chart:p,options:{xField:"x",yField:"y",seriesField:UJ,polygon:{color:r,style:i},label:a,tooltip:u,state:s}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function qJ(t){var e=t.chart,n=t.options.animation;return"boolean"===typeof n?e.animate(n):e.animate(!0),(0,eE.pr)(e.views[0].geometries,e.views[1].geometries).forEach((function(t){t.animate(n)})),t}function GJ(t){var e=t.chart,n="sankey-node-draggable";return t.options.nodeDraggable?e.interaction(n):e.removeInteraction(n),t}function $J(t){var e=t.chart,n=t.options,r=n.interactions,i=void 0===r?[]:r,o=[].concat(i,n.nodeInteractions||[]),a=[].concat(i,n.edgeInteractions||[]),u=zU(e,HJ),s=zU(e,VJ);return o.forEach((function(t){!1===(null===t||void 0===t?void 0:t.enable)?u.removeInteraction(t.type):u.interaction(t.type,t.cfg||{})})),a.forEach((function(t){!1===(null===t||void 0===t?void 0:t.enable)?s.removeInteraction(t.type):s.interaction(t.type,t.cfg||{})})),t}function XJ(t){return TU(WJ,YJ,$J,GJ,qJ,LH)(t)}var KJ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return(0,eE.ZT)(e,t),e.prototype.isNodeElement=function(){var t=(0,nE.U2)(this.context,"event.target");if(t){var e=t.get("element");return e&&e.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return zU(this.context.view,HJ)},e.prototype.getEdgeView=function(){return zU(this.context.view,VJ)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,nE.U2)(this.context,"event.x"),y:(0,nE.U2)(this.context,"event.y")};var t=this.context.event.target.get("element"),e=this.getCurrentDatumIdx(t);if(-1===e)return;this.currentElementIdx=e,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,e={x:(0,nE.U2)(this.context,"event.x"),y:(0,nE.U2)(this.context,"event.y")},n=e.x-this.prevPoint.x,r=e.y-this.prevPoint.y,i=this.getNodeView(),o=i.geometries[0].elements[this.currentElementIdx];if(o&&o.getModel()){var a=o.getModel().data,u=i.getOptions().data,s=i.getCoordinate(),l={x:n/s.getWidth(),y:r/s.getHeight()},c=(0,eE.pi)((0,eE.pi)({},a),{x:a.x.map((function(t){return t+l.x})),y:a.y.map((function(t){return t+l.y}))}),f=(0,eE.pr)(u);f[this.currentElementIdx]=c,i.data(f);var d=a.name,h=this.getEdgeView(),p=h.getOptions().data;p.forEach((function(t){t.source===d&&(t.x[0]+=l.x,t.x[1]+=l.x,t.y[0]+=l.y,t.y[1]+=l.y),t.target===d&&(t.x[2]+=l.x,t.x[3]+=l.x,t.y[2]+=l.y,t.y[3]+=l.y)})),h.data(p),this.prevPoint=e,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(BP);WP("sankey-node-drag",KJ),DD("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sankey",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){var e=1===t[1];return{style:{fill:"#545454",textAlign:e?"end":"start"},offsetX:e?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,nE.U2)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var e=zJ(this.options,this.chart.width,this.chart.height),n=e.nodes,r=e.edges,i=zU(this.chart,HJ),o=zU(this.chart,VJ);i.changeData(n),o.changeData(r)},e.prototype.getSchemaAdaptor=function(){return XJ},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(gH);var ZJ={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function JJ(t,e){var n=function(t){return(0,nE.f0)({},ZJ,t)}(t),r={},i=e.nodes,o=e.links;i.forEach((function(t){var e=n.id(t);r[e]=t})),function(t,e,n){(0,nE.U5)(t,(function(t,r){t.inEdges=e.filter((function(t){return""+n.target(t)===""+r})),t.outEdges=e.filter((function(t){return""+n.source(t)===""+r})),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach((function(e){t.value+=n.targetWeight(e)})),t.outEdges.forEach((function(e){t.value+=n.sourceWeight(e)}))}))}(r,o,n),function(t,e){var n={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,n){return(""+e.id(t)).localeCompare(""+e.id(n))}},r=n[e.sortBy];!r&&(0,nE.mf)(e.sortBy)&&(r=e.sortBy),r&&t.sort(r)}(i,n);var a=function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var r=e.nodePaddingRatio;if(r<0||r>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=r/(2*n),o=e.nodeWidthRatio;if(o<=0||o>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var a=0;t.forEach((function(t){a+=t.value})),t.forEach((function(t){t.weight=t.value/a,t.width=t.weight*(1-r),t.height=o})),t.forEach((function(n,r){for(var a=0,u=r-1;u>=0;u--)a+=t[u].width+2*i;var s=n.minX=i+a,l=n.maxX=n.minX+n.width,c=n.minY=e.y-o/2,f=n.maxY=c+o;n.x=[s,l,l,s],n.y=[c,c,f,f]}))}else{var u=1/n;t.forEach((function(t,n){t.x=(n+.5)*u,t.y=e.y}))}return t}(i,n),u=function(t,e,n){if(n.weight){var r={};(0,nE.U5)(t,(function(t,e){r[e]=t.value})),e.forEach((function(e){var i=n.source(e),o=n.target(e),a=t[i],u=t[o];if(a&&u){var s=r[i],l=n.sourceWeight(e),c=a.minX+(a.value-s)/a.value*a.width,f=c+l/a.value*a.width;r[i]-=l;var d=r[o],h=n.targetWeight(e),p=u.minX+(u.value-d)/u.value*u.width,v=p+h/u.value*u.width;r[o]-=h;var g=n.y;e.x=[c,f,p,v],e.y=[g,g,g,g],e.source=a,e.target=u}}))}else e.forEach((function(e){var r=t[n.source(e)],i=t[n.target(e)];r&&i&&(e.x=[r.x,i.x],e.y=[r.y,i.y],e.source=r,e.target=i)}));return e}(r,o,n);return{nodes:a,links:u}}var QJ="name",tQ="source",eQ={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:(t[0]+t[1])/2>.5?-4:4,content:e}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!(0,nE.U2)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function nQ(t){var e=t.options,n=e.data,r=e.sourceField,i=e.targetField,o=e.weightField,a=e.nodePaddingRatio,u=e.nodeWidthRatio,s=e.rawFields,l=void 0===s?[]:s,c=JJ({weight:!0,nodePaddingRatio:a,nodeWidthRatio:u},iH(n,r,i,o)),f=c.nodes,d=c.links,h=f.map((function(t){return(0,eE.pi)((0,eE.pi)({},PU(t,(0,eE.pr)(["id","x","y","name"],l))),{isNode:!0})})),p=d.map((function(t){return(0,eE.pi)((0,eE.pi)({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},PU(t,(0,eE.pr)(["x","y","value"],l))),{isNode:!1})}));return(0,eE.pi)((0,eE.pi)({},t),{ext:(0,eE.pi)((0,eE.pi)({},t.ext),{chordData:{nodesData:h,edgesData:p}})})}function rQ(t){var e;return t.chart.scale(((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}}).name={sync:"color"},e.source={sync:"color"},e)),t}function iQ(t){return t.chart.axis(!1),t}function oQ(t){return t.chart.legend(!1),t}function aQ(t){var e=t.chart,n=t.options.tooltip;return e.tooltip(n),t}function uQ(t){return t.chart.coordinate("polar").reflect("y"),t}function sQ(t){var e=t.chart,n=t.options,r=t.ext.chordData.nodesData,i=n.nodeStyle,o=n.label,a=n.tooltip,u=e.createView();return u.data(r),ZH({chart:u,options:{xField:"x",yField:"y",seriesField:QJ,polygon:{style:i},label:o,tooltip:a}}),t}function lQ(t){var e=t.chart,n=t.options,r=t.ext.chordData.edgesData,i=n.edgeStyle,o=n.tooltip,a=e.createView();return a.data(r),JH({chart:a,options:{xField:"x",yField:"y",seriesField:tQ,edge:{style:i,shape:"arc"},tooltip:o}}),t}function cQ(t){var e=t.chart,n=t.options.animation;return"boolean"===typeof n?e.animate(n):e.animate(!0),(0,nE.S6)(function(t){return(0,nE.U2)(t,["views","length"],0)<=0?t.geometries:(0,nE.u4)(t.views,(function(t,e){return t.concat(e.geometries)}),t.geometries)}(e),(function(t){t.animate(n)})),t}function fQ(t){return TU(LH,nQ,uQ,rQ,iQ,oQ,aQ,lQ,sQ,NH,RH,cQ)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="chord",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return eQ},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return fQ}}(gH);var dQ={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}};function hQ(t){var e=t.data,n=t.hierarchyConfig,r=t.rawFields,i=void 0===r?[]:r,o=t.enableDrillDown,a=function(t,e){var n,r=(e=(0,nE.f0)({},dQ,e)).as;if(!(0,nE.kJ)(r)||3!==r.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=DX(e)}catch(v1t){console.warn(v1t)}var i=function(t){return OK().size(e.size).padding(e.padding)(XX(t).sum((function(t){return t[n]})).sort(e.sort))}(t),o=r[0],a=r[1],u=r[2];return i.each((function(t){t[o]=t.x,t[a]=t.y,t[u]=t.r})),FX(i)}(e,(0,eE.pi)((0,eE.pi)({},n),{field:"value",as:["x","y","r"]})),u=[];return a.forEach((function(t){for(var e,r=t.data.name,a=(0,eE.pi)({},t);a.depth>1;)r=(null===(e=a.parent.data)||void 0===e?void 0:e.name)+" / "+r,a=a.parent;if(o&&t.depth>2)return null;var s=KU({},t.data,(0,eE.pi)((0,eE.pi)((0,eE.pi)({},PU(t.data,i)),{path:r}),t));s.ext=n,s[UX]={hierarchyConfig:n,rawFields:i,enableDrillDown:o},u.push(s)})),u}function pQ(t,e,n){var r=sH([t,e]),i=r[0],o=r[1],a=r[2],u=r[3],s=n.width-(u+o),l=n.height-(i+a),c=Math.min(s,l),f=(s-c)/2,d=(l-c)/2;return{finalPadding:[i+d,o+f,a+d,u+f],finalSize:c<0?0:c}}var vQ=["x","y","r","name","value","path","depth"],gQ={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};function mQ(t){var e=t.chart,n=Math.min(e.viewBBox.width,e.viewBBox.height);return KU({options:{size:function(t){return t.r*n}}},t)}function yQ(t){var e=t.options,n=t.chart,r=n.viewBBox,i=e.padding,o=e.appendPadding,a=e.drilldown,u=o;(null===a||void 0===a?void 0:a.enabled)&&(u=sH([uH(n.appendPadding,(0,nE.U2)(a,["breadCrumb","position"])),o]));var s=pQ(i,u,r).finalPadding;return n.padding=s,n.appendPadding=0,t}function xQ(t){var e=t.chart,n=t.options,r=e.padding,i=e.appendPadding,o=n.color,a=n.colorField,u=n.pointStyle,s=n.hierarchyConfig,l=n.sizeField,c=n.rawFields,f=void 0===c?[]:c,d=n.drilldown,h=hQ({data:n.data,hierarchyConfig:s,enableDrillDown:null===d||void 0===d?void 0:d.enabled,rawFields:f});e.data(h);var p=pQ(r,i,e.viewBBox).finalSize,v=function(t){return t.r*p};return l&&(v=function(t){return t[l]*p}),XH(KU({},t,{options:{xField:"x",yField:"y",seriesField:a,sizeField:l,rawFields:(0,eE.pr)(vQ,f),point:{color:o,style:u,shape:"circle",size:v}}})),t}function bQ(t){return TU(zH({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function wQ(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var r=n;(0,nE.U2)(n,"fields")||(r=KU({},{customItems:function(t){return t.map((function(t){var n=(0,nE.U2)(e.getOptions(),"scales"),r=(0,nE.U2)(n,["name","formatter"],(function(t){return t})),i=(0,nE.U2)(n,["value","formatter"],(function(t){return t}));return(0,eE.pi)((0,eE.pi)({},t),{name:r(t.data.name),value:i(t.data.value)})}))}},r)),e.tooltip(r)}return t}function SQ(t){return t.chart.axis(!1),t}function kQ(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return(null===e||void 0===e?void 0:e.enabled)?KU({},t,{interactions:(0,eE.pr)(r,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:hQ,enableDrillDown:!0}}])}):t}function CQ(t){return NH({chart:t.chart,options:kQ(t.options)}),t}function EQ(t){return TU(PH("pointStyle"),mQ,yQ,LH,bQ,xQ,SQ,DH,wQ,CQ,IH,UH())(t)}(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle-packing",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return gQ},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return EQ},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}})(gH),function(t){function e(e,n,r,i){var o=t.call(this,e,KU({},i,n))||this;return o.type="g2-plot",o.defaultOptions=i,o.adaptor=r,o}(0,eE.ZT)(e,t),e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor}}(gH);var OQ={line:uV,pie:fW,column:jV,bar:qV,area:gV,gauge:kZ,"tiny-line":aq,"tiny-column":lq,"tiny-area":iq,"ring-progress":Iq,progress:Pq,scatter:fY,histogram:Cq,funnel:oX},MQ={line:cV,pie:dW,column:zV,bar:$V,area:yV,gauge:CZ,"tiny-line":uq,"tiny-column":dq,"tiny-area":pq,"ring-progress":Rq,progress:Dq,scatter:hY,histogram:Eq,funnel:aX},_Q={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function AQ(t,e,n){var r=MQ[t];r?(0,OQ[t])({chart:e,options:KU({},r.getDefaultOptions(),(0,nE.U2)(_Q,t,{}),n)}):console.error("could not find "+t+" plot")}function TQ(t){var e=t.chart,n=t.options,r=n.views,i=n.legend;return(0,nE.S6)(r,(function(t){var n=t.region,r=t.data,i=t.meta,o=t.axes,a=t.coordinate,u=t.interactions,s=t.annotations,l=t.tooltip,c=t.geometries,f=e.createView({region:n});f.data(r);var d={};o&&(0,nE.S6)(o,(function(t,e){d[e]=PU(t,mH)})),d=KU({},i,d),f.scale(d),o?(0,nE.S6)(o,(function(t,e){f.axis(e,t)})):f.axis(!1),f.coordinate(a),(0,nE.S6)(c,(function(t){var e=qH({chart:f,options:t}).ext,n=t.adjust;n&&e.geometry.adjust(n)})),(0,nE.S6)(u,(function(t){!1===t.enable?f.removeInteraction(t.type):f.interaction(t.type,t.cfg)})),(0,nE.S6)(s,(function(t){f.annotation()[t.type]((0,eE.pi)({},t))})),"boolean"===typeof t.animation?f.animate(!1):(f.animate(!0),(0,nE.S6)(f.geometries,(function(e){e.animate(t.animation)}))),l&&(f.interaction("tooltip"),f.tooltip(l))})),i?(0,nE.S6)(i,(function(t,n){e.legend(n,t)})):e.legend(!1),e.tooltip(n.tooltip),t}function PQ(t){var e=t.chart,n=t.options.plots;return(0,nE.S6)(n,(function(t){var n=t.type,r=t.region,i=t.options,o=void 0===i?{}:i,a=o.tooltip,u=e.createView((0,eE.pi)({region:r},PU(o,vH)));a&&u.interaction("tooltip"),AQ(n,u,o)})),t}function DQ(t){return TU(IH,TQ,PQ,NH,IH,LH,FH)(t)}var FQ=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,eE.ZT)(e,t),e.prototype.getAssociationItems=function(t,e){var n,r=this.context.event,i=e||{},o=i.linkField,a=i.dim,u=[];if(null===(n=r.data)||void 0===n?void 0:n.data){var s=r.data.data;(0,nE.S6)(t,(function(t){var e,n,r=o;if("x"===a?r=t.getXScale().field:"y"===a?r=null===(e=t.getYScales().find((function(t){return t.field===r})))||void 0===e?void 0:e.field:r||(r=null===(n=t.getGroupScales()[0])||void 0===n?void 0:n.field),r){var i=(0,nE.UI)(jU(t),(function(e){var n=!1,i=!1,o=(0,nE.kJ)(s)?(0,nE.U2)(s[0],r):(0,nE.U2)(s,r);return function(t,e){var n=t.getModel().data;return(0,nE.kJ)(n)?n[0][e]:n[e]}(e,r)===o?n=!0:i=!0,{element:e,view:t,active:n,inactive:i}}));u.push.apply(u,i)}}))}return u},e.prototype.showTooltip=function(t){var e=HU(this.context.view),n=this.getAssociationItems(e,t);(0,nE.S6)(n,(function(t){if(t.active){var e=t.element.shape.getCanvasBBox();t.view.showTooltip({x:e.minX+e.width/2,y:e.minY+e.height/2})}}))},e.prototype.hideTooltip=function(){var t=HU(this.context.view);(0,nE.S6)(t,(function(t){t.hideTooltip()}))},e.prototype.active=function(t){var e=UU(this.context.view),n=this.getAssociationItems(e,t);(0,nE.S6)(n,(function(t){var e=t.active,n=t.element;e&&n.setState("active",!0)}))},e.prototype.selected=function(t){var e=UU(this.context.view),n=this.getAssociationItems(e,t);(0,nE.S6)(n,(function(t){var e=t.active,n=t.element;e&&n.setState("selected",!0)}))},e.prototype.highlight=function(t){var e=UU(this.context.view),n=this.getAssociationItems(e,t);(0,nE.S6)(n,(function(t){var e=t.inactive,n=t.element;e&&n.setState("inactive",!0)}))},e.prototype.reset=function(){var t=UU(this.context.view);(0,nE.S6)(t,(function(t){!function(t){var e=jU(t);(0,nE.S6)(e,(function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)}))}(t)}))},e}(BP);WP("association",FQ),DD("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),DD("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),DD("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),DD("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var NQ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="mix",e}return(0,eE.ZT)(e,t),e.prototype.getSchemaAdaptor=function(){return DQ},e}(gH);function IQ(t){var e=t.chart,n=t.options,r=n.type,i=n.data,o=n.fields,a=n.eachView,u=(0,nE.CE)(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(i),e.facet(r,(0,eE.pi)((0,eE.pi)({},u),{fields:o,eachView:function(t,e){var n=a(t,e);if(n.geometries)!function(t,e){var n=e.data,r=e.coordinate,i=e.interactions,o=e.annotations,a=e.animation,u=e.tooltip,s=e.axes,l=e.meta,c=e.geometries;n&&t.data(n);var f={};s&&(0,nE.S6)(s,(function(t,e){f[e]=PU(t,mH)})),f=KU({},l,f),t.scale(f),r&&t.coordinate(r),!1===s?t.axis(!1):(0,nE.S6)(s,(function(e,n){t.axis(n,e)})),(0,nE.S6)(c,(function(e){var n=qH({chart:t,options:e}).ext,r=e.adjust;r&&n.geometry.adjust(r)})),(0,nE.S6)(i,(function(e){!1===e.enable?t.removeInteraction(e.type):t.interaction(e.type,e.cfg)})),(0,nE.S6)(o,(function(e){t.annotation()[e.type]((0,eE.pi)({},e))})),"boolean"===typeof a?t.animate(!1):(t.animate(!0),(0,nE.S6)(t.geometries,(function(t){t.animate(a)}))),u?(t.interaction("tooltip"),t.tooltip(u)):!1===u&&t.removeInteraction("tooltip")}(t,n);else{var r=n,i=r.options;i.tooltip&&t.interaction("tooltip"),AQ(r.type,t,i)}}})),t}function LQ(t){var e=t.chart,n=t.options,r=n.axes,i=n.meta,o=n.tooltip,a=n.coordinate,u=n.theme,s=n.legend,l=n.interactions,c=n.annotations,f={};return r&&(0,nE.S6)(r,(function(t,e){f[e]=PU(t,mH)})),f=KU({},i,f),e.scale(f),e.coordinate(a),r?(0,nE.S6)(r,(function(t,n){e.axis(n,t)})):e.axis(!1),o?(e.interaction("tooltip"),e.tooltip(o)):!1===o&&e.removeInteraction("tooltip"),e.legend(s),u&&e.theme(u),(0,nE.S6)(l,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg)})),(0,nE.S6)(c,(function(t){e.annotation()[t.type]((0,eE.pi)({},t))})),t}function RQ(t){return TU(LH,IQ,LQ)(t)}var jQ,BQ={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}(0,eE.ZT)(e,t),e.getDefaultOptions=function(){return BQ},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return RQ}}(gH);!function(t){t.DEV="DEV",t.BETA="BETA",t.STABLE="STABLE"}(jQ||(jQ={}));!function(){function t(){}Object.defineProperty(t,"MultiView",{get:function(){var t,e;return t=jQ.STABLE,e="MultiView",console.warn(t===jQ.DEV?"Plot '"+e+"' is in DEV stage, just give us issues.":t===jQ.BETA?"Plot '"+e+"' is in BETA stage, DO NOT use it in production env.":t===jQ.STABLE?"Plot '"+e+"' is in STABLE stage, import it by \"import { "+e+" } from '@antv/g2plot'\".":"invalid Stage type."),NQ},enumerable:!1,configurable:!0})}();fH("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),fH("zh-CN",{locale:"zh-CN",general:{increase:"\u589e\u52a0",decrease:"\u51cf\u5c11",root:"\u521d\u59cb"},statistic:{total:"\u603b\u8ba1"},conversionTag:{label:"\u8f6c\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603b\u8ba1"}});var zQ=function(t,e){var n=document.createElement("div");return"tooltip"===e&&(n.className="g2-tooltip"),F.render(t,n),n},UQ=function(t,e){return{}.toString.call(t)==="[object ".concat(e,"]")},HQ=function t(e){return e&&"object"===typeof e?(Array.isArray(e)?n=e.map((function(e){return t(e)})):(n={},Object.keys(e).forEach((function(r){return n[r]=t(e[r])}))),n):e;var n},VQ=function(t,e){for(var n=t,r=0;r<e.length;r+=1){if(!(null===n||void 0===n?void 0:n[e[r]])){n=void 0;break}n=n[e[r]]}return n},WQ=function(){return WQ=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},WQ.apply(this,arguments)},YQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function qQ(t,e){var n=(0,D.useRef)(),r=(0,D.useRef)(),i=(0,D.useRef)(null),o=e.onReady,a=e.onEvent,u=function(t,e,n){var r=VQ(t,e);!function(t,e,n){if(!t)return t;var r=t;e.forEach((function(t,i){i<e.length-1?r=r[t]:r[t]=n}))}(t,e,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=UQ(r,"Function")?r.apply(void 0,t):r;return UQ(i,"String")||UQ(i,"Number")||UQ(i,"HTMLDivElement")?i:zQ(i,n)}))},s=function(){VQ(e,["statistic","content","customHtml"])&&u(e,["statistic","content","customHtml"]),VQ(e,["statistic","title","customHtml"])&&u(e,["statistic","title","customHtml"]),"object"===typeof e.tooltip&&(VQ(e,["tooltip","container"])&&u(e,["tooltip","container"],"tooltip"),VQ(e,["tooltip","customContent"])&&u(e,["tooltip","customContent"],"tooltip"))};return(0,D.useEffect)((function(){if(n.current&&!(0,nE.Xy)(r.current,e)){var t=!1;if(r.current){var i=r.current,o=(i.data,i.value,i.percent,YQ(i,["data","value","percent"])),a=(e.data,e.value,e.percent,YQ(e,["data","value","percent"]));t=(0,nE.Xy)(o,a)}if(r.current=HQ(e),t&&"Mix"!==(0,nE.U2)(e,"chartType")){var u="data",l=Object.keys(e);["percent"].forEach((function(t){l.includes(t)&&(u=t)})),n.current.changeData((null===e||void 0===e?void 0:e[u])||[])}else s(),n.current.update(e)}}),[e]),(0,D.useEffect)((function(){if(!i.current)return function(){return null};r.current||(r.current=HQ(e)),s();var u=new t(i.current,WQ({},e));u.toDataURL=function(t,e){return function(t,e){var r;return void 0===t&&(t="image/png"),null===(r=n.current)||void 0===r?void 0:r.chart.canvas.cfg.el.toDataURL(t,e)}(t,e)},u.downloadImage=function(t,e,r){return function(t,e,r){var i;void 0===t&&(t="download"),void 0===e&&(e="image/png");var o=t;-1===t.indexOf(".")&&(o="".concat(t,".").concat(e.split("/")[1]));var a=null===(i=n.current)||void 0===i?void 0:i.chart.canvas.cfg.el.toDataURL(e,r),u=document.createElement("a");return u.href=a,u.download=o,document.body.appendChild(u),u.click(),document.body.removeChild(u),u=null,o}(t,e,r)},u.render(),n.current=function(t){if(!t)return t;var e={};for(var n in t)e[n]=t[n];return e}(u),o&&o(u);var l=function(t){a&&a(u,t)};return u.on("*",l),function(){n.current&&(n.current.destroy(),n.current.off("*",l),n.current=void 0)}}),[]),{chart:n,container:i}}var GQ=function(t,e){t&&((0,nE.mf)(t)?t(e):t.current=e)},$Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XQ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hasError:!1},e.renderError=function(t){var n=e.props.errorTemplate;return n&&"function"===typeof n?n(t):D.createElement("h5",null,"\u7ec4\u4ef6\u51fa\u9519\u4e86\uff0c\u8bf7\u6838\u67e5\u540e\u91cd\u8bd5\uff1a ",t.message)},e}return $Q(e,t),e.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},e.getDerivedStateFromProps=function(t,e){return e.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):D.createElement(D.Fragment,null,this.props.children)},e}(D.Component),KQ=XQ,ZQ=function(){return ZQ=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ZQ.apply(this,arguments)};var JQ=function(t){var e=t.animate,n=t.backgroundColor,r=t.backgroundOpacity,i=t.baseUrl,o=t.children,a=t.foregroundColor,u=t.foregroundOpacity,s=t.gradientRatio,l=t.uniqueKey,c=t.interval,f=t.rtl,d=t.speed,h=t.style,p=t.title,v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),g=l||Math.random().toString(36).substring(6),m=g+"-diff",y=g+"-animated-diff",x=g+"-aria",b=f?{transform:"scaleX(-1)"}:null,w="0; "+c+"; 1",S=d+"s";return(0,D.createElement)("svg",ZQ({"aria-labelledby":x,role:"img",style:ZQ(ZQ({},h),b)},v),p?(0,D.createElement)("title",{id:x},p):null,(0,D.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+i+"#"+m+")",style:{fill:"url("+i+"#"+y+")"}}),(0,D.createElement)("defs",{role:"presentation"},(0,D.createElement)("clipPath",{id:m},o),(0,D.createElement)("linearGradient",{id:y},(0,D.createElement)("stop",{offset:"0%",stopColor:n,stopOpacity:r},e&&(0,D.createElement)("animate",{attributeName:"offset",values:-s+"; "+-s+"; 1",keyTimes:w,dur:S,repeatCount:"indefinite"})),(0,D.createElement)("stop",{offset:"50%",stopColor:a,stopOpacity:u},e&&(0,D.createElement)("animate",{attributeName:"offset",values:-s/2+"; "+-s/2+"; "+(1+s/2),keyTimes:w,dur:S,repeatCount:"indefinite"})),(0,D.createElement)("stop",{offset:"100%",stopColor:n,stopOpacity:r},e&&(0,D.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+s),keyTimes:w,dur:S,repeatCount:"indefinite"})))))};JQ.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var QQ=function(t){return t.children?(0,D.createElement)(JQ,ZQ({},t)):(0,D.createElement)(t0,ZQ({},t))},t0=function(t){return(0,D.createElement)(QQ,ZQ({viewBox:"0 0 476 124"},t),(0,D.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,D.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,D.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,D.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,D.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,D.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},e0=QQ,n0=function(t){var e=t.loadingTemplate,n=t.theme,r=void 0===n?"light":n;return D.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"dark"===r?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},e||D.createElement(e0,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:"dark"===r?"#262626":"#D9D9D9"},D.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),D.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),D.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),D.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),D.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),D.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),D.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),D.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),D.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),D.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"})))},r0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},i0=(0,D.forwardRef)((function(t,e){var n=t.chartRef,r=t.style,i=void 0===r?{height:"inherit"}:r,o=t.className,a=t.loading,u=t.loadingTemplate,s=t.errorTemplate,l=r0(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=qQ(CZ,l),f=c.chart,d=c.container;return(0,D.useEffect)((function(){GQ(n,f.current)}),[f.current]),(0,D.useImperativeHandle)(e,(function(){return{getChart:function(){return f.current}}})),D.createElement(KQ,{errorTemplate:s},a&&D.createElement(n0,{loadingTemplate:u,theme:t.theme}),D.createElement("div",{className:o,style:i,ref:d}))})),o0=i0,a0=function(t){(0,D.useEffect)((function(){}),[t]);var e={percent:t.driftData,radius:80,range:{ticks:[0,1/3,2/3,1],color:["#30BF78","#FAAD14","#F4664A"]},indicator:{pointer:{style:{stroke:"#D0D0D0",fontSize:"8px"}},pin:{style:{stroke:"#D0D0D0",fontSize:"8px"}}}};return(0,pt.jsx)(o0,xt({},e))},u0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},s0=(0,D.forwardRef)((function(t,e){var n=t.chartRef,r=t.style,i=void 0===r?{height:"inherit"}:r,o=t.className,a=t.loading,u=t.loadingTemplate,s=t.errorTemplate,l=u0(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=qQ(zV,l),f=c.chart,d=c.container;return(0,D.useEffect)((function(){GQ(n,f.current)}),[f.current]),(0,D.useImperativeHandle)(e,(function(){return{getChart:function(){return f.current}}})),D.createElement(KQ,{errorTemplate:s},a&&D.createElement(n0,{loadingTemplate:u,theme:t.theme}),D.createElement("div",{className:o,style:i,ref:d}))})),l0=s0,c0=function(t){var e=j((0,D.useState)([]),2),n=e[0],r=e[1],i=[],o=0;(0,D.useEffect)((function(){0==o&&(!function(){for(var e=0;e<t.confidenceData.length;e++){var n={type:"",value:""};n.type=t.date[e],n.value=t.confidenceData[e],i.push(n)}r(i)}(),o++)}),[t]);var a={data:n,xField:"type",yField:"value",seriesField:"",color:function(t){var e=t.type;return"10-30\u5206"===e||"30+\u5206"===e?"#F4664A":"#5B8FF9"},label:{content:function(t){var e=parseFloat(t.value);if(e<.05)return(100*e).toFixed(1)+"%"},offset:2},legend:!1,xAxis:{label:{autoHide:!0,autoRotate:!1}}};return(0,pt.jsx)(l0,xt({},a))},f0=function(t){var e=[],n=0,r=j((0,D.useState)([]),2),i=r[0],o=r[1];(0,D.useEffect)((function(){0==n&&(!function(){for(var n=0;n<t.infer_timeData.length;n++){var r={type:"",value:""};r.type=t.date[n],r.value=t.infer_timeData[n],e.push(r)}o(e)}(),n++)}),[t]);var a={data:i,xField:"type",yField:"value",seriesField:"",color:function(t){var e=t.type;return"10-30\u5206"===e||"30+\u5206"===e?"#F4664A":"#5B8FF9"},label:{content:function(t){var e=parseFloat(t.value);if(e<.05)return(100*e).toFixed(1)+"%"},offset:2},legend:!1,xAxis:{label:{autoHide:!0,autoRotate:!1}}};return(0,pt.jsx)(l0,xt({},a))},d0=function(t){var e=[],n=j((0,D.useState)([]),2),r=n[0],i=n[1],o=0;(0,D.useEffect)((function(){0==o&&(!function(){for(var n=0;n<t.dataDriftData.length;n++){var r={type:"",value:""};r.type=t.date[n],r.value=t.dataDriftData[n],e.push(r)}i(e)}(),o++)}),[t]);var a={data:r,xField:"type",yField:"value",seriesField:"",color:function(t){var e=t.type;return"10-30\u5206"===e||"30+\u5206"===e?"#F4664A":"#5B8FF9"},label:{content:function(t){var e=parseFloat(t.value);if(e<.05)return(100*e).toFixed(1)+"%"},offset:2},legend:!1,xAxis:{label:{autoHide:!0,autoRotate:!1}}};return(0,pt.jsx)(l0,xt({},a))},h0=function(t){var e=[],n=0,r=j((0,D.useState)([]),2),i=r[0],o=r[1];(0,D.useEffect)((function(){0==n&&(!function(){for(var n=0;n<t.uptimeData.length;n++){var r={type:"",value:""};r.type=t.date[n],r.value=t.uptimeData[n],e.push(r)}o(e)}(),n++)}),[t]);var a={data:i,xField:"type",yField:"value",seriesField:"",color:function(t){var e=t.type;return"10-30\u5206"===e||"30+\u5206"===e?"#F4664A":"#5B8FF9"},label:{content:function(t){var e=parseFloat(t.value);if(e<.05)return(100*e).toFixed(1)+"%"},offset:2},legend:!1,xAxis:{label:{autoHide:!0,autoRotate:!1}}};return(0,pt.jsx)(l0,xt({},a))},p0=function(t){Zr(n,t);var e=ri(n);function n(){var t;Xr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).closeTimer=null,t.close=function(e){e&&e.stopPropagation(),t.clearCloseTimer();var n=t.props,r=n.onClose,i=n.noticeKey;r&&r(i)},t.startCloseTimer=function(){t.props.duration&&(t.closeTimer=window.setTimeout((function(){t.close()}),1e3*t.props.duration))},t.clearCloseTimer=function(){t.closeTimer&&(clearTimeout(t.closeTimer),t.closeTimer=null)},t}return $r(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(t){(this.props.duration!==t.duration||this.props.updateMark!==t.updateMark||this.props.visible!==t.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var t=this,e=this.props,n=e.prefixCls,r=e.className,i=e.closable,o=e.closeIcon,a=e.style,u=e.onClick,s=e.children,l=e.holder,c="".concat(n,"-notice"),f=Object.keys(this.props).reduce((function(e,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(e[n]=t.props[n]),e}),{}),d=D.createElement("div",B({className:Mt()(c,r,mt({},"".concat(c,"-closable"),i)),style:a,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:u},f),D.createElement("div",{className:"".concat(c,"-content")},s),i?D.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(c,"-close")},o||D.createElement("span",{className:"".concat(c,"-close-x")})):null);return l?F.createPortal(d,l):d}}]),n}(D.Component);function v0(t){var e=D.useRef({}),n=j(D.useState([]),2),r=n[0],i=n[1];return[function(n){var r=!0;t.add(n,(function(t,n){var o=n.key;if(t&&(!e.current[o]||r)){var a=D.createElement(p0,B({},n,{holder:t}));e.current[o]=a,i((function(t){var e=t.findIndex((function(t){return t.key===n.key}));if(-1===e)return[].concat(Ye(t),[a]);var r=Ye(t);return r[e]=a,r}))}r=!1}))},D.createElement(D.Fragment,null,r)]}p0.defaultProps={onClose:function(){},duration:1.5};var g0=0,m0=Date.now();function y0(){var t=g0;return g0+=1,"rcNotification_".concat(m0,"_").concat(t)}var x0=function(t){Zr(n,t);var e=ri(n);function n(){var t;Xr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={notices:[]},t.hookRefs=new Map,t.add=function(e,n){var r=e.key||y0(),i=xt(xt({},e),{},{key:r}),o=t.props.maxCount;t.setState((function(t){var e=t.notices,a=e.map((function(t){return t.notice.key})).indexOf(r),u=e.concat();return-1!==a?u.splice(a,1,{notice:i,holderCallback:n}):(o&&e.length>=o&&(i.key=u[0].notice.key,i.updateMark=y0(),i.userPassKey=r,u.shift()),u.push({notice:i,holderCallback:n})),{notices:u}}))},t.remove=function(e){t.setState((function(t){return{notices:t.notices.filter((function(t){var n=t.notice,r=n.key;return(n.userPassKey||r)!==e}))}}))},t.noticePropsMap={},t}return $r(n,[{key:"getTransitionName",value:function(){var t=this.props,e=t.prefixCls,n=t.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(e,"-").concat(n)),r}},{key:"render",value:function(){var t=this,e=this.state.notices,n=this.props,r=n.prefixCls,i=n.className,o=n.closeIcon,a=n.style,u=[];return e.forEach((function(n,i){var a=n.notice,s=n.holderCallback,l=i===e.length-1?a.updateMark:void 0,c=a.key,f=a.userPassKey,d=xt(xt(xt({prefixCls:r,closeIcon:o},a),a.props),{},{key:c,noticeKey:f||c,updateMark:l,onClose:function(e){var n;t.remove(e),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});u.push(c),t.noticePropsMap[c]={props:d,holderCallback:s}})),D.createElement("div",{className:Mt()(r,i),style:a},D.createElement(nc,{keys:u,motionName:this.getTransitionName(),onVisibleChanged:function(e,n){var r=n.key;e||delete t.noticePropsMap[r]}},(function(e){var n=e.key,i=e.className,o=e.style,a=e.visible,u=t.noticePropsMap[n],s=u.props,l=u.holderCallback;return l?D.createElement("div",{key:n,className:Mt()(i,"".concat(r,"-hook-holder")),style:xt({},o),ref:function(e){"undefined"!==typeof n&&(e?(t.hookRefs.set(n,e),l(e,s)):t.hookRefs.delete(n))}}):D.createElement(p0,B({},s,{className:Mt()(i,null===s||void 0===s?void 0:s.className),style:xt(xt({},o),null===s||void 0===s?void 0:s.style),visible:a}))})))}}]),n}(D.Component);x0.newInstance=void 0,x0.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},x0.newInstance=function(t,e){var n=t||{},r=n.getContainer,i=wt(n,["getContainer"]),o=document.createElement("div");r?r().appendChild(o):document.body.appendChild(o);var a=!1;F.render(D.createElement(x0,B({},i,{ref:function(t){a||(a=!0,e({notice:function(e){t.add(e)},removeNotice:function(e){t.remove(e)},component:t,destroy:function(){F.unmountComponentAtNode(o),o.parentNode&&o.parentNode.removeChild(o)},useNotification:function(){return v0(t)}}))}})),o)};var b0=x0,w0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},S0=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:w0}))};S0.displayName="InfoCircleFilled";var k0=D.forwardRef(S0);var C0=Number.isNaN||function(t){return"number"===typeof t&&t!==t};function E0(t,e){return t===e||!(!C0(t)||!C0(e))}function O0(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!E0(t[n],e[n]))return!1;return!0}var M0=B({},pu.Modal);function _0(t){M0=t?B(B({},M0),t):B({},pu.Modal)}var A0="internalMark",T0=function(t){Zr(n,t);var e=ri(n);function n(t){var r;return Xr(this,n),(r=e.call(this,t)).getMemoizedContextValue=function(t,e){void 0===e&&(e=O0);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var o=t.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}((function(t){return B(B({},t),{exist:!0})})),_0(t.locale&&t.locale.Modal),Rg(t._ANT_MARK__===A0,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return $r(n,[{key:"componentDidMount",value:function(){_0(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(t){var e=this.props.locale;t.locale!==e&&_0(e&&e.Modal)}},{key:"componentWillUnmount",value:function(){_0()}},{key:"render",value:function(){var t=this.props,e=t.locale,n=t.children,r=this.getMemoizedContextValue(e);return D.createElement(gu.Provider,{value:r},n)}}]),n}(D.Component);T0.defaultProps={locale:{}};var P0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},D0=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:P0}))};D0.displayName="CheckCircleOutlined";var F0=D.forwardRef(D0),N0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},I0=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:N0}))};I0.displayName="CloseCircleOutlined";var L0=D.forwardRef(I0),R0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},j0=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:R0}))};j0.displayName="ExclamationCircleOutlined";var B0=D.forwardRef(j0),z0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},U0=function(t,e){return D.createElement(Ws,xt(xt({},t),{},{ref:e,icon:z0}))};U0.displayName="InfoCircleOutlined";var H0,V0,W0,Y0={},q0=4.5,G0=24,$0=24,X0="",K0="topRight",Z0=!1;function J0(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$0;switch(t){case"top":e={left:0,right:0,top:n,bottom:"auto"};break;case"topLeft":e={left:0,top:n,bottom:"auto"};break;case"topRight":e={right:0,top:n,bottom:"auto"};break;case"bottom":e={left:0,right:0,top:"auto",bottom:r};break;case"bottomLeft":e={left:0,top:"auto",bottom:r};break;default:e={right:0,top:"auto",bottom:r}}return e}function Q0(t,e){var n=t.placement,r=void 0===n?K0:n,i=t.top,o=t.bottom,a=t.getContainer,u=void 0===a?H0:a,s=t.prefixCls,l=d1(),c=l.getPrefixCls,f=l.getIconPrefixCls,d=c("notification",s||X0),h=f(),p="".concat(d,"-").concat(r),v=Y0[p];if(v)Promise.resolve(v).then((function(t){e({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:t})}));else{var g=Mt()("".concat(d,"-").concat(r),mt({},"".concat(d,"-rtl"),!0===Z0));Y0[p]=new Promise((function(t){b0.newInstance({prefixCls:d,className:g,style:J0(r,i,o),getContainer:u,maxCount:W0},(function(n){t(n),e({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:n})}))}))}}var t1={success:F0,info:D.forwardRef(U0),error:L0,warning:B0};function e1(t,e,n){var r=t.duration,i=t.icon,o=t.type,a=t.description,u=t.message,s=t.btn,l=t.onClose,c=t.onClick,f=t.key,d=t.style,h=t.className,p=t.closeIcon,v=void 0===p?V0:p,g=void 0===r?q0:r,m=null;i?m=D.createElement("span",{className:"".concat(e,"-icon")},t.icon):o&&(m=D.createElement(t1[o]||null,{className:"".concat(e,"-icon ").concat(e,"-icon-").concat(o)}));var y=D.createElement("span",{className:"".concat(e,"-close-x")},v||D.createElement(Bh,{className:"".concat(e,"-close-icon")})),x=!a&&m?D.createElement("span",{className:"".concat(e,"-message-single-line-auto-margin")}):null;return{content:D.createElement(x1,{iconPrefixCls:n},D.createElement("div",{className:m?"".concat(e,"-with-icon"):"",role:"alert"},m,D.createElement("div",{className:"".concat(e,"-message")},x,u),D.createElement("div",{className:"".concat(e,"-description")},a),s?D.createElement("span",{className:"".concat(e,"-btn")},s):null)),duration:g,closable:!0,closeIcon:y,onClose:l,onClick:c,key:f,style:d||{},className:Mt()(h,mt({},"".concat(e,"-").concat(o),!!o))}}var n1={open:function(t){Q0(t,(function(e){var n=e.prefixCls,r=e.iconPrefixCls;e.instance.notice(e1(t,n,r))}))},close:function(t){Object.keys(Y0).forEach((function(e){return Promise.resolve(Y0[e]).then((function(e){e.removeNotice(t)}))}))},config:function(t){var e=t.duration,n=t.placement,r=t.bottom,i=t.top,o=t.getContainer,a=t.closeIcon,u=t.prefixCls;void 0!==u&&(X0=u),void 0!==e&&(q0=e),void 0!==n?K0=n:t.rtl&&(K0="topLeft"),void 0!==r&&($0=r),void 0!==i&&(G0=i),void 0!==o&&(H0=o),void 0!==a&&(V0=a),void 0!==t.rtl&&(Z0=t.rtl),void 0!==t.maxCount&&(W0=t.maxCount)},destroy:function(){Object.keys(Y0).forEach((function(t){Promise.resolve(Y0[t]).then((function(t){t.destroy()})),delete Y0[t]}))}};["success","info","warning","error"].forEach((function(t){n1[t]=function(e){return n1.open(B(B({},e),{type:t}))}})),n1.warn=n1.warning,n1.useNotification=function(t,e){return function(){var n,r=null,i=j(v0({add:function(t,e){null===r||void 0===r||r.component.add(t,e)}}),2),o=i[0],a=i[1];var u=D.useRef({});return u.current.open=function(i){var a=i.prefixCls,u=n("notification",a);t(B(B({},i),{prefixCls:u}),(function(t){var n=t.prefixCls,a=t.instance;r=a,o(e(i,n))}))},["success","info","warning","error"].forEach((function(t){u.current[t]=function(e){return u.current.open(B(B({},e),{type:t}))}})),[u.current,D.createElement(Mu,{key:"holder"},(function(t){return n=t.getPrefixCls,a}))]}}(Q0,e1);var r1=n1,i1=function(){function t(e,n){var r;if(void 0===e&&(e=""),void 0===n&&(n={}),e instanceof t)return e;"number"===typeof e&&(e=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(e)),this.originalInput=e;var i=us(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,r=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=Ku(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var t=es(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=es(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1===this.a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this.roundA+")"},t.prototype.toHsl=function(){var t=Qu(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=Qu(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1===this.a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this.roundA+")"},t.prototype.toHex=function(t){return void 0===t&&(t=!1),ns(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,n,r,i){var o=[Ju(Math.round(t).toString(16)),Ju(Math.round(e).toString(16)),Ju(Math.round(n).toString(16)),Ju(rs(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+t+", "+e+", "+n+")":"rgba("+t+", "+e+", "+n+", "+this.roundA+")"},t.prototype.toPercentageRgb=function(){var t=function(t){return Math.round(100*$u(t,255))+"%"};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*$u(t,255))};return 1===this.a?"rgb("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%)":"rgba("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%, "+this.roundA+")"},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+ns(this.r,this.g,this.b,!1),e=0,n=Object.entries(as);e<n.length;e++){var r=n[e],i=r[0];if(t===r[1])return i}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!==t&&void 0!==t?t:this.format;var n=!1,r=this.a<1&&this.a>=0;return e||!r||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Xu(n.l),new t(n)},t.prototype.brighten=function(e){void 0===e&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),new t(n)},t.prototype.darken=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Xu(n.l),new t(n)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Xu(n.s),new t(n)},t.prototype.saturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Xu(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){void 0===n&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100;return new t({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},t.prototype.analogous=function(e,n){void 0===e&&(e=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],u=1/e;e--;)a.push(new t({h:r,s:i,v:o})),o=(o+u)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb();return new t({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();var o1="-ant-".concat(Date.now(),"-").concat(Math.random());function a1(t,e){var n=function(t,e){var n={},r=function(t,e){var n=t.clone();return(n=(null===e||void 0===e?void 0:e(n))||n).toRgbString()},i=function(t,e){var i=new i1(t),o=bs(i.toRgbString());n["".concat(e,"-color")]=r(i),n["".concat(e,"-color-disabled")]=o[1],n["".concat(e,"-color-hover")]=o[4],n["".concat(e,"-color-active")]=o[7],n["".concat(e,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(e,"-color-deprecated-bg")]=o[1],n["".concat(e,"-color-deprecated-border")]=o[3]};if(e.primaryColor){i(e.primaryColor,"primary");var o=new i1(e.primaryColor),a=bs(o.toRgbString());a.forEach((function(t,e){n["primary-".concat(e+1)]=t})),n["primary-color-deprecated-l-35"]=r(o,(function(t){return t.lighten(35)})),n["primary-color-deprecated-l-20"]=r(o,(function(t){return t.lighten(20)})),n["primary-color-deprecated-t-20"]=r(o,(function(t){return t.tint(20)})),n["primary-color-deprecated-t-50"]=r(o,(function(t){return t.tint(50)})),n["primary-color-deprecated-f-12"]=r(o,(function(t){return t.setAlpha(.12*t.getAlpha())}));var u=new i1(a[0]);n["primary-color-active-deprecated-f-30"]=r(u,(function(t){return t.setAlpha(.3*t.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(u,(function(t){return t.darken(2)}))}e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info");var s=Object.keys(n).map((function(e){return"--".concat(t,"-").concat(e,": ").concat(n[e],";")}));return"\n  :root {\n    ".concat(s.join("\n"),"\n  }\n  ").trim()}(t,e);Gi()?Ts(n,"".concat(o1,"-dynamic-theme")):Rg(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var u1,s1,l1=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function c1(){return u1||"ant"}function f1(){return s1||"anticon"}var d1=function(){return{getPrefixCls:function(t,e){return e||(t?"".concat(c1(),"-").concat(t):c1())},getIconPrefixCls:f1,getRootPrefixCls:function(t,e){return t||(u1||(e&&e.includes("-")?e.replace(/^(.*)-[^-]*$/,"$1"):c1()))}}},h1=function(t){var e,n,r=t.children,i=t.csp,o=t.autoInsertSpaceInButton,a=t.form,u=t.locale,s=t.componentSize,l=t.direction,c=t.space,f=t.virtual,d=t.dropdownMatchSelectWidth,h=t.legacyLocale,p=t.parentContext,v=t.iconPrefixCls,g=D.useCallback((function(e,n){var r=t.prefixCls;if(n)return n;var i=r||p.getPrefixCls("");return e?"".concat(i,"-").concat(e):i}),[p.getPrefixCls,t.prefixCls]),m=B(B({},p),{csp:i,autoInsertSpaceInButton:o,locale:u||h,direction:l,space:c,virtual:f,dropdownMatchSelectWidth:d,getPrefixCls:g});l1.forEach((function(e){var n=t[e];n&&(m[e]=n)}));var y=io((function(){return m}),m,(function(t,e){var n=Object.keys(t),r=Object.keys(e);return n.length!==r.length||n.some((function(n){return t[n]!==e[n]}))})),x=D.useMemo((function(){return{prefixCls:v,csp:i}}),[v,i]),b=r,w={};return u&&(w=(null===(e=u.Form)||void 0===e?void 0:e.defaultValidateMessages)||(null===(n=pu.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),a&&a.validateMessages&&(w=B(B({},w),a.validateMessages)),Object.keys(w).length>0&&(b=D.createElement(xv,{validateMessages:w},r)),u&&(b=D.createElement(T0,{locale:u,_ANT_MARK__:A0},b)),(v||i)&&(b=D.createElement(Gu.Provider,{value:x},b)),s&&(b=D.createElement(rp,{size:s},b)),D.createElement(Ou.Provider,{value:y},b)},p1=function(t){return D.useEffect((function(){t.direction&&(D1.config({rtl:"rtl"===t.direction}),r1.config({rtl:"rtl"===t.direction}))}),[t.direction]),D.createElement(mu,null,(function(e,n,r){return D.createElement(Mu,null,(function(e){return D.createElement(h1,B({parentContext:e,legacyLocale:r},t))}))}))};p1.ConfigContext=Ou,p1.SizeContext=ip,p1.config=function(t){var e=t.prefixCls,n=t.iconPrefixCls,r=t.theme;void 0!==e&&(u1=e),void 0!==n&&(s1=n),r&&a1(c1(),r)};var v1,g1,m1,y1,x1=p1,b1=3,w1=1,S1="",k1="move-up",C1=!1,E1=!1;function O1(){return w1++}function M1(t,e){var n=t.prefixCls,r=t.getPopupContainer,i=d1(),o=i.getPrefixCls,a=i.getRootPrefixCls,u=i.getIconPrefixCls,s=o("message",n||S1),l=a(t.rootPrefixCls,s),c=u();if(v1)e({prefixCls:s,rootPrefixCls:l,iconPrefixCls:c,instance:v1});else{var f={prefixCls:s,transitionName:C1?k1:"".concat(l,"-").concat(k1),style:{top:g1},getContainer:m1||r,maxCount:y1};b0.newInstance(f,(function(t){v1?e({prefixCls:s,rootPrefixCls:l,iconPrefixCls:c,instance:v1}):(v1=t,e({prefixCls:s,rootPrefixCls:l,iconPrefixCls:c,instance:t}))}))}}var _1={info:k0,success:$h,error:Hh,warning:Zh,loading:Fh};function A1(t,e,n){var r,i=void 0!==t.duration?t.duration:b1,o=_1[t.type],a=Mt()("".concat(e,"-custom-content"),(mt(r={},"".concat(e,"-").concat(t.type),t.type),mt(r,"".concat(e,"-rtl"),!0===E1),r));return{key:t.key,duration:i,style:t.style||{},className:t.className,content:D.createElement(x1,{iconPrefixCls:n},D.createElement("div",{className:a},t.icon||o&&D.createElement(o,null),D.createElement("span",null,t.content))),onClose:t.onClose,onClick:t.onClick}}var T1={open:function(t){var e=t.key||O1(),n=new Promise((function(n){var r=function(){return"function"===typeof t.onClose&&t.onClose(),n(!0)};M1(t,(function(n){var i=n.prefixCls,o=n.iconPrefixCls;n.instance.notice(A1(B(B({},t),{key:e,onClose:r}),i,o))}))})),r=function(){v1&&v1.removeNotice(e)};return r.then=function(t,e){return n.then(t,e)},r.promise=n,r},config:function(t){void 0!==t.top&&(g1=t.top,v1=null),void 0!==t.duration&&(b1=t.duration),void 0!==t.prefixCls&&(S1=t.prefixCls),void 0!==t.getContainer&&(m1=t.getContainer,v1=null),void 0!==t.transitionName&&(k1=t.transitionName,v1=null,C1=!0),void 0!==t.maxCount&&(y1=t.maxCount,v1=null),void 0!==t.rtl&&(E1=t.rtl)},destroy:function(t){if(v1)if(t){(0,v1.removeNotice)(t)}else{var e=v1.destroy;e(),v1=null}}};function P1(t,e){t[e]=function(n,r,i){return function(t){return"[object Object]"===Object.prototype.toString.call(t)&&!!t.content}(n)?t.open(B(B({},n),{type:e})):("function"===typeof r&&(i=r,r=void 0),t.open({content:n,duration:r,type:e,onClose:i}))}}["success","info","warning","error","loading"].forEach((function(t){return P1(T1,t)})),T1.warn=T1.warning,T1.useMessage=function(t,e){return function(){var n,r,i=null,o=j(v0({add:function(t,e){null===i||void 0===i||i.component.add(t,e)}}),2),a=o[0],u=o[1];var s=D.useRef({});return s.current.open=function(o){var u=o.prefixCls,s=n("message",u),l=n(),c=o.key||O1(),f=new Promise((function(n){var u=function(){return"function"===typeof o.onClose&&o.onClose(),n(!0)};t(B(B({},o),{prefixCls:s,rootPrefixCls:l,getPopupContainer:r}),(function(t){var n=t.prefixCls,r=t.instance;i=r,a(e(B(B({},o),{key:c,onClose:u}),n))}))})),d=function(){i&&i.removeNotice(c)};return d.then=function(t,e){return f.then(t,e)},d.promise=f,d},["success","info","warning","error","loading"].forEach((function(t){return P1(s.current,t)})),[s.current,D.createElement(Mu,{key:"holder"},(function(t){return n=t.getPrefixCls,r=t.getPopupContainer,u}))]}}(M1,A1);var D1=T1,F1=n(4569),N1=n.n(F1),I1=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;console.log("inside service :",t);return N1().get("/api/plotSummaryGraph?date="+t).then((function(t){return t.data.response})).catch((function(t){D1.error(t.message)}))};var L1=function(t){return(0,D.useEffect)((function(){}),[t]),(0,pt.jsx)(pt.Fragment,{children:"good"==t.col?(0,pt.jsx)("div",{style:{backgroundColor:"green",width:"40px",height:"40px",borderRadius:"65%"}}):"average"==t.col?(0,pt.jsx)("div",{style:{backgroundColor:"orange",width:"40px",height:"40px",borderRadius:"65%"}}):"poor"==t.col?(0,pt.jsx)("div",{style:{backgroundColor:"yellow",width:"40px",height:"40px",borderRadius:"65%"}}):"bad"==t.col?(0,pt.jsx)("div",{style:{backgroundColor:"red",width:"40px",height:"40px",borderRadius:"65%"}}):""})},R1=[{title:"Model Name",dataIndex:"model_name",render:function(t){return(0,pt.jsx)(pt.Fragment,{children:(0,pt.jsx)("button",{style:{cursor:"pointer"},className:"btn btn-default",onClick:function(){console.log("selected model is ",t),localStorage.setItem("selectedModelV",t),window.location.href="/IssueMessage"},children:t})})}},{title:"Instances",dataIndex:"num_instances"},{title:"Health",dataIndex:"health"},{title:"Drift",dataIndex:"drift"},{title:"Retraining",dataIndex:"needs_retraining"},{title:"Confidence",dataIndex:"confidence"},{title:"Inference Time",dataIndex:"infer_time"},{title:"Up Time",dataIndex:"uptime"},{title:"Data Drift",dataIndex:"data_drift"}],j1=function(t){var e=j((0,D.useState)([]),2),n=e[0],r=e[1],i=[],o=j((0,D.useState)([]),2),a=(o[0],o[1]),u=(0,D.useCallback)((function(t,e){var i=n[t];r(tE()(n,{$splice:[[t,1],[e,0,i]]}))}),[n]),s=function(){var e=kt(Et().mark((function e(){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("propsnumDays",t.numDays),e.next=3,I1(t.numDays);case 3:n=e.sent,a(n),console.log("I am summary :",n),console.log("props-summary",t.numDays),n.forEach((function(t,e){var n={model_name:"",num_instances:"",health:"",drift:"",needs_retraining:"",confidence:"",data_drift:"",infer_time:"",uptime:"",key:"",enabled:!1};n.key=e+1,2!=n.key&&3!=n.key||(n.enabled=!0),n.model_name=t.model_name,n.num_instances=t.num_instances,n.health=(0,pt.jsx)(L1,{col:t.health}),n.drift=(0,pt.jsx)(a0,{driftData:t.drift}),n.needs_retraining=n.needs_retraining="yes"==t.needs_retraining?(0,pt.jsx)($h,{style:{color:"red",fontSize:"20px"}}):(0,pt.jsx)(Hh,{style:{color:"green",fontSize:"20px"}}),null!=t.confidence&&void 0!=t.confidence&&(n.confidence=(0,pt.jsx)(c0,{confidenceData:t.confidence,date:t.timestamp})),null!=t.data_drift&&void 0!=t.data_drift&&(n.data_drift=(0,pt.jsx)(d0,{dataDriftData:t.data_drift,date:t.timestamp})),null!=t.infer_time&&void 0!=t.infer_time&&(n.infer_time=(0,pt.jsx)(f0,{infer_timeData:t.infer_time,date:t.timestamp})),null!=t.uptime&&void 0!=t.uptime&&(n.uptime=(0,pt.jsx)(h0,{uptimeData:t.uptime,date:t.timestamp})),i.push(n)})),r(i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,D.useEffect)(kt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s();case 1:case"end":return t.stop()}}),t)}))),[t]),(0,pt.jsx)(OC,{backend:JC,children:(0,pt.jsx)(BS,{dataSource:n,onRow:function(t,e){return{index:e,moveRow:u}},rowClassName:function(t){return!t.enabled&&"disabled-row"},columns:R1})})};var B1=n(7441);var z1=function(t){function e(t,r,s,l,d){for(var h,p,v,g,b,S=0,k=0,C=0,E=0,O=0,D=0,N=v=h=0,L=0,R=0,j=0,B=0,z=s.length,U=z-1,H="",V="",W="",Y="";L<z;){if(p=s.charCodeAt(L),L===U&&0!==k+E+C+S&&(0!==k&&(p=47===k?10:47),E=C=S=0,z++,U++),0===k+E+C+S){if(L===U&&(0<R&&(H=H.replace(f,"")),0<H.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:H+=s.charAt(L)}p=59}switch(p){case 123:for(h=(H=H.trim()).charCodeAt(0),v=1,B=++L;L<z;){switch(p=s.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(L+1)){case 42:case 47:t:{for(N=L+1;N<U;++N)switch(s.charCodeAt(N)){case 47:if(42===p&&42===s.charCodeAt(N-1)&&L+2!==N){L=N+1;break t}break;case 10:if(47===p){L=N+1;break t}}L=N}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<U&&s.charCodeAt(L)!==p;);}if(0===v)break;L++}if(v=s.substring(B,L),0===h&&(h=(H=H.replace(c,"").trim()).charCodeAt(0)),64===h){switch(0<R&&(H=H.replace(f,"")),p=H.charCodeAt(1)){case 100:case 109:case 115:case 45:R=r;break;default:R=P}if(B=(v=e(r,R,v,p,d+1)).length,0<F&&(b=u(3,v,R=n(P,H,j),r,_,M,B,p,d,l),H=R.join(""),void 0!==b&&0===(B=(v=b.trim()).length)&&(p=0,v="")),0<B)switch(p){case 115:H=H.replace(w,a);case 100:case 109:case 45:v=H+"{"+v+"}";break;case 107:v=(H=H.replace(m,"$1 $2"))+"{"+v+"}",v=1===T||2===T&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=H+v,112===l&&(V+=v,v="")}else v=""}else v=e(r,n(r,H,j),v,l,d+1);W+=v,v=j=R=N=h=0,H="",p=s.charCodeAt(++L);break;case 125:case 59:if(1<(B=(H=(0<R?H.replace(f,""):H).trim()).length))switch(0===N&&(h=H.charCodeAt(0),45===h||96<h&&123>h)&&(B=(H=H.replace(" ",":")).length),0<F&&void 0!==(b=u(1,H,r,t,_,M,V.length,l,d,l))&&0===(B=(H=b.trim()).length)&&(H="\0\0"),h=H.charCodeAt(0),p=H.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){Y+=H+s.charAt(L);break}default:58!==H.charCodeAt(B-1)&&(V+=i(H,h,p,H.charCodeAt(2)))}j=R=N=h=0,H="",p=s.charCodeAt(++L)}}switch(p){case 13:case 10:47===k?k=0:0===1+h&&107!==l&&0<H.length&&(R=1,H+="\0"),0<F*I&&u(0,H,r,t,_,M,V.length,l,d,l),M=1,_++;break;case 59:case 125:if(0===k+E+C+S){M++;break}default:switch(M++,g=s.charAt(L),p){case 9:case 32:if(0===E+S+k)switch(O){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===E+k+S&&(R=j=1,g="\f"+g);break;case 108:if(0===E+k+S+A&&0<N)switch(L-N){case 2:112===O&&58===s.charCodeAt(L-3)&&(A=O);case 8:111===D&&(A=D)}break;case 58:0===E+k+S&&(N=L);break;case 44:0===k+C+E+S&&(R=1,g+="\r");break;case 34:case 39:0===k&&(E=E===p?0:0===E?p:E);break;case 91:0===E+k+C&&S++;break;case 93:0===E+k+C&&S--;break;case 41:0===E+k+S&&C--;break;case 40:if(0===E+k+S){if(0===h)if(2*O+3*D===533);else h=1;C++}break;case 64:0===k+C+E+S+N+v&&(v=1);break;case 42:case 47:if(!(0<E+S+C))switch(k){case 0:switch(2*p+3*s.charCodeAt(L+1)){case 235:k=47;break;case 220:B=L,k=42}break;case 42:47===p&&42===O&&B+2!==L&&(33===s.charCodeAt(B+2)&&(V+=s.substring(B,L+1)),g="",k=0)}}0===k&&(H+=g)}D=O,O=p,L++}if(0<(B=V.length)){if(R=r,0<F&&(void 0!==(b=u(2,V,R,t,_,M,B,l,d,l))&&0===(V=b).length))return Y+V+W;if(V=R.join(",")+"{"+V+"}",0!==T*A){switch(2!==T||o(V,2)||(A=0),A){case 111:V=V.replace(x,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}A=0}}return Y+V+W}function n(t,e,n){var i=e.trim().split(v);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var u=0;for(t=0===a?"":t[0]+" ";u<o;++u)e[u]=r(t,e[u],n).trim();break;default:var s=u=0;for(e=[];u<o;++u)for(var l=0;l<a;++l)e[s++]=r(t[l]+" ",i[u],n).trim()}return e}function r(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(g,"$1"+t.trim());case 58:return t.trim()+e.replace(g,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(g,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function i(t,e,n,r){var a=t+";",u=2*e+3*n+4*r;if(944===u){t=a.indexOf(":",9)+1;var s=a.substring(t,a.length-1).trim();return s=a.substring(0,t).trim()+s+";",1===T||2===T&&o(s,1)?"-webkit-"+s+s:s}if(0===T||2===T&&!o(a,1))return a;switch(u){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(O,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(s=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+s+a;case 1005:return h.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(e=(s=a.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(e)){case 226:s=a.replace(b,"tb");break;case 232:s=a.replace(b,"tb-rl");break;case 220:s=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+s+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,u=(s=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:a=a.replace(s,"-webkit-"+s)+";"+a;break;case 207:case 102:a=a.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+a.replace(s,"-webkit-"+s)+";"+a.replace(s,"-ms-"+s+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return s=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+s+"-ms-flex-"+s+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(k,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(k,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===E.test(t))return 115===(s=t.substring(t.indexOf(":")+1)).charCodeAt(0)?i(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):a.replace(s,"-webkit-"+s)+a.replace(s,"-moz-"+s.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),N(2!==e?r:r.replace(C,"$1"),n,e)}function a(t,e){var n=i(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(S," or ($1)").substring(4):"("+e+")"}function u(t,e,n,r,i,o,a,u,s,c){for(var f,d=0,h=e;d<F;++d)switch(f=D[d].call(l,t,h,n,r,i,o,a,u,s,c)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==e)return h}function s(t){return void 0!==(t=t.prefix)&&(N=null,t?"function"!==typeof t?T=1:(T=2,N=t):T=0),s}function l(t,n){var r=t;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<F){var i=u(-1,n,r,r,_,M,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=e(P,r,n,0,0);return 0<F&&(void 0!==(i=u(-2,o,r,r,_,M,o.length,0,0,0))&&(o=i)),"",A=0,M=_=1,o}var c=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,x=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,k=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,M=1,_=1,A=0,T=1,P=[],D=[],F=0,N=null,I=0;return l.use=function t(e){switch(e){case void 0:case null:F=D.length=0;break;default:if("function"===typeof e)D[F++]=e;else if("object"===typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else I=0|!!e}return t},l.set=s,void 0!==t&&s(t),l},U1={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var H1=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}},V1=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,W1=H1((function(t){return V1.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),Y1=n(2110),q1=n.n(Y1);function G1(){return(G1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var $1=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},X1=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!(0,B1.typeOf)(t)},K1=Object.freeze([]),Z1=Object.freeze({});function J1(t){return"function"==typeof t}function Q1(t){return t.displayName||t.name||"Component"}function t2(t){return t&&"string"==typeof t.styledComponentId}var e2="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",n2="undefined"!=typeof window&&"HTMLElement"in window,r2=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function i2(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var o2=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;t>=i;)(i<<=1)<0&&i2(16,""+t);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),u=0,s=e.length;u<s;u++)this.tag.insertRule(a,e[u])&&(this.groupSizes[t]++,a++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),r=n+e;this.groupSizes[t]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n,o=r;o<i;o++)e+=this.tag.getRule(o)+"/*!sc*/\n";return e},t}(),a2=new Map,u2=new Map,s2=1,l2=function(t){if(a2.has(t))return a2.get(t);for(;u2.has(s2);)s2++;var e=s2++;return a2.set(t,e),u2.set(e,t),e},c2=function(t){return u2.get(t)},f2=function(t,e){e>=s2&&(s2=e+1),a2.set(t,e),u2.set(e,t)},d2="style["+e2+'][data-styled-version="5.3.3"]',h2=new RegExp("^"+e2+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),p2=function(t,e,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&t.registerName(e,r)},v2=function(t,e){for(var n=(e.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var u=a.match(h2);if(u){var s=0|parseInt(u[1],10),l=u[2];0!==s&&(f2(l,s),p2(t,l,u[3]),t.getTag().insertRules(s,r)),r.length=0}else r.push(a)}}},g2=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},m2=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(t){for(var e=t.childNodes,n=e.length;n>=0;n--){var r=e[n];if(r&&1===r.nodeType&&r.hasAttribute(e2))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(e2,"active"),r.setAttribute("data-styled-version","5.3.3");var a=g2();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},y2=function(){function t(t){var e=this.element=m2(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,r=e.length;n<r;n++){var i=e[n];if(i.ownerNode===t)return i}i2(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),x2=function(){function t(t){var e=this.element=m2(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e),r=this.nodes[t];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),b2=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),w2=n2,S2={isServer:!n2,useCSSOMInjection:!r2},k2=function(){function t(t,e,n){void 0===t&&(t=Z1),void 0===e&&(e={}),this.options=G1({},S2,{},t),this.gs=e,this.names=new Map(n),this.server=!!t.isServer,!this.server&&n2&&w2&&(w2=!1,function(t){for(var e=document.querySelectorAll(d2),n=0,r=e.length;n<r;n++){var i=e[n];i&&"active"!==i.getAttribute(e2)&&(v2(t,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}t.registerId=function(t){return l2(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(G1({},this.options,{},e),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(n=(e=this.options).isServer,r=e.useCSSOMInjection,i=e.target,t=n?new b2(i):r?new y2(i):new x2(i),new o2(t)));var t,e,n,r,i},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(l2(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},e.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(l2(t),n)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(l2(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),n=e.length,r="",i=0;i<n;i++){var o=c2(i);if(void 0!==o){var a=t.names.get(o),u=e.getGroup(i);if(a&&u&&a.size){var s=e2+".g"+i+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(t){t.length>0&&(l+=t+",")})),r+=""+u+s+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},t}(),C2=/(a)(d)/gi,E2=function(t){return String.fromCharCode(t+(t>25?39:97))};function O2(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=E2(e%52)+n;return(E2(e%52)+n).replace(C2,"$1-$2")}var M2=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},_2=function(t){return M2(5381,t)};function A2(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(J1(n)&&!t2(n))return!1}return!0}var T2=_2("5.3.3"),P2=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&A2(t),this.componentId=e,this.baseHash=M2(T2,e),this.baseStyle=n,k2.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,e,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=X2(this.rules,t,e,n).join(""),a=O2(M2(this.baseHash,o)>>>0);if(!e.hasNameForId(r,a)){var u=n(o,"."+a,void 0,r);e.insertRules(r,a,u)}i.push(a),this.staticRulesId=a}else{for(var s=this.rules.length,l=M2(this.baseHash,n.hash),c="",f=0;f<s;f++){var d=this.rules[f];if("string"==typeof d)c+=d;else if(d){var h=X2(d,t,e,n),p=Array.isArray(h)?h.join(""):h;l=M2(l,p+f),c+=p}}if(c){var v=O2(l>>>0);if(!e.hasNameForId(r,v)){var g=n(c,"."+v,void 0,r);e.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},t}(),D2=/^\s*\/\/.*$/gm,F2=[":","[",".","#"];function N2(t){var e,n,r,i,o=void 0===t?Z1:t,a=o.options,u=void 0===a?Z1:a,s=o.plugins,l=void 0===s?K1:s,c=new z1(u),f=[],d=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,r,i,o,a,u,s,l,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return t(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}((function(t){f.push(t)})),h=function(t,r,o){return 0===r&&-1!==F2.indexOf(o[n.length])||o.match(i)?t:"."+e};function p(t,o,a,u){void 0===u&&(u="&");var s=t.replace(D2,""),l=o&&a?a+" "+o+" { "+s+" }":s;return e=u,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(a||!o?"":o,l)}return c.use([].concat(l,[function(t,e,i){2===t&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},d,function(t){if(-2===t){var e=f;return f=[],e}}])),p.hash=l.length?l.reduce((function(t,e){return e.name||i2(15),M2(t,e.name)}),5381).toString():"",p}var I2=D.createContext(),L2=(I2.Consumer,D.createContext()),R2=(L2.Consumer,new k2),j2=N2();function B2(){return(0,D.useContext)(I2)||R2}function z2(){return(0,D.useContext)(L2)||j2}function U2(t){var e=(0,D.useState)(t.stylisPlugins),n=e[0],r=e[1],i=B2(),o=(0,D.useMemo)((function(){var e=i;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),a=(0,D.useMemo)((function(){return N2({options:{prefix:!t.disableVendorPrefixes},plugins:n})}),[t.disableVendorPrefixes,n]);return(0,D.useEffect)((function(){Zi()(n,t.stylisPlugins)||r(t.stylisPlugins)}),[t.stylisPlugins]),D.createElement(I2.Provider,{value:o},D.createElement(L2.Provider,{value:a},t.children))}var H2=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=j2);var r=n.name+e.hash;t.hasNameForId(n.id,r)||t.insertRules(n.id,r,e(n.rules,r,"@keyframes"))},this.toString=function(){return i2(12,String(n.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=j2),this.name+t.hash},t}(),V2=/([A-Z])/,W2=/([A-Z])/g,Y2=/^ms-/,q2=function(t){return"-"+t.toLowerCase()};function G2(t){return V2.test(t)?t.replace(W2,q2).replace(Y2,"-ms-"):t}var $2=function(t){return null==t||!1===t||""===t};function X2(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],a=0,u=t.length;a<u;a+=1)""!==(i=X2(t[a],e,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return $2(t)?"":t2(t)?"."+t.styledComponentId:J1(t)?"function"!=typeof(s=t)||s.prototype&&s.prototype.isReactComponent||!e?t:X2(t(e),e,n,r):t instanceof H2?n?(t.inject(n,r),t.getName(r)):t:X1(t)?function t(e,n){var r,i,o=[];for(var a in e)e.hasOwnProperty(a)&&!$2(e[a])&&(Array.isArray(e[a])&&e[a].isCss||J1(e[a])?o.push(G2(a)+":",e[a],";"):X1(e[a])?o.push.apply(o,t(e[a],a)):o.push(G2(a)+": "+(r=a,(null==(i=e[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in U1?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(t):t.toString();var s}var K2=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function Z2(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return J1(t)||X1(t)?K2(X2($1(K1,[t].concat(n)))):0===n.length&&1===t.length&&"string"==typeof t[0]?t:K2(X2($1(t,n)))}new Set;var J2=function(t,e,n){return void 0===n&&(n=Z1),t.theme!==n.theme&&t.theme||e||n.theme},Q2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,t3=/(^-|-$)/g;function e3(t){return t.replace(Q2,"-").replace(t3,"")}var n3=function(t){return O2(_2(t)>>>0)};function r3(t){return"string"==typeof t&&!0}var i3=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},o3=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function a3(t,e,n){var r=t[n];i3(e)&&i3(r)?u3(r,e):t[n]=e}function u3(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(i3(a))for(var u in a)o3(u)&&a3(t,a[u],u)}return t}var s3=D.createContext();s3.Consumer;var l3={};function c3(t,e,n){var r=t2(t),i=!r3(t),o=e.attrs,a=void 0===o?K1:o,u=e.componentId,s=void 0===u?function(t,e){var n="string"!=typeof t?"sc":e3(t);l3[n]=(l3[n]||0)+1;var r=n+"-"+n3("5.3.3"+n+l3[n]);return e?e+"-"+r:r}(e.displayName,e.parentComponentId):u,l=e.displayName,c=void 0===l?function(t){return r3(t)?"styled."+t:"Styled("+Q1(t)+")"}(t):l,f=e.displayName&&e.componentId?e3(e.displayName)+"-"+e.componentId:e.componentId||s,d=r&&t.attrs?Array.prototype.concat(t.attrs,a).filter(Boolean):a,h=e.shouldForwardProp;r&&t.shouldForwardProp&&(h=e.shouldForwardProp?function(n,r,i){return t.shouldForwardProp(n,r,i)&&e.shouldForwardProp(n,r,i)}:t.shouldForwardProp);var p,v=new P2(n,f,r?t.componentStyle:void 0),g=v.isStatic&&0===a.length,m=function(t,e){return function(t,e,n,r){var i=t.attrs,o=t.componentStyle,a=t.defaultProps,u=t.foldedComponentIds,s=t.shouldForwardProp,l=t.styledComponentId,c=t.target,f=function(t,e,n){void 0===t&&(t=Z1);var r=G1({},e,{theme:t}),i={};return n.forEach((function(t){var e,n,o,a=t;for(e in J1(a)&&(a=a(r)),a)r[e]=i[e]="className"===e?(n=i[e],o=a[e],n&&o?n+" "+o:n||o):a[e]})),[r,i]}(J2(e,(0,D.useContext)(s3),a)||Z1,e,i),d=f[0],h=f[1],p=function(t,e,n,r){var i=B2(),o=z2();return e?t.generateAndInjectStyles(Z1,i,o):t.generateAndInjectStyles(n,i,o)}(o,r,d),v=n,g=h.$as||e.$as||h.as||e.as||c,m=r3(g),y=h!==e?G1({},e,{},h):e,x={};for(var b in y)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?x.as=y[b]:(s?s(b,W1,g):!m||W1(b))&&(x[b]=y[b]));return e.style&&h.style!==e.style&&(x.style=G1({},e.style,{},h.style)),x.className=Array.prototype.concat(u,l,p!==l?p:null,e.className,h.className).filter(Boolean).join(" "),x.ref=v,(0,D.createElement)(g,x)}(p,t,e,g)};return m.displayName=c,(p=D.forwardRef(m)).attrs=d,p.componentStyle=v,p.displayName=c,p.shouldForwardProp=h,p.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):K1,p.styledComponentId=f,p.target=r?t.target:t,p.withComponent=function(t){var r=e.componentId,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["componentId"]),o=r&&r+"-"+(r3(t)?t:e3(Q1(t)));return c3(t,G1({},i,{attrs:d,componentId:o}),n)},Object.defineProperty(p,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?u3({},t.defaultProps,e):e}}),p.toString=function(){return"."+p.styledComponentId},i&&q1()(p,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),p}var f3=function(t){return function t(e,n,r){if(void 0===r&&(r=Z1),!(0,B1.isValidElementType)(n))return i2(1,String(n));var i=function(){return e(n,r,Z2.apply(void 0,arguments))};return i.withConfig=function(i){return t(e,n,G1({},r,{},i))},i.attrs=function(i){return t(e,n,G1({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(c3,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(t){f3[t]=f3(t)}));!function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=A2(t),k2.registerId(this.componentId+1)}var e=t.prototype;e.createStyles=function(t,e,n,r){var i=r(X2(this.rules,e,n,r).join(""),""),o=this.componentId+t;n.insertRules(o,o,i)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,n,r){t>2&&k2.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,r)}}();!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=g2();return"<style "+[n&&'nonce="'+n+'"',e2+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?i2(2):t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)return i2(2);var n=((e={})[e2]="",e["data-styled-version"]="5.3.3",e.dangerouslySetInnerHTML={__html:t.instance.toString()},e),r=g2();return r&&(n.nonce=r),[D.createElement("style",G1({},n,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new k2({isServer:!0}),this.sealed=!1}var e=t.prototype;e.collectStyles=function(t){return this.sealed?i2(2):D.createElement(U2,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return i2(3)}}();var d3,h3,p3,v3={AppWrapper:f3.div(d3||(h3=["\n.ant-table-cell div div canvas{\n    width: 110px !important; height: 70px !important;fontSize:5px !important\n  }\n  .noborder{\n    border:0px !important;\n  }\n  .ant-table-cell{\n    text-align:center !important;\n  }\n"],p3||(p3=h3.slice(0)),d3=Object.freeze(Object.defineProperties(h3,{raw:{value:Object.freeze(p3)}}))))},g3=["placement","arrowProps","show","popper"];var m3=function(){var t=j((0,D.useState)(!1),2),e=t[0],n=t[1],r=(0,D.useRef)(null),i=j((0,D.useState)([]),2),o=(i[0],i[1],j((0,D.useState)({}),2)),a=(o[0],o[1],j((0,D.useState)(7),2)),u=a[0],s=a[1];return(0,D.useEffect)(kt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),[u]),(0,pt.jsx)(pt.Fragment,{children:(0,pt.jsx)(v3.AppWrapper,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsxs)(jt,{xs:12,sm:12,md:12,children:[(0,pt.jsxs)(Ft,{children:[(0,pt.jsx)(jt,{xs:12,sm:12,md:1}),(0,pt.jsx)(jt,{xs:12,sm:12,md:2,children:(0,pt.jsxs)(Ne.Select,{"aria-label":"Default select example",disabled:!0,children:[(0,pt.jsx)("option",{children:"View"}),(0,pt.jsx)("option",{value:"1",children:"New"}),(0,pt.jsx)("option",{value:"2",children:"View1"}),(0,pt.jsx)("option",{value:"3",children:"View2"}),(0,pt.jsx)("option",{value:"4",children:"View3"})]})}),(0,pt.jsx)(jt,{xs:12,sm:12,md:2,children:(0,pt.jsx)(ze,{variant:"secondary",children:"Save My View"})}),(0,pt.jsx)(jt,{xs:12,sm:12,md:4,children:(0,pt.jsxs)(Ne.Select,{"aria-label":"Default select example",onChange:function(t){s(parseInt(t.target.value)),console.log(u)},children:[(0,pt.jsx)("option",{value:"",children:"Quick Select"}),(0,pt.jsx)("option",{value:"1",style:{backgroundColor:"lightgrey"},disabled:!0,children:"Last 1 Hr"}),(0,pt.jsx)("option",{value:"0",children:"Today"}),(0,pt.jsx)("option",{value:"7",children:"Last 7 days"}),(0,pt.jsx)("option",{value:"30",style:{backgroundColor:"lightgrey"},disabled:!0,children:"Last 30 days"})]})}),(0,pt.jsx)(jt,{xs:12,sm:12,md:1}),(0,pt.jsxs)(jt,{xs:12,sm:12,md:2,children:[(0,pt.jsx)(ze,{variant:"secondary",className:"justify-content-center",style:{width:"80px"},ref:r,onClick:function(){return n(!e)},children:"search"}),(0,pt.jsx)(Bi,{target:r.current,show:e,placement:"right",children:function(t){t.placement,t.arrowProps,t.show,t.popper;var e=wt(t,g3);return(0,pt.jsx)(Ne.Control,xt(xt({id:"inputPassword5"},e),{},{style:xt({width:"200px",padding:"2px 10px",borderRadius:3},e.style),disabled:!0}))}}),(0,pt.jsx)("i",{className:"bi bi-funnel-fill"})]})]}),(0,pt.jsxs)(Ft,{children:[(0,pt.jsx)(jt,{xs:12,sm:12,md:1}),(0,pt.jsx)(jt,{xs:12,sm:12,md:2}),(0,pt.jsx)(jt,{xs:12,sm:12,md:2}),(0,pt.jsxs)(jt,{xs:12,sm:12,md:2,children:[(0,pt.jsx)(Ne.Label,{className:"mt-2",children:"Start Time Frame"}),(0,pt.jsx)(Ne.Control,{type:"time",placeholder:"",disabled:!0})]}),(0,pt.jsxs)(jt,{xs:12,sm:12,md:2,children:[(0,pt.jsx)(Ne.Label,{className:"mt-2",children:"End Time Frame"}),(0,pt.jsx)(Ne.Control,{type:"time",placeholder:"",disabled:!0})]}),(0,pt.jsx)(jt,{xs:12,sm:12,md:1}),(0,pt.jsx)(jt,{xs:12,sm:12,md:2,children:(0,pt.jsx)(Ne.Check,{className:"mt-2",type:"checkbox",id:"disable",label:"Disable Auto Refresh",disabled:!0})})]}),(0,pt.jsx)(Ft,{children:(0,pt.jsx)(jt,{})}),(0,pt.jsxs)(Ft,{style:{marginTop:"60px"},children:[(0,pt.jsx)(jt,{xs:12,sm:12,md:2}),(0,pt.jsx)(jt,{xs:12,sm:12,md:8,children:(0,pt.jsx)(j1,{numDays:u})}),(0,pt.jsx)(jt,{className:"p-5",xs:12,sm:12,md:1})]})]})})})})})})};var y3=n(1052),x3=n.n(y3);n(3414),n(8488),n(3582),n(9236),D.Component;var b3=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w3=Object.prototype.hasOwnProperty;function S3(t,e){return w3.call(t,e)}function k3(t){if(Array.isArray(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);e=[];for(var r in t)S3(t,r)&&e.push(r);return e}function C3(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function E3(t){for(var e,n=0,r=t.length;n<r;){if(!((e=t.charCodeAt(n))>=48&&e<=57))return!1;n++}return!0}function O3(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function M3(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function _3(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var e=0,n=t.length;e<n;e++)if(_3(t[e]))return!0}else if("object"===typeof t){var r=k3(t),i=r.length;for(e=0;e<i;e++)if(_3(t[r[e]]))return!0}return!1}function A3(t,e){var n=[t];for(var r in e){var i="object"===typeof e[r]?JSON.stringify(e[r],null,2):e[r];"undefined"!==typeof i&&n.push(r+": "+i)}return n.join("\n")}var T3=function(t){function e(e,n,r,i,o){var a=this.constructor,u=t.call(this,A3(e,{name:n,index:r,operation:i,tree:o}))||this;return u.name=n,u.index=r,u.operation=i,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=A3(e,{name:n,index:r,operation:i,tree:o}),u}return b3(e,t),e}(Error),P3=T3,D3=C3,F3={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){var r=I3(n,this.path);r&&(r=C3(r));var i=L3(n,{op:"remove",path:this.from}).removed;return L3(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){var r=I3(n,this.from);return L3(n,{op:"add",path:this.path,value:C3(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:U3(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}},N3={add:function(t,e,n){return E3(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){return{newDocument:n,removed:t.splice(e,1)[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:F3.move,copy:F3.copy,test:F3.test,_get:F3._get};function I3(t,e){if(""==e)return t;var n={op:"_get",path:e};return L3(t,n),n.value}function L3(t,e,n,r,i,o){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(e,0,t,e.path):B3(e,0)),""===e.path){var a={newDocument:t};if("add"===e.op)return a.newDocument=e.value,a;if("replace"===e.op)return a.newDocument=e.value,a.removed=t,a;if("move"===e.op||"copy"===e.op)return a.newDocument=I3(t,e.from),"move"===e.op&&(a.removed=t),a;if("test"===e.op){if(a.test=U3(t,e.value),!1===a.test)throw new P3("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a.newDocument=t,a}if("remove"===e.op)return a.removed=t,a.newDocument=null,a;if("_get"===e.op)return e.value=t,a;if(n)throw new P3("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,t);return a}r||(t=C3(t));var u=(e.path||"").split("/"),s=t,l=1,c=u.length,f=void 0,d=void 0,h=void 0;for(h="function"==typeof n?n:B3;;){if((d=u[l])&&-1!=d.indexOf("~")&&(d=M3(d)),i&&"__proto__"==d)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===s[d]?f=u.slice(0,l).join("/"):l==c-1&&(f=e.path),void 0!==f&&h(e,0,t,f)),l++,Array.isArray(s)){if("-"===d)d=s.length;else{if(n&&!E3(d))throw new P3("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,t);E3(d)&&(d=~~d)}if(l>=c){if(n&&"add"===e.op&&d>s.length)throw new P3("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,t);if(!1===(a=N3[e.op].call(e,s,d,t)).test)throw new P3("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a}}else if(l>=c){if(!1===(a=F3[e.op].call(e,s,d,t)).test)throw new P3("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a}if(s=s[d],n&&l<c&&(!s||"object"!==typeof s))throw new P3("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,t)}}function R3(t,e,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(e))throw new P3("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=C3(t));for(var o=new Array(e.length),a=0,u=e.length;a<u;a++)o[a]=L3(t,e[a],n,!0,i,a),t=o[a].newDocument;return o.newDocument=t,o}function j3(t,e,n){var r=L3(t,e);if(!1===r.test)throw new P3("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function B3(t,e,n,r){if("object"!==typeof t||null===t||Array.isArray(t))throw new P3("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(!F3[t.op])throw new P3("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n);if("string"!==typeof t.path)throw new P3("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(0!==t.path.indexOf("/")&&t.path.length>0)throw new P3('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if(("move"===t.op||"copy"===t.op)&&"string"!==typeof t.from)throw new P3("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&void 0===t.value)throw new P3("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&_3(t.value))throw new P3("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n)if("add"==t.op){var i=t.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new P3("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if("replace"===t.op||"remove"===t.op||"_get"===t.op){if(t.path!==r)throw new P3("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if("move"===t.op||"copy"===t.op){var a=z3([{op:"_get",path:t.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new P3("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}function z3(t,e,n){try{if(!Array.isArray(t))throw new P3("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)R3(C3(e),C3(t),n||!0);else{n=n||B3;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(v1t){if(v1t instanceof P3)return v1t;throw v1t}}function U3(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var n,r,i,o=Array.isArray(t),a=Array.isArray(e);if(o&&a){if((r=t.length)!=e.length)return!1;for(n=r;0!==n--;)if(!U3(t[n],e[n]))return!1;return!0}if(o!=a)return!1;var u=Object.keys(t);if((r=u.length)!==Object.keys(e).length)return!1;for(n=r;0!==n--;)if(!e.hasOwnProperty(u[n]))return!1;for(n=r;0!==n--;)if(!U3(t[i=u[n]],e[i]))return!1;return!0}return t!==t&&e!==e}var H3=new WeakMap,V3=function(t){this.observers=new Map,this.obj=t},W3=function(t,e){this.callback=t,this.observer=e};function Y3(t,e){e.unobserve()}function q3(t,e){var n,r=function(t){return H3.get(t)}(t);if(r){var i=function(t,e){return t.observers.get(e)}(r,e);n=i&&i.observer}else r=new V3(t),H3.set(t,r);if(n)return n;if(n={},r.value=C3(t),e){n.callback=e,n.next=null;var o=function(){G3(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(o)};"undefined"!==typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=t,n.unobserve=function(){G3(n),clearTimeout(n.next),function(t,e){t.observers.delete(e.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(e,new W3(e,n)),n}function G3(t,e){void 0===e&&(e=!1);var n=H3.get(t.object);$3(n.value,t.object,t.patches,"",e),t.patches.length&&R3(n.value,t.patches);var r=t.patches;return r.length>0&&(t.patches=[],t.callback&&t.callback(r)),r}function $3(t,e,n,r,i){if(e!==t){"function"===typeof e.toJSON&&(e=e.toJSON());for(var o=k3(e),a=k3(t),u=!1,s=a.length-1;s>=0;s--){var l=t[f=a[s]];if(!S3(e,f)||void 0===e[f]&&void 0!==l&&!1===Array.isArray(e))Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+O3(f),value:C3(l)}),n.push({op:"remove",path:r+"/"+O3(f)}),u=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}),!0);else{var c=e[f];"object"==typeof l&&null!=l&&"object"==typeof c&&null!=c&&Array.isArray(l)===Array.isArray(c)?$3(l,c,n,r+"/"+O3(f),i):l!==c&&(!0,i&&n.push({op:"test",path:r+"/"+O3(f),value:C3(l)}),n.push({op:"replace",path:r+"/"+O3(f),value:C3(c)}))}}if(u||o.length!=a.length)for(s=0;s<o.length;s++){var f;S3(t,f=o[s])||void 0===e[f]||n.push({op:"add",path:r+"/"+O3(f),value:C3(e[f])})}}}function X3(t,e,n){void 0===n&&(n=!1);var r=[];return $3(t,e,r,"",n),r}Object.assign({},v,g,{JsonPatchError:T3,deepClone:C3,escapePathComponent:O3,unescapePathComponent:M3}),n(6662);function K3(t,e,n){return t.fields=e||[],t.fname=n,t}function Z3(t){return null==t?null:t.fname}function J3(t){return null==t?null:t.fields}function Q3(t){return 1===t.length?t5(t[0]):e5(t)}var t5=function(t){return function(e){return e[t]}},e5=function(t){var e=t.length;return function(n){for(var r=0;r<e;++r)n=n[t[r]];return n}};function n5(t){throw Error(t)}function r5(t){var e,n,r,i=[],o=t.length,a=null,u=0,s="";function l(){i.push(s+t.substring(e,n)),s="",e=n+1}for(t+="",e=n=0;n<o;++n)if("\\"===(r=t[n]))s+=t.substring(e,n),s+=t.substring(++n,++n),e=n;else if(r===a)l(),a=null,u=-1;else{if(a)continue;e===u&&'"'===r||e===u&&"'"===r?(e=n+1,a=r):"."!==r||u?"["===r?(n>e&&l(),u=e=n+1):"]"===r&&(u||n5("Access path missing open bracket: "+t),u>0&&l(),u=0,e=n+1):n>e?l():e=n+1}return u&&n5("Access path missing closing bracket: "+t),a&&n5("Access path missing closing quote: "+t),n>e&&(n++,l()),i}function i5(t,e,n){var r=r5(t);return t=1===r.length?r[0]:t,K3((n&&n.get||Q3)(r),[t],e||t)}var o5=i5("id"),a5=K3((function(t){return t}),[],"identity"),u5=K3((function(){return 0}),[],"zero"),s5=K3((function(){return 1}),[],"one"),l5=K3((function(){return!0}),[],"true"),c5=K3((function(){return!1}),[],"false");function f5(t,e,n){var r=[e].concat([].slice.call(n));console[t].apply(console,r)}var d5=0,h5=1,p5=2,v5=3,g5=4;function m5(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f5,r=t||d5;return{level:function(t){return arguments.length?(r=+t,this):r},error:function(){return r>=h5&&n(e||"error","ERROR",arguments),this},warn:function(){return r>=p5&&n(e||"warn","WARN",arguments),this},info:function(){return r>=v5&&n(e||"log","INFO",arguments),this},debug:function(){return r>=g5&&n(e||"log","DEBUG",arguments),this}}}var y5=Array.isArray;function x5(t){return t===Object(t)}var b5=function(t){return"__proto__"!==t};function w5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){for(var n in e)if("signals"===n)t.signals=k5(t.signals,e.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;S5(t,n,e[n],r)}return t}),{})}function S5(t,e,n,r){var i,o;if(b5(e))if(x5(n)&&!y5(n))for(i in o=x5(t[e])?t[e]:t[e]={},n)r&&(!0===r||r[i])?S5(o,i,n[i]):b5(i)&&(o[i]=n[i]);else t[e]=n}function k5(t,e){if(null==t)return e;var n={},r=[];function i(t){n[t.name]||(n[t.name]=1,r.push(t))}return e.forEach(i),t.forEach(i),r}function C5(t){return t[t.length-1]}function E5(t){return null==t||""===t?null:+t}var O5=function(t){return function(e){return t*Math.exp(e)}},M5=function(t){return function(e){return Math.log(t*e)}},_5=function(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}},A5=function(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}},T5=function(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}};function P5(t,e,n,r){var i=n(t[0]),o=n(C5(t)),a=(o-i)*e;return[r(i-a),r(o-a)]}function D5(t,e){return P5(t,e,E5,a5)}function F5(t,e){var n=Math.sign(t[0]);return P5(t,e,M5(n),O5(n))}function N5(t,e,n){return P5(t,e,T5(n),T5(1/n))}function I5(t,e,n){return P5(t,e,_5(n),A5(n))}function L5(t,e,n,r,i){var o=r(t[0]),a=r(C5(t)),u=null!=e?r(e):(o+a)/2;return[i(u+(o-u)*n),i(u+(a-u)*n)]}function R5(t,e,n){return L5(t,e,n,E5,a5)}function j5(t,e,n){var r=Math.sign(t[0]);return L5(t,e,n,M5(r),O5(r))}function B5(t,e,n,r){return L5(t,e,n,T5(r),T5(1/r))}function z5(t,e,n,r){return L5(t,e,n,_5(r),A5(r))}function U5(t){return 1+~~(new Date(t).getMonth()/3)}function H5(t){return 1+~~(new Date(t).getUTCMonth()/3)}function V5(t){return null!=t?y5(t)?t:[t]:[]}function W5(t,e,n){var r,i=t[0],o=t[1];return o<i&&(r=o,o=i,i=r),(r=o-i)>=n-e?[e,n]:[i=Math.min(Math.max(i,e),n-r),i+r]}function Y5(t){return"function"===typeof t}function q5(t,e,n){n=n||{},e=V5(e)||[];var r=[],i=[],o={},a=n.comparator||$5;return V5(t).forEach((function(t,a){null!=t&&(r.push("descending"===e[a]?-1:1),i.push(t=Y5(t)?t:i5(t,null,n)),(J3(t)||[]).forEach((function(t){return o[t]=1})))})),0===i.length?null:K3(a(i,r),Object.keys(o))}var G5=function(t,e){return(t<e||null==t)&&null!=e?-1:(t>e||null==e)&&null!=t?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0)},$5=function(t,e){return 1===t.length?X5(t[0],e[0]):K5(t,e,t.length)},X5=function(t,e){return function(n,r){return G5(t(n),t(r))*e}},K5=function(t,e,n){return e.push(0),function(r,i){for(var o,a=0,u=-1;0===a&&++u<n;)o=t[u],a=G5(o(r),o(i));return a*e[u]}};function Z5(t){return Y5(t)?t:function(){return t}}function J5(t,e){var n;return function(r){n&&clearTimeout(n),n=setTimeout((function(){return e(r),n=null}),t)}}function Q5(t){for(var e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r])t[n]=e[n];return t}function t6(t,e){var n,r,i,o,a=0;if(t&&(n=t.length))if(null==e){for(r=t[a];a<n&&(null==r||r!==r);r=t[++a]);for(i=o=r;a<n;++a)null!=(r=t[a])&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=e(t[a]);a<n&&(null==r||r!==r);r=e(t[++a]));for(i=o=r;a<n;++a)null!=(r=e(t[a]))&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]}function e6(t,e){var n,r,i,o,a,u=t.length,s=-1;if(null==e){for(;++s<u;)if(null!=(r=t[s])&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(o=a=s;++s<u;)null!=(r=t[s])&&(n>r&&(n=r,o=s),i<r&&(i=r,a=s))}else{for(;++s<u;)if(null!=(r=e(t[s],s,t))&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(o=a=s;++s<u;)null!=(r=e(t[s],s,t))&&(n>r&&(n=r,o=s),i<r&&(i=r,a=s))}return[o,a]}var n6=Object.prototype.hasOwnProperty;function r6(t,e){return n6.call(t,e)}var i6={};function o6(t){var e,n={};function r(t){return r6(n,t)&&n[t]!==i6}var i={size:0,empty:0,object:n,has:r,get:function(t){return r(t)?n[t]:void 0},set:function(t,e){return r(t)||(++i.size,n[t]===i6&&--i.empty),n[t]=e,this},delete:function(t){return r(t)&&(--i.size,++i.empty,n[t]=i6),this},clear:function(){i.size=i.empty=0,i.object=n={}},test:function(t){return arguments.length?(e=t,i):e},clean:function(){var t={},r=0;for(var o in n){var a=n[o];a===i6||e&&e(a)||(t[o]=a,++r)}i.size=r,i.empty=0,i.object=n=t}};return t&&Object.keys(t).forEach((function(e){i.set(e,t[e])})),i}function a6(t,e,n,r,i,o){if(!n&&0!==n)return o;var a,u=+n,s=t[0],l=C5(t);l<s&&(a=s,s=l,l=a),a=Math.abs(e-s);var c=Math.abs(l-e);return a<c&&a<=u?r:c<=u?i:o}function u6(t,e,n){var r=t.prototype=Object.create(e.prototype);return Object.defineProperty(r,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),Q5(r,n)}function s6(t,e,n,r){var i,o=e[0],a=e[e.length-1];return o>a&&(i=o,o=a,a=i),r=void 0===r||r,((n=void 0===n||n)?o<=t:o<t)&&(r?t<=a:t<a)}function l6(t){return"boolean"===typeof t}function c6(t){return"[object Date]"===Object.prototype.toString.call(t)}function f6(t){return t&&Y5(t[Symbol.iterator])}function d6(t){return"number"===typeof t}function h6(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function p6(t){return"string"===typeof t}function v6(t,e,n){t&&(t=e?V5(t).map((function(t){return t.replace(/\\(.)/g,"$1")})):V5(t));var r,i=t&&t.length,o=n&&n.get||Q3,a=function(t){return o(e?[t]:r5(t))};if(i)if(1===i){var u=a(t[0]);r=function(t){return""+u(t)}}else{var s=t.map(a);r=function(t){for(var e=""+s[0](t),n=0;++n<i;)e+="|"+s[n](t);return e}}else r=function(){return""};return K3(r,t,"key")}function g6(t,e){var n=t[0],r=C5(t),i=+e;return i?1===i?r:n+i*(r-n):n}function m6(t){var e,n,r;t=+t||1e4;var i=function(){e={},n={},r=0},o=function(i,o){return++r>t&&(n=e,e={},r=1),e[i]=o};return i(),{clear:i,has:function(t){return r6(e,t)||r6(n,t)},get:function(t){return r6(e,t)?e[t]:r6(n,t)?o(t,n[t]):void 0},set:function(t,n){return r6(e,t)?e[t]=n:o(t,n)}}}function y6(t,e,n,r){var i=e.length,o=n.length;if(!o)return e;if(!i)return n;for(var a=r||new e.constructor(i+o),u=0,s=0,l=0;u<i&&s<o;++l)a[l]=t(e[u],n[s])>0?n[s++]:e[u++];for(;u<i;++u,++l)a[l]=e[u];for(;s<o;++s,++l)a[l]=n[s];return a}function x6(t,e){for(var n="";--e>=0;)n+=t;return n}function b6(t,e,n,r){var i=n||" ",o=t+"",a=e-o.length;return a<=0?o:"left"===r?x6(i,a)+o:"center"===r?x6(i,~~(a/2))+o+x6(i,Math.ceil(a/2)):o+x6(i,a)}function w6(t){return t&&C5(t)-t[0]||0}function S6(t){return y5(t)?"["+t.map(S6)+"]":x5(t)||p6(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function k6(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t}var C6=function(t){return d6(t)||c6(t)?t:Date.parse(t)};function E6(t,e){return e=e||C6,null==t||""===t?null:e(t)}function O6(t){return null==t||""===t?null:t+""}function M6(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return e}function _6(t,e,n,r){var i=null!=r?r:"\u2026",o=t+"",a=o.length,u=Math.max(0,e-i.length);return a<=e?o:"left"===n?i+o.slice(a-u):"center"===n?o.slice(0,Math.ceil(u/2))+i+o.slice(a-~~(u/2)):o.slice(0,u)+i}function A6(t,e,n){if(t)if(e)for(var r=t.length,i=0;i<r;++i){var o=e(t[i]);o&&n(o,i,t)}else t.forEach(n)}var T6={},P6={};function D6(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function F6(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function N6(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function I6(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+N6(-t,6):t>9999?"+"+N6(t,6):N6(t,4)}(t.getUTCFullYear())+"-"+N6(t.getUTCMonth()+1,2)+"-"+N6(t.getUTCDate(),2)+(i?"T"+N6(e,2)+":"+N6(n,2)+":"+N6(r,2)+"."+N6(i,3)+"Z":r?"T"+N6(e,2)+":"+N6(n,2)+":"+N6(r,2)+"Z":n||e?"T"+N6(e,2)+":"+N6(n,2)+"Z":"")}function L6(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,u=0,s=o<=0,l=!1;function c(){if(s)return P6;if(l)return l=!1,T6;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==P6;){for(var f=[];r!==T6&&r!==P6;)f.push(r),r=c();e&&null==(f=e(f,u++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?I6(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=D6(t);return function(r,i){return e(n(r),i,t)}}(t,e):D6(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=F6(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=F6(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}function R6(t){return t}function j6(t,e){return"string"===typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return B6(t,e)}))}:B6(t,e)}function B6(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=z6(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function z6(t,e){var n=function(t){if(null==t)return R6;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(e=n=0);var s=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+a;s<l;)c[s]=t[s],++s;return c}}(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(u)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:r,coordinates:n}}(e)}function U6(t,e){var n={},r={},i={},o=[],a=-1;function u(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)})),e.forEach((function(e){var n,o,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),u=a[0],s=a[1];if(n=i[u])if(delete i[n.end],n.push(e),n.end=s,o=r[s]){delete r[o.start];var l=o===n?n:n.concat(o);r[l.start=n.start]=i[l.end=o.end]=l}else r[n.start]=i[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(e),n.start=u,o=i[u]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=u]=i[n.end=s]=n})),u(i,r),u(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}function H6(t){return z6(t,V6.apply(this,arguments))}function V6(t,e,n){var r,i,o;if(arguments.length>1)r=W6(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:U6(t,r)}}function W6(t,e,n){var r,i=[],o=[];function a(t){var e=t<0?~t:t;(o[e]||(o[e]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function s(t){t.forEach(u)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":u(e.arcs);break;case"MultiLineString":case"Polygon":s(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(s)}(e.arcs)}}(e),o.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}var Y6=Math.sqrt(50),q6=Math.sqrt(10),G6=Math.sqrt(2);var $6,X6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function K6(t){if(!(e=X6.exec(t)))throw new Error("invalid format: "+t);var e;return new Z6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Z6(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function J6(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Q6(t){return(t=J6(Math.abs(t)))?t[1]:NaN}function t4(t,e){var n=J6(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}K6.prototype=Z6.prototype,Z6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var e4={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return t4(100*t,e)},r:t4,s:function(t,e){var n=J6(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-($6=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+J6(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function n4(t){return t}var r4,i4,o4,a4=Array.prototype.map,u4=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function s4(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?n4:(e=a4.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?n4:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(a4.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"\u2212":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=K6(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,p=t.width,v=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(v=!0,y="g"):e4[y]||(void 0===g&&(g=12),m=!0,y="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var x="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===d?o:/[%p]/.test(y)?s:"",w=e4[y],S=/[defgprs%]/.test(y);function k(t){var i,o,s,d=x,k=b;if("c"===y)k=w(t)+k,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0===+t&&"+"!==f&&(C=!1),d=(C?"("===f?f:l:"-"===f||"("===f?"":f)+d,k=("s"===y?u4[8+$6/3]:"")+k+(C&&"("===f?")":""),S)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){k=(46===s?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}v&&!h&&(t=r(t,1/0));var E=d.length+t.length+k.length,O=E<p?new Array(p-E+1).join(e):"";switch(v&&h&&(t=r(O+t,O.length?p-k.length:1/0),O=""),n){case"<":t=d+t+k+O;break;case"=":t=d+O+t+k;break;case"^":t=O.slice(0,E=O.length>>1)+d+t+k+O.slice(E);break;default:t=O+d+t+k}return u(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=K6(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Q6(e)/3))),i=Math.pow(10,-r),o=u4[8+r/3];return function(t){return n(i*t)+o}}}}!function(t){r4=s4(t),i4=r4.format,o4=r4.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var l4=new Date,c4=new Date;function f4(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return f4((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return l4.setTime(+e),c4.setTime(+r),t(l4),t(c4),Math.floor(n(l4,c4))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var d4=1e3,h4=6e4,p4=36e5,v4=864e5,g4=6048e5,m4=f4((function(t){return t.setHours(0,0,0,0)}),(function(t,e){return t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*h4)/v4}),(function(t){return t.getDate()-1})),y4=m4;m4.range;function x4(t){return f4((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*h4)/g4}))}var b4=x4(0),w4=x4(1),S4=x4(2),k4=x4(3),C4=x4(4),E4=x4(5),O4=x4(6),M4=(b4.range,w4.range,S4.range,k4.range,C4.range,E4.range,O4.range,f4((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/v4}),(function(t){return t.getUTCDate()-1}))),_4=M4;M4.range;function A4(t){return f4((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/g4}))}var T4=A4(0),P4=A4(1),D4=A4(2),F4=A4(3),N4=A4(4),I4=A4(5),L4=A4(6),R4=(T4.range,P4.range,D4.range,F4.range,N4.range,I4.range,L4.range,f4((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));R4.every=function(t){return isFinite(t=Math.floor(t))&&t>0?f4((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var j4=R4,B4=(R4.range,f4((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),z4=B4,U4=(B4.range,f4((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*d4-t.getMinutes()*h4)}),(function(t,e){t.setTime(+t+e*p4)}),(function(t,e){return(e-t)/p4}),(function(t){return t.getHours()}))),H4=U4,V4=(U4.range,f4((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*d4)}),(function(t,e){t.setTime(+t+e*h4)}),(function(t,e){return(e-t)/h4}),(function(t){return t.getMinutes()}))),W4=V4,Y4=(V4.range,f4((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*d4)}),(function(t,e){return(e-t)/d4}),(function(t){return t.getUTCSeconds()}))),q4=Y4,G4=(Y4.range,f4((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));G4.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?f4((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):G4:null};var $4=G4,X4=(G4.range,f4((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));X4.every=function(t){return isFinite(t=Math.floor(t))&&t>0?f4((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var K4=X4,Z4=(X4.range,f4((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),J4=Z4,Q4=(Z4.range,f4((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*p4)}),(function(t,e){return(e-t)/p4}),(function(t){return t.getUTCHours()}))),t8=Q4,e8=(Q4.range,f4((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*h4)}),(function(t,e){return(e-t)/h4}),(function(t){return t.getUTCMinutes()}))),n8=e8;e8.range;function r8(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var i8,o8,a8,u8,s8,l8,c8,f8=Math.sqrt(50),d8=Math.sqrt(10),h8=Math.sqrt(2);function p8(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=f8?i*=10:o>=d8?i*=5:o>=h8&&(i*=2),e<t?-i:i}var v8="year",g8="quarter",m8="month",y8="week",x8="date",b8="day",w8="dayofyear",S8="hours",k8="minutes",C8="seconds",E8="milliseconds",O8=[v8,g8,m8,y8,x8,b8,w8,S8,k8,C8,E8],M8=O8.reduce((function(t,e,n){return t[e]=1+n,t}),{});function _8(t){var e=V5(t).slice(),n={};return e.length||n5("Missing time unit."),e.forEach((function(t){r6(M8,t)?n[t]=1:n5("Invalid time unit: ".concat(t,"."))})),(n[y8]||n[b8]?1:0)+(n[g8]||n[m8]||n[x8]?1:0)+(n[w8]?1:0)>1&&n5("Incompatible time units: ".concat(t)),e.sort((function(t,e){return M8[t]-M8[e]})),e}var A8=(mt(i8={},v8,"%Y "),mt(i8,g8,"Q%q "),mt(i8,m8,"%b "),mt(i8,x8,"%d "),mt(i8,y8,"W%U "),mt(i8,b8,"%a "),mt(i8,w8,"%j "),mt(i8,S8,"%H:00"),mt(i8,k8,"00:%M"),mt(i8,C8,":%S"),mt(i8,E8,".%L"),mt(i8,"".concat(v8,"-").concat(m8),"%Y-%m "),mt(i8,"".concat(v8,"-").concat(m8,"-").concat(x8),"%Y-%m-%d "),mt(i8,"".concat(S8,"-").concat(k8),"%H:%M"),i8);function T8(t,e){var n,r,i=Q5({},A8,e),o=_8(t),a=o.length,u="",s=0;for(s=0;s<a;)for(n=o.length;n>s;--n)if(null!=i[r=o.slice(s,n).join("-")]){u+=i[r],s=n;break}return u.trim()}var P8=new Date;function D8(t){return P8.setFullYear(t),P8.setMonth(0),P8.setDate(1),P8.setHours(0,0,0,0),P8}function F8(t){return I8(new Date(t))}function N8(t){return L8(new Date(t))}function I8(t){return y4.count(D8(t.getFullYear())-1,t)}function L8(t){return b4.count(D8(t.getFullYear())-1,t)}function R8(t){return D8(t).getDay()}function j8(t,e,n,r,i,o,a){if(0<=t&&t<100){var u=new Date(-1,e,n,r,i,o,a);return u.setFullYear(t),u}return new Date(t,e,n,r,i,o,a)}function B8(t){return U8(new Date(t))}function z8(t){return H8(new Date(t))}function U8(t){var e=Date.UTC(t.getUTCFullYear(),0,1);return _4.count(e-1,t)}function H8(t){var e=Date.UTC(t.getUTCFullYear(),0,1);return T4.count(e-1,t)}function V8(t){return P8.setTime(Date.UTC(t,0,1)),P8.getUTCDay()}function W8(t,e,n,r,i,o,a){if(0<=t&&t<100){var u=new Date(Date.UTC(-1,e,n,r,i,o,a));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(t,e,n,r,i,o,a))}function Y8(t,e,n,r,i){var o=e||1,a=C5(t),u=function(t,e,i){return function(t,e,n,r){var i=n<=1?t:r?function(e,i){return r+n*Math.floor((t(e,i)-r)/n)}:function(e,r){return n*Math.floor(t(e,r)/n)};return e?function(t,n){return e(i(t,n),n)}:i}(n[i=i||t],r[i],t===a&&o,e)},s=new Date,l=M6(t),c=l[v8]?u(v8):Z5(2012),f=l[m8]?u(m8):l[g8]?u(g8):u5,d=l[y8]&&l[b8]?u(b8,1,y8+b8):l[y8]?u(y8,1):l[b8]?u(b8,1):l[x8]?u(x8,1):l[w8]?u(w8,1):s5,h=l[S8]?u(S8):u5,p=l[k8]?u(k8):u5,v=l[C8]?u(C8):u5,g=l[E8]?u(E8):u5;return function(t){s.setTime(+t);var e=c(s);return i(e,f(s),d(s,e),h(s),p(s),v(s),g(s))}}function q8(t,e,n){return e+7*t-(n+6)%7}var G8=(mt(o8={},v8,(function(t){return t.getFullYear()})),mt(o8,g8,(function(t){return Math.floor(t.getMonth()/3)})),mt(o8,m8,(function(t){return t.getMonth()})),mt(o8,x8,(function(t){return t.getDate()})),mt(o8,S8,(function(t){return t.getHours()})),mt(o8,k8,(function(t){return t.getMinutes()})),mt(o8,C8,(function(t){return t.getSeconds()})),mt(o8,E8,(function(t){return t.getMilliseconds()})),mt(o8,w8,(function(t){return I8(t)})),mt(o8,y8,(function(t){return L8(t)})),mt(o8,y8+b8,(function(t,e){return q8(L8(t),t.getDay(),R8(e))})),mt(o8,b8,(function(t,e){return q8(1,t.getDay(),R8(e))})),o8),$8=(mt(a8={},g8,(function(t){return 3*t})),mt(a8,y8,(function(t,e){return q8(t,0,R8(e))})),a8);function X8(t,e){return Y8(t,e||1,G8,$8,j8)}var K8=(mt(u8={},v8,(function(t){return t.getUTCFullYear()})),mt(u8,g8,(function(t){return Math.floor(t.getUTCMonth()/3)})),mt(u8,m8,(function(t){return t.getUTCMonth()})),mt(u8,x8,(function(t){return t.getUTCDate()})),mt(u8,S8,(function(t){return t.getUTCHours()})),mt(u8,k8,(function(t){return t.getUTCMinutes()})),mt(u8,C8,(function(t){return t.getUTCSeconds()})),mt(u8,E8,(function(t){return t.getUTCMilliseconds()})),mt(u8,w8,(function(t){return U8(t)})),mt(u8,y8,(function(t){return H8(t)})),mt(u8,b8,(function(t,e){return q8(1,t.getUTCDay(),V8(e))})),mt(u8,y8+b8,(function(t,e){return q8(H8(t),t.getUTCDay(),V8(e))})),u8),Z8=(mt(s8={},g8,(function(t){return 3*t})),mt(s8,y8,(function(t,e){return q8(t,0,V8(e))})),s8);function J8(t,e){return Y8(t,e||1,K8,Z8,W8)}var Q8=(mt(l8={},v8,j4),mt(l8,g8,z4.every(3)),mt(l8,m8,z4),mt(l8,y8,b4),mt(l8,x8,y4),mt(l8,b8,y4),mt(l8,w8,y4),mt(l8,S8,H4),mt(l8,k8,W4),mt(l8,C8,q4),mt(l8,E8,$4),l8),t9=(mt(c8={},v8,K4),mt(c8,g8,J4.every(3)),mt(c8,m8,J4),mt(c8,y8,T4),mt(c8,x8,_4),mt(c8,b8,_4),mt(c8,w8,_4),mt(c8,S8,t8),mt(c8,k8,n8),mt(c8,C8,q4),mt(c8,E8,$4),c8);function e9(t){return Q8[t]}function n9(t){return t9[t]}function r9(t,e,n){return t?t.offset(e,n):void 0}function i9(t,e,n){return r9(e9(t),e,n)}function o9(t,e,n){return r9(n9(t),e,n)}function a9(t,e,n,r){return t?t.range(e,n,r):void 0}function u9(t,e,n,r){return a9(e9(t),e,n,r)}function s9(t,e,n,r){return a9(n9(t),e,n,r)}var l9=1e3,c9=6e4,f9=36e5,d9=864e5,h9=2592e6,p9=31536e6,v9=[v8,m8,x8,S8,k8,C8,E8],g9=v9.slice(0,-1),m9=g9.slice(0,-1),y9=m9.slice(0,-1),x9=y9.slice(0,-1),b9=[v8,m8],w9=[v8],S9=[[g9,1,l9],[g9,5,5e3],[g9,15,15e3],[g9,30,3e4],[m9,1,c9],[m9,5,3e5],[m9,15,9e5],[m9,30,18e5],[y9,1,f9],[y9,3,108e5],[y9,6,216e5],[y9,12,432e5],[x9,1,d9],[[v8,y8],1,6048e5],[b9,1,h9],[b9,3,7776e6],[w9,1,p9]];function k9(t){var e,n,r=t.extent,i=t.maxbins||40,o=Math.abs(w6(r))/i,a=function(t){var e=t,n=t,r=t;function i(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<0?i=a+1:o=a}while(i<o)}return i}return 2!==t.length&&(e=function(e,n){return t(e)-n},n=r8,r=function(e,n){return r8(t(e),n)}),{left:i,center:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=i(t,n,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<=0?i=a+1:o=a}while(i<o)}return i}}}((function(t){return t[2]})).right(S9,o);return a===S9.length?(e=w9,n=p8(r[0]/p9,r[1]/p9,i)):a?(e=(a=S9[o/S9[a-1][2]<S9[a][2]/o?a-1:a])[0],n=a[1]):(e=v9,n=Math.max(p8(r[0],r[1],i),1)),{units:e,step:n}}var C9=new Date,E9=new Date;function O9(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return O9((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return C9.setTime(+e),E9.setTime(+r),t(C9),t(E9),Math.floor(n(C9,E9))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var M9=864e5,_9=6048e5;function A9(t){return O9((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/_9}))}var T9=A9(0),P9=A9(1),D9=A9(2),F9=A9(3),N9=A9(4),I9=A9(5),L9=A9(6),R9=(T9.range,P9.range,D9.range,F9.range,N9.range,I9.range,L9.range,O9((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/M9}),(function(t){return t.getUTCDate()-1}))),j9=R9;R9.range;function B9(t){return O9((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/_9}))}var z9=B9(0),U9=B9(1),H9=B9(2),V9=B9(3),W9=B9(4),Y9=B9(5),q9=B9(6),G9=(z9.range,U9.range,H9.range,V9.range,W9.range,Y9.range,q9.range,O9((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/M9}),(function(t){return t.getDate()-1}))),$9=G9,X9=(G9.range,O9((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));X9.every=function(t){return isFinite(t=Math.floor(t))&&t>0?O9((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var K9=X9,Z9=(X9.range,O9((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Z9.every=function(t){return isFinite(t=Math.floor(t))&&t>0?O9((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var J9=Z9;Z9.range;function Q9(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function t7(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function e7(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function n7(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,l=g7(i),c=m7(i),f=g7(o),d=m7(o),h=g7(a),p=m7(a),v=g7(u),g=m7(u),m=g7(s),y=m7(s),x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:j7,e:j7,f:V7,g:ttt,G:ntt,H:B7,I:z7,j:U7,L:H7,m:W7,M:Y7,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ett,s:Ott,S:q7,u:G7,U:$7,V:K7,w:Z7,W:J7,x:null,X:null,y:Q7,Y:ett,Z:rtt,"%":Ctt},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:itt,e:itt,f:ltt,g:btt,G:Stt,H:ott,I:att,j:utt,L:stt,m:ctt,M:ftt,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ett,s:Ott,S:dtt,u:htt,U:ptt,V:gtt,w:mtt,W:ytt,x:null,X:null,y:xtt,Y:wtt,Z:ktt,"%":Ctt},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:_7,e:_7,f:N7,g:C7,G:k7,H:T7,I:T7,j:A7,L:F7,m:M7,M:P7,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:O7,Q:L7,s:R7,S:D7,u:x7,U:b7,V:w7,w:y7,W:S7,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:C7,Y:k7,Z:E7,"%":I7};function S(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=c7[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function k(t,e){return function(n){var r,i,o=e7(1900,void 0,1);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=t7(e7(o.y,0,1))).getUTCDay(),r=i>4||0===i?P9.ceil(r):P9(r),r=j9.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Q9(e7(o.y,0,1))).getDay(),r=i>4||0===i?U9.ceil(r):U9(r),r=$9.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?t7(e7(o.y,0,1)).getUTCDay():Q9(e7(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,t7(o)):Q9(o)}}function C(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in c7?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=S(n,x),x.X=S(r,x),x.c=S(e,x),b.x=S(n,b),b.X=S(r,b),b.c=S(e,b),{format:function(t){var e=S(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=S(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var r7,i7,o7,a7,u7,s7,l7,c7={"-":"",_:" ",0:"0"},f7=/^\s*\d+/,d7=/^%/,h7=/[\\^$*+?|[\]().{}]/g;function p7(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function v7(t){return t.replace(h7,"\\$&")}function g7(t){return new RegExp("^(?:"+t.map(v7).join("|")+")","i")}function m7(t){return new Map(t.map((function(t,e){return[t.toLowerCase(),e]})))}function y7(t,e,n){var r=f7.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function x7(t,e,n){var r=f7.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function b7(t,e,n){var r=f7.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function w7(t,e,n){var r=f7.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function S7(t,e,n){var r=f7.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function k7(t,e,n){var r=f7.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function C7(t,e,n){var r=f7.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function E7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function O7(t,e,n){var r=f7.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function M7(t,e,n){var r=f7.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _7(t,e,n){var r=f7.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function A7(t,e,n){var r=f7.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function T7(t,e,n){var r=f7.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function P7(t,e,n){var r=f7.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function D7(t,e,n){var r=f7.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function F7(t,e,n){var r=f7.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function N7(t,e,n){var r=f7.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function I7(t,e,n){var r=d7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function L7(t,e,n){var r=f7.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function R7(t,e,n){var r=f7.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function j7(t,e){return p7(t.getDate(),e,2)}function B7(t,e){return p7(t.getHours(),e,2)}function z7(t,e){return p7(t.getHours()%12||12,e,2)}function U7(t,e){return p7(1+$9.count(K9(t),t),e,3)}function H7(t,e){return p7(t.getMilliseconds(),e,3)}function V7(t,e){return H7(t,e)+"000"}function W7(t,e){return p7(t.getMonth()+1,e,2)}function Y7(t,e){return p7(t.getMinutes(),e,2)}function q7(t,e){return p7(t.getSeconds(),e,2)}function G7(t){var e=t.getDay();return 0===e?7:e}function $7(t,e){return p7(z9.count(K9(t)-1,t),e,2)}function X7(t){var e=t.getDay();return e>=4||0===e?W9(t):W9.ceil(t)}function K7(t,e){return t=X7(t),p7(W9.count(K9(t),t)+(4===K9(t).getDay()),e,2)}function Z7(t){return t.getDay()}function J7(t,e){return p7(U9.count(K9(t)-1,t),e,2)}function Q7(t,e){return p7(t.getFullYear()%100,e,2)}function ttt(t,e){return p7((t=X7(t)).getFullYear()%100,e,2)}function ett(t,e){return p7(t.getFullYear()%1e4,e,4)}function ntt(t,e){var n=t.getDay();return p7((t=n>=4||0===n?W9(t):W9.ceil(t)).getFullYear()%1e4,e,4)}function rtt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+p7(e/60|0,"0",2)+p7(e%60,"0",2)}function itt(t,e){return p7(t.getUTCDate(),e,2)}function ott(t,e){return p7(t.getUTCHours(),e,2)}function att(t,e){return p7(t.getUTCHours()%12||12,e,2)}function utt(t,e){return p7(1+j9.count(J9(t),t),e,3)}function stt(t,e){return p7(t.getUTCMilliseconds(),e,3)}function ltt(t,e){return stt(t,e)+"000"}function ctt(t,e){return p7(t.getUTCMonth()+1,e,2)}function ftt(t,e){return p7(t.getUTCMinutes(),e,2)}function dtt(t,e){return p7(t.getUTCSeconds(),e,2)}function htt(t){var e=t.getUTCDay();return 0===e?7:e}function ptt(t,e){return p7(T9.count(J9(t)-1,t),e,2)}function vtt(t){var e=t.getUTCDay();return e>=4||0===e?N9(t):N9.ceil(t)}function gtt(t,e){return t=vtt(t),p7(N9.count(J9(t),t)+(4===J9(t).getUTCDay()),e,2)}function mtt(t){return t.getUTCDay()}function ytt(t,e){return p7(P9.count(J9(t)-1,t),e,2)}function xtt(t,e){return p7(t.getUTCFullYear()%100,e,2)}function btt(t,e){return p7((t=vtt(t)).getUTCFullYear()%100,e,2)}function wtt(t,e){return p7(t.getUTCFullYear()%1e4,e,4)}function Stt(t,e){var n=t.getUTCDay();return p7((t=n>=4||0===n?N9(t):N9.ceil(t)).getUTCFullYear()%1e4,e,4)}function ktt(){return"+0000"}function Ctt(){return"%"}function Ett(t){return+t}function Ott(t){return Math.floor(+t/1e3)}function Mtt(t){var e={};return function(n){return e[n]||(e[n]=t(n))}}function _tt(t){var e=Mtt(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat:function(t){var n=K6(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return function(t,e){return function(n){var r=t(n),i=r.indexOf(e);if(i<0)return r;for(var o=function(t,e){var n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if((n=t.charCodeAt(r))>=48&&n<=57)return r+1}(r,i),a=o<r.length?r.slice(o):"";--o>i;)if("0"!==r[o]){++o;break}return r.slice(0,o)+a}}(e(n),e(".1f")(1)[1])}return e(n)},formatSpan:function(t,r,i,o){o=K6(null==o?",f":o);var a,u=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Y6?i*=10:o>=q6?i*=5:o>=G6&&(i*=2),e<t?-i:i}(t,r,i),s=Math.max(Math.abs(t),Math.abs(r));if(null==o.precision)switch(o.type){case"s":return isNaN(a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Q6(e)/3)))-Q6(Math.abs(t)))}(u,s))||(o.precision=a),n(o,s);case"":case"e":case"g":case"p":case"r":isNaN(a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Q6(e)-Q6(t))+1}(u,s))||(o.precision=a-("e"===o.type));break;case"f":case"%":isNaN(a=function(t){return Math.max(0,-Q6(Math.abs(t)))}(u))||(o.precision=a-2*("%"===o.type))}return e(o)}}}function Att(){return s7=_tt({format:i4,formatPrefix:o4})}function Ttt(t){return _tt(s4(t))}function Ptt(t){return arguments.length?s7=Ttt(t):s7}function Dtt(t,e,n){x5(n=n||{})||n5("Invalid time multi-format specifier: ".concat(n));var r=e(C8),i=e(k8),o=e(S8),a=e(x8),u=e(y8),s=e(m8),l=e(g8),c=e(v8),f=t(n[E8]||".%L"),d=t(n[C8]||":%S"),h=t(n[k8]||"%I:%M"),p=t(n[S8]||"%I %p"),v=t(n[x8]||n[b8]||"%a %d"),g=t(n[y8]||"%b %d"),m=t(n[m8]||"%B"),y=t(n[g8]||"%B"),x=t(n[v8]||"%Y");return function(t){return(r(t)<t?f:i(t)<t?d:o(t)<t?h:a(t)<t?p:s(t)<t?u(t)<t?v:g:c(t)<t?l(t)<t?m:y:x)(t)}}function Ftt(t){var e=Mtt(t.format),n=Mtt(t.utcFormat);return{timeFormat:function(t){return p6(t)?e(t):Dtt(e,e9,t)},utcFormat:function(t){return p6(t)?n(t):Dtt(n,n9,t)},timeParse:Mtt(t.parse),utcParse:Mtt(t.utcParse)}}function Ntt(){return l7=Ftt({format:i7,parse:o7,utcFormat:a7,utcParse:u7})}function Itt(t){return Ftt(n7(t))}function Ltt(t){return arguments.length?l7=Itt(t):l7}!function(t){r7=n7(t),i7=r7.format,o7=r7.parse,a7=r7.utcFormat,u7=r7.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Att(),Ntt();var Rtt=function(t,e){return Q5({},t,e)};function jtt(t,e){var n=t?Ttt(t):Ptt(),r=e?Itt(e):Ltt();return Rtt(n,r)}function Btt(t,e){var n=arguments.length;return n&&2!==n&&n5("defaultLocale expects either zero or two arguments."),n?Rtt(Ptt(t),Ltt(e)):Rtt(Ptt(),Ltt())}function ztt(){return Att(),Ntt(),Btt()}var Utt=/^(data:|([A-Za-z]+:)?\/\/)/,Htt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Vtt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Wtt="file://";function Ytt(t,e){return qtt.apply(this,arguments)}function qtt(){return qtt=kt(Et().mark((function t(e,n){var r,i;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sanitize(e,n);case 2:return r=t.sent,i=r.href,t.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return t.stop()}}),t,this)}))),qtt.apply(this,arguments)}function Gtt(t,e){return $tt.apply(this,arguments)}function $tt(){return $tt=kt(Et().mark((function t(e,n){var r,i,o,a,u,s,l;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Q5({},this.options,n),r=this.fileAccess,i={href:null},s=Htt.test(e.replace(Vtt,"")),null!=e&&"string"===typeof e&&s||n5("Sanitize failure, invalid URI: "+S6(e)),l=Utt.test(e),(u=n.baseURL)&&!l&&(e.startsWith("/")||u.endsWith("/")||(e="/"+e),e=u+e),a=(o=e.startsWith(Wtt))||"file"===n.mode||"http"!==n.mode&&!l&&r,o?e=e.slice(Wtt.length):e.startsWith("//")&&("file"===n.defaultProtocol?(e=e.slice(2),a=!0):e=(n.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!a}),i.href=e,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),t.abrupt("return",i);case 14:case"end":return t.stop()}}),t,this)}))),$tt.apply(this,arguments)}function Xtt(t){return t?function(e){return new Promise((function(n,r){t.readFile(e,(function(t,e){t?r(t):n(e)}))}))}:Ktt}function Ktt(){return Ztt.apply(this,arguments)}function Ztt(){return(Ztt=kt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n5("No file system access.");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Jtt(t){return t?function(){var e=kt(Et().mark((function e(n,r){var i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Q5({},this.options.http,r),o=r&&r.response,e.next=4,t(n,i);case 4:return a=e.sent,e.abrupt("return",a.ok?Y5(a[o])?a[o]():a.text():n5(a.status+""+a.statusText));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}():Qtt}function Qtt(){return tet.apply(this,arguments)}function tet(){return(tet=kt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n5("No HTTP fetch method available.");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var eet=function(t){return null!=t&&t===t},net=function(t){return!Number.isNaN(+t)&&!(t instanceof Date)},ret={boolean:k6,integer:E5,number:E5,date:E6,string:O6,unknown:a5},iet=[function(t){return"true"===t||"false"===t||!0===t||!1===t},function(t){return net(t)&&Number.isInteger(+t)},net,function(t){return!Number.isNaN(Date.parse(t))}],oet=["boolean","integer","number","date"];function aet(t,e){if(!t||!t.length)return"unknown";for(var n,r,i=t.length,o=iet.length,a=iet.map((function(t,e){return e+1})),u=0,s=0;u<i;++u)for(r=e?t[u][e]:t[u],n=0;n<o;++n)if(a[n]&&eet(r)&&!iet[n](r)&&(a[n]=0,++s===iet.length))return"string";return oet[a.reduce((function(t,e){return 0===t?e:t}),0)-1]}function uet(t,e){return e.reduce((function(e,n){return e[n]=aet(t,n),e}),{})}function set(t){var e=function(e,n){var r={delimiter:t};return cet(e,n?Q5(n,r):r)};return e.responseType="text",e}function cet(t,e){return e.header&&(t=e.header.map(S6).join(e.delimiter)+"\n"+t),L6(e.delimiter).parse(t+"")}function fet(t,e){var n=e&&e.property?i5(e.property):a5;return x5(t)&&!function(t){return!("function"!==typeof Buffer||!Y5(Buffer.isBuffer))&&Buffer.isBuffer(t)}(t)?function(t,e){!y5(t)&&f6(t)&&(t=Ye(t));return e&&e.copy?JSON.parse(JSON.stringify(t)):t}(n(t),e):n(JSON.parse(t))}cet.responseType="text",fet.responseType="json";var det={interior:function(t,e){return t!==e},exterior:function(t,e){return t===e}};function het(t,e){var n,r,i,o;return t=fet(t,e),e&&e.feature?(n=j6,i=e.feature):e&&e.mesh?(n=H6,i=e.mesh,o=det[e.filter]):n5("Missing TopoJSON feature or mesh parameter."),(r=(r=t.objects[i])?n(t,r,o):n5("Invalid TopoJSON object: "+i))&&r.features||[r]}het.responseType="json";var pet={dsv:cet,csv:set(","),tsv:set("\t"),json:fet,topojson:het};function vet(t,e){return arguments.length>1?(pet[t]=e,this):r6(pet,t)?pet[t]:null}function get(t){var e=vet(t);return e&&e.responseType||"text"}function met(t,e,n,r){var i=vet((e=e||{}).type||"json");return i||n5("Unknown data format type: "+e.type),t=i(t,e),e.parse&&function(t,e,n,r){if(!t.length)return;var i=Ltt();n=n||i.timeParse,r=r||i.utcParse;var o,a,u,s,l,c,f=t.columns||Object.keys(t[0]);"auto"===e&&(e=uet(t,f));var d=(f=Object.keys(e)).map((function(t){var i,o,a=e[t];if(a&&(a.startsWith("date:")||a.startsWith("utc:")))return("'"===(o=(i=a.split(/:(.+)?/,2))[1])[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),("utc"===i[0]?r:n)(o);if(!ret[a])throw Error("Illegal format pattern: "+t+":"+a);return ret[a]}));for(u=0,l=t.length,c=f.length;u<l;++u)for(o=t[u],s=0;s<c;++s)o[a=f[s]]=d[s](o[a])}(t,e.parse,n,r),r6(t,"columns")&&delete t.columns,t}var yet=function(t,e){return function(n){return{options:n||{},sanitize:Gtt,load:Ytt,fileAccess:!!e,file:Xtt(e),http:Jtt(t)}}}("undefined"!==typeof fetch&&fetch,null);function xet(t){var e=t||a5,n=[],r={};return n.add=function(t){var i=e(t);return r[i]||(r[i]=1,n.push(t)),n},n.remove=function(t){var i=e(t);if(r[i]){r[i]=0;var o=n.indexOf(t);o>=0&&n.splice(o,1)}return n},n}function bet(t,e){return wet.apply(this,arguments)}function wet(){return wet=kt(Et().mark((function t(e,n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),wet.apply(this,arguments)}var ket=Symbol("vega_id"),Cet=1;function Eet(t){return!(!t||!Oet(t))}function Oet(t){return t[ket]}function Met(t,e){return t[ket]=e,t}function _et(t){var e=t===Object(t)?t:{data:t};return Oet(e)?e:Met(e,Cet++)}function Aet(t){return Tet(t,_et({}))}function Tet(t,e){for(var n in t)e[n]=t[n];return e}function Pet(t,e){return Met(e,Oet(t))}function Det(t,e){return t?e?function(n,r){return t(n,r)||Oet(e(n))-Oet(e(r))}:function(e,n){return t(e,n)||Oet(e)-Oet(n)}:null}function Fet(t){return t&&t.constructor===Net}function Net(){var t=[],e=[],n=[],r=[],i=[],o=null,a=!1;return{constructor:Net,insert:function(e){for(var n=V5(e),r=n.length,i=0;i<r;++i)t.push(n[i]);return this},remove:function(t){for(var n=Y5(t)?r:e,i=V5(t),o=i.length,a=0;a<o;++a)n.push(i[a]);return this},modify:function(t,e,r){var o={field:e,value:Z5(r)};return Y5(t)?(o.filter=t,i.push(o)):(o.tuple=t,n.push(o)),this},encode:function(t,e){return Y5(t)?i.push({filter:t,field:e}):n.push({tuple:t,field:e}),this},clean:function(t){return o=t,this},reflow:function(){return a=!0,this},pulse:function(u,s){var l,c,f,d,h,p,v={},g={};for(l=0,c=s.length;l<c;++l)v[Oet(s[l])]=1;for(l=0,c=e.length;l<c;++l)v[Oet(h=e[l])]=-1;for(l=0,c=r.length;l<c;++l)d=r[l],s.forEach((function(t){d(t)&&(v[Oet(t)]=-1)}));for(l=0,c=t.length;l<c;++l)p=Oet(h=t[l]),v[p]?v[p]=1:u.add.push(_et(t[l]));for(l=0,c=s.length;l<c;++l)h=s[l],v[Oet(h)]<0&&u.rem.push(h);function m(t,e,n){n?t[e]=n(t):u.encode=e,a||(g[Oet(t)]=t)}for(l=0,c=n.length;l<c;++l)h=(f=n[l]).tuple,d=f.field,(p=v[Oet(h)])>0&&(m(h,d,f.value),u.modifies(d));for(l=0,c=i.length;l<c;++l)f=i[l],d=f.filter,s.forEach((function(t){d(t)&&v[Oet(t)]>0&&m(t,f.field,f.value)})),u.modifies(f.field);if(a)u.mod=e.length||r.length?s.filter((function(t){return v[Oet(t)]>0})):s.slice();else for(p in g)u.mod.push(g[p]);return(o||null==o&&(e.length||r.length))&&u.clean(!0),u}}}var Iet="_:mod:_";function Let(){Object.defineProperty(this,Iet,{writable:!0,value:{}})}Let.prototype={set:function(t,e,n,r){var i=this,o=i[t],a=i[Iet];return null!=e&&e>=0?(o[e]!==n||r)&&(o[e]=n,a[e+":"+t]=-1,a[t]=-1):(o!==n||r)&&(i[t]=n,a[t]=y5(n)?1+n.length:-1),i},modified:function(t,e){var n=this[Iet];if(!arguments.length){for(var r in n)if(n[r])return!0;return!1}if(y5(t)){for(var i=0;i<t.length;++i)if(n[t[i]])return!0;return!1}return null!=e&&e>=0?e+1<n[t]||!!n[e+":"+t]:!!n[t]},clear:function(){return this[Iet]={},this}};var Ret=0,jet=new Let;function Bet(t,e,n,r){this.id=++Ret,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,e&&(this._update=e),n&&this.parameters(n,r)}function zet(t){return function(e){var n=this.flags;return 0===arguments.length?!!(n&t):(this.flags=e?n|t:n&~t,this)}}Bet.prototype={targets:function(){return this._targets||(this._targets=xet(o5))},set:function(t){return this.value!==t?(this.value=t,1):0},skip:zet(1),modified:zet(2),parameters:function(t,e,n){var r=this;e=!1!==e;var i,o,a,u,s=this._argval=this._argval||new Let,l=this._argops=this._argops||[],c=[],f=function(t,n,i){i instanceof Bet?(i!==r&&(e&&i.targets().add(r),c.push(i)),l.push({op:i,name:t,index:n})):s.set(t,n,i)};for(i in t)if(o=t[i],"pulse"===i)V5(o).forEach((function(t){t instanceof Bet?t!==r&&(t.targets().add(r),c.push(t)):n5("Pulse parameters must be operator instances.")})),this.source=o;else if(y5(o))for(s.set(i,-1,Array(a=o.length)),u=0;u<a;++u)f(i,u,o[u]);else f(i,-1,o);return this.marshall().clear(),n&&(l.initonly=!0),c},marshall:function(t){var e,n,r,i,o=this._argval||jet,a=this._argops;if(a){var u=a.length;for(n=0;n<u;++n)i=(r=(e=a[n]).op).modified()&&r.stamp===t,o.set(e.name,e.index,r.value,i);if(a.initonly){for(n=0;n<u;++n)(e=a[n]).op.targets().remove(this);this._argops=null,this._update=null}}return o},detach:function(){var t,e,n,r=this._argops;if(r)for(t=0,e=r.length;t<e;++t)(n=r[t].op)._targets&&n._targets.remove(this);this.pulse=null,this.source=null},evaluate:function(t){var e=this._update;if(e){var n=this.marshall(t.stamp),r=e.call(this,n,t);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return t.StopPropagation}},run:function(t){return t.stamp<this.stamp?t.StopPropagation:(this.skip()?(this.skip(!1),e=0):e=this.evaluate(t),this.pulse=e||t);var e}};var Uet=0;function Het(t,e,n){this.id=++Uet,this.value=null,n&&(this.receive=n),t&&(this._filter=t),e&&(this._apply=e)}function Vet(t,e,n){return new Het(t,e,n)}function Wet(){return Wet=kt(Et().mark((function t(e,n){var r,i,o;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this,i=0,t.prev=2,t.next=5,r.loader().load(e,{context:"dataflow",response:get(n&&n.type)});case 5:o=t.sent;try{o=r.parse(o,n)}catch(a){i=-2,r.warn("Data ingestion failed",e,a)}t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),i=-1,r.warn("Loading failed",e,t.t0);case 13:return t.abrupt("return",{data:o,status:i});case 14:case"end":return t.stop()}}),t,this,[[2,9]])}))),Wet.apply(this,arguments)}function Yet(){return Yet=kt(Et().mark((function t(e,n,r){var i,o,a;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=(i=this)._pending||qet(i)).requests+=1,t.next=4,i.request(n,r);case 4:return a=t.sent,i.pulse(e,i.changeset().remove(l5).insert(a.data||[])),o.done(),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)}))),Yet.apply(this,arguments)}function qet(t){var e,n=new Promise((function(t){return e=t}));return n.requests=0,n.done=function(){0===--n.requests&&(t._pending=null,e(t))},t._pending=n}Het.prototype={_filter:l5,_apply:a5,targets:function(){return this._targets||(this._targets=xet(o5))},consume:function(t){return arguments.length?(this._consume=!!t,this):!!this._consume},receive:function(t){if(this._filter(t)){for(var e=this.value=this._apply(t),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(e);this._consume&&(t.preventDefault(),t.stopPropagation())}},filter:function(t){var e=Vet(t);return this.targets().add(e),e},apply:function(t){var e=Vet(null,t);return this.targets().add(e),e},merge:function(){var t=Vet();this.targets().add(t);for(var e=0,n=arguments.length;e<n;++e)arguments[e].targets().add(t);return t},throttle:function(t){var e=-1;return this.filter((function(){var n=Date.now();return n-e>t?(e=n,1):0}))},debounce:function(t){var e=Vet();return this.targets().add(Vet(null,null,J5(t,(function(t){var n=t.dataflow;e.receive(t),n&&n.run&&n.run()})))),e},between:function(t,e){var n=!1;return t.targets().add(Vet(null,null,(function(){return n=!0}))),e.targets().add(Vet(null,null,(function(){return n=!1}))),this.filter((function(){return n}))},detach:function(){this._filter=l5,this._targets=null}};var Get={skip:!0};function $et(t,e,n,r,i,o){var a,u,s=Q5({},o,Get);Y5(n)||(n=Z5(n)),void 0===r?a=function(e){return t.touch(n(e))}:Y5(r)?(u=new Bet(null,r,i,!1),a=function(e){u.evaluate(e);var r=n(e),i=u.value;Fet(i)?t.pulse(r,i,o):t.update(r,i,s)}):a=function(e){return t.update(n(e),r,s)},e.apply(a)}function Xet(t,e,n,r,i,o){if(void 0===r)e.targets().add(n);else{var a=o||{},u=new Bet(null,function(t,e){return e=Y5(e)?e:Z5(e),t?function(n,r){var i=e(n,r);return t.skip()||(t.skip(i!==this.value).value=i),i}:e}(n,r),i,!1);u.modified(a.force),u.rank=e.rank,e.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),t.connect(n,[u]))}}var Ket={};function Zet(t,e,n){this.dataflow=t,this.stamp=null==e?-1:e,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Jet(t,e){var n=[];return A6(t,e,(function(t){return n.push(t)})),n}function Qet(t,e){var n={};return t.visit(e,(function(t){n[Oet(t)]=1})),function(t){return n[Oet(t)]?null:t}}function tnt(t,e){return t?function(n,r){return t(n,r)&&e(n,r)}:e}function ent(t,e,n,r){var i=this,o=n.length,a=0;this.dataflow=t,this.stamp=e,this.fields=null,this.encode=r||null,this.pulses=n;for(var u=0;u<o;++u){var s=n[u];if(s.stamp===e){if(s.fields){var l=i.fields||(i.fields={});for(var c in s.fields)l[c]=1}s.changed(i.ADD)&&(a|=i.ADD),s.changed(i.REM)&&(a|=i.REM),s.changed(i.MOD)&&(a|=i.MOD)}}this.changes=a}function nnt(){return nnt=kt(Et().mark((function t(e,n,r){var i,o,a,u,s,l,c,f,d;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=[],!(i=this)._pulse){t.next=3;break}return t.abrupt("return",int(i));case 3:if(!i._pending){t.next=6;break}return t.next=6,i._pending;case 6:if(!n){t.next=9;break}return t.next=9,bet(i,n);case 9:if(i._touched.length){t.next=12;break}return i.debug("Dataflow invoked, but nothing to do."),t.abrupt("return",i);case 12:a=++i._clock,i._pulse=new Zet(i,a,e),i._touched.forEach((function(t){return i._enqueue(t,!0)})),i._touched=xet(o5),u=0,t.prev=17;case 18:if(!(i._heap.size()>0)){t.next=35;break}if((s=i._heap.pop()).rank===s.qrank){t.next=23;break}return i._enqueue(s,!0),t.abrupt("continue",18);case 23:if(!(l=s.run(i._getPulse(s,e))).then){t.next=30;break}return t.next=27,l;case 27:l=t.sent,t.next=31;break;case 30:l.async&&(o.push(l.async),l=Ket);case 31:l!==Ket&&s._targets&&s._targets.forEach((function(t){return i._enqueue(t)})),++u,t.next=18;break;case 35:t.next=41;break;case 37:t.prev=37,t.t0=t.catch(17),i._heap.clear(),c=t.t0;case 41:if(i._input={},i._pulse=null,i.debug("Pulse ".concat(a,": ").concat(u," operators")),c&&(i._postrun=[],i.error(c)),!i._postrun.length){t.next=55;break}f=i._postrun.sort((function(t,e){return e.priority-t.priority})),i._postrun=[],d=0;case 49:if(!(d<f.length)){t.next=55;break}return t.next=52,bet(i,f[d].callback);case 52:++d,t.next=49;break;case 55:if(!r){t.next=58;break}return t.next=58,bet(i,r);case 58:return o.length&&Promise.all(o).then((function(t){return i.runAsync(null,(function(){t.forEach((function(t){try{t(i)}catch(e){i.error(e)}}))}))})),t.abrupt("return",i);case 60:case"end":return t.stop()}}),t,this,[[17,37]])}))),nnt.apply(this,arguments)}function rnt(){return rnt=kt(Et().mark((function t(e,n,r){var i,o=this;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._running){t.next=5;break}return t.next=3,this._running;case 3:t.next=0;break;case 5:return i=function(){return o._running=null},(this._running=this.evaluate(e,n,r)).then(i,i),t.abrupt("return",this._running);case 8:case"end":return t.stop()}}),t,this)}))),rnt.apply(this,arguments)}function int(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}Zet.prototype={StopPropagation:Ket,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(t){return new Zet(this.dataflow).init(this,t)},clone:function(){var t=this.fork(7);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(23)},addAll:function(){var t=this;return!t.source||t.add===t.rem||!t.rem.length&&t.source.length===t.add.length||((t=new Zet(this.dataflow).init(this)).add=t.source,t.rem=[]),t},init:function(t,e){var n=this;return n.stamp=t.stamp,n.encode=t.encode,!t.fields||64&e||(n.fields=t.fields),1&e?(n.addF=t.addF,n.add=t.add):(n.addF=null,n.add=[]),2&e?(n.remF=t.remF,n.rem=t.rem):(n.remF=null,n.rem=[]),4&e?(n.modF=t.modF,n.mod=t.mod):(n.modF=null,n.mod=[]),32&e?(n.srcF=null,n.source=null):(n.srcF=t.srcF,n.source=t.source,t.cleans&&(n.cleans=t.cleans)),n},runAfter:function(t){this.dataflow.runAfter(t)},changed:function(t){var e=t||7;return 1&e&&this.add.length||2&e&&this.rem.length||4&e&&this.mod.length},reflow:function(t){if(t)return this.fork(7).reflow();var e=this.add.length,n=this.source&&this.source.length;return n&&n!==e&&(this.mod=this.source,e&&this.filter(4,Qet(this,1))),this},clean:function(t){return arguments.length?(this.cleans=!!t,this):this.cleans},modifies:function(t){var e=this.fields||(this.fields={});return y5(t)?t.forEach((function(t){return e[t]=!0})):e[t]=!0,this},modified:function(t,e){var n=this.fields;return!(!e&&!this.mod.length||!n)&&(arguments.length?y5(t)?t.some((function(t){return n[t]})):n[t]:!!n)},filter:function(t,e){var n=this;return 1&t&&(n.addF=tnt(n.addF,e)),2&t&&(n.remF=tnt(n.remF,e)),4&t&&(n.modF=tnt(n.modF,e)),16&t&&(n.srcF=tnt(n.srcF,e)),n},materialize:function(t){var e=this;return 1&(t=t||7)&&e.addF&&(e.add=Jet(e.add,e.addF),e.addF=null),2&t&&e.remF&&(e.rem=Jet(e.rem,e.remF),e.remF=null),4&t&&e.modF&&(e.mod=Jet(e.mod,e.modF),e.modF=null),16&t&&e.srcF&&(e.source=e.source.filter(e.srcF),e.srcF=null),e},visit:function(t,e){var n=this,r=e;if(16&t)return A6(n.source,n.srcF,r),n;1&t&&A6(n.add,n.addF,r),2&t&&A6(n.rem,n.remF,r),4&t&&A6(n.mod,n.modF,r);var i=n.source;if(8&t&&i){var o=n.add.length+n.mod.length;o===i.length||A6(i,o?Qet(n,5):n.srcF,r)}return n}},u6(ent,Zet,{fork:function(t){var e=new Zet(this.dataflow).init(this,t&this.NO_FIELDS);return void 0!==t&&(t&e.ADD&&this.visit(e.ADD,(function(t){return e.add.push(t)})),t&e.REM&&this.visit(e.REM,(function(t){return e.rem.push(t)})),t&e.MOD&&this.visit(e.MOD,(function(t){return e.mod.push(t)}))),e},changed:function(t){return this.changes&t},modified:function(t){var e=this,n=e.fields;return n&&e.changes&e.MOD?y5(t)?t.some((function(t){return n[t]})):n[t]:0},filter:function(){n5("MultiPulse does not support filtering.")},materialize:function(){n5("MultiPulse does not support materialization.")},visit:function(t,e){var n=this,r=n.pulses,i=r.length,o=0;if(t&n.SOURCE)for(;o<i;++o)r[o].visit(t,e);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(t,e);return n}});var ont={skip:!1,force:!1};function ant(t){var e=[];return{clear:function(){return e=[]},size:function(){return e.length},peek:function(){return e[0]},push:function(n){return e.push(n),unt(e,0,e.length-1,t)},pop:function(){var n,r=e.pop();return e.length?(n=e[0],e[0]=r,function(t,e,n){var r,i=e,o=t.length,a=t[e],u=1+(e<<1);for(;u<o;)(r=u+1)<o&&n(t[u],t[r])>=0&&(u=r),t[e]=t[u],u=1+((e=u)<<1);t[e]=a,unt(t,i,e,n)}(e,0,t)):n=r,n}}}function unt(t,e,n,r){for(var i,o,a=t[n];n>e&&r(a,i=t[o=n-1>>1])<0;)t[n]=i,n=o;return t[n]=a}function snt(){this.logger(m5()),this.logLevel(h5),this._clock=0,this._rank=0,this._locale=Btt();try{this._loader=yet()}catch(v1t){}this._touched=xet(o5),this._input={},this._pulse=null,this._heap=ant((function(t,e){return t.qrank-e.qrank})),this._postrun=[]}function lnt(t){return function(){return this._log[t].apply(this,arguments)}}function cnt(t,e){Bet.call(this,t,null,e)}snt.prototype={stamp:function(){return this._clock},loader:function(t){return arguments.length?(this._loader=t,this):this._loader},locale:function(t){return arguments.length?(this._locale=t,this):this._locale},logger:function(t){return arguments.length?(this._log=t,this):this._log},error:lnt("error"),warn:lnt("warn"),info:lnt("info"),debug:lnt("debug"),logLevel:lnt("level"),cleanThreshold:1e4,add:function(t,e,n,r){var i,o=1;return t instanceof Bet?i=t:t&&t.prototype instanceof Bet?i=new t:Y5(t)?i=new Bet(null,t):(o=0,i=new Bet(t,e)),this.rank(i),o&&(r=n,n=e),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},connect:function(t,e){for(var n=t.rank,r=e.length,i=0;i<r;++i)if(n<e[i].rank)return void this.rerank(t)},rank:function(t){t.rank=++this._rank},rerank:function(t){for(var e,n,r,i=[t];i.length;)if(this.rank(e=i.pop()),n=e._targets)for(r=n.length;--r>=0;)i.push(e=n[r]),e===t&&n5("Cycle detected in dataflow graph.")},pulse:function(t,e,n){this.touch(t,n||ont);var r=new Zet(this,this._clock+(this._pulse?0:1)),i=t.pulse&&t.pulse.source||[];return r.target=t,this._input[t.id]=e.pulse(r,i),this},touch:function(t,e){var n=e||ont;return this._pulse?this._enqueue(t):this._touched.add(t),n.skip&&t.skip(!0),this},update:function(t,e,n){var r=n||ont;return(t.set(e)||r.force)&&this.touch(t,r),this},changeset:Net,ingest:function(t,e,n){return e=this.parse(e,n),this.pulse(t,this.changeset().insert(e))},parse:function(t,e){var n=this.locale();return met(t,e,n.timeParse,n.utcParse)},preload:function(t,e,n){return Yet.apply(this,arguments)},request:function(t,e){return Wet.apply(this,arguments)},events:function(t,e,n,r){for(var i,o=this,a=Vet(n,r),u=function(t){t.dataflow=o;try{a.receive(t)}catch(n5){o.error(n5)}finally{o.run()}},s=(i="string"===typeof t&&"undefined"!==typeof document?document.querySelectorAll(t):V5(t)).length,l=0;l<s;++l)i[l].addEventListener(e,u);return a},on:function(t,e,n,r,i){return(t instanceof Bet?Xet:$et)(this,t,e,n,r,i),this},evaluate:function(t,e,n){return nnt.apply(this,arguments)},run:function(t,e,n){return this._pulse?int(this):(this.evaluate(t,e,n),this)},runAsync:function(t,e,n){return rnt.apply(this,arguments)},runAfter:function(t,e,n){if(this._pulse||e)this._postrun.push({priority:n||0,callback:t});else try{t(this)}catch(r){this.error(r)}},_enqueue:function(t,e){var n=t.stamp<this._clock;n&&(t.stamp=this._clock),(n||e)&&(t.qrank=t.rank,this._heap.push(t))},_getPulse:function(t,e){var n=t.source,r=this._clock;return n&&y5(n)?new ent(this,r,n.map((function(t){return t.pulse})),e):this._input[t.id]||function(t,e){if(e&&e.stamp===t.stamp)return e;t=t.fork(),e&&e!==Ket&&(t.source=e.source);return t}(this._pulse,n&&n.pulse)}},u6(cnt,Bet,{run:function(t){var e,n=this;return t.stamp<this.stamp?t.StopPropagation:(this.skip()?this.skip(!1):e=this.evaluate(t),(e=e||t).then?e=e.then((function(t){return n.pulse=t})):e!==t.StopPropagation&&(this.pulse=e),e)},evaluate:function(t){var e=this.marshall(t.stamp),n=this.transform(e,t);return e.clear(),n},transform:function(){}});var fnt={};function dnt(t){var e=hnt(t);return e&&e.Definition||null}function hnt(t){return t=t&&t.toLowerCase(),r6(fnt,t)?fnt[t]:null}function pnt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vnt(t,e){var n;if(void 0===e){var r,i=qe(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,u=-1,s=qe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;null!=(l=e(l,++u,t))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function gnt(t,e){var n;if(void 0===e){var r,i=qe(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,u=-1,s=qe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;null!=(l=e(l,++u,t))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function mnt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pnt;if(t===pnt)return ynt;if("function"!==typeof t)throw new TypeError("compare is not a function");return function(e,n){var r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function ynt(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function xnt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,i=arguments.length>4?arguments[4]:void 0;for(i=void 0===i?ynt:mnt(i);r>n;){if(r-n>600){var o=r-n+1,a=e-n+1,u=Math.log(o),s=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*s*(o-s)/o)*(a-o/2<0?-1:1),c=Math.max(n,Math.floor(e-a*s/o+l)),f=Math.min(r,Math.floor(e+(o-a)*s/o+l));xnt(t,e,c,f,i)}var d=t[e],h=n,p=r;for(bnt(t,n,e),i(t[r],d)>0&&bnt(t,n,r);h<p;){for(bnt(t,h,p),++h,--p;i(t[h],d)<0;)++h;for(;i(t[p],d)>0;)--p}0===i(t[n],d)?bnt(t,n,p):bnt(t,++p,r),p<=e&&(n=p+1),e<=p&&(r=p-1)}return t}function bnt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}var wnt=Ct.mark(knt);function Snt(t){return null===t?NaN:+t}function knt(t,e){var n,r,i,o,a,u,s;return Ct.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==e){l.next=21;break}n=qe(t),l.prev=2,n.s();case 4:if((r=n.n()).done){l.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){l.next=9;break}return l.next=9,i;case 9:l.next=4;break;case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(2),n.e(l.t0);case 16:return l.prev=16,n.f(),l.finish(16);case 19:l.next=40;break;case 21:o=-1,a=qe(t),l.prev=23,a.s();case 25:if((u=a.n()).done){l.next=32;break}if(s=u.value,!(null!=(s=e(s,++o,t))&&(s=+s)>=s)){l.next=30;break}return l.next=30,s;case 30:l.next=25;break;case 32:l.next=37;break;case 34:l.prev=34,l.t1=l.catch(23),a.e(l.t1);case 37:return l.prev=37,a.f(),l.finish(37);case 40:case"end":return l.stop()}}),wnt,null,[[2,13,16,19],[23,34,37,40]])}function Cnt(t,e,n){if(r=(t=Float64Array.from(knt(t,n))).length){if((e=+e)<=0||r<2)return gnt(t);if(e>=1)return vnt(t);var r,i=(r-1)*e,o=Math.floor(i),a=vnt(xnt(t,o).subarray(0,o+1));return a+(gnt(t.subarray(o+1))-a)*(i-o)}}function Ent(t,e){var n=function(t,e){var n,r=0,i=0,o=0;if(void 0===e){var a,u=qe(t);try{for(u.s();!(a=u.n()).done;){var s=a.value;null!=s&&(s=+s)>=s&&(o+=(n=s-i)*(s-(i+=n/++r)))}}catch(h){u.e(h)}finally{u.f()}}else{var l,c=-1,f=qe(t);try{for(f.s();!(l=f.n()).done;){var d=l.value;null!=(d=e(d,++c,t))&&(d=+d)>=d&&(o+=(n=d-i)*(d-(i+=n/++r)))}}catch(h){f.e(h)}finally{f.f()}}if(r>1)return o/(r-1)}(t,e);return n?Math.sqrt(n):n}function Ont(t,e){return Cnt(t,.5,e)}var Mnt=Et().mark(_nt);function _nt(t,e){var n,r,i,o,a,u,s;return Et().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(null!=e){l.next=21;break}n=qe(t),l.prev=2,n.s();case 4:if((r=n.n()).done){l.next=11;break}if(!(null!=(i=r.value)&&""!==i&&(i=+i)>=i)){l.next=9;break}return l.next=9,i;case 9:l.next=4;break;case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(2),n.e(l.t0);case 16:return l.prev=16,n.f(),l.finish(16);case 19:l.next=41;break;case 21:o=-1,a=qe(t),l.prev=23,a.s();case 25:if((u=a.n()).done){l.next=33;break}if(s=u.value,!(null!=(s=e(s,++o,t))&&""!==s&&(s=+s)>=s)){l.next=31;break}return l.next=31,s;case 31:l.next=25;break;case 33:l.next=38;break;case 35:l.prev=35,l.t1=l.catch(23),a.e(l.t1);case 38:return l.prev=38,a.f(),l.finish(38);case 41:case"end":return l.stop()}}),Mnt,null,[[2,13,16,19],[23,35,38,41]])}function Ant(t,e,n){var r=Float64Array.from(_nt(t,n));return r.sort(pnt),e.map((function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Snt;if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}(r,t)}))}function Tnt(t,e){return Ant(t,[.25,.5,.75],e)}function Pnt(t,e){var n=t.length,r=Ent(t,e),i=Tnt(t,e),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function Dnt(t){var e,n,r,i,o,a,u=t.maxbins||20,s=t.base||10,l=Math.log(s),c=t.divide||[5,2],f=t.extent[0],d=t.extent[1],h=t.span||d-f||Math.abs(f)||1;if(t.step)e=t.step;else if(t.steps){for(i=h/u,o=0,a=t.steps.length;o<a&&t.steps[o]<i;++o);e=t.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(u)/l),r=t.minstep||0,e=Math.max(r,Math.pow(s,Math.round(Math.log(h)/l)-n));Math.ceil(h/e)>u;)e*=s;for(o=0,a=c.length;o<a;++o)(i=e/c[o])>=r&&h/i<=u&&(e=i)}var p=(i=Math.log(e))>=0?0:1+~~(-i/l),v=Math.pow(s,-p-1);return(t.nice||void 0===t.nice)&&(f=f<(i=Math.floor(f/e+v)*e)?i-e:i,d=Math.ceil(d/e)*e),{start:f,stop:d===f?f+e:d,step:e}}var Fnt=Math.random;function Nnt(t){Fnt=t}function Int(t,e,n,r){if(!t.length)return[void 0,void 0];var i,o,a,u,s=Float64Array.from(_nt(t,r)),l=s.length,c=e;for(a=0,u=Array(c);a<c;++a){for(i=0,o=0;o<l;++o)i+=s[~~(Fnt()*l)];u[a]=i/l}return u.sort(pnt),[Cnt(u,n/2),Cnt(u,1-n/2)]}function Lnt(t,e,n,r){r=r||function(t){return t};for(var i,o=t.length,a=new Float64Array(o),u=0,s=1,l=r(t[0]),c=l,f=l+e;s<o;++s){if((i=r(t[s]))>=f){for(c=(l+c)/2;u<s;++u)a[u]=c;f=i+e,l=i}c=i}for(c=(l+c)/2;u<s;++u)a[u]=c;return n?function(t,e){var n,r,i=t.length,o=0,a=1;for(;t[o]===t[a];)++a;for(;a<i;){for(n=a+1;t[a]===t[n];)++n;if(t[a]-t[a-1]<e){for(r=a+(o+n-a-a>>1);r<a;)t[r++]=t[a];for(;r>a;)t[r--]=t[o]}o=a,a=n}return t}(a,e+e/4):a}function Rnt(t){return function(){return(t=(1103515245*t+12345)%2147483647)/2147483647}}function jnt(t,e){var n,r,i;null==e&&(e=t,t=0);var o={min:function(t){return arguments.length?(i=r-(n=t||0),o):n},max:function(t){return arguments.length?(i=(r=t||0)-n,o):r},sample:function(){return n+Math.floor(i*Fnt())},pdf:function(t){return t===Math.floor(t)&&t>=n&&t<r?1/i:0},cdf:function(t){var e=Math.floor(t);return e<n?0:e>=r?1:(e-n+1)/i},icdf:function(t){return t>=0&&t<=1?n-1+Math.floor(t*i):NaN}};return o.min(t).max(e)}var Bnt=Math.sqrt(2*Math.PI),znt=Math.SQRT2,Unt=NaN;function Hnt(t,e){t=t||0,e=null==e?1:e;var n,r,i=0,o=0;if(Unt===Unt)i=Unt,Unt=NaN;else{do{n=(i=2*Fnt()-1)*i+(o=2*Fnt()-1)*o}while(0===n||n>1);i*=r=Math.sqrt(-2*Math.log(n)/n),Unt=o*r}return t+i*e}function Vnt(t,e,n){var r=(t-(e||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*Bnt)}function Wnt(t,e,n){var r,i=(t-(e=e||0))/(n=null==n?1:n),o=Math.abs(i);if(o>37)r=0;else{var a=Math.exp(-o*o/2);o<7.07106781186547?(r=a*((((((.0352624965998911*o+.700383064443688)*o+6.37396220353165)*o+33.912866078383)*o+112.079291497871)*o+221.213596169931)*o+220.206867912376),r/=((((((.0883883476483184*o+1.75566716318264)*o+16.064177579207)*o+86.7807322029461)*o+296.564248779674)*o+637.333633378831)*o+793.826512519948)*o+440.413735824752):r=a/(o+1/(o+2/(o+3/(o+4/(o+.65)))))/2.506628274631}return i>0?1-r:r}function Ynt(t,e,n){return t<0||t>1?NaN:(e||0)+(null==n?1:n)*znt*function(t){var e,n=-Math.log((1-t)*(1+t));e=n<6.25?1.6536545626831027+(e=.24015818242558962+(e=(e=(e=.00018673420803405714+(e=(e=(e=4.2347877827932404e-7+(e=(e=(e=1.0512122733215323e-9+(e=(e=(e=26335093153082323e-28+(e=(e=(e=6637638134358324e-30+(e=20972767875968562e-33+(e=(e=11157877678025181e-33+(e=128584807152564e-32+(e=(e=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?3.0838856104922208+(e=1.0052589676941592+(e=.005370914553590064+(e=(e=.002491442096107851+(e=(e=.0009532893797373805+(e=(e=24031110387097894e-21+(e=6828485145957318e-20+(e=(e=12475304481671779e-21+(e=29234449089955446e-22+(e=(e=15027403968909828e-22+(e=1.8239629214389228e-8+(e=(e=9.075656193888539e-8+(e=2.2137376921775787e-9)*(n=Math.sqrt(n)-3.25))*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n:Number.isFinite(n)?4.849906401408584+(e=1.0103004648645344+(e=(e=(e=7599527703001776e-20+(e=(e=4526062597223154e-21+(e=(e=2.2900482228026655e-7+(e=(e=2.914795345090108e-8+(e=(e=7.61570120807834e-9+(e=(e=1.5076572693500548e-9+(e=(e=-27109920616438573e-27)*(n=Math.sqrt(n)-5)-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n:1/0;return e*t}(2*t-1)}function qnt(t,e){var n,r,i={mean:function(t){return arguments.length?(n=t||0,i):n},stdev:function(t){return arguments.length?(r=null==t?1:t,i):r},sample:function(){return Hnt(n,r)},pdf:function(t){return Vnt(t,n,r)},cdf:function(t){return Wnt(t,n,r)},icdf:function(t){return Ynt(t,n,r)}};return i.mean(t).stdev(e)}function Gnt(t,e){var n=qnt(),r=0,i={data:function(n){return arguments.length?(t=n,r=n?n.length:0,i.bandwidth(e)):t},bandwidth:function(n){return arguments.length?(!(e=n)&&t&&(e=Pnt(t)),i):e},sample:function(){return t[~~(Fnt()*r)]+e*n.sample()},pdf:function(i){for(var o=0,a=0;a<r;++a)o+=n.pdf((i-t[a])/e);return o/e/r},cdf:function(i){for(var o=0,a=0;a<r;++a)o+=n.cdf((i-t[a])/e);return o/r},icdf:function(){throw Error("KDE icdf not supported.")}};return i.data(t)}function $nt(t,e){return t=t||0,e=null==e?1:e,Math.exp(t+Hnt()*e)}function Xnt(t,e,n){if(t<=0)return 0;e=e||0,n=null==n?1:n;var r=(Math.log(t)-e)/n;return Math.exp(-.5*r*r)/(n*Bnt*t)}function Knt(t,e,n){return Wnt(Math.log(t),e,n)}function Znt(t,e,n){return Math.exp(Ynt(t,e,n))}function Jnt(t,e){var n,r,i={mean:function(t){return arguments.length?(n=t||0,i):n},stdev:function(t){return arguments.length?(r=null==t?1:t,i):r},sample:function(){return $nt(n,r)},pdf:function(t){return Xnt(t,n,r)},cdf:function(t){return Knt(t,n,r)},icdf:function(t){return Znt(t,n,r)}};return i.mean(t).stdev(e)}function Qnt(t,e){var n,r=0;function i(t){var e,n=[],i=0;for(e=0;e<r;++e)i+=n[e]=null==t[e]?1:+t[e];for(e=0;e<r;++e)n[e]/=i;return n}var o={weights:function(t){return arguments.length?(n=i(e=t||[]),o):e},distributions:function(n){return arguments.length?(n?(r=n.length,t=n):(r=0,t=[]),o.weights(e)):t},sample:function(){for(var e=Fnt(),i=t[r-1],o=n[0],a=0;a<r-1;o+=n[++a])if(e<o){i=t[a];break}return i.sample()},pdf:function(e){for(var i=0,o=0;o<r;++o)i+=n[o]*t[o].pdf(e);return i},cdf:function(e){for(var i=0,o=0;o<r;++o)i+=n[o]*t[o].cdf(e);return i},icdf:function(){throw Error("Mixture icdf not supported.")}};return o.distributions(t).weights(e)}function trt(t,e){return null==e&&(e=null==t?1:t,t=0),t+(e-t)*Fnt()}function ert(t,e,n){return null==n&&(n=null==e?1:e,e=0),t>=e&&t<=n?1/(n-e):0}function nrt(t,e,n){return null==n&&(n=null==e?1:e,e=0),t<e?0:t>n?1:(t-e)/(n-e)}function rrt(t,e,n){return null==n&&(n=null==e?1:e,e=0),t>=0&&t<=1?e+t*(n-e):NaN}function irt(t,e){var n,r,i={min:function(t){return arguments.length?(n=t||0,i):n},max:function(t){return arguments.length?(r=null==t?1:t,i):r},sample:function(){return trt(n,r)},pdf:function(t){return ert(t,n,r)},cdf:function(t){return nrt(t,n,r)},icdf:function(t){return rrt(t,n,r)}};return null==e&&(e=null==t?1:t,t=0),i.min(t).max(e)}function ort(t,e,n,r){var i=r-t*t,o=Math.abs(i)<1e-24?0:(n-t*e)/i;return[e-o*t,o]}function art(t,e,n,r){t=t.filter((function(t){var r=e(t),i=n(t);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&t.sort((function(t,n){return e(t)-e(n)}));var i,o,a,u,s=t.length,l=new Float64Array(s),c=new Float64Array(s),f=0,d=0,h=0,p=qe(t);try{for(p.s();!(u=p.n()).done;)a=u.value,l[f]=i=+e(a),c[f]=o=+n(a),d+=(i-d)/++f,h+=(o-h)/f}catch(v){p.e(v)}finally{p.f()}for(f=0;f<s;++f)l[f]-=d,c[f]-=h;return[l,c,d,h]}function urt(t,e,n,r){var i,o,a,u=-1,s=qe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;i=e(l),o=n(l),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++u)}}catch(c){s.e(c)}finally{s.f()}}function srt(t,e,n,r,i){var o=0,a=0;return urt(t,e,n,(function(t,e){var n=e-i(t),u=e-r;o+=n*n,a+=u*u})),1-o/a}function lrt(t,e,n){var r=0,i=0,o=0,a=0,u=0;urt(t,e,n,(function(t,e){++u,r+=(t-r)/u,i+=(e-i)/u,o+=(t*e-o)/u,a+=(t*t-a)/u}));var s=ort(r,i,o,a),l=function(t){return s[0]+s[1]*t};return{coef:s,predict:l,rSquared:srt(t,e,n,i,l)}}function crt(t,e,n){var r=0,i=0,o=0,a=0,u=0;urt(t,e,n,(function(t,e){++u,t=Math.log(t),r+=(t-r)/u,i+=(e-i)/u,o+=(t*e-o)/u,a+=(t*t-a)/u}));var s=ort(r,i,o,a),l=function(t){return s[0]+s[1]*Math.log(t)};return{coef:s,predict:l,rSquared:srt(t,e,n,i,l)}}function frt(t,e,n){var r,i,o,a=j(art(t,e,n),4),u=a[0],s=(a[1],a[2]),l=a[3],c=0,f=0,d=0,h=0,p=0;urt(t,e,n,(function(t,e){r=u[p++],i=Math.log(e),c+=(e*i-c)/p,f+=((o=r*e)-f)/p,d+=(o*i-d)/p,h+=(r*o-h)/p}));var v=j(ort(f/l,c/l,d/l,h/l),2),g=v[0],m=v[1],y=function(t){return Math.exp(g+m*(t-s))};return{coef:[Math.exp(g-m*s),m],predict:y,rSquared:srt(t,e,n,l,y)}}function drt(t,e,n){var r=0,i=0,o=0,a=0,u=0,s=0;urt(t,e,n,(function(t,e){var n=Math.log(t),l=Math.log(e);++s,r+=(n-r)/s,i+=(l-i)/s,o+=(n*l-o)/s,a+=(n*n-a)/s,u+=(e-u)/s}));var l=ort(r,i,o,a),c=function(t){return l[0]*Math.pow(t,l[1])};return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:srt(t,e,n,u,c)}}function hrt(t,e,n){var r,i,o,a,u=j(art(t,e,n),4),s=u[0],l=u[1],c=u[2],f=u[3],d=s.length,h=0,p=0,v=0,g=0,m=0;for(r=0;r<d;)i=s[r],o=l[r++],h+=((a=i*i)-h)/r,p+=(a*i-p)/r,v+=(a*a-v)/r,g+=(i*o-g)/r,m+=(a*o-m)/r;var y=v-h*h,x=h*y-p*p,b=(m*h-g*p)/x,w=(g*y-m*p)/x,S=-b*h,k=function(t){return b*(t-=c)*t+w*t+S+f};return{coef:[S-w*c+b*c*c+f,w-2*b*c,b],predict:k,rSquared:srt(t,e,n,f,k)}}function prt(t,e,n,r){if(1===r)return lrt(t,e,n);if(2===r)return hrt(t,e,n);var i,o,a,u,s,l=j(art(t,e,n),4),c=l[0],f=l[1],d=l[2],h=l[3],p=c.length,v=[],g=[],m=r+1;for(i=0;i<m;++i){for(a=0,u=0;a<p;++a)u+=Math.pow(c[a],i)*f[a];for(v.push(u),s=new Float64Array(m),o=0;o<m;++o){for(a=0,u=0;a<p;++a)u+=Math.pow(c[a],i+o);s[o]=u}g.push(s)}g.push(v);var y=function(t){var e,n,r,i,o,a=t.length-1,u=[];for(e=0;e<a;++e){for(i=e,n=e+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][i])&&(i=n);for(r=e;r<a+1;++r)o=t[r][e],t[r][e]=t[r][i],t[r][i]=o;for(n=e+1;n<a;++n)for(r=a;r>=e;r--)t[r][n]-=t[r][e]*t[e][n]/t[e][e]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=t[r][n]*u[r];u[n]=(t[a][n]-o)/t[n][n]}return u}(g),x=function(t){t-=d;var e=h+y[0]+y[1]*t+y[2]*t*t;for(i=3;i<m;++i)e+=y[i]*Math.pow(t,i);return e};return{coef:vrt(m,y,-d,h),predict:x,rSquared:srt(t,e,n,h,x)}}function vrt(t,e,n,r){var i,o,a,u,s=Array(t);for(i=0;i<t;++i)s[i]=0;for(i=t-1;i>=0;--i)for(a=e[i],u=1,s[i]+=a,o=1;o<=i;++o)u*=(i+1-o)/o,s[i-o]+=a*Math.pow(n,o)*u;return s[0]+=r,s}function grt(t,e,n,r){for(var i=j(art(t,e,n,!0),4),o=i[0],a=i[1],u=i[2],s=i[3],l=o.length,c=Math.max(2,~~(r*l)),f=new Float64Array(l),d=new Float64Array(l),h=new Float64Array(l).fill(1),p=-1;++p<=2;){for(var v=[0,c-1],g=0;g<l;++g){for(var m=o[g],y=v[0],x=v[1],b=m-o[y]>o[x]-m?y:x,w=0,S=0,k=0,C=0,E=0,O=1/Math.abs(o[b]-m||1),M=y;M<=x;++M){var _=o[M],A=a[M],T=mrt(Math.abs(m-_)*O)*h[M],P=_*T;w+=T,S+=P,k+=A*T,C+=A*P,E+=_*P}var D=j(ort(S/w,k/w,C/w,E/w),2),F=D[0],N=D[1];f[g]=F+N*m,d[g]=Math.abs(a[g]-f[g]),yrt(o,g+1,v)}if(2===p)break;var I=Ont(d);if(Math.abs(I)<1e-12)break;for(var L,R,B=0;B<l;++B)L=d[B]/(6*I),h[B]=L>=1?1e-12:(R=1-L*L)*R}return function(t,e,n,r){for(var i,o=t.length,a=[],u=0,s=0,l=[];u<o;++u)i=t[u]+n,l[0]===i?l[1]+=(e[u]-l[1])/++s:(s=0,l[1]+=r,l=[i,e[u]],a.push(l));return l[1]+=r,a}(o,f,u,s)}function mrt(t){return(t=1-t*t*t)*t*t}function yrt(t,e,n){var r=t[e],i=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>i&&t[o]-r<=r-t[i];)n[0]=++i,n[1]=o,++o}var xrt=.5*Math.PI/180;function brt(t,e,n,r){n=n||25,r=Math.max(n,r||200);var i=function(e){return[e,t(e)]},o=e[0],a=e[1],u=a-o,s=u/r,l=[i(o)],c=[];if(n===r){for(var f=1;f<r;++f)l.push(i(o+f/n*u));return l.push(i(a)),l}c.push(i(a));for(var d=n;--d>0;)c.push(i(o+d/n*u));for(var h=l[0],p=c[c.length-1],v=1/u,g=function(t,e){for(var n=t,r=t,i=e.length,o=0;o<i;++o){var a=e[o][1];a<n&&(n=a),a>r&&(r=a)}return 1/(r-n)}(h[1],c);p;){var m=i((h[0]+p[0])/2);m[0]-h[0]>=s&&wrt(h,m,p,v,g)>xrt?c.push(m):(h=p,l.push(p),c.pop()),p=c[c.length-1]}return l}function wrt(t,e,n,r,i){var o=Math.atan2(i*(n[1]-t[1]),r*(n[0]-t[0])),a=Math.atan2(i*(e[1]-t[1]),r*(e[0]-t[0]));return Math.abs(o-a)}function Srt(t,e){var n;if(void 0===e){var r,i=qe(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,u=-1,s=qe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;null!=(l=e(l,++u,t))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function krt(t,e){var n;if(void 0===e){var r,i=qe(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,u=-1,s=qe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;null!=(l=e(l,++u,t))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function Crt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ert(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Crt;if(t===Crt)return Ort;if("function"!==typeof t)throw new TypeError("compare is not a function");return function(e,n){var r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function Ort(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function Mrt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,i=arguments.length>4?arguments[4]:void 0;for(i=void 0===i?Ort:Ert(i);r>n;){if(r-n>600){var o=r-n+1,a=e-n+1,u=Math.log(o),s=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*s*(o-s)/o)*(a-o/2<0?-1:1),c=Math.max(n,Math.floor(e-a*s/o+l)),f=Math.min(r,Math.floor(e+(o-a)*s/o+l));Mrt(t,e,c,f,i)}var d=t[e],h=n,p=r;for(_rt(t,n,e),i(t[r],d)>0&&_rt(t,n,r);h<p;){for(_rt(t,h,p),++h,--p;i(t[h],d)<0;)++h;for(;i(t[p],d)>0;)--p}0===i(t[n],d)?_rt(t,n,p):_rt(t,++p,r),p<=e&&(n=p+1),e<=p&&(r=p-1)}return t}function _rt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}var Art=Ct.mark(Trt);function Trt(t,e){var n,r,i,o,a,u,s;return Ct.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==e){l.next=21;break}n=qe(t),l.prev=2,n.s();case 4:if((r=n.n()).done){l.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){l.next=9;break}return l.next=9,i;case 9:l.next=4;break;case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(2),n.e(l.t0);case 16:return l.prev=16,n.f(),l.finish(16);case 19:l.next=40;break;case 21:o=-1,a=qe(t),l.prev=23,a.s();case 25:if((u=a.n()).done){l.next=32;break}if(s=u.value,!(null!=(s=e(s,++o,t))&&(s=+s)>=s)){l.next=30;break}return l.next=30,s;case 30:l.next=25;break;case 32:l.next=37;break;case 34:l.prev=34,l.t1=l.catch(23),a.e(l.t1);case 37:return l.prev=37,a.f(),l.finish(37);case 40:case"end":return l.stop()}}),Art,null,[[2,13,16,19],[23,34,37,40]])}function Prt(t,e,n){if(r=(t=Float64Array.from(Trt(t,n))).length){if((e=+e)<=0||r<2)return krt(t);if(e>=1)return Srt(t);var r,i=(r-1)*e,o=Math.floor(i),a=Srt(Mrt(t,o).subarray(0,o+1));return a+(krt(t.subarray(o+1))-a)*(i-o)}}function Drt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Frt(t){return t&&t.length?1===t.length?t[0]:(e=t,function(t){for(var n=e.length,r=1,i=String(e[0](t));r<n;++r)i+="|"+e[r](t);return i}):function(){return""};var e}function Nrt(t,e,n){return n||t+(e?"_"+e:"")}var Irt=function(){},Lrt={init:Irt,add:Irt,rem:Irt,idx:0},Rrt={values:{init:function(t){return t.cell.store=!0},value:function(t){return t.cell.data.values()},idx:-1},count:{value:function(t){return t.cell.num}},__count__:{value:function(t){return t.missing+t.valid}},missing:{value:function(t){return t.missing}},valid:{value:function(t){return t.valid}},sum:{init:function(t){return t.sum=0},value:function(t){return t.sum},add:function(t,e){return t.sum+=+e},rem:function(t,e){return t.sum-=e}},product:{init:function(t){return t.product=1},value:function(t){return t.valid?t.product:void 0},add:function(t,e){return t.product*=e},rem:function(t,e){return t.product/=e}},mean:{init:function(t){return t.mean=0},value:function(t){return t.valid?t.mean:void 0},add:function(t,e){return t.mean_d=e-t.mean,t.mean+=t.mean_d/t.valid},rem:function(t,e){return t.mean_d=e-t.mean,t.mean-=t.valid?t.mean_d/t.valid:t.mean}},average:{value:function(t){return t.valid?t.mean:void 0},req:["mean"],idx:1},variance:{init:function(t){return t.dev=0},value:function(t){return t.valid>1?t.dev/(t.valid-1):void 0},add:function(t,e){return t.dev+=t.mean_d*(e-t.mean)},rem:function(t,e){return t.dev-=t.mean_d*(e-t.mean)},req:["mean"],idx:1},variancep:{value:function(t){return t.valid>1?t.dev/t.valid:void 0},req:["variance"],idx:2},stdev:{value:function(t){return t.valid>1?Math.sqrt(t.dev/(t.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(t){return t.valid>1?Math.sqrt(t.dev/t.valid):void 0},req:["variance"],idx:2},stderr:{value:function(t){return t.valid>1?Math.sqrt(t.dev/(t.valid*(t.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(t){return t.cell.data.distinct(t.get)},req:["values"],idx:3},ci0:{value:function(t){return t.cell.data.ci0(t.get)},req:["values"],idx:3},ci1:{value:function(t){return t.cell.data.ci1(t.get)},req:["values"],idx:3},median:{value:function(t){return t.cell.data.q2(t.get)},req:["values"],idx:3},q1:{value:function(t){return t.cell.data.q1(t.get)},req:["values"],idx:3},q3:{value:function(t){return t.cell.data.q3(t.get)},req:["values"],idx:3},min:{init:function(t){return t.min=void 0},value:function(t){return t.min=Number.isNaN(t.min)?t.cell.data.min(t.get):t.min},add:function(t,e){(e<t.min||void 0===t.min)&&(t.min=e)},rem:function(t,e){e<=t.min&&(t.min=NaN)},req:["values"],idx:4},max:{init:function(t){return t.max=void 0},value:function(t){return t.max=Number.isNaN(t.max)?t.cell.data.max(t.get):t.max},add:function(t,e){(e>t.max||void 0===t.max)&&(t.max=e)},rem:function(t,e){e>=t.max&&(t.max=NaN)},req:["values"],idx:4},argmin:{init:function(t){return t.argmin=void 0},value:function(t){return t.argmin||t.cell.data.argmin(t.get)},add:function(t,e,n){e<t.min&&(t.argmin=n)},rem:function(t,e){e<=t.min&&(t.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(t){return t.argmax=void 0},value:function(t){return t.argmax||t.cell.data.argmax(t.get)},add:function(t,e,n){e>t.max&&(t.argmax=n)},rem:function(t,e){e>=t.max&&(t.argmax=void 0)},req:["max","values"],idx:3}},jrt=Object.keys(Rrt);function Brt(t,e){return Rrt[t](e)}function zrt(t,e){return t.idx-e.idx}function Urt(){var t=this;this.valid=0,this.missing=0,this._ops.forEach((function(e){return e.init(t)}))}function Hrt(t,e){var n=this;null!=t&&""!==t?t===t&&(++this.valid,this._ops.forEach((function(r){return r.add(n,t,e)}))):++this.missing}function Vrt(t,e){var n=this;null!=t&&""!==t?t===t&&(--this.valid,this._ops.forEach((function(r){return r.rem(n,t,e)}))):--this.missing}function Wrt(t){var e=this;return this._out.forEach((function(n){return t[n.out]=n.value(e)})),t}function Yrt(t,e){var n=e||a5,r=function(t){var e={};return t.forEach((function(t){return e[t.name]=t})),t.forEach((function t(n){n.req&&n.req.forEach((function(n){e[n]||t(e[n]=Rrt[n]())}))})),Object.values(e).sort(zrt)}(t),i=t.slice().sort(zrt);function o(t){this._ops=r,this._out=i,this.cell=t,this.init()}return o.prototype.init=Urt,o.prototype.add=Hrt,o.prototype.rem=Vrt,o.prototype.set=Wrt,o.prototype.get=n,o.fields=t.map((function(t){return t.out})),o}function qrt(t){this._key=t?i5(t):Oet,this.reset()}jrt.forEach((function(t){Rrt[t]=function(t,e){return function(n){return Q5({name:t,out:n||t},Lrt,e)}}(t,Rrt[t])}));var Grt=qrt.prototype;function $rt(t){cnt.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Grt.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Grt.add=function(t){this._add.push(t)},Grt.rem=function(t){this._rem.push(t)},Grt.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,e,n,r=this._add,i=this._rem,o=this._key,a=r.length,u=i.length,s=Array(a-u),l={};for(t=0;t<u;++t)l[o(i[t])]=1;for(t=0,e=0;t<a;++t)l[o(n=r[t])]?l[o(n)]=0:s[e++]=n;return this._rem=[],this._add=s},Grt.distinct=function(t){for(var e,n=this.values(),r={},i=n.length,o=0;--i>=0;)r6(r,e=t(n[i])+"")||(r[e]=1,++o);return o},Grt.extent=function(t){if(this._get!==t||!this._ext){var e=this.values(),n=e6(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},Grt.argmin=function(t){return this.extent(t)[0]||{}},Grt.argmax=function(t){return this.extent(t)[1]||{}},Grt.min=function(t){var e=this.extent(t)[0];return null!=e?t(e):void 0},Grt.max=function(t){var e=this.extent(t)[1];return null!=e?t(e):void 0},Grt.quartile=function(t){return this._get===t&&this._q||(this._q=Tnt(this.values(),t),this._get=t),this._q},Grt.q1=function(t){return this.quartile(t)[0]},Grt.q2=function(t){return this.quartile(t)[1]},Grt.q3=function(t){return this.quartile(t)[2]},Grt.ci=function(t){return this._get===t&&this._ci||(this._ci=Int(this.values(),1e3,.05,t),this._get=t),this._ci},Grt.ci0=function(t){return this.ci(t)[0]},Grt.ci1=function(t){return this.ci(t)[1]},$rt.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:jrt},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},u6($rt,cnt,{transform:function(t,e){var n=this,r=this,i=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=t.modified();return r.stamp=i.stamp,r.value&&(o||e.modified(r._inputs,!0))?(r._prev=r.value,r.value=o?r.init(t):{},e.visit(e.SOURCE,(function(t){return r.add(t)}))):(r.value=r.value||r.init(t),e.visit(e.REM,(function(t){return r.rem(t)})),e.visit(e.ADD,(function(t){return r.add(t)}))),i.modifies(r._outputs),r._drop=!1!==t.drop,t.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),e.clean()&&r._drop&&i.clean(!0).runAfter((function(){return n.clean()})),r.changes(i)},cross:function(){var t=this,e=t.value,n=t._dnames,r=n.map((function(){return{}})),i=n.length;function o(t){var e,o,a,u;for(e in t)for(a=t[e].tuple,o=0;o<i;++o)r[o][u=a[n[o]]]=u}o(t._prev),o(e),function o(a,u,s){var l=n[s],c=r[s++];for(var f in c){var d=a?a+"|"+f:f;u[l]=c[f],s<i?o(d,u,s):e[d]||t.cell(d,u)}}("",{},0)},init:function(t){var e=this._inputs=[],n=this._outputs=[],r={};function i(t){for(var n,i=V5(J3(t)),o=i.length,a=0;a<o;++a)r[n=i[a]]||(r[n]=1,e.push(n))}this._dims=V5(t.groupby),this._dnames=this._dims.map((function(t){var e=Z3(t);return i(t),n.push(e),e})),this.cellkey=t.key?t.key:Frt(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var o,a,u,s,l,c,f=t.fields||[null],d=t.ops||["count"],h=t.as||[],p=f.length,v={};for(p!==d.length&&n5("Unmatched number of fields and aggregate ops."),c=0;c<p;++c)o=f[c],a=d[c],null==o&&"count"!==a&&n5("Null aggregate field specified."),l=Nrt(a,s=Z3(o),h[c]),n.push(l),"count"!==a?((u=v[s])||(i(o),(u=v[s]=[]).field=o,this._measures.push(u)),"count"!==a&&(this._countOnly=!1),u.push(Brt(a,l))):this._counts.push(l);return this._measures=this._measures.map((function(t){return Yrt(t,t.field)})),{}},cellkey:Frt(),cell:function(t,e){var n=this.value[t];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[t]=this.newcell(t,e),this._adds[this._alen++]=n),n},newcell:function(t,e){var n={key:t,num:0,agg:null,tuple:this.newtuple(e,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){var r=this._measures,i=r.length;n.agg=Array(i);for(var o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new qrt),n},newtuple:function(t,e){for(var n=this._dnames,r=this._dims,i=r.length,o={},a=0;a<i;++a)o[n[a]]=r[a](t);return e?Pet(e.tuple,o):_et(o)},clean:function(){var t=this.value;for(var e in t)0===t[e].num&&delete t[e]},add:function(t){var e=this.cellkey(t),n=this.cell(e,t);if(n.num+=1,!this._countOnly){n.store&&n.data.add(t);for(var r=n.agg,i=0,o=r.length;i<o;++i)r[i].add(r[i].get(t),t)}},rem:function(t){var e=this.cellkey(t),n=this.cell(e,t);if(n.num-=1,!this._countOnly){n.store&&n.data.rem(t);for(var r=n.agg,i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(t),t)}},celltuple:function(t){var e=t.tuple,n=this._counts;t.store&&t.data.values();for(var r=0,i=n.length;r<i;++r)e[n[r]]=t.num;if(!this._countOnly)for(var o=t.agg,a=0,u=o.length;a<u;++a)o[a].set(e);return e},changes:function(t){var e,n,r,i,o=this._adds,a=this._mods,u=this._prev,s=this._drop,l=t.add,c=t.rem,f=t.mod;if(u)for(n in u)e=u[n],s&&!e.num||c.push(e.tuple);for(r=0,i=this._alen;r<i;++r)l.push(this.celltuple(o[r])),o[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(e=a[r]).num&&s?c:f).push(this.celltuple(e)),a[r]=null;return this._alen=this._mlen=0,this._prev=null,t}});function Xrt(t){cnt.call(this,null,t)}function Krt(t,e,n){var r=t,i=e||[],o=n||[],a={},u=0;return{add:function(t){return o.push(t)},remove:function(t){return a[r(t)]=++u},size:function(){return i.length},data:function(t,e){return u&&(i=i.filter((function(t){return!a[r(t)]})),a={},u=0),e&&t&&i.sort(t),o.length&&(i=t?y6(t,i,o.sort(t)):i.concat(o),o=[]),i}}}function Zrt(t){cnt.call(this,[],t)}function Jrt(t){Bet.call(this,null,Qrt,t)}function Qrt(t){return this.value&&!t.modified()?this.value:q5(t.fields,t.orders)}function tit(t){cnt.call(this,null,t)}function eit(t){cnt.call(this,null,t)}Xrt.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},u6(Xrt,cnt,{transform:function(t,e){var n,r=!1!==t.interval,i=this._bins(t),o=i.start,a=i.step,u=t.as||["bin0","bin1"],s=u[0],l=u[1];return n=t.modified()?(e=e.reflow(!0)).SOURCE:e.modified(J3(t.field))?e.ADD_MOD:e.ADD,e.visit(n,r?function(t){var e=i(t);t[s]=e,t[l]=null==e?null:o+a*(1+(e-o)/a)}:function(t){return t[s]=i(t)}),e.modifies(r?u:s)},_bins:function(t){if(this.value&&!t.modified())return this.value;var e,n,r=t.field,i=Dnt(t),o=i.step,a=i.start,u=a+Math.ceil((i.stop-a)/o)*o;null!=(e=t.anchor)&&(n=e-(a+o*Math.floor((e-a)/o)),a+=n,u+=n);var s=function(t){var e=E5(r(t));return null==e?null:e<a?-1/0:e>u?1/0:(e=Math.max(a,Math.min(e,u-o)),a+o*Math.floor(1e-14+(e-a)/o))};return s.start=a,s.stop=i.stop,s.step=o,this.value=K3(s,J3(r),t.name||"bin_"+Z3(r))}}),Zrt.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},u6(Zrt,cnt,{transform:function(t,e){var n=e.fork(e.ALL),r=Krt(Oet,this.value,n.materialize(n.ADD).add),i=t.sort,o=e.changed()||i&&(t.modified("sort")||e.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Det(i),o),e.source&&e.source.root&&(this.value.root=e.source.root),n}}),u6(Jrt,Bet),tit.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},u6(tit,cnt,{transform:function(t,e){var n=function(e){return function(n){for(var r,i=function(t,e,n){switch(e){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t.match(n)}(u(n),t.case,o)||[],s=0,l=i.length;s<l;++s)a.test(r=i[s])||e(r)}},r=this._parameterCheck(t,e),i=this._counts,o=this._match,a=this._stop,u=t.field,s=t.as||["text","count"],l=n((function(t){return i[t]=1+(i[t]||0)})),c=n((function(t){return i[t]-=1}));return r?e.visit(e.SOURCE,l):(e.visit(e.ADD,l),e.visit(e.REM,c)),this._finish(e,s)},_parameterCheck:function(t,e){var n=!1;return!t.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),n=!0),!t.modified("pattern")&&this._match||(this._match=new RegExp(t.pattern||"[\\w']+","g"),n=!0),(t.modified("field")||e.modified(t.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish:function(t,e){var n,r,i,o=this._counts,a=this._tuples||(this._tuples={}),u=e[0],s=e[1],l=t.fork(t.NO_SOURCE|t.NO_FIELDS);for(n in o)r=a[n],i=o[n]||0,!r&&i?(a[n]=r=_et({}),r[u]=n,r[s]=i,l.add.push(r)):0===i?(r&&l.rem.push(r),o[n]=null,a[n]=null):r[s]!==i&&(r[s]=i,l.mod.push(r));return l.modifies(e)}}),eit.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},u6(eit,cnt,{transform:function(t,e){var n=e.fork(e.NO_SOURCE),r=t.as||["a","b"],i=r[0],o=r[1],a=!this.value||e.changed(e.ADD_REM)||t.modified("as")||t.modified("filter"),u=this.value;return a?(u&&(n.rem=u),u=e.materialize(e.SOURCE).source,n.add=this.value=function(t,e,n,r){for(var i,o,a=[],u={},s=t.length,l=0;l<s;++l)for(u[e]=o=t[l],i=0;i<s;++i)u[n]=t[i],r(u)&&(a.push(_et(u)),(u={})[e]=o);return a}(u,i,o,t.filter||l5)):n.mod=u,n.source=this.value,n.modifies(r)}});var nit={kde:Gnt,mixture:Qnt,normal:qnt,lognormal:Jnt,uniform:irt},rit="function";function iit(t,e){var n=t.function;r6(nit,n)||n5("Unknown distribution function: "+n);var r=nit[n]();for(var i in t)"field"===i?r.data((t.from||e()).map(t[i])):"distributions"===i?r[i](t[i].map((function(t){return iit(t,e)}))):typeof r[i]===rit&&r[i](t[i]);return r}function oit(t){cnt.call(this,null,t)}var ait=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],uit={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:ait},{name:"weights",type:"number",array:!0}]};function sit(t,e){return t?t.map((function(t,n){return e[n]||Z3(t)})):null}function lit(t,e,n){var r,i,o,a,u,s,l=[],c=function(t){return t(a)};if(null==e)l.push(t.map(n));else for(r={},i=0,o=t.length;i<o;++i)a=t[i],(s=r[u=e.map(c)])||(r[u]=s=[],s.dims=u,l.push(s)),s.push(n(a));return l}oit.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:ait.concat(uit)},{name:"as",type:"string",array:!0,default:["value","density"]}]},u6(oit,cnt,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=iit(t.distribution,function(t){return function(){return t.materialize(t.SOURCE).source}}(e)),i=t.steps||t.minsteps||25,o=t.steps||t.maxsteps||200,a=t.method||"pdf";"pdf"!==a&&"cdf"!==a&&n5("Invalid density method: "+a),t.extent||r.data||n5("Missing density extent parameter."),a=r[a];var u=t.as||["value","density"],s=brt(a,t.extent||t6(r.data()),i,o).map((function(t){var e={};return e[u[0]]=t[0],e[u[1]]=t[1],_et(e)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});function cit(t){cnt.call(this,null,t)}cit.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function fit(t){Bet.call(this,null,dit,t),this.modified(!0)}function dit(t){var e=t.expr;return this.value&&!t.modified("expr")?this.value:K3((function(n){return e(n,t)}),J3(e),Z3(e))}function hit(t){cnt.call(this,[void 0,void 0],t)}function pit(t,e){Bet.call(this,t),this.parent=e,this.count=0}function vit(t){cnt.call(this,{},t),this._keys=o6();var e=this._targets=[];e.active=0,e.forEach=function(t){for(var n=0,r=e.active;n<r;++n)t(e[n],n,e)}}function git(t){Bet.call(this,null,mit,t)}function mit(t){return this.value&&!t.modified()?this.value:y5(t.name)?V5(t.name).map((function(t){return i5(t)})):i5(t.name,t.as)}function yit(t){cnt.call(this,o6(),t)}function xit(t){cnt.call(this,[],t)}function bit(t){cnt.call(this,[],t)}function wit(t){cnt.call(this,null,t)}function Sit(t){cnt.call(this,[],t)}u6(cit,cnt,{transform:function(t,e){if(this.value&&!t.modified()&&!e.changed())return e;for(var n,r=e.materialize(e.SOURCE).source,i=lit(e.source,t.groupby,a5),o=t.smooth||!1,a=t.field,u=t.step||function(t,e){return w6(t6(t,e))/30}(r,a),s=Det((function(t,e){return a(t)-a(e)})),l=t.as||"bin",c=i.length,f=1/0,d=-1/0,h=0;h<c;++h){var p=i[h].sort(s);n=-1;var v,g=qe(Lnt(p,u,o,a));try{for(g.s();!(v=g.n()).done;){var m=v.value;m<f&&(f=m),m>d&&(d=m),p[++n][l]=m}}catch(y){g.e(y)}finally{g.f()}}return this.value={start:f,stop:d,step:u},e.reflow(!0).modifies(l)}}),u6(fit,Bet),hit.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},u6(hit,cnt,{transform:function(t,e){var n=this.value,r=t.field,i=e.changed()||e.modified(r.fields)||t.modified("field"),o=n[0],a=n[1];if((i||null==o)&&(o=1/0,a=-1/0),e.visit(i?e.SOURCE:e.ADD,(function(t){var e=E5(r(t));null!=e&&(e<o&&(o=e),e>a&&(a=e))})),!Number.isFinite(o)||!Number.isFinite(a)){var u=Z3(r);u&&(u=' for field "'.concat(u,'"')),e.dataflow.warn("Infinite extent".concat(u,": [").concat(o,", ").concat(a,"]")),o=a=void 0}this.value=[o,a]}}),u6(pit,Bet,{connect:function(t){return this.detachSubflow=t.detachSubflow,this.targets().add(t),t.source=this},add:function(t){this.count+=1,this.value.add.push(t)},rem:function(t){this.count-=1,this.value.rem.push(t)},mod:function(t){this.value.mod.push(t)},init:function(t){this.value.init(t,t.NO_SOURCE)},evaluate:function(){return this.value}}),u6(vit,cnt,{activate:function(t){this._targets[this._targets.active++]=t},subflow:function(t,e,n,r){var i,o,a=this.value,u=r6(a,t)&&a[t];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(o=r||(o=this._group[t])&&o.tuple,i=n.dataflow,u=new pit(n.fork(n.NO_SOURCE),this),i.add(u).connect(e(i,t,o)),a[t]=u,this.activate(u)),u},clean:function(){var t=this.value,e=0;for(var n in t)if(0===t[n].count){var r=t[n].detachSubflow;r&&r(),delete t[n],++e}if(e){var i=this._targets.filter((function(t){return t&&t.count>0}));this.initTargets(i)}},initTargets:function(t){for(var e=this._targets,n=e.length,r=t?t.length:0,i=0;i<r;++i)e[i]=t[i];for(;i<n&&null!=e[i];++i)e[i]=null;e.active=r},transform:function(t,e){var n=this,r=e.dataflow,i=t.key,o=t.subflow,a=this._keys,u=t.modified("key"),s=function(t){return n.subflow(t,o,e)};return this._group=t.group||{},this.initTargets(),e.visit(e.REM,(function(t){var e=Oet(t),n=a.get(e);void 0!==n&&(a.delete(e),s(n).rem(t))})),e.visit(e.ADD,(function(t){var e=i(t);a.set(Oet(t),e),s(e).add(t)})),u||e.modified(i.fields)?e.visit(e.MOD,(function(t){var e=Oet(t),n=a.get(e),r=i(t);n===r?s(r).mod(t):(a.set(e,r),s(n).rem(t),s(r).add(t))})):e.changed(e.MOD)&&e.visit(e.MOD,(function(t){s(a.get(Oet(t))).mod(t)})),u&&e.visit(e.REFLOW,(function(t){var e=Oet(t),n=a.get(e),r=i(t);n!==r&&(a.set(e,r),s(n).rem(t),s(r).add(t))})),e.clean()?r.runAfter((function(){n.clean(),a.clean()})):a.empty>r.cleanThreshold&&r.runAfter(a.clean),e}}),u6(git,Bet),yit.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},u6(yit,cnt,{transform:function(t,e){var n=e.dataflow,r=this.value,i=e.fork(),o=i.add,a=i.rem,u=i.mod,s=t.expr,l=!0;function c(e){var n=Oet(e),i=s(e,t),c=r.get(n);i&&c?(r.delete(n),o.push(e)):i||c?l&&i&&!c&&u.push(e):(r.set(n,1),a.push(e))}return e.visit(e.REM,(function(t){var e=Oet(t);r.has(e)?r.delete(e):a.push(t)})),e.visit(e.ADD,(function(e){s(e,t)?o.push(e):r.set(Oet(e),1)})),e.visit(e.MOD,c),t.modified()&&(l=!1,e.visit(e.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}}),xit.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},u6(xit,cnt,{transform:function(t,e){var n=e.fork(e.NO_SOURCE),r=t.fields,i=sit(r,t.as||[]),o=t.index||null,a=i.length;return n.rem=this.value,e.visit(e.SOURCE,(function(t){for(var e,u,s,l=r.map((function(e){return e(t)})),c=l.reduce((function(t,e){return Math.max(t,e.length)}),0),f=0;f<c;++f){for(u=Aet(t),e=0;e<a;++e)u[i[e]]=null==(s=l[e][f])?null:s;o&&(u[o]=f),n.add.push(u)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}}),bit.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},u6(bit,cnt,{transform:function(t,e){var n=e.fork(e.NO_SOURCE),r=t.fields,i=r.map(Z3),o=t.as||["key","value"],a=o[0],u=o[1],s=r.length;return n.rem=this.value,e.visit(e.SOURCE,(function(t){for(var e,o=0;o<s;++o)(e=Aet(t))[a]=i[o],e[u]=r[o](t),n.add.push(e)})),this.value=n.source=n.add,n.modifies(o)}}),wit.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},u6(wit,cnt,{transform:function(t,e){var n=t.expr,r=t.as,i=t.modified(),o=t.initonly?e.ADD:i?e.SOURCE:e.modified(n.fields)||e.modified(r)?e.ADD_MOD:e.ADD;return i&&(e=e.materialize().reflow(!0)),t.initonly||e.modifies(r),e.visit(o,(function(e){return e[r]=n(e,t)}))}}),u6(Sit,cnt,{transform:function(t,e){var n,r,i,o=e.fork(e.ALL),a=t.generator,u=this.value,s=t.size-u.length;if(s>0){for(n=[];--s>=0;)n.push(i=_et(a(t))),u.push(i);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else r=u.slice(0,-s),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(r):r,u=u.slice(-s);return o.source=this.value=u,o}});var kit={value:"value",median:function(t,e){return Prt(t,.5,e)},mean:function(t,e){var n=0,r=0;if(void 0===e){var i,o=qe(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(a=+a)>=a&&(++n,r+=a)}}catch(f){o.e(f)}finally{o.f()}}else{var u,s=-1,l=qe(t);try{for(l.s();!(u=l.n()).done;){var c=u.value;null!=(c=e(c,++s,t))&&(c=+c)>=c&&(++n,r+=c)}}catch(f){l.e(f)}finally{l.f()}}if(n)return r/n},min:krt,max:Srt},Cit=[];function Eit(t){cnt.call(this,[],t)}function Oit(t){$rt.call(this,t)}function Mit(t){cnt.call(this,null,t)}function _it(t){Bet.call(this,null,Ait,t)}function Ait(t){return this.value&&!t.modified()?this.value:v6(t.fields,t.flat)}function Tit(t){cnt.call(this,[],t),this._pending=null}function Pit(t,e,n){n.forEach(_et);var r=e.fork(e.NO_FIELDS&e.NO_SOURCE);return r.rem=t.value,t.value=r.source=r.add=n,t._pending=null,r.rem.length&&r.clean(!0),r}function Dit(t){cnt.call(this,{},t)}function Fit(t){Bet.call(this,null,Nit,t)}function Nit(t){if(this.value&&!t.modified())return this.value;var e,n,r=t.extents,i=r.length,o=1/0,a=-1/0;for(e=0;e<i;++e)(n=r[e])[0]<o&&(o=n[0]),n[1]>a&&(a=n[1]);return[o,a]}function Iit(t){Bet.call(this,null,Lit,t)}function Lit(t){return this.value&&!t.modified()?this.value:t.values.reduce((function(t,e){return t.concat(e)}),[])}function Rit(t){cnt.call(this,null,t)}function jit(t){$rt.call(this,t)}function Bit(t){vit.call(this,t)}function zit(t){cnt.call(this,null,t)}function Uit(t){cnt.call(this,null,t)}function Hit(t){cnt.call(this,null,t)}Eit.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},u6(Eit,cnt,{transform:function(t,e){var n,r,i,o,a,u,s,l,c,f,d=e.fork(e.ALL),h=function(t){var e,n=t.method||kit.value;if(null!=kit[n])return n===kit.value?(e=void 0!==t.value?t.value:0,function(){return e}):kit[n];n5("Unrecognized imputation method: "+n)}(t),p=function(t){var e=t.field;return function(t){return t?e(t):NaN}}(t),v=Z3(t.field),g=Z3(t.key),m=(t.groupby||[]).map(Z3),y=function(t,e,n,r){var i,o,a,u,s,l,c,f,d=function(t){return t(f)},h=[],p=r?r.slice():[],v={},g={};for(p.forEach((function(t,e){return v[t]=e+1})),u=0,c=t.length;u<c;++u)l=n(f=t[u]),s=v[l]||(v[l]=p.push(l)),(a=g[o=(i=e?e.map(d):Cit)+""])||(a=g[o]=[],h.push(a),a.values=i),a[s-1]=f;return h.domain=p,h}(e.source,t.groupby,t.key,t.keyvals),x=[],b=this.value,w=y.domain.length;for(a=0,l=y.length;a<l;++a)for(i=(n=y[a]).values,r=NaN,s=0;s<w;++s)if(null==n[s]){for(o=y.domain[s],f={_impute:!0},u=0,c=i.length;u<c;++u)f[m[u]]=i[u];f[g]=o,f[v]=Number.isNaN(r)?r=h(n,p):r,x.push(_et(f))}return x.length&&(d.add=d.materialize(d.ADD).add.concat(x)),b.length&&(d.rem=d.materialize(d.REM).rem.concat(b)),this.value=x,d}}),Oit.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:jrt},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},u6(Oit,$rt,{transform:function(t,e){var n,r=this,i=t.modified();return r.value&&(i||e.modified(r._inputs,!0))?(n=r.value=i?r.init(t):{},e.visit(e.SOURCE,(function(t){return r.add(t)}))):(n=r.value=r.value||this.init(t),e.visit(e.REM,(function(t){return r.rem(t)})),e.visit(e.ADD,(function(t){return r.add(t)}))),r.changes(),e.visit(e.SOURCE,(function(t){Q5(t,n[r.cellkey(t)].tuple)})),e.reflow(i).modifies(this._outputs)},changes:function(){var t,e,n=this._adds,r=this._mods;for(t=0,e=this._alen;t<e;++t)this.celltuple(n[t]),n[t]=null;for(t=0,e=this._mlen;t<e;++t)this.celltuple(r[t]),r[t]=null;this._alen=this._mlen=0}}),Mit.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},u6(Mit,cnt,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=e.materialize(e.SOURCE).source,i=lit(r,t.groupby,t.field),o=(t.groupby||[]).map(Z3),a=t.bandwidth,u=t.cumulative?"cdf":"pdf",s=t.as||["value","density"],l=[],c=t.extent,f=t.steps||t.minsteps||25,d=t.steps||t.maxsteps||200;"pdf"!==u&&"cdf"!==u&&n5("Invalid density method: "+u),"shared"===t.resolve&&(c||(c=t6(r,t.field)),f=d=t.steps||d),i.forEach((function(e){var n=Gnt(e,a)[u],r=t.counts?e.length:1;brt(n,c||t6(e),f,d).forEach((function(t){for(var n={},i=0;i<o.length;++i)n[o[i]]=e.dims[i];n[s[0]]=t[0],n[s[1]]=t[1]*r,l.push(_et(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}}),u6(_it,Bet),u6(Tit,cnt,{transform:function(t,e){var n=this,r=e.dataflow;if(this._pending)return Pit(this,e,this._pending);if(function(t){return t.modified("async")&&!(t.modified("values")||t.modified("url")||t.modified("format"))}(t))return e.StopPropagation;if(t.values)return Pit(this,e,r.parse(t.values,t.format));if(t.async){var i=r.request(t.url,t.format).then((function(t){return n._pending=V5(t.data),function(t){return t.touch(n)}}));return{async:i}}return r.request(t.url,t.format).then((function(t){return Pit(n,e,V5(t.data))}))}}),Dit.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},u6(Dit,cnt,{transform:function(t,e){var n,r,i,o=t.fields,a=t.index,u=t.values,s=null==t.default?null:t.default,l=t.modified(),c=o.length,f=l?e.SOURCE:e.ADD,d=e,h=t.as;return u?(r=u.length,c>1&&!h&&n5('Multi-field lookup requires explicit "as" parameter.'),h&&h.length!==c*r&&n5('The "as" parameter has too few output field names.'),h=h||u.map(Z3),n=function(t){for(var e,n,i=0,l=0;i<c;++i)if(null==(n=a.get(o[i](t))))for(e=0;e<r;++e,++l)t[h[l]]=s;else for(e=0;e<r;++e,++l)t[h[l]]=u[e](n)}):(h||n5("Missing output field names."),n=function(t){for(var e,n=0;n<c;++n)e=a.get(o[n](t)),t[h[n]]=null==e?s:e}),l?d=e.reflow(!0):(i=o.some((function(t){return e.modified(t.fields)})),f|=i?e.MOD:0),e.visit(f,n),d.modifies(h)}}),u6(Fit,Bet),u6(Iit,Bet),u6(Rit,cnt,{transform:function(t,e){return this.modified(t.modified()),this.value=t,e.fork(e.NO_SOURCE|e.NO_FIELDS)}}),jit.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:jrt,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},u6(jit,$rt,{_transform:$rt.prototype.transform,transform:function(t,e){return this._transform(function(t,e){var n=t.field,r=t.value,i=("count"===t.op?"__count__":t.op)||"sum",o=J3(n).concat(J3(r)),a=function(t,e,n){var r={},i=[];return n.visit(n.SOURCE,(function(e){var n=t(e);r[n]||(r[n]=1,i.push(n))})),i.sort(G5),e?i.slice(0,e):i}(n,t.limit||0,e);e.changed()&&t.set("__pivot__",null,null,!0);return{key:t.key,groupby:t.groupby,ops:a.map((function(){return i})),fields:a.map((function(t){return function(t,e,n,r){return K3((function(r){return e(r)===t?n(r):NaN}),r,t+"")}(t,n,r,o)})),as:a.map((function(t){return t+""})),modified:t.modified.bind(t)}}(t,e),e)}}),u6(Bit,vit,{transform:function(t,e){var n=this,r=t.subflow,i=t.field,o=function(t){return n.subflow(Oet(t),r,e,t)};return(t.modified("field")||i&&e.modified(J3(i)))&&n5("PreFacet does not support field modification."),this.initTargets(),i?(e.visit(e.MOD,(function(t){var e=o(t);i(t).forEach((function(t){return e.mod(t)}))})),e.visit(e.ADD,(function(t){var e=o(t);i(t).forEach((function(t){return e.add(_et(t))}))})),e.visit(e.REM,(function(t){var e=o(t);i(t).forEach((function(t){return e.rem(t)}))}))):(e.visit(e.MOD,(function(t){return o(t).mod(t)})),e.visit(e.ADD,(function(t){return o(t).add(t)})),e.visit(e.REM,(function(t){return o(t).rem(t)}))),e.clean()&&e.runAfter((function(){return n.clean()})),e}}),zit.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},u6(zit,cnt,{transform:function(t,e){var n,r=e.fork(e.NO_SOURCE),i=t.fields,o=sit(t.fields,t.as||[]),a=i?function(t,e){return function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e[r[i]]=n[i](t);return e}(t,e,i,o)}:Tet;return this.value?n=this.value:(e=e.addAll(),n=this.value={}),e.visit(e.REM,(function(t){var e=Oet(t);r.rem.push(n[e]),n[e]=null})),e.visit(e.ADD,(function(t){var e=a(t,_et({}));n[Oet(t)]=e,r.add.push(e)})),e.visit(e.MOD,(function(t){r.mod.push(a(t,n[Oet(t)]))})),r}}),u6(Uit,cnt,{transform:function(t,e){return this.value=t.value,t.modified("value")?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}}),Hit.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function Vit(t){cnt.call(this,null,t)}function Wit(t){cnt.call(this,[],t),this.count=0}function Yit(t){cnt.call(this,null,t)}function qit(t){cnt.call(this,null,t),this.modified(!0)}function Git(t){cnt.call(this,null,t)}u6(Hit,cnt,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=t.as||["prob","value"];if(this.value&&!t.modified()&&!e.changed())return n.source=this.value,n;var i=lit(e.materialize(e.SOURCE).source,t.groupby,t.field),o=(t.groupby||[]).map(Z3),a=[],u=t.step||.01,s=t.probs||Drt(u/2,1-1e-14,u),l=s.length;return i.forEach((function(t){for(var e=Ant(t,s),n=0;n<l;++n){for(var i={},u=0;u<o.length;++u)i[o[u]]=t.dims[u];i[r[0]]=s[n],i[r[1]]=e[n],a.push(_et(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}}),u6(Vit,cnt,{transform:function(t,e){var n,r;return this.value?r=this.value:(n=e=e.addAll(),r=this.value={}),t.derive&&(n=e.fork(e.NO_SOURCE),e.visit(e.REM,(function(t){var e=Oet(t);n.rem.push(r[e]),r[e]=null})),e.visit(e.ADD,(function(t){var e=Aet(t);r[Oet(t)]=e,n.add.push(e)})),e.visit(e.MOD,(function(t){var e=r[Oet(t)];for(var i in t)e[i]=t[i],n.modifies(i);n.mod.push(e)}))),n}}),Wit.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},u6(Wit,cnt,{transform:function(t,e){var n=e.fork(e.NO_SOURCE),r=t.modified("size"),i=t.size,o=this.value.reduce((function(t,e){return t[Oet(e)]=1,t}),{}),a=this.value,u=this.count,s=0;function l(t){var e,r;a.length<i?a.push(t):(r=~~((u+1)*Fnt()))<a.length&&r>=s&&(e=a[r],o[Oet(e)]&&n.rem.push(e),a[r]=t),++u}if(e.rem.length&&(e.visit(e.REM,(function(t){var e=Oet(t);o[e]&&(o[e]=-1,n.rem.push(t)),--u})),a=a.filter((function(t){return-1!==o[Oet(t)]}))),(e.rem.length||r)&&a.length<i&&e.source&&(s=u=a.length,e.visit(e.SOURCE,(function(t){o[Oet(t)]||l(t)})),s=-1),r&&a.length>i){for(var c=a.length-i,f=0;f<c;++f)o[Oet(a[f])]=-1,n.rem.push(a[f]);a=a.slice(c)}return e.mod.length&&e.visit(e.MOD,(function(t){o[Oet(t)]&&n.mod.push(t)})),e.add.length&&e.visit(e.ADD,l),(e.add.length||s<0)&&(n.add=a.filter((function(t){return!o[Oet(t)]}))),this.count=u,this.value=n.source=a,n}}),Yit.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},u6(Yit,cnt,{transform:function(t,e){if(!this.value||t.modified()){var n=e.materialize().fork(e.MOD),r=t.as||"data";return n.rem=this.value?e.rem.concat(this.value):e.rem,this.value=Drt(t.start,t.stop,t.step||1).map((function(t){var e={};return e[r]=t,_et(e)})),n.add=e.add.concat(this.value),n}}}),u6(qit,cnt,{transform:function(t,e){return this.value=e.source,e.changed()?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}});var $it=["unit0","unit1"];function Xit(t){cnt.call(this,o6(),t)}function Kit(t){cnt.call(this,null,t)}Git.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:O8,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:$it}]},u6(Git,cnt,{transform:function(t,e){var n=t.field,r=!1!==t.interval,i="utc"===t.timezone,o=this._floor(t,e),a=(i?n9:e9)(o.unit).offset,u=t.as||$it,s=u[0],l=u[1],c=o.step,f=o.start||1/0,d=o.stop||-1/0,h=e.ADD;return(t.modified()||e.changed(e.REM)||e.modified(J3(n)))&&(h=(e=e.reflow(!0)).SOURCE,f=1/0,d=-1/0),e.visit(h,(function(t){var e,i,u=n(t);null==u?(t[s]=null,r&&(t[l]=null)):(t[s]=e=i=o(u),r&&(t[l]=i=a(e,c)),e<f&&(f=e),i>d&&(d=i))})),o.start=f,o.stop=d,e.modifies(r?u:s)},_floor:function(t,e){var n="utc"===t.timezone,r=t.units?{units:t.units,step:t.step||1}:k9({extent:t.extent||t6(e.materialize(e.SOURCE).source,t.field),maxbins:t.maxbins}),i=r.units,o=r.step,a=_8(i),u=this.value||{},s=(n?J8:X8)(a,o);return s.unit=C5(a),s.units=a,s.step=o,s.start=u.start,s.stop=u.stop,this.value=s}}),u6(Xit,cnt,{transform:function(t,e){var n=e.dataflow,r=t.field,i=this.value,o=function(t){return i.set(r(t),t)},a=!0;return t.modified("field")||e.modified(r.fields)?(i.clear(),e.visit(e.SOURCE,o)):e.changed()?(e.visit(e.REM,(function(t){return i.delete(r(t))})),e.visit(e.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),e.fork()}}),u6(Kit,cnt,{transform:function(t,e){(!this.value||t.modified("field")||t.modified("sort")||e.changed()||t.sort&&e.modified(t.sort.fields))&&(this.value=(t.sort?e.source.slice().sort(Det(t.sort)):e.source).map(t.field))}});var Zit={row_number:function(){return{next:function(t){return t.index+1}}},rank:function(){var t;return{init:function(){return t=1},next:function(e){var n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?t=n+1:t}}},dense_rank:function(){var t;return{init:function(){return t=1},next:function(e){var n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?++t:t}}},percent_rank:function(){var t=Zit.rank(),e=t.next;return{init:t.init,next:function(t){return(e(t)-1)/(t.data.length-1)}}},cume_dist:function(){var t;return{init:function(){return t=0},next:function(e){var n=e.data,r=e.compare,i=e.index;if(t<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;t=i}return(1+t)/n.length}}},ntile:function(t,e){(e=+e)>0||n5("ntile num must be greater than zero.");var n=Zit.cume_dist(),r=n.next;return{init:n.init,next:function(t){return Math.ceil(e*r(t))}}},lag:function(t,e){return e=+e||1,{next:function(n){var r=n.index-e;return r>=0?t(n.data[r]):null}}},lead:function(t,e){return e=+e||1,{next:function(n){var r=n.index+e,i=n.data;return r<i.length?t(i[r]):null}}},first_value:function(t){return{next:function(e){return t(e.data[e.i0])}}},last_value:function(t){return{next:function(e){return t(e.data[e.i1-1])}}},nth_value:function(t,e){return(e=+e)>0||n5("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(e-1);return r<n.i1?t(n.data[r]):null}}},prev_value:function(t){var e;return{init:function(){return e=null},next:function(n){var r=t(n.data[n.index]);return null!=r?e=r:e}}},next_value:function(t){var e,n;return{init:function(){return e=null,n=-1},next:function(r){var i=r.data;return r.index<=n?e:(n=function(t,e,n){for(var r=e.length;n<r;++n){if(null!=t(e[n]))return n}return-1}(t,i,r.index))<0?(n=i.length,e=null):e=t(i[n])}}}};var Jit=Object.keys(Zit);function Qit(t){var e=V5(t.ops),n=V5(t.fields),r=V5(t.params),i=V5(t.as),o=this.outputs=[],a=this.windows=[],u={},s={},l=[],c=[],f=!0;function d(t){V5(J3(t)).forEach((function(t){return u[t]=1}))}d(t.sort),e.forEach((function(t,e){var u=n[e],h=Z3(u),p=Nrt(t,h,i[e]);if(d(u),o.push(p),r6(Zit,t))a.push(function(t,e,n,r){var i=Zit[t](e,n);return{init:i.init||u5,update:function(t,e){e[r]=i.next(t)}}}(t,n[e],r[e],p));else{if(null==u&&"count"!==t&&n5("Null aggregate field specified."),"count"===t)return void l.push(p);f=!1;var v=s[h];v||((v=s[h]=[]).field=u,c.push(v)),v.push(Brt(t,p))}})),(l.length||c.length)&&(this.cell=function(t,e,n){t=t.map((function(t){return Yrt(t,t.field)}));var r={num:0,agg:null,store:!1,count:e};if(!n)for(var i=t.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new t[a](r);if(r.store)var u=r.data=new qrt;return r.add=function(t){if(r.num+=1,!n){u&&u.add(t);for(var e=0;e<i;++e)o[e].add(o[e].get(t),t)}},r.rem=function(t){if(r.num-=1,!n){u&&u.rem(t);for(var e=0;e<i;++e)o[e].rem(o[e].get(t),t)}},r.set=function(t){var i,a;for(u&&u.values(),i=0,a=e.length;i<a;++i)t[e[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(t)},r.init=function(){r.num=0,u&&u.reset();for(var t=0;t<i;++t)o[t].init()},r}(c,l,f)),this.inputs=Object.keys(u)}var tot=Qit.prototype;function eot(t){cnt.call(this,{},t),this._mlen=0,this._mods=[]}function not(t,e,n,r){var i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],u=t.data(n),s=u.length,l=o?function(t){var e=t,n=t,r=t;function i(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<0?i=a+1:o=a}while(i<o)}return i}return 2!==t.length&&(e=function(e,n){return t(e)-n},n=Crt,r=function(e,n){return Crt(t(e),n)}),{left:i,center:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=i(t,n,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<=0?i=a+1:o=a}while(i<o)}return i}}}(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:i||Z5(-1)};e.init();for(var f=0;f<s;++f)rot(c,a,f,s),o&&iot(c,l),e.update(c,u[f])}function rot(t,e,n,r){t.p0=t.i0,t.p1=t.i1,t.i0=null==e[0]?0:Math.max(0,n-Math.abs(e[0])),t.i1=null==e[1]?r:Math.min(r,n+Math.abs(e[1])+1),t.index=n}function iot(t,e){var n=t.i0,r=t.i1-1,i=t.compare,o=t.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(t.i0=e.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(t.i1=e.right(o,o[r]))}function oot(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function aot(t){this._context=t}function uot(){}function sot(t){this._context=t}function lot(t){this._context=t}function cot(t,e){this._basis=new aot(t),this._beta=e}tot.init=function(){this.windows.forEach((function(t){return t.init()})),this.cell&&this.cell.init()},tot.update=function(t,e){var n,r=this.cell,i=this.windows,o=t.data,a=i&&i.length;if(r){for(n=t.p0;n<t.i0;++n)r.rem(o[n]);for(n=t.p1;n<t.i1;++n)r.add(o[n]);r.set(e)}for(n=0;n<a;++n)i[n].update(t,e)},eot.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Jit.concat(jrt)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},u6(eot,cnt,{transform:function(t,e){var n=this;this.stamp=e.stamp;var r=t.modified(),i=Det(t.sort),o=Frt(t.groupby),a=function(t){return n.group(o(t))},u=this.state;u&&!r||(u=this.state=new Qit(t)),r||e.modified(u.inputs)?(this.value={},e.visit(e.SOURCE,(function(t){return a(t).add(t)}))):(e.visit(e.REM,(function(t){return a(t).remove(t)})),e.visit(e.ADD,(function(t){return a(t).add(t)})));for(var s=0,l=this._mlen;s<l;++s)not(this._mods[s],u,i,t);return this._mlen=0,this._mods=[],e.reflow(r).modifies(u.outputs)},group:function(t){var e=this.value[t];return e||(e=this.value[t]=Krt(Oet),e.stamp=-1),e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e),e}}),aot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oot(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oot(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},sot.prototype={areaStart:uot,areaEnd:uot,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:oot(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},lot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:oot(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},cot.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*e[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var fot=function t(e){function n(t){return 1===e?new aot(t):new cot(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function dot(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function hot(t,e){this._context=t,this._k=(1-e)/6}hot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:dot(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:dot(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var pot=function t(e){function n(t){return new hot(t,e)}return n.tension=function(e){return t(+e)},n}(0);function vot(t,e){this._context=t,this._k=(1-e)/6}vot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dot(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var got=function t(e){function n(t){return new vot(t,e)}return n.tension=function(e){return t(+e)},n}(0);function mot(t,e){this._context=t,this._k=(1-e)/6}mot.prototype={areaStart:uot,areaEnd:uot,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dot(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var yot=function t(e){function n(t){return new mot(t,e)}return n.tension=function(e){return t(+e)},n}(0),xot=Math.abs,bot=Math.atan2,wot=Math.cos,Sot=Math.max,kot=Math.min,Cot=Math.sin,Eot=Math.sqrt,Oot=1e-12,Mot=Math.PI,_ot=Mot/2,Aot=2*Mot;function Tot(t){return t>1?0:t<-1?Mot:Math.acos(t)}function Pot(t){return t>=1?_ot:t<=-1?-_ot:Math.asin(t)}function Dot(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Oot){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>Oot){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Fot(t,e){this._context=t,this._alpha=e}Fot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Dot(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Not=function t(e){function n(t){return e?new Fot(t,e):new hot(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Iot(t,e){this._context=t,this._alpha=e}Iot.prototype={areaStart:uot,areaEnd:uot,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Dot(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Lot=function t(e){function n(t){return e?new Iot(t,e):new mot(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Rot(t,e){this._context=t,this._alpha=e}Rot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Dot(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var jot=function t(e){function n(t){return e?new Rot(t,e):new vot(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Bot(t){this._context=t}function zot(t){return new Bot(t)}function Uot(t){this._context=t}function Hot(t){return t<0?-1:1}function Vot(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Hot(o)+Hot(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Wot(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Yot(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function qot(t){this._context=t}function Got(t){this._context=new $ot(t)}function $ot(t){this._context=t}function Xot(t){this._context=t}function Kot(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Zot(t,e){this._context=t,this._t=e}Bot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Uot.prototype={areaStart:uot,areaEnd:uot,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},qot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yot(this,this._t0,Wot(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Yot(this,Wot(this,n=Vot(this,t,e)),n);break;default:Yot(this,this._t0,n=Vot(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Got.prototype=Object.create(qot.prototype)).point=function(t,e){qot.prototype.point.call(this,e,t)},$ot.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Xot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Kot(t),i=Kot(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Zot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Jot=Math.PI,Qot=2*Jot,tat=1e-6,eat=Qot-tat;function nat(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rat(){return new nat}nat.prototype=rat.prototype={constructor:nat,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,s=r-e,l=o-t,c=a-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>tat)if(Math.abs(c*u-s*l)>tat&&i){var d=n-o,h=r-a,p=u*u+s*s,v=d*d+h*h,g=Math.sqrt(p),m=Math.sqrt(f),y=i*Math.tan((Jot-Math.acos((p+f-v)/(2*g*m)))/2),x=y/m,b=y/g;Math.abs(x-1)>tat&&(this._+="L"+(t+x*l)+","+(e+x*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>l*h)+","+(this._x1=t+b*u)+","+(this._y1=e+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=t+a,l=e+u,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>tat||Math.abs(this._y1-l)>tat)&&(this._+="L"+s+","+l),n&&(f<0&&(f=f%Qot+Qot),f>eat?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>tat&&(this._+="A"+n+","+n+",0,"+ +(f>=Jot)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var iat=rat;function oat(t){return function(){return t}}function aat(t){return t.innerRadius}function uat(t){return t.outerRadius}function sat(t){return t.startAngle}function lat(t){return t.endAngle}function cat(t){return t&&t.padAngle}function fat(t,e,n,r,i,o,a,u){var s=n-t,l=r-e,c=a-i,f=u-o,d=f*s-c*l;if(!(d*d<Oot))return[t+(d=(c*(e-o)-f*(t-i))/d)*s,e+d*l]}function dat(t,e,n,r,i,o,a){var u=t-n,s=e-r,l=(a?o:-o)/Eot(u*u+s*s),c=l*s,f=-l*u,d=t+c,h=e+f,p=n+c,v=r+f,g=(d+p)/2,m=(h+v)/2,y=p-d,x=v-h,b=y*y+x*x,w=i-o,S=d*v-p*h,k=(x<0?-1:1)*Eot(Sot(0,w*w*b-S*S)),C=(S*x-y*k)/b,E=(-S*y-x*k)/b,O=(S*x+y*k)/b,M=(-S*y+x*k)/b,_=C-g,A=E-m,T=O-g,P=M-m;return _*_+A*A>T*T+P*P&&(C=O,E=M),{cx:C,cy:E,x01:-c,y01:-f,x11:C*(i/w-1),y11:E*(i/w-1)}}Array.prototype.slice;function hat(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function pat(t){return t[0]}function vat(t){return t[1]}function gat(t,e){var n=oat(!0),r=null,i=zot,o=null;function a(a){var u,s,l,c=(a=hat(a)).length,f=!1;for(null==r&&(o=i(l=iat())),u=0;u<=c;++u)!(u<c&&n(s=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(s,u,a),+e(s,u,a));if(l)return o=null,l+""||null}return t="function"===typeof t?t:void 0===t?pat:oat(t),e="function"===typeof e?e:void 0===e?vat:oat(e),a.x=function(e){return arguments.length?(t="function"===typeof e?e:oat(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:oat(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:oat(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function mat(t,e,n){var r=null,i=oat(!0),o=null,a=zot,u=null;function s(s){var l,c,f,d,h,p=(s=hat(s)).length,v=!1,g=new Array(p),m=new Array(p);for(null==o&&(u=a(h=iat())),l=0;l<=p;++l){if(!(l<p&&i(d=s[l],l,s))===v)if(v=!v)c=l,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=l-1;f>=c;--f)u.point(g[f],m[f]);u.lineEnd(),u.areaEnd()}v&&(g[l]=+t(d,l,s),m[l]=+e(d,l,s),u.point(r?+r(d,l,s):g[l],n?+n(d,l,s):m[l]))}if(h)return u=null,h+""||null}function l(){return gat().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?pat:oat(+t),e="function"===typeof e?e:oat(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?vat:oat(+n),s.x=function(e){return arguments.length?(t="function"===typeof e?e:oat(+e),r=null,s):t},s.x0=function(e){return arguments.length?(t="function"===typeof e?e:oat(+e),s):t},s.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:oat(+t),s):r},s.y=function(t){return arguments.length?(e="function"===typeof t?t:oat(+t),n=null,s):e},s.y0=function(t){return arguments.length?(e="function"===typeof t?t:oat(+t),s):e},s.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:oat(+t),s):n},s.lineX0=s.lineY0=function(){return l().x(t).y(e)},s.lineY1=function(){return l().x(t).y(n)},s.lineX1=function(){return l().x(r).y(e)},s.defined=function(t){return arguments.length?(i="function"===typeof t?t:oat(!!t),s):i},s.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),s):a},s.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),s):o},s}Eot(3);var yat={draw:function(t,e){var n=Eot(e/Mot);t.moveTo(n,0),t.arc(0,0,n,0,Aot)}},xat=(Eot(1/3),Cot(Mot/10)/Cot(7*Mot/10));Cot(Aot/10),wot(Aot/10),Eot(3),Eot(3),Eot(3),Eot(12);function bat(t,e){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=t,n.height=e,n}return null}var wat=function(){return"undefined"!==typeof Image?Image:null};function Sat(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kat(t){var e=t,n=t,r=t;function i(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<0?i=a+1:o=a}while(i<o)}return i}return 2!==t.length&&(e=function(e,n){return t(e)-n},n=Sat,r=function(e,n){return Sat(t(e),n)}),{left:i,center:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,a=i(t,n,r,o-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<=0?i=a+1:o=a}while(i<o)}return i}}}function Cat(t){return null===t?NaN:+t}var Eat=kat(Sat),Oat=Eat.right,Mat=(Eat.left,kat(Cat).center,Oat),_at=Math.sqrt(50),Aat=Math.sqrt(10),Tat=Math.sqrt(2);function Pat(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Dat(t,e,n))||!isFinite(a))return[];if(a>0){var s=Math.round(t/a),l=Math.round(e/a);for(s*a<t&&++s,l*a>e&&--l,o=new Array(i=l-s+1);++u<i;)o[u]=(s+u)*a}else{a=-a;var c=Math.round(t*a),f=Math.round(e*a);for(c/a<t&&++c,f/a>e&&--f,o=new Array(i=f-c+1);++u<i;)o[u]=(c+u)/a}return r&&o.reverse(),o}function Dat(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=_at?10:o>=Aat?5:o>=Tat?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=_at?10:o>=Aat?5:o>=Tat?2:1)}function Fat(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=_at?i*=10:o>=Aat?i*=5:o>=Tat&&(i*=2),e<t?-i:i}var Nat=n(419);function Iat(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Lat(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return Iat((n-r/e)*e,a,i,o,u)}}function Rat(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Iat((n-r/e)*e,i,o,a,u)}}var jat=function(t){return function(){return t}};function Bat(t,e){return function(n){return t+n*e}}function zat(t,e){var n=e-t;return n?Bat(t,n>180||n<-180?n-360*Math.round(n/360):n):jat(isNaN(t)?e:t)}function Uat(t){return 1===(t=+t)?Hat:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):jat(isNaN(e)?n:e)}}function Hat(t,e){var n=e-t;return n?Bat(t,n):jat(isNaN(t)?e:t)}var Vat=function t(e){var n=Uat(e);function r(t,e){var r=n((t=(0,Nat.B8)(t)).r,(e=(0,Nat.B8)(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Hat(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Wat(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=(0,Nat.B8)(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var Yat=Wat(Lat),qat=Wat(Rat);function Gat(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function $at(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xat(t,e){return($at(e)?Gat:Kat)(t,e)}function Kat(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=rut(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Zat(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jat(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Qat(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=rut(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var tut=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eut=new RegExp(tut.source,"g");function nut(t,e){var n,r,i,o=tut.lastIndex=eut.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=tut.exec(t))&&(r=eut.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Jat(n,r)})),o=eut.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function rut(t,e){var n,r=typeof e;return null==e||"boolean"===r?jat(e):("number"===r?Jat:"string"===r?(n=(0,Nat.ZP)(e))?(e=n,Vat):nut:e instanceof Nat.ZP?Vat:e instanceof Date?Zat:$at(e)?Gat:Array.isArray(e)?Kat:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?Qat:Jat)(t,e)}function iut(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function out(t){return+t}var aut=[0,1];function uut(t){return t}function sut(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function lut(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=sut(i,r),o=n(a,o)):(r=sut(r,i),o=n(o,a)),function(t){return o(r(t))}}function cut(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=sut(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Mat(t,e,1,r)-1;return o[n](i[n](e))}}function fut(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dut(){var t,e,n,r,i,o,a=aut,u=aut,s=rut,l=uut;function c(){var t=Math.min(a.length,u.length);return l!==uut&&(l=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?cut:lut,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),u,s)))(t(l(e)))}return f.invert=function(n){return l(e((o||(o=r(u,a.map(t),Jat)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,out),c()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=iut,c()},f.clamp=function(t){return arguments.length?(l=!!t||uut,c()):l!==uut},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function hut(){return dut()(uut,uut)}function put(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function vut(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e)}return this}var gut,mut=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yut(t){if(!(e=mut.exec(t)))throw new Error("invalid format: "+t);var e;return new xut({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function xut(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function but(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wut(t){return(t=but(Math.abs(t)))?t[1]:NaN}function Sut(t,e){var n=but(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}yut.prototype=xut.prototype,xut.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var kut={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Sut(100*t,e)},r:Sut,s:function(t,e){var n=but(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(gut=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+but(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Cut(t){return t}var Eut,Out,Mut,_ut=Array.prototype.map,Aut=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Tut(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Cut:(e=_ut.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Cut:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(_ut.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=yut(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,p=t.width,v=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(v=!0,y="g"):kut[y]||(void 0===g&&(g=12),m=!0,y="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var x="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===d?o:/[%p]/.test(y)?s:"",w=kut[y],S=/[defgprs%]/.test(y);function k(t){var i,o,s,d=x,k=b;if("c"===y)k=w(t)+k,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0===+t&&"+"!==f&&(C=!1),d=(C?"("===f?f:l:"-"===f||"("===f?"":f)+d,k=("s"===y?Aut[8+gut/3]:"")+k+(C&&"("===f?")":""),S)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){k=(46===s?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}v&&!h&&(t=r(t,1/0));var E=d.length+t.length+k.length,O=E<p?new Array(p-E+1).join(e):"";switch(v&&h&&(t=r(O+t,O.length?p-k.length:1/0),O=""),n){case"<":t=d+t+k+O;break;case"=":t=d+O+t+k;break;case"^":t=O.slice(0,E=O.length>>1)+d+t+k+O.slice(E);break;default:t=O+d+t+k}return u(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=yut(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(wut(e)/3))),i=Math.pow(10,-r),o=Aut[8+r/3];return function(t){return n(i*t)+o}}}}function Put(t,e,n,r){var i,o=Fat(t,e,n);switch((r=yut(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(wut(e)/3)))-wut(Math.abs(t)))}(o,a))||(r.precision=i),Mut(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wut(e)-wut(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-wut(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Out(r)}function Dut(t){var e=t.domain;return t.ticks=function(t){var n=e();return Pat(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Put(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,u=o.length-1,s=o[a],l=o[u],c=10;for(l<s&&(i=s,s=l,l=i,i=a,a=u,u=i);c-- >0;){if((i=Dat(s,l,n))===r)return o[a]=s,o[u]=l,e(o);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function Fut(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Nut(t){return Math.log(t)}function Iut(t){return Math.exp(t)}function Lut(t){return-Math.log(-t)}function Rut(t){return-Math.exp(-t)}function jut(t){return isFinite(t)?+("1e"+t):t<0?0:t}function But(t){return function(e,n){return-t(-e,n)}}function zut(t){var e,n,r=t(Nut,Iut),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?jut:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=But(e),n=But(n),t(Lut,Rut)):t(Nut,Iut),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r=i(),a=r[0],u=r[r.length-1],s=u<a;if(s){var l=[u,a];a=l[0],u=l[1]}var c,f,d=e(a),h=e(u),p=null==t?10:+t,v=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(!((f=d<0?c/n(-d):c*n(d))<a)){if(f>u)break;v.push(f)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(!((f=d>0?c/n(-d):c*n(d))<a)){if(f>u)break;v.push(f)}2*v.length<p&&(v=Pat(a,u,p))}else v=Pat(d,h,Math.min(h-d,p)).map(n);return s?v.reverse():v},r.tickFormat=function(t,i){if(null==t&&(t=10),null==i&&(i=10===o?"s":","),"function"!==typeof i&&(o%1||null!=(i=yut(i)).precision||(i.trim=!0),i=Out(i)),t===1/0)return i;var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Fut(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function Uut(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Hut(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Vut(t){return t<0?-t*t:t*t}function Wut(t){var e=t(uut,uut),n=1;function r(){return 1===n?t(uut,uut):.5===n?t(Hut,Vut):t(Uut(n),Uut(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Dut(e)}function Yut(){var t=Wut(dut());return t.copy=function(){return fut(t,Yut()).exponent(t.exponent())},put.apply(t,arguments),t}function qut(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Gut(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $ut(t){var e=1,n=t(qut(e),Gut(e));return n.constant=function(n){return arguments.length?t(qut(e=+n),Gut(e)):e},Dut(n)}!function(t){Eut=Tut(t),Out=Eut.format,Mut=Eut.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Xut=1e3,Kut=6e4,Zut=36e5,Jut=864e5,Qut=6048e5,tst=2592e6,est=31536e6,nst=new Date,rst=new Date;function ist(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return ist((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return nst.setTime(+e),rst.setTime(+r),t(nst),t(rst),Math.floor(n(nst,rst))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var ost=ist((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ost.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ist((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ost:null};var ast=ost,ust=(ost.range,ist((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Xut)}),(function(t,e){return(e-t)/Xut}),(function(t){return t.getUTCSeconds()}))),sst=ust,lst=(ust.range,ist((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xut)}),(function(t,e){t.setTime(+t+e*Kut)}),(function(t,e){return(e-t)/Kut}),(function(t){return t.getMinutes()}))),cst=lst,fst=(lst.range,ist((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xut-t.getMinutes()*Kut)}),(function(t,e){t.setTime(+t+e*Zut)}),(function(t,e){return(e-t)/Zut}),(function(t){return t.getHours()}))),dst=fst,hst=(fst.range,ist((function(t){return t.setHours(0,0,0,0)}),(function(t,e){return t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kut)/Jut}),(function(t){return t.getDate()-1}))),pst=hst;hst.range;function vst(t){return ist((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kut)/Qut}))}var gst=vst(0),mst=vst(1),yst=vst(2),xst=vst(3),bst=vst(4),wst=vst(5),Sst=vst(6),kst=(gst.range,mst.range,yst.range,xst.range,bst.range,wst.range,Sst.range,ist((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Cst=kst,Est=(kst.range,ist((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Est.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ist((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Ost=Est,Mst=(Est.range,ist((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Kut)}),(function(t,e){return(e-t)/Kut}),(function(t){return t.getUTCMinutes()}))),_st=Mst,Ast=(Mst.range,ist((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Zut)}),(function(t,e){return(e-t)/Zut}),(function(t){return t.getUTCHours()}))),Tst=Ast,Pst=(Ast.range,ist((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Jut}),(function(t){return t.getUTCDate()-1}))),Dst=Pst;Pst.range;function Fst(t){return ist((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Qut}))}var Nst=Fst(0),Ist=Fst(1),Lst=Fst(2),Rst=Fst(3),jst=Fst(4),Bst=Fst(5),zst=Fst(6),Ust=(Nst.range,Ist.range,Lst.range,Rst.range,jst.range,Bst.range,zst.range,ist((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),Hst=Ust,Vst=(Ust.range,ist((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Vst.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ist((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Wst=Vst;Vst.range;function Yst(t,e,n,r,i,o){var a=[[sst,1,Xut],[sst,5,5e3],[sst,15,15e3],[sst,30,3e4],[o,1,Kut],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Zut],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Jut],[r,2,1728e5],[n,1,Qut],[e,1,tst],[e,3,7776e6],[t,1,est]];function u(e,n,r){var i=Math.abs(n-e)/r,o=kat((function(t){return j(t,3)[2]})).right(a,i);if(o===a.length)return t.every(Fat(e/est,n/est,r));if(0===o)return ast.every(Math.max(Fat(e,n,r),1));var u=j(a[i/a[o-1][2]<a[o][2]/i?o-1:o],2),s=u[0],l=u[1];return s.every(l)}return[function(t,e,n){var r=e<t;if(r){var i=[e,t];t=i[0],e=i[1]}var o=n&&"function"===typeof n.range?n:u(t,e,n),a=o?o.range(t,+e+1):[];return r?a.reverse():a},u]}var qst=j(Yst(Wst,Hst,Nst,Dst,Tst,_st),2),Gst=qst[0],$st=qst[1],Xst=j(Yst(Ost,Cst,gst,pst,dst,cst),2),Kst=Xst[0],Zst=Xst[1];function Jst(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qst(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tlt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var elt,nlt,rlt,ilt={"-":"",_:" ",0:"0"},olt=/^\s*\d+/,alt=/^%/,ult=/[\\^$*+?|[\]().{}]/g;function slt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function llt(t){return t.replace(ult,"\\$&")}function clt(t){return new RegExp("^(?:"+t.map(llt).join("|")+")","i")}function flt(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function dlt(t,e,n){var r=olt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hlt(t,e,n){var r=olt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function plt(t,e,n){var r=olt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vlt(t,e,n){var r=olt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function glt(t,e,n){var r=olt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mlt(t,e,n){var r=olt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ylt(t,e,n){var r=olt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function xlt(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function blt(t,e,n){var r=olt.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function wlt(t,e,n){var r=olt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Slt(t,e,n){var r=olt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function klt(t,e,n){var r=olt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Clt(t,e,n){var r=olt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Elt(t,e,n){var r=olt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Olt(t,e,n){var r=olt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mlt(t,e,n){var r=olt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _lt(t,e,n){var r=olt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Alt(t,e,n){var r=alt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Tlt(t,e,n){var r=olt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Plt(t,e,n){var r=olt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Dlt(t,e){return slt(t.getDate(),e,2)}function Flt(t,e){return slt(t.getHours(),e,2)}function Nlt(t,e){return slt(t.getHours()%12||12,e,2)}function Ilt(t,e){return slt(1+$9.count(K9(t),t),e,3)}function Llt(t,e){return slt(t.getMilliseconds(),e,3)}function Rlt(t,e){return Llt(t,e)+"000"}function jlt(t,e){return slt(t.getMonth()+1,e,2)}function Blt(t,e){return slt(t.getMinutes(),e,2)}function zlt(t,e){return slt(t.getSeconds(),e,2)}function Ult(t){var e=t.getDay();return 0===e?7:e}function Hlt(t,e){return slt(z9.count(K9(t)-1,t),e,2)}function Vlt(t){var e=t.getDay();return e>=4||0===e?W9(t):W9.ceil(t)}function Wlt(t,e){return t=Vlt(t),slt(W9.count(K9(t),t)+(4===K9(t).getDay()),e,2)}function Ylt(t){return t.getDay()}function qlt(t,e){return slt(U9.count(K9(t)-1,t),e,2)}function Glt(t,e){return slt(t.getFullYear()%100,e,2)}function $lt(t,e){return slt((t=Vlt(t)).getFullYear()%100,e,2)}function Xlt(t,e){return slt(t.getFullYear()%1e4,e,4)}function Klt(t,e){var n=t.getDay();return slt((t=n>=4||0===n?W9(t):W9.ceil(t)).getFullYear()%1e4,e,4)}function Zlt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+slt(e/60|0,"0",2)+slt(e%60,"0",2)}function Jlt(t,e){return slt(t.getUTCDate(),e,2)}function Qlt(t,e){return slt(t.getUTCHours(),e,2)}function tct(t,e){return slt(t.getUTCHours()%12||12,e,2)}function ect(t,e){return slt(1+j9.count(J9(t),t),e,3)}function nct(t,e){return slt(t.getUTCMilliseconds(),e,3)}function rct(t,e){return nct(t,e)+"000"}function ict(t,e){return slt(t.getUTCMonth()+1,e,2)}function oct(t,e){return slt(t.getUTCMinutes(),e,2)}function act(t,e){return slt(t.getUTCSeconds(),e,2)}function uct(t){var e=t.getUTCDay();return 0===e?7:e}function sct(t,e){return slt(T9.count(J9(t)-1,t),e,2)}function lct(t){var e=t.getUTCDay();return e>=4||0===e?N9(t):N9.ceil(t)}function cct(t,e){return t=lct(t),slt(N9.count(J9(t),t)+(4===J9(t).getUTCDay()),e,2)}function fct(t){return t.getUTCDay()}function dct(t,e){return slt(P9.count(J9(t)-1,t),e,2)}function hct(t,e){return slt(t.getUTCFullYear()%100,e,2)}function pct(t,e){return slt((t=lct(t)).getUTCFullYear()%100,e,2)}function vct(t,e){return slt(t.getUTCFullYear()%1e4,e,4)}function gct(t,e){var n=t.getUTCDay();return slt((t=n>=4||0===n?N9(t):N9.ceil(t)).getUTCFullYear()%1e4,e,4)}function mct(){return"+0000"}function yct(){return"%"}function xct(t){return+t}function bct(t){return Math.floor(+t/1e3)}function wct(t){return new Date(t)}function Sct(t){return t instanceof Date?+t:+new Date(+t)}function kct(t,e,n,r,i,o,a,u,s,l){var c=hut(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),v=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),y=l("%b %d"),x=l("%B"),b=l("%Y");function w(t){return(s(t)<t?h:u(t)<t?p:a(t)<t?v:o(t)<t?g:r(t)<t?i(t)<t?m:y:n(t)<t?x:b)(t)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?d(Array.from(t,Sct)):d().map(wct)},c.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?w:l(e)},c.nice=function(t){var n=d();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(Fut(n,t)):c},c.copy=function(){return fut(c,kct(t,e,n,r,i,o,a,u,s,l))},c}function Cct(){var t,e,n,r,i,o=0,a=1,u=uut,s=!1;function l(e){return null==e||isNaN(e=+e)?i:u(0===n?.5:(e=(r(e)-t)*n,s?Math.max(0,Math.min(1,e)):e))}function c(t){return function(e){var n,r,i;return arguments.length?(r=(n=j(e,2))[0],i=n[1],u=t(r,i),l):[u(0),u(1)]}}return l.domain=function(i){var u;return arguments.length?(u=j(i,2),o=u[0],a=u[1],t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),l):[o,a]},l.clamp=function(t){return arguments.length?(s=!!t,l):s},l.interpolator=function(t){return arguments.length?(u=t,l):u},l.range=c(rut),l.rangeRound=c(iut),l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),l}}function Ect(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Oct(){var t=Dut(Cct()(uut));return t.copy=function(){return Ect(t,Oct())},vut.apply(t,arguments)}function Mct(){var t=Wut(Cct());return t.copy=function(){return Ect(t,Mct()).exponent(t.exponent())},vut.apply(t,arguments)}function _ct(t,e){void 0===e&&(e=t,t=rut);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function Act(){var t,e,n,r,i,o,a,u=0,s=.5,l=1,c=1,f=uut,d=!1;function h(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(c*t<c*e?r:i),f(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i,o;return arguments.length?(r=(n=j(e,3))[0],i=n[1],o=n[2],f=_ct(t,[r,i,o]),h):[f(0),f(.5),f(1)]}}return h.domain=function(a){var f;return arguments.length?(f=j(a,3),u=f[0],s=f[1],l=f[2],t=o(u=+u),e=o(s=+s),n=o(l=+l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),c=e<t?-1:1,h):[u,s,l]},h.clamp=function(t){return arguments.length?(d=!!t,h):d},h.interpolator=function(t){return arguments.length?(f=t,h):f},h.range=p(rut),h.rangeRound=p(iut),h.unknown=function(t){return arguments.length?(a=t,h):a},function(a){return o=a,t=a(u),e=a(s),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),c=e<t?-1:1,h}}function Tct(){var t=Wut(Act());return t.copy=function(){return Ect(t,Tct()).exponent(t.exponent())},vut.apply(t,arguments)}function Pct(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cat;if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function Dct(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jr(t)););return t}function Fct(){return Fct="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Dct(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Fct.apply(this,arguments)}function Nct(t,e,n){return Nct=Qr()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Kr(i,n.prototype),i},Nct.apply(null,arguments)}function Ict(t){var e="function"===typeof Map?new Map:void 0;return Ict=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Nct(t,arguments,Jr(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Kr(r,t)},Ict(t)}!function(t){elt=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,l=clt(i),c=flt(i),f=clt(o),d=flt(o),h=clt(a),p=flt(a),v=clt(u),g=flt(u),m=clt(s),y=flt(s),x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Dlt,e:Dlt,f:Rlt,g:$lt,G:Klt,H:Flt,I:Nlt,j:Ilt,L:Llt,m:jlt,M:Blt,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:xct,s:bct,S:zlt,u:Ult,U:Hlt,V:Wlt,w:Ylt,W:qlt,x:null,X:null,y:Glt,Y:Xlt,Z:Zlt,"%":yct},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Jlt,e:Jlt,f:rct,g:pct,G:gct,H:Qlt,I:tct,j:ect,L:nct,m:ict,M:oct,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:xct,s:bct,S:act,u:uct,U:sct,V:cct,w:fct,W:dct,x:null,X:null,y:hct,Y:vct,Z:mct,"%":yct},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:Slt,e:Slt,f:_lt,g:ylt,G:mlt,H:Clt,I:Clt,j:klt,L:Mlt,m:wlt,M:Elt,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:blt,Q:Tlt,s:Plt,S:Olt,u:hlt,U:plt,V:vlt,w:dlt,W:glt,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:ylt,Y:mlt,Z:xlt,"%":Alt};function S(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=ilt[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function k(t,e){return function(n){var r,i,o=tlt(1900,void 0,1);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Qst(tlt(o.y,0,1))).getUTCDay(),r=i>4||0===i?P9.ceil(r):P9(r),r=j9.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Jst(tlt(o.y,0,1))).getDay(),r=i>4||0===i?U9.ceil(r):U9(r),r=$9.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Qst(tlt(o.y,0,1)).getUTCDay():Jst(tlt(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Qst(o)):Jst(o)}}function C(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in ilt?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=S(n,x),x.X=S(r,x),x.c=S(e,x),b.x=S(n,b),b.X=S(r,b),b.c=S(e,b),{format:function(t){var e=S(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=S(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}(t),nlt=elt.format,elt.parse,rlt=elt.utcFormat,elt.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Lct=function(t){Zr(n,t);var e=ri(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uct;if(Xr(this,n),r=e.call(this),Object.defineProperties(ei(r),{_intern:{value:new Map},_key:{value:i}}),null!=t){var o,a=qe(t);try{for(a.s();!(o=a.n()).done;){var u=j(o.value,2),s=u[0],l=u[1];r.set(s,l)}}catch(c){a.e(c)}finally{a.f()}}return r}return $r(n,[{key:"get",value:function(t){return Fct(Jr(n.prototype),"get",this).call(this,jct(this,t))}},{key:"has",value:function(t){return Fct(Jr(n.prototype),"has",this).call(this,jct(this,t))}},{key:"set",value:function(t,e){return Fct(Jr(n.prototype),"set",this).call(this,Bct(this,t),e)}},{key:"delete",value:function(t){return Fct(Jr(n.prototype),"delete",this).call(this,zct(this,t))}}]),n}(Ict(Map)),Rct=function(t){Zr(n,t);var e=ri(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uct;if(Xr(this,n),r=e.call(this),Object.defineProperties(ei(r),{_intern:{value:new Map},_key:{value:i}}),null!=t){var o,a=qe(t);try{for(a.s();!(o=a.n()).done;){var u=o.value;r.add(u)}}catch(s){a.e(s)}finally{a.f()}}return r}return $r(n,[{key:"has",value:function(t){return Fct(Jr(n.prototype),"has",this).call(this,jct(this,t))}},{key:"add",value:function(t){return Fct(Jr(n.prototype),"add",this).call(this,Bct(this,t))}},{key:"delete",value:function(t){return Fct(Jr(n.prototype),"delete",this).call(this,zct(this,t))}}]),n}(Ict(Set));function jct(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)?n.get(r):e}function Bct(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function zct(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function Uct(t){return null!==t&&"object"===typeof t?t.valueOf():t}var Hct=Symbol("implicit");function Vct(){var t=new Lct,e=[],n=[],r=Hct;function i(i){var o=t.get(i);if(void 0===o){if(r!==Hct)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Lct;var r,o=qe(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.has(a)||t.set(a,e.push(a)-1)}}catch(u){o.e(u)}finally{o.f()}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Vct(e,n).unknown(r)},put.apply(i,arguments),i}function Wct(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Yct(t,e){var n=zat(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}var qct,Gct=180/Math.PI,$ct={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xct(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Gct,skewX:Math.atan(s)*Gct,scaleX:a,scaleY:u}}function Kct(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:Jat(t,i)},{i:s-2,x:Jat(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Jat(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,s),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Jat(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Jat(t,n)},{i:u-2,x:Jat(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}}var Zct=Kct((function(t){var e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$ct:Xct(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Jct=Kct((function(t){return null==t?$ct:(qct||(qct=document.createElementNS("http://www.w3.org/2000/svg","g")),qct.setAttribute("transform",t),(t=qct.transform.baseVal.consolidate())?Xct((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):$ct)}),", ",")",")");function Qct(t){return((t=Math.exp(t))+1/t)/2}var tft=function t(e,n,r){function i(t,i){var o,a,u=t[0],s=t[1],l=t[2],c=i[0],f=i[1],d=i[2],h=c-u,p=f-s,v=h*h+p*p;if(v<1e-12)a=Math.log(d/l)/e,o=function(t){return[u+t*h,s+t*p,l*Math.exp(e*t*a)]};else{var g=Math.sqrt(v),m=(d*d-l*l+r*v)/(2*l*n*g),y=(d*d-l*l-r*v)/(2*d*n*g),x=Math.log(Math.sqrt(m*m+1)-m),b=Math.log(Math.sqrt(y*y+1)-y);a=(b-x)/e,o=function(t){var r=t*a,i=Qct(x),o=l/(n*g)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+x)-function(t){return((t=Math.exp(t))-1/t)/2}(x));return[u+o*h,s+o*p,l*i/Qct(e*r+x)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function eft(t){return function(e,n){var r=t((e=(0,Nat.Ym)(e)).h,(n=(0,Nat.Ym)(n)).h),i=Hat(e.s,n.s),o=Hat(e.l,n.l),a=Hat(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var nft=eft(zat),rft=eft(Hat),ift=n(8814),oft=Math.PI/180,aft=180/Math.PI,uft=.96422,sft=.82521,lft=4/29,cft=6/29,fft=3*cft*cft;function dft(t){if(t instanceof pft)return new pft(t.l,t.a,t.b,t.opacity);if(t instanceof wft)return Sft(t);t instanceof Nat.Ss||(t=(0,Nat.SU)(t));var e,n,r=yft(t.r),i=yft(t.g),o=yft(t.b),a=vft((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=vft((.4360747*r+.3850649*i+.1430804*o)/uft),n=vft((.0139322*r+.0971045*i+.7141733*o)/sft)),new pft(116*a-16,500*(e-a),200*(a-n),t.opacity)}function hft(t,e,n,r){return 1===arguments.length?dft(t):new pft(t,e,n,null==r?1:r)}function pft(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function vft(t){return t>.008856451679035631?Math.pow(t,1/3):t/fft+lft}function gft(t){return t>cft?t*t*t:fft*(t-lft)}function mft(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function yft(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xft(t){if(t instanceof wft)return new wft(t.h,t.c,t.l,t.opacity);if(t instanceof pft||(t=dft(t)),0===t.a&&0===t.b)return new wft(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*aft;return new wft(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function bft(t,e,n,r){return 1===arguments.length?xft(t):new wft(t,e,n,null==r?1:r)}function wft(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Sft(t){if(isNaN(t.h))return new pft(t.l,0,0,t.opacity);var e=t.h*oft;return new pft(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function kft(t,e){var n=Hat((t=hft(t)).l,(e=hft(e)).l),r=Hat(t.a,e.a),i=Hat(t.b,e.b),o=Hat(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function Cft(t){return function(e,n){var r=t((e=bft(e)).h,(n=bft(n)).h),i=Hat(e.c,n.c),o=Hat(e.l,n.l),a=Hat(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}(0,ift.Z)(pft,hft,(0,ift.l)(Nat.Il,{brighter:function(t){return new pft(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new pft(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=uft*gft(e),t=1*gft(t),n=sft*gft(n),new Nat.Ss(mft(3.1338561*e-1.6168667*t-.4906146*n),mft(-.9787684*e+1.9161415*t+.033454*n),mft(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),(0,ift.Z)(wft,bft,(0,ift.l)(Nat.Il,{brighter:function(t){return new wft(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new wft(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Sft(this).rgb()}}));var Eft=Cft(zat),Oft=Cft(Hat),Mft=-.14861,_ft=1.78277,Aft=-.29227,Tft=-.90649,Pft=1.97294,Dft=-1.7884503806,Fft=3.5172982438,Nft=-.6557636667999999;function Ift(t){if(t instanceof Rft)return new Rft(t.h,t.s,t.l,t.opacity);t instanceof Nat.Ss||(t=(0,Nat.SU)(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Nft*r+Dft*e-Fft*n)/(Nft+Dft-Fft),o=r-i,a=(Pft*(n-i)-Aft*o)/Tft,u=Math.sqrt(a*a+o*o)/(Pft*i*(1-i)),s=u?Math.atan2(a,o)*aft-120:NaN;return new Rft(s<0?s+360:s,u,i,t.opacity)}function Lft(t,e,n,r){return 1===arguments.length?Ift(t):new Rft(t,e,n,null==r?1:r)}function Rft(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function jft(t){return function e(n){function r(e,r){var i=t((e=Lft(e)).h,(r=Lft(r)).h),o=Hat(e.s,r.s),a=Hat(e.l,r.l),u=Hat(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}(0,ift.Z)(Rft,Lft,(0,ift.l)(Nat.Il,{brighter:function(t){return t=null==t?Nat.J5:Math.pow(Nat.J5,t),new Rft(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Nat.xV:Math.pow(Nat.xV,t),new Rft(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*oft,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Nat.Ss(255*(e+n*(Mft*r+_ft*i)),255*(e+n*(Aft*r+Tft*i)),255*(e+n*(Pft*r)),this.opacity)}}));var Bft,zft,Uft=jft(zat),Hft=jft(Hat);function Vft(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function Wft(t,e,n){var r=t-e+2*n;return t?r>0?r:1:0}var Yft="linear",qft="log",Gft="pow",$ft="sqrt",Xft="symlog",Kft="time",Zft="utc",Jft="sequential",Qft="diverging",tdt="quantile",edt="quantize",ndt="threshold",rdt="ordinal",idt="point",odt="band",adt="bin-ordinal",udt="continuous",sdt="discrete",ldt="discretizing",cdt="interpolating",fdt="temporal";function ddt(){var t,e,n=Vct().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,u=0,s=0,l=.5;function c(){var n=r().length,c=o[1]<o[0],f=o[1-c],d=Wft(n,u,s),h=o[c-0];t=(f-h)/(d||1),a&&(t=Math.floor(t)),h+=(f-h-t*(n-u))*l,e=t*(1-u),a&&(h=Math.round(h),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map((function(e){return h+t*e}));return i(c?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),c()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],c()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,c()):a},n.padding=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),u=s,c()):u},n.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u},n.paddingOuter=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),c()):s},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},n.invertRange=function(t){if(null!=t[0]&&null!=t[1]){var n,a,u,s=o[1]<o[0],l=s?i().reverse():i(),c=l.length-1,f=+t[0],d=+t[1];if(f===f&&d===d&&(d<f&&(u=f,f=d,d=u),!(d<l[0]||f>o[1-s])))return n=Math.max(0,Oat(l,f)-1),a=f===d?n:Oat(l,d)-1,f-l[n]>e+1e-10&&++n,s&&(u=n,n=c-a,a=c-u),n>a?void 0:r().slice(n,a+1)}},n.invert=function(t){var e=n.invertRange([t,t]);return e?e[0]:e},n.copy=function(){return ddt().domain(r()).range(o).round(a).paddingInner(u).paddingOuter(s).align(l)},c()}function hdt(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return hdt(e())},t}var pdt=Array.prototype.map;function vdt(t){return pdt.call(t,E5)}var gdt=Array.prototype.slice;var mdt={};function ydt(t,e,n){var r=function(){var n=e();return n.invertRange||(n.invertRange=n.invert?function(t){return function(e){var n,r=e[0],i=e[1];return i<r&&(n=r,r=i,i=n),[t.invert(r),t.invert(i)]}}(n):n.invertExtent?function(t){return function(e){var n,r,i,o,a=t.range(),u=e[0],s=e[1],l=-1;for(s<u&&(r=u,u=s,s=r),i=0,o=a.length;i<o;++i)a[i]>=u&&a[i]<=s&&(l<0&&(l=i),n=i);if(!(l<0))return u=t.invertExtent(a[l]),s=t.invertExtent(a[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=t,n};return r.metadata=M6(V5(n)),r}function xdt(t,e,n){return arguments.length>1?(mdt[t]=ydt(t,e,n),this):bdt(t)?mdt[t]:void 0}function bdt(t){return r6(mdt,t)}function wdt(t,e){var n=mdt[t];return n&&n.metadata[e]}function Sdt(t){return wdt(t,udt)}function kdt(t){return wdt(t,sdt)}function Cdt(t){return wdt(t,ldt)}function Edt(t){return wdt(t,qft)}function Odt(t){return wdt(t,cdt)}function Mdt(t){return wdt(t,tdt)}xdt("identity",(function t(e){var n;function r(t){return null==t||isNaN(t=+t)?n:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,out),r):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return t(e).unknown(n)},e=arguments.length?Array.from(e,out):[0,1],Dut(r)})),xdt(Yft,(function t(){var e=hut();return e.copy=function(){return fut(e,t())},put.apply(e,arguments),Dut(e)}),udt),xdt(qft,(function t(){var e=zut(dut()).domain([1,10]);return e.copy=function(){return fut(e,t()).base(e.base())},put.apply(e,arguments),e}),[udt,qft]),xdt(Gft,Yut,udt),xdt($ft,(function(){return Yut.apply(null,arguments).exponent(.5)}),udt),xdt(Xft,(function t(){var e=$ut(dut());return e.copy=function(){return fut(e,t()).constant(e.constant())},put.apply(e,arguments)}),udt),xdt(Kft,(function(){return put.apply(kct(Kst,Zst,Ost,Cst,gst,pst,dst,cst,sst,nlt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[udt,fdt]),xdt(Zft,(function(){return put.apply(kct(Gst,$st,Wst,Hst,Nst,Dst,Tst,_st,sst,rlt).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[udt,fdt]),xdt(Jft,Oct,[udt,cdt]),xdt("".concat(Jft,"-").concat(Yft),Oct,[udt,cdt]),xdt("".concat(Jft,"-").concat(qft),(function t(){var e=zut(Cct()).domain([1,10]);return e.copy=function(){return Ect(e,t()).base(e.base())},vut.apply(e,arguments)}),[udt,cdt,qft]),xdt("".concat(Jft,"-").concat(Gft),Mct,[udt,cdt]),xdt("".concat(Jft,"-").concat($ft),(function(){return Mct.apply(null,arguments).exponent(.5)}),[udt,cdt]),xdt("".concat(Jft,"-").concat(Xft),(function t(){var e=$ut(Cct());return e.copy=function(){return Ect(e,t()).constant(e.constant())},vut.apply(e,arguments)}),[udt,cdt]),xdt("".concat(Qft,"-").concat(Yft),(function t(){var e=Dut(Act()(uut));return e.copy=function(){return Ect(e,t())},vut.apply(e,arguments)}),[udt,cdt]),xdt("".concat(Qft,"-").concat(qft),(function t(){var e=zut(Act()).domain([.1,1,10]);return e.copy=function(){return Ect(e,t()).base(e.base())},vut.apply(e,arguments)}),[udt,cdt,qft]),xdt("".concat(Qft,"-").concat(Gft),Tct,[udt,cdt]),xdt("".concat(Qft,"-").concat($ft),(function(){return Tct.apply(null,arguments).exponent(.5)}),[udt,cdt]),xdt("".concat(Qft,"-").concat(Xft),(function t(){var e=$ut(Act());return e.copy=function(){return Ect(e,t()).constant(e.constant())},vut.apply(e,arguments)}),[udt,cdt]),xdt(tdt,(function t(){var e,n=[],r=[],i=[];function o(){var t=0,e=Math.max(1,r.length);for(i=new Array(e-1);++t<e;)i[t-1]=Pct(n,t/e);return a}function a(t){return null==t||isNaN(t=+t)?e:r[Mat(i,t)]}return a.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];var e,r=qe(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;null==i||isNaN(i=+i)||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n.sort(Sat),o()},a.range=function(t){return arguments.length?(r=Array.from(t),o()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(n).range(r).unknown(e)},put.apply(a,arguments)}),[ldt,tdt]),xdt(edt,(function t(){var e,n=0,r=1,i=1,o=[.5],a=[0,1];function u(t){return null!=t&&t<=t?a[Mat(o,t,0,i)]:e}function s(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return u}return u.domain=function(t){var e;return arguments.length?(e=j(t,2),n=e[0],r=e[1],n=+n,r=+r,s()):[n,r]},u.range=function(t){return arguments.length?(i=(a=Array.from(t)).length-1,s()):a.slice()},u.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},u.unknown=function(t){return arguments.length?(e=t,u):u},u.thresholds=function(){return o.slice()},u.copy=function(){return t().domain([n,r]).range(a).unknown(e)},put.apply(Dut(u),arguments)}),ldt),xdt(ndt,(function t(){var e,n=[.5],r=[0,1],i=1;function o(t){return null!=t&&t<=t?r[Mat(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=Array.from(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=Array.from(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},put.apply(o,arguments)}),ldt),xdt(adt,(function t(){var e=[],n=[];function r(t){return null==t||t!==t?void 0:n[(Mat(e,t)-1)%n.length]}return r.domain=function(t){return arguments.length?(e=vdt(t),r):e.slice()},r.range=function(t){return arguments.length?(n=gdt.call(t),r):n.slice()},r.tickFormat=function(t,n){return Put(e[0],C5(e),null==t?10:t,n)},r.copy=function(){return t().domain(r.domain()).range(r.range())},r}),[sdt,ldt]),xdt(rdt,Vct,sdt),xdt(odt,ddt,sdt),xdt(idt,(function(){return hdt(ddt().paddingInner(1))}),sdt);var _dt=["clamp","base","constant","exponent"];function Adt(t,e){var n=e[0],r=C5(e)-n;return function(e){return t(n+e*r)}}function Tdt(t,e,n){return _ct(Fdt(e||"rgb",n),t)}function Pdt(t,e){for(var n=new Array(e),r=e+1,i=0;i<e;)n[i]=t(++i/r);return n}function Ddt(t,e,n){var r,i,o,a=n-e;return a&&Number.isFinite(a)?(r=(i=t.type).indexOf("-"),i=r<0?i:i.slice(r+1),o=xdt(i)().domain([e,n]).range([0,1]),_dt.forEach((function(e){return t[e]?o[e](t[e]()):0})),o):Z5(.5)}function Fdt(t,e){var n=y[function(t){return"interpolate"+t.toLowerCase().split("-").map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("")}(t)];return null!=e&&n&&n.gamma?n.gamma(e):n}function Ndt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function Idt(t,e){for(var n in t)Rdt(n,e(t[n]))}var Ldt={};function Rdt(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(Ldt[t]=e,this):Ldt[t]}Idt({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Ndt),Idt({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(t){return Tdt(Ndt(t))}));var jdt="symbol",Bdt=function(t){return y5(t)?t.map((function(t){return String(t)})):String(t)},zdt=function(t,e){return t[1]-e[1]},Udt=function(t,e){return e[1]-t[1]};function Hdt(t,e,n){var r;return d6(e)&&(t.bins&&(e=Math.max(e,t.bins.length)),null!=n&&(e=Math.min(e,Math.floor(w6(t.domain())/n||1)))),x5(e)&&(r=e.step,e=e.interval),p6(e)&&(e=t.type===Kft?e9(e):t.type==Zft?n9(e):n5("Only time and utc scales accept interval strings."),r&&(e=e.every(r))),e}function Vdt(t,e,n){var r=t.range(),i=r[0],o=C5(r),a=zdt;if(i>o&&(r=o,o=i,i=r,a=Udt),i=Math.floor(i),o=Math.ceil(o),e=e.map((function(e){return[e,t(e)]})).filter((function(t){return i<=t[1]&&t[1]<=o})).sort(a).map((function(t){return t[0]})),n>0&&e.length>1){for(var u=[e[0],C5(e)];e.length>n&&e.length>=3;)e=e.filter((function(t,e){return!(e%2)}));e.length<3&&(e=u)}return e}function Wdt(t,e){return t.bins?Vdt(t,t.bins):t.ticks?t.ticks(e):t.domain()}function Ydt(t,e,n,r,i,o){var a=e.type,u=Bdt;if(a===Kft||i===Kft)u=t.timeFormat(r);else if(a===Zft||i===Zft)u=t.utcFormat(r);else if(Edt(a)){var s=t.formatFloat(r);if(o||e.bins)u=s;else{var l=qdt(e,n,!1);u=function(t){return l(t)?s(t):""}}}else if(e.tickFormat){var c=e.domain();u=t.formatSpan(c[0],c[c.length-1],n,r)}else r&&(u=t.format(r));return u}function qdt(t,e,n){var r=Wdt(t,e),i=t.base(),o=Math.log(i),a=Math.max(1,i*e/r.length),u=function(t){var e=t/Math.pow(i,Math.round(Math.log(t)/o));return e*i<i-.5&&(e*=i),e<=a};return n?r.filter(u):u}var Gdt=(mt(Bft={},tdt,"quantiles"),mt(Bft,edt,"thresholds"),mt(Bft,ndt,"domain"),Bft),$dt=(mt(zft={},tdt,"quantiles"),mt(zft,edt,"domain"),zft);function Xdt(t,e){return t.bins?function(t){var e=t.slice(0,-1);return e.max=C5(t),e}(t.bins):t.type===qft?qdt(t,e,!0):Gdt[t.type]?function(t){var e=[-1/0].concat(t);return e.max=1/0,e}(t[Gdt[t.type]]()):Wdt(t,e)}function Kdt(t,e,n,r,i,o,a){var u=$dt[e.type]&&o!==Kft&&o!==Zft?function(t,e,n){var r,i=e[$dt[e.type]](),o=i.length,a=o>1?i[1]-i[0]:i[0];for(r=1;r<o;++r)a=Math.min(a,i[r]-i[r-1]);return t.formatSpan(0,a,30,n)}(t,e,i):Ydt(t,e,n,i,o,a);return r===jdt&&function(t){return Gdt[t.type]||t.bins}(e)?Zdt(u):"discrete"===r?Qdt(u):tht(u)}var Zdt=function(t){return function(e,n,r){var i=Jdt(r[n+1],Jdt(r.max,1/0)),o=eht(e,t),a=eht(i,t);return o&&a?o+" \u2013 "+a:a?"< "+a:"\u2265 "+o}},Jdt=function(t,e){return null!=t?t:e},Qdt=function(t){return function(e,n){return n?t(e):null}},tht=function(t){return function(e){return t(e)}},eht=function(t,e){return Number.isFinite(t)?e(t):null};function nht(t,e,n,r){var i=r||e.type;return p6(n)&&function(t){return wdt(t,fdt)}(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==Kft?n||i!==Zft?Kdt(t,e,5,null,n,r,!0):t.utcFormat("%A, %d %B %Y, %X UTC"):t.timeFormat("%A, %d %B %Y, %X")}function rht(t,e,n){n=n||{};var r=Math.max(3,n.maxlen||7),i=nht(t,e,n.format,n.formatType);if(Cdt(e.type)){var o=Xdt(e).slice(1).map(i),a=o.length;return"".concat(a," boundar").concat(1===a?"y":"ies",": ").concat(o.join(", "))}if(kdt(e.type)){var u=e.domain(),s=u.length,l=s>r?u.slice(0,r-2).map(i).join(", ")+", ending with "+u.slice(-1).map(i):u.map(i).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(l)}var c=e.domain();return"values from ".concat(i(c[0])," to ").concat(i(C5(c)))}var iht=0;var oht="p_";function aht(t){return t&&t.gradient}function uht(t,e,n){var r=t.gradient,i=t.id,o="radial"===r?oht:"";return i||(i=t.id="gradient_"+iht++,"radial"===r?(t.x1=sht(t.x1,.5),t.y1=sht(t.y1,.5),t.r1=sht(t.r1,0),t.x2=sht(t.x2,.5),t.y2=sht(t.y2,.5),t.r2=sht(t.r2,.5),o=oht):(t.x1=sht(t.x1,0),t.y1=sht(t.y1,0),t.x2=sht(t.x2,1),t.y2=sht(t.y2,0))),e[i]=t,"url("+(n||"")+"#"+o+i+")"}function sht(t,e){return null!=t?t:e}function lht(t,e){var n,r=[];return n={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:e?e[0]:1,y2:e?e[1]:0,stops:r,stop:function(t,e){return r.push({offset:t,color:e}),n}}}var cht={basis:{curve:function(t){return new aot(t)}},"basis-closed":{curve:function(t){return new sot(t)}},"basis-open":{curve:function(t){return new lot(t)}},bundle:{curve:fot,tension:"beta",value:.85},cardinal:{curve:pot,tension:"tension",value:0},"cardinal-open":{curve:got,tension:"tension",value:0},"cardinal-closed":{curve:yot,tension:"tension",value:0},"catmull-rom":{curve:Not,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Lot,tension:"alpha",value:.5},"catmull-rom-open":{curve:jot,tension:"alpha",value:.5},linear:{curve:zot},"linear-closed":{curve:function(t){return new Uot(t)}},monotone:{horizontal:function(t){return new Got(t)},vertical:function(t){return new qot(t)}},natural:{curve:function(t){return new Xot(t)}},step:{curve:function(t){return new Zot(t,.5)}},"step-after":{curve:function(t){return new Zot(t,1)}},"step-before":{curve:function(t){return new Zot(t,0)}}};function fht(t,e,n){var r=r6(cht,t)&&cht[t],i=null;return r&&(i=r.curve||r[e||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var dht={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},hht=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,pht=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,vht=/^((\s+,?\s*)|(,\s*))/,ght=/^[01]/;function mht(t){var e=[];return t.match(hht).forEach((function(t){var n=t[0],r=n.toLowerCase(),i=dht[r],o=function(t,e,n){for(var r=[],i=0;e&&i<n.length;)for(var o=0;o<e;++o){var a="a"!==t||3!==o&&4!==o?pht:ght,u=n.slice(i).match(a);if(null===u)throw Error("Invalid SVG path, incorrect parameter type");i+=u[0].length,r.push(+u[0]);var s=n.slice(i).match(vht);null!==s&&(i+=s[0].length)}return r}(r,i,t.slice(1).trim()),a=o.length;if(a<i||a&&a%i!==0)throw Error("Invalid SVG path, incorrect parameter count");if(e.push([n].concat(Ye(o.slice(0,i)))),a!==i){"m"===r&&(n="M"===n?"L":"l");for(var u=i;u<a;u+=i)e.push([n].concat(Ye(o.slice(u,u+i))))}})),e}var yht=Math.PI/180,xht=Math.PI/2,bht=2*Math.PI,wht=Math.sqrt(3)/2,Sht={},kht={},Cht=[].join;function Eht(t){var e=Cht.call(t);if(kht[e])return kht[e];var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],l=t[7],c=l*a,f=-s*u,d=s*a,h=l*u,p=Math.cos(i),v=Math.sin(i),g=Math.cos(o),m=Math.sin(o),y=.5*(o-i),x=Math.sin(.5*y),b=8/3*x*x/Math.sin(y),w=n+p-b*v,S=r+v+b*p,k=n+g,C=r+m,E=k+b*m,O=C-b*g;return kht[e]=[c*w+f*S,d*w+h*S,c*E+f*O,d*E+h*O,c*k+f*C,d*k+h*C]}var Oht=["l",0,0,0,0,0,0,0];function Mht(t,e,n){var r=Oht[0]=t[0];if("a"===r||"A"===r)Oht[1]=e*t[1],Oht[2]=n*t[2],Oht[3]=t[3],Oht[4]=t[4],Oht[5]=t[5],Oht[6]=e*t[6],Oht[7]=n*t[7];else if("h"===r||"H"===r)Oht[1]=e*t[1];else if("v"===r||"V"===r)Oht[1]=n*t[1];else for(var i=1,o=t.length;i<o;++i)Oht[i]=(i%2==1?e:n)*t[i];return Oht}function _ht(t,e,n,r,i,o){var a,u,s,l,c,f=null,d=0,h=0,p=0,v=0,g=0,m=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),t.beginPath&&t.beginPath();for(var y=0,x=e.length;y<x;++y){switch(a=e[y],1===i&&1===o||(a=Mht(a,i,o)),a[0]){case"l":d+=a[1],h+=a[2],t.lineTo(d+n,h+r);break;case"L":d=a[1],h=a[2],t.lineTo(d+n,h+r);break;case"h":d+=a[1],t.lineTo(d+n,h+r);break;case"H":d=a[1],t.lineTo(d+n,h+r);break;case"v":h+=a[1],t.lineTo(d+n,h+r);break;case"V":h=a[1],t.lineTo(d+n,h+r);break;case"m":g=d+=a[1],m=h+=a[2],t.moveTo(d+n,h+r);break;case"M":g=d=a[1],m=h=a[2],t.moveTo(d+n,h+r);break;case"c":u=d+a[5],s=h+a[6],p=d+a[3],v=h+a[4],t.bezierCurveTo(d+a[1]+n,h+a[2]+r,p+n,v+r,u+n,s+r),d=u,h=s;break;case"C":d=a[5],h=a[6],p=a[3],v=a[4],t.bezierCurveTo(a[1]+n,a[2]+r,p+n,v+r,d+n,h+r);break;case"s":u=d+a[3],s=h+a[4],p=2*d-p,v=2*h-v,t.bezierCurveTo(p+n,v+r,d+a[1]+n,h+a[2]+r,u+n,s+r),p=d+a[1],v=h+a[2],d=u,h=s;break;case"S":u=a[3],s=a[4],p=2*d-p,v=2*h-v,t.bezierCurveTo(p+n,v+r,a[1]+n,a[2]+r,u+n,s+r),d=u,h=s,p=a[1],v=a[2];break;case"q":u=d+a[3],s=h+a[4],p=d+a[1],v=h+a[2],t.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"Q":u=a[3],s=a[4],t.quadraticCurveTo(a[1]+n,a[2]+r,u+n,s+r),d=u,h=s,p=a[1],v=a[2];break;case"t":u=d+a[1],s=h+a[2],null===f[0].match(/[QqTt]/)?(p=d,v=h):"t"===f[0]?(p=2*d-l,v=2*h-c):"q"===f[0]&&(p=2*d-p,v=2*h-v),l=p,c=v,t.quadraticCurveTo(p+n,v+r,u+n,s+r),h=s,p=(d=u)+a[1],v=h+a[2];break;case"T":u=a[1],s=a[2],p=2*d-p,v=2*h-v,t.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"a":Aht(t,d+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+d+n,a[7]+h+r]),d+=a[6],h+=a[7];break;case"A":Aht(t,d+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),d=a[6],h=a[7];break;case"z":case"Z":d=g,h=m,t.closePath()}f=a}}function Aht(t,e,n,r){for(var i=function(t,e,n,r,i,o,a,u,s){var l=Cht.call(arguments);if(Sht[l])return Sht[l];var c=a*yht,f=Math.sin(c),d=Math.cos(c),h=d*(u-t)*.5+f*(s-e)*.5,p=d*(s-e)*.5-f*(u-t)*.5,v=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var g=d/n,m=f/n,y=-f/r,x=d/r,b=g*u+m*s,w=y*u+x*s,S=g*t+m*e,k=y*t+x*e,C=1/((S-b)*(S-b)+(k-w)*(k-w))-.25;C<0&&(C=0);var E=Math.sqrt(C);o==i&&(E=-E);var O=.5*(b+S)-E*(k-w),M=.5*(w+k)+E*(S-b),_=Math.atan2(w-M,b-O),A=Math.atan2(k-M,S-O)-_;A<0&&1===o?A+=bht:A>0&&0===o&&(A-=bht);for(var T=Math.ceil(Math.abs(A/(xht+.001))),P=[],D=0;D<T;++D){var F=_+D*A/T,N=_+(D+1)*A/T;P[D]=[O,M,F,N,n,r,f,d]}return Sht[l]=P}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,n),o=0;o<i.length;++o){var a=Eht(i[o]);t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}var Tht=.5773502691896257,Pht={circle:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(n,0),t.arc(0,0,n,0,bht)}},cross:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/2.5;t.moveTo(-n,-r),t.lineTo(-n,r),t.lineTo(-r,r),t.lineTo(-r,n),t.lineTo(r,n),t.lineTo(r,r),t.lineTo(n,r),t.lineTo(n,-r),t.lineTo(r,-r),t.lineTo(r,-n),t.lineTo(-r,-n),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.closePath()}},square:{draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},arrow:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/7,i=n/2.5,o=n/8;t.moveTo(-r,n),t.lineTo(r,n),t.lineTo(r,-o),t.lineTo(i,-o),t.lineTo(0,-n),t.lineTo(-i,-o),t.lineTo(-r,-o),t.closePath()}},wedge:{draw:function(t,e){var n=Math.sqrt(e)/2,r=wht*n,i=r-n*Tht,o=n/4;t.moveTo(0,-r-i),t.lineTo(-o,r-i),t.lineTo(o,r-i),t.closePath()}},triangle:{draw:function(t,e){var n=Math.sqrt(e)/2,r=wht*n,i=r-n*Tht;t.moveTo(0,-r-i),t.lineTo(-n,r-i),t.lineTo(n,r-i),t.closePath()}},"triangle-up":{draw:function(t,e){var n=Math.sqrt(e)/2,r=wht*n;t.moveTo(0,-r),t.lineTo(-n,r),t.lineTo(n,r),t.closePath()}},"triangle-down":{draw:function(t,e){var n=Math.sqrt(e)/2,r=wht*n;t.moveTo(0,r),t.lineTo(-n,-r),t.lineTo(n,-r),t.closePath()}},"triangle-right":{draw:function(t,e){var n=Math.sqrt(e)/2,r=wht*n;t.moveTo(r,0),t.lineTo(-r,-n),t.lineTo(-r,n),t.closePath()}},"triangle-left":{draw:function(t,e){var n=Math.sqrt(e)/2,r=wht*n;t.moveTo(-r,0),t.lineTo(r,-n),t.lineTo(r,n),t.closePath()}},stroke:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(n,0)}}};function Dht(t){return r6(Pht,t)?Pht[t]:function(t){if(!r6(Fht,t)){var e=mht(t);Fht[t]={draw:function(t,n){_ht(t,e,0,0,Math.sqrt(n)/2)}}}return Fht[t]}(t)}var Fht={};var Nht=.448084975506;function Iht(t){return t.x}function Lht(t){return t.y}function Rht(t){return t.width}function jht(t){return t.height}function Bht(t){return"function"===typeof t?t:function(){return+t}}function zht(t,e,n){return Math.max(e,Math.min(t,n))}function Uht(){var t=Iht,e=Lht,n=Rht,r=jht,i=Bht(0),o=i,a=i,u=i,s=null;function l(l,c,f){var d,h=null!=c?c:+t.call(this,l),p=null!=f?f:+e.call(this,l),v=+n.call(this,l),g=+r.call(this,l),m=Math.min(v,g)/2,y=zht(+i.call(this,l),0,m),x=zht(+o.call(this,l),0,m),b=zht(+a.call(this,l),0,m),w=zht(+u.call(this,l),0,m);if(s||(s=d=iat()),y<=0&&x<=0&&b<=0&&w<=0)s.rect(h,p,v,g);else{var S=h+v,k=p+g;s.moveTo(h+y,p),s.lineTo(S-x,p),s.bezierCurveTo(S-Nht*x,p,S,p+Nht*x,S,p+x),s.lineTo(S,k-w),s.bezierCurveTo(S,k-Nht*w,S-Nht*w,k,S-w,k),s.lineTo(h+b,k),s.bezierCurveTo(h+Nht*b,k,h,k-Nht*b,h,k-b),s.lineTo(h,p+y),s.bezierCurveTo(h,p+Nht*y,h+Nht*y,p,h+y,p),s.closePath()}if(d)return s=null,d+""||null}return l.x=function(e){return arguments.length?(t=Bht(e),l):t},l.y=function(t){return arguments.length?(e=Bht(t),l):e},l.width=function(t){return arguments.length?(n=Bht(t),l):n},l.height=function(t){return arguments.length?(r=Bht(t),l):r},l.cornerRadius=function(t,e,n,r){return arguments.length?(i=Bht(t),o=null!=e?Bht(e):i,u=null!=n?Bht(n):i,a=null!=r?Bht(r):o,l):i},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function Hht(){var t,e,n,r,i,o,a,u,s=null;function l(t,e,n){var r=n/2;if(i){var l=a-e,c=t-o;if(l||c){var f=Math.sqrt(l*l+c*c),d=(l/=f)*u,h=(c/=f)*u,p=Math.atan2(c,l);s.moveTo(o-d,a-h),s.lineTo(t-l*r,e-c*r),s.arc(t,e,r,p-Math.PI,p),s.lineTo(o+d,a+h),s.arc(o,a,u,p,p+Math.PI)}else s.arc(t,e,r,0,bht);s.closePath()}else i=1;o=t,a=e,u=r}function c(o){var a,u,c,f=o.length,d=!1;for(null==s&&(s=c=iat()),a=0;a<=f;++a)!(a<f&&r(u=o[a],a,o))===d&&(d=!d)&&(i=0),d&&l(+t(u,a,o),+e(u,a,o),+n(u,a,o));if(c)return s=null,c+""||null}return c.x=function(e){return arguments.length?(t=e,c):t},c.y=function(t){return arguments.length?(e=t,c):e},c.size=function(t){return arguments.length?(n=t,c):n},c.defined=function(t){return arguments.length?(r=t,c):r},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}function Vht(t,e){return null!=t?t:e}var Wht=function(t){return t.x||0},Yht=function(t){return t.y||0},qht=function(t){return!(!1===t.defined)},Ght=function(){var t=aat,e=uat,n=oat(0),r=null,i=sat,o=lat,a=cat,u=null;function s(){var s,l,c=+t.apply(this,arguments),f=+e.apply(this,arguments),d=i.apply(this,arguments)-_ot,h=o.apply(this,arguments)-_ot,p=xot(h-d),v=h>d;if(u||(u=s=iat()),f<c&&(l=f,f=c,c=l),f>Oot)if(p>Aot-Oot)u.moveTo(f*wot(d),f*Cot(d)),u.arc(0,0,f,d,h,!v),c>Oot&&(u.moveTo(c*wot(h),c*Cot(h)),u.arc(0,0,c,h,d,v));else{var g,m,y=d,x=h,b=d,w=h,S=p,k=p,C=a.apply(this,arguments)/2,E=C>Oot&&(r?+r.apply(this,arguments):Eot(c*c+f*f)),O=kot(xot(f-c)/2,+n.apply(this,arguments)),M=O,_=O;if(E>Oot){var A=Pot(E/c*Cot(C)),T=Pot(E/f*Cot(C));(S-=2*A)>Oot?(b+=A*=v?1:-1,w-=A):(S=0,b=w=(d+h)/2),(k-=2*T)>Oot?(y+=T*=v?1:-1,x-=T):(k=0,y=x=(d+h)/2)}var P=f*wot(y),D=f*Cot(y),F=c*wot(w),N=c*Cot(w);if(O>Oot){var I,L=f*wot(x),R=f*Cot(x),j=c*wot(b),B=c*Cot(b);if(p<Mot&&(I=fat(P,D,j,B,L,R,F,N))){var z=P-I[0],U=D-I[1],H=L-I[0],V=R-I[1],W=1/Cot(Tot((z*H+U*V)/(Eot(z*z+U*U)*Eot(H*H+V*V)))/2),Y=Eot(I[0]*I[0]+I[1]*I[1]);M=kot(O,(c-Y)/(W-1)),_=kot(O,(f-Y)/(W+1))}}k>Oot?_>Oot?(g=dat(j,B,P,D,f,_,v),m=dat(L,R,F,N,f,_,v),u.moveTo(g.cx+g.x01,g.cy+g.y01),_<O?u.arc(g.cx,g.cy,_,bot(g.y01,g.x01),bot(m.y01,m.x01),!v):(u.arc(g.cx,g.cy,_,bot(g.y01,g.x01),bot(g.y11,g.x11),!v),u.arc(0,0,f,bot(g.cy+g.y11,g.cx+g.x11),bot(m.cy+m.y11,m.cx+m.x11),!v),u.arc(m.cx,m.cy,_,bot(m.y11,m.x11),bot(m.y01,m.x01),!v))):(u.moveTo(P,D),u.arc(0,0,f,y,x,!v)):u.moveTo(P,D),c>Oot&&S>Oot?M>Oot?(g=dat(F,N,L,R,c,-M,v),m=dat(P,D,j,B,c,-M,v),u.lineTo(g.cx+g.x01,g.cy+g.y01),M<O?u.arc(g.cx,g.cy,M,bot(g.y01,g.x01),bot(m.y01,m.x01),!v):(u.arc(g.cx,g.cy,M,bot(g.y01,g.x01),bot(g.y11,g.x11),!v),u.arc(0,0,c,bot(g.cy+g.y11,g.cx+g.x11),bot(m.cy+m.y11,m.cx+m.x11),v),u.arc(m.cx,m.cy,M,bot(m.y11,m.x11),bot(m.y01,m.x01),!v))):u.arc(0,0,c,w,b,v):u.lineTo(F,N)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Mot/2;return[wot(r)*n,Cot(r)*n]},s.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:oat(+e),s):t},s.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:oat(+t),s):e},s.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:oat(+t),s):n},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:oat(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:oat(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:oat(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:oat(+t),s):a},s.context=function(t){return arguments.length?(u=null==t?null:t,s):u},s}().startAngle((function(t){return t.startAngle||0})).endAngle((function(t){return t.endAngle||0})).padAngle((function(t){return t.padAngle||0})).innerRadius((function(t){return t.innerRadius||0})).outerRadius((function(t){return t.outerRadius||0})).cornerRadius((function(t){return t.cornerRadius||0})),$ht=mat().x(Wht).y1(Yht).y0((function(t){return(t.y||0)+(t.height||0)})).defined(qht),Xht=mat().y(Yht).x1(Wht).x0((function(t){return(t.x||0)+(t.width||0)})).defined(qht),Kht=gat().x(Wht).y(Yht).defined(qht),Zht=Uht().x(Wht).y(Yht).width((function(t){return t.width||0})).height((function(t){return t.height||0})).cornerRadius((function(t){return Vht(t.cornerRadiusTopLeft,t.cornerRadius)||0}),(function(t){return Vht(t.cornerRadiusTopRight,t.cornerRadius)||0}),(function(t){return Vht(t.cornerRadiusBottomRight,t.cornerRadius)||0}),(function(t){return Vht(t.cornerRadiusBottomLeft,t.cornerRadius)||0})),Jht=function(t,e){var n=null;function r(){var r;if(n||(n=r=iat()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"===typeof t?t:oat(t||yat),e="function"===typeof e?e:oat(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"===typeof e?e:oat(e),r):t},r.size=function(t){return arguments.length?(e="function"===typeof t?t:oat(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}().type((function(t){return Dht(t.shape||"circle")})).size((function(t){return Vht(t.size,64)})),Qht=Hht().x(Wht).y(Yht).defined(qht).size((function(t){return t.size||1}));function tpt(t){return t.cornerRadius||t.cornerRadiusTopLeft||t.cornerRadiusTopRight||t.cornerRadiusBottomRight||t.cornerRadiusBottomLeft}function ept(t,e,n,r){return Zht.context(t)(e,n,r)}var npt=1;function rpt(){npt=1}function ipt(t,e,n){var r=e.clip,i=t._defs,o=e.clip_id||(e.clip_id="clip"+npt++),a=i.clipping[o]||(i.clipping[o]={id:o});return Y5(r)?a.path=r(null):tpt(n)?a.path=ept(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function opt(t){this.clear(),t&&this.union(t)}function apt(t){this.mark=t,this.bounds=this.bounds||new opt}function upt(t){apt.call(this,t),this.items=this.items||[]}function spt(t){this._pending=0,this._loader=t||yet()}function lpt(t){t._pending+=1}function cpt(t){t._pending-=1}function fpt(t,e,n){if(e.stroke&&0!==e.opacity&&0!==e.strokeOpacity){var r=null!=e.strokeWidth?+e.strokeWidth:1;t.expand(r+(n?function(t,e){return t.strokeJoin&&"miter"!==t.strokeJoin?0:e}(e,r):0))}return t}opt.prototype={clone:function(){return new opt(this)},clear:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals:function(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set:function(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},add:function(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},expand:function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},round:function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale:function(t){return this.x1*=t,this.y1*=t,this.x2*=t,this.y2*=t,this},translate:function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},rotate:function(t,e,n){var r=this.rotatedPoints(t,e,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints:function(t,e,n){var r=this.x1,i=this.y1,o=this.x2,a=this.y2,u=Math.cos(t),s=Math.sin(t),l=e-e*u+n*s,c=n-e*s-n*u;return[u*r-s*i+l,s*r+u*i+c,u*r-s*a+l,s*r+u*a+c,u*o-s*i+l,s*o+u*i+c,u*o-s*a+l,s*o+u*a+c]},union:function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},intersect:function(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},encloses:function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith:function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects:function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains:function(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}},u6(upt,apt),spt.prototype={pending:function(){return this._pending},sanitizeURL:function(t){var e=this;return lpt(e),e._loader.sanitize(t,{context:"href"}).then((function(t){return cpt(e),t})).catch((function(){return cpt(e),null}))},loadImage:function(t){var e=this,n=wat();return lpt(e),e._loader.sanitize(t,{context:"image"}).then((function(t){var r=t.href;if(!r||!n)throw{url:r};var i=new n,o=r6(t,"crossOrigin")?t.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=function(){return cpt(e)},i.onerror=function(){return cpt(e)},i.src=r,i})).catch((function(t){return cpt(e),{complete:!1,width:0,height:0,src:t&&t.url||""}}))},ready:function(){var t=this;return new Promise((function(e){!function n(r){t.pending()?setTimeout((function(){n(!0)}),10):e(r)}(!1)}))}};var dpt,hpt,ppt,vpt,gpt,mpt,ypt,xpt,bpt=bht-1e-8,wpt=function(t,e){return dpt.add(t,e)},Spt=function(t,e){return wpt(hpt=t,ppt=e)},kpt=function(t){return wpt(t,dpt.y1)},Cpt=function(t){return wpt(dpt.x1,t)},Ept=function(t,e){return gpt*t+ypt*e},Opt=function(t,e){return mpt*t+xpt*e},Mpt=function(t,e){return wpt(Ept(t,e),Opt(t,e))},_pt=function(t,e){return Spt(Ept(t,e),Opt(t,e))};function Apt(t,e){return dpt=t,e?(vpt=e*yht,gpt=xpt=Math.cos(vpt),mpt=Math.sin(vpt),ypt=-mpt):(gpt=xpt=1,vpt=mpt=ypt=0),Tpt}var Tpt={beginPath:function(){},closePath:function(){},moveTo:_pt,lineTo:_pt,rect:function(t,e,n,r){vpt?(Mpt(t+n,e),Mpt(t+n,e+r),Mpt(t,e+r),_pt(t,e)):(wpt(t+n,e+r),Spt(t,e))},quadraticCurveTo:function(t,e,n,r){var i=Ept(t,e),o=Opt(t,e),a=Ept(n,r),u=Opt(n,r);Ppt(hpt,i,a,kpt),Ppt(ppt,o,u,Cpt),Spt(a,u)},bezierCurveTo:function(t,e,n,r,i,o){var a=Ept(t,e),u=Opt(t,e),s=Ept(n,r),l=Opt(n,r),c=Ept(i,o),f=Opt(i,o);Dpt(hpt,a,s,c,kpt),Dpt(ppt,u,l,f,Cpt),Spt(c,f)},arc:function(t,e,n,r,i,o){if(r+=vpt,i+=vpt,hpt=n*Math.cos(i)+t,ppt=n*Math.sin(i)+e,Math.abs(i-r)>bpt)wpt(t-n,e-n),wpt(t+n,e+n);else{var a,u,s=function(r){return wpt(n*Math.cos(r)+t,n*Math.sin(r)+e)};if(s(r),s(i),i!==r)if((r%=bht)<0&&(r+=bht),(i%=bht)<0&&(i+=bht),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=bht,a=r-r%xht,u=0;u<4&&a>i;++u,a-=xht)s(a);else for(a=r-r%xht+xht,u=0;u<4&&a<i;++u,a+=xht)s(a)}}};function Ppt(t,e,n,r){var i=(t-e)/(t+n-2*e);0<i&&i<1&&r(t+(e-t)*i)}function Dpt(t,e,n,r,i){var o,a=r-t+3*e-3*n,u=t+n-2*e,s=t-e,l=0,c=0;Math.abs(a)>1e-14?(o=u*u+s*a)>=0&&(l=(-u+(o=Math.sqrt(o)))/a,c=(-u-o)/a):l=.5*s/u,0<l&&l<1&&i(Fpt(l,t,e,n,r)),0<c&&c<1&&i(Fpt(c,t,e,n,r))}function Fpt(t,e,n,r,i){var o=1-t,a=o*o,u=t*t;return a*o*e+3*a*t*n+3*o*u*r+u*t*i}var Npt=(Npt=bat(1,1))?Npt.getContext("2d"):null,Ipt=new opt;function Lpt(t){return function(e,n){if(!Npt)return!0;t(Npt,e),Ipt.clear().union(e.bounds).intersect(n).round();for(var r=Ipt.x1,i=Ipt.y1,o=Ipt.x2,a=Ipt.y2,u=i;u<=a;++u)for(var s=r;s<=o;++s)if(Npt.isPointInPath(s,u))return!0;return!1}}function Rpt(t,e){return e.contains(t.x||0,t.y||0)}function jpt(t,e){var n=t.x||0,r=t.y||0,i=t.width||0,o=t.height||0;return e.intersects(Ipt.set(n,r,n+i,r+o))}function Bpt(t,e){var n=t.x||0,r=t.y||0;return zpt(e,n,r,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r)}function zpt(t,e,n,r,i){var o,a,u,s,l=t.x1,c=t.y1,f=t.x2,d=t.y2,h=r-e,p=i-n,v=0,g=1;for(s=0;s<4;++s){if(0===s&&(o=-h,a=-(l-e)),1===s&&(o=h,a=f-e),2===s&&(o=-p,a=-(c-n)),3===s&&(o=p,a=d-n),Math.abs(o)<1e-10&&a<0)return!1;if(u=a/o,o<0){if(u>g)return!1;u>v&&(v=u)}else if(o>0){if(u<v)return!1;u<g&&(g=u)}}return!0}function Upt(t,e){t.globalCompositeOperation=e.blend||"source-over"}function Hpt(t,e){return null==t?e:t}function Vpt(t,e){for(var n=e.length,r=0;r<n;++r)t.addColorStop(e[r].offset,e[r].color);return t}function Wpt(t,e,n){return aht(n)?function(t,e,n){var r,i=n.width(),o=n.height();if("radial"===e.gradient)r=t.createRadialGradient(n.x1+Hpt(e.x1,.5)*i,n.y1+Hpt(e.y1,.5)*o,Math.max(i,o)*Hpt(e.r1,0),n.x1+Hpt(e.x2,.5)*i,n.y1+Hpt(e.y2,.5)*o,Math.max(i,o)*Hpt(e.r2,.5));else{var a=Hpt(e.x1,0),u=Hpt(e.y1,0),s=Hpt(e.x2,1),l=Hpt(e.y2,0);if(a!==s&&u!==l&&i!==o){var c=bat(Math.ceil(i),Math.ceil(o)),f=c.getContext("2d");return f.scale(i,o),f.fillStyle=Vpt(f.createLinearGradient(a,u,s,l),e.stops),f.fillRect(0,0,i,o),t.createPattern(c,"no-repeat")}r=t.createLinearGradient(n.x1+a*i,n.y1+u*o,n.x1+s*i,n.y1+l*o)}return Vpt(r,e.stops)}(t,n,e.bounds):n}function Ypt(t,e,n){return(n*=null==e.fillOpacity?1:e.fillOpacity)>0&&(t.globalAlpha=n,t.fillStyle=Wpt(t,e,e.fill),!0)}var qpt=[];function Gpt(t,e,n){var r=null!=(r=e.strokeWidth)?r:1;return!(r<=0)&&((n*=null==e.strokeOpacity?1:e.strokeOpacity)>0&&(t.globalAlpha=n,t.strokeStyle=Wpt(t,e,e.stroke),t.lineWidth=r,t.lineCap=e.strokeCap||"butt",t.lineJoin=e.strokeJoin||"miter",t.miterLimit=e.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(e.strokeDash||qpt),t.lineDashOffset=e.strokeDashOffset||0),!0))}function $pt(t,e){return t.zindex-e.zindex||t.index-e.index}function Xpt(t){if(!t.zdirty)return t.zitems;var e,n,r,i=t.items,o=[];for(n=0,r=i.length;n<r;++n)(e=i[n]).index=n,e.zindex&&o.push(e);return t.zdirty=!1,t.zitems=o.sort($pt)}function Kpt(t,e){var n,r,i=t.items;if(i&&i.length){var o=Xpt(t);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||e(i[n]);i=o}for(n=0,r=i.length;n<r;++n)e(i[n])}}function Zpt(t,e){var n,r,i=t.items;if(!i||!i.length)return null;var o=Xpt(t);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=e(i[r]))return n;if(i===o)for(r=(i=t.items).length;--r>=0;)if(!i[r].zindex&&(n=e(i[r])))return n;return null}function Jpt(t){return function(e,n,r){Kpt(n,(function(n){r&&!r.intersects(n.bounds)||tvt(t,e,n,n)}))}}function Qpt(t){return function(e,n,r){!n.items.length||r&&!r.intersects(n.bounds)||tvt(t,e,n.items[0],n.items)}}function tvt(t,e,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(t(e,r)||(Upt(e,n),n.fill&&Ypt(e,n,i)&&e.fill(),n.stroke&&Gpt(e,n,i)&&e.stroke()))}function evt(t){return t=t||l5,function(e,n,r,i,o,a){return r*=e.pixelRatio,i*=e.pixelRatio,Zpt(n,(function(n){var u=n.bounds;if((!u||u.contains(o,a))&&u)return t(e,n,r,i,o,a)?n:void 0}))}}function nvt(t,e){return function(n,r,i,o){var a,u,s=Array.isArray(r)?r[0]:r,l=null==e?s.fill:e,c=s.stroke&&n.isPointInStroke;return c&&(a=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=u?u:"butt"),!t(n,r)&&(l&&n.isPointInPath(i,o)||c&&n.isPointInStroke(i,o))}}function rvt(t){return evt(nvt(t))}function ivt(t,e){return"translate("+t+","+e+")"}function ovt(t){return"rotate("+t+")"}function avt(t){return ivt(t.x||0,t.y||0)}function uvt(t,e,n){function r(t,n){var r=n.x||0,i=n.y||0,o=n.angle||0;t.translate(r,i),o&&t.rotate(o*=yht),t.beginPath(),e(t,n),o&&t.rotate(-o),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:function(t,n){t("transform",function(t){return ivt(t.x||0,t.y||0)+(t.angle?" "+ovt(t.angle):"")}(n)),t("d",e(null,n))},bound:function(t,n){return e(Apt(t,n.angle),n),fpt(t,n).translate(n.x||0,n.y||0)},draw:Jpt(r),pick:rvt(r),isect:n||Lpt(r)}}var svt=uvt("arc",(function(t,e){return Ght.context(t)(e)}));function lvt(t,e,n){function r(t,n){t.beginPath(),e(t,n)}var i=nvt(r);return{type:t,tag:"path",nested:!0,attr:function(t,n){var r=n.mark.items;r.length&&t("d",e(null,r))},bound:function(t,n){var r=n.items;return 0===r.length?t:(e(Apt(t),r),fpt(t,r[0]))},draw:Qpt(r),pick:function(t,e,n,r,o,a){var u=e.items,s=e.bounds;return!u||!u.length||s&&!s.contains(o,a)?null:(n*=t.pixelRatio,r*=t.pixelRatio,i(t,u,n,r)?u[0]:null)},isect:Rpt,tip:n}}var cvt=lvt("area",(function(t,e){var n=e[0],r=n.interpolate||"linear";return("horizontal"===n.orient?Xht:$ht).curve(fht(r,n.orient,n.tension)).context(t)(e)}),(function(t,e){for(var n,r,i="horizontal"===t[0].orient?e[1]:e[0],o="horizontal"===t[0].orient?"y":"x",a=t.length,u=1/0;--a>=0;)!1!==t[a].defined&&(r=Math.abs(t[a][o]-i))<u&&(u=r,n=t[a]);return n}));function fvt(t,e){t.beginPath(),tpt(e)?ept(t,e,0,0):t.rect(0,0,e.width||0,e.height||0),t.clip()}function dvt(t){var e=Hpt(t.strokeWidth,1);return null!=t.strokeOffset?t.strokeOffset:t.stroke&&e>.5&&e<1.5?.5-Math.abs(e-1):0}function hvt(t,e){var n=dvt(e);t("d",ept(null,e,n,n))}function pvt(t,e,n,r){var i=dvt(e);t.beginPath(),ept(t,e,(n||0)+i,(r||0)+i)}var vvt=nvt(pvt),gvt=nvt(pvt,!1),mvt=nvt(pvt,!0);var yvt={type:"group",tag:"g",nested:!1,attr:function(t,e){t("transform",avt(e))},bound:function(t,e){if(!e.clip&&e.items)for(var n=e.items,r=n.length,i=0;i<r;++i)t.union(n[i].bounds);return(e.clip||e.width||e.height)&&!e.noBound&&t.add(0,0).add(e.width||0,e.height||0),fpt(t,e),t.translate(e.x||0,e.y||0)},draw:function(t,e,n){var r=this;Kpt(e,(function(e){var i=e.x||0,o=e.y||0,a=e.strokeForeground,u=null==e.opacity?1:e.opacity;(e.stroke||e.fill)&&u&&(pvt(t,e,i,o),Upt(t,e),e.fill&&Ypt(t,e,u)&&t.fill(),e.stroke&&!a&&Gpt(t,e,u)&&t.stroke()),t.save(),t.translate(i,o),e.clip&&fvt(t,e),n&&n.translate(-i,-o),Kpt(e,(function(e){r.draw(t,e,n)})),n&&n.translate(i,o),t.restore(),a&&e.stroke&&u&&(pvt(t,e,i,o),Upt(t,e),Gpt(t,e,u)&&t.stroke())}))},pick:function(t,e,n,r,i,o){var a=this;if(e.bounds&&!e.bounds.contains(i,o)||!e.items)return null;var u=n*t.pixelRatio,s=r*t.pixelRatio;return Zpt(e,(function(l){var c,f,d,h=l.bounds;if(!h||h.contains(i,o)){f=l.x||0,d=l.y||0;var p=f+(l.width||0),v=d+(l.height||0),g=l.clip;if(!g||!(i<f||i>p||o<d||o>v)){if(t.save(),t.translate(f,d),f=i-f,d=o-d,g&&tpt(l)&&!mvt(t,l,u,s))return t.restore(),null;var m=l.strokeForeground,y=!1!==e.interactive;return y&&m&&l.stroke&&gvt(t,l,u,s)?(t.restore(),l):(c=Zpt(l,(function(t){return function(t,e,n){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(e,n)}(t,f,d)?a.pick(t,n,r,f,d):null})),!c&&y&&(l.fill||!m&&l.stroke)&&vvt(t,l,u,s)&&(c=l),t.restore(),c||null)}}}))},isect:jpt,content:function(t,e,n){t("clip-path",e.clip?ipt(n,e,e):null)},background:function(t,e){t("class","background"),t("aria-hidden",!0),hvt(t,e)},foreground:function(t,e){t("class","foreground"),t("aria-hidden",!0),e.strokeForeground?hvt(t,e):t("d","")}},xvt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function bvt(t,e){var n=t.image;return(!n||t.url&&t.url!==n.url)&&(n={complete:!1,width:0,height:0},e.loadImage(t.url).then((function(e){t.image=e,t.image.url=t.url}))),n}function wvt(t,e){return null!=t.width?t.width:e&&e.width?!1!==t.aspect&&t.height?t.height*e.width/e.height:e.width:0}function Svt(t,e){return null!=t.height?t.height:e&&e.height?!1!==t.aspect&&t.width?t.width*e.height/e.width:e.height:0}function kvt(t,e){return"center"===t?e/2:"right"===t?e:0}function Cvt(t,e){return"middle"===t?e/2:"bottom"===t?e:0}var Evt={type:"image",tag:"image",nested:!1,attr:function(t,e,n){var r=bvt(e,n),i=wvt(e,r),o=Svt(e,r),a=(e.x||0)-kvt(e.align,i),u=(e.y||0)-Cvt(e.baseline,o);t("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",xvt["xmlns:xlink"],"xlink:href"),t("transform",ivt(a,u)),t("width",i),t("height",o),t("preserveAspectRatio",!1===e.aspect?"none":"xMidYMid")},bound:function(t,e){var n=e.image,r=wvt(e,n),i=Svt(e,n),o=(e.x||0)-kvt(e.align,r),a=(e.y||0)-Cvt(e.baseline,i);return t.set(o,a,o+r,a+i)},draw:function(t,e,n){var r=this;Kpt(e,(function(e){if(!n||n.intersects(e.bounds)){var i=bvt(e,r),o=wvt(e,i),a=Svt(e,i);if(0!==o&&0!==a){var u,s,l,c,f=(e.x||0)-kvt(e.align,o),d=(e.y||0)-Cvt(e.baseline,a);!1!==e.aspect&&(s=i.width/i.height,l=e.width/e.height,s===s&&l===l&&s!==l&&(l<s?(d+=(a-(c=o/s))/2,a=c):(f+=(o-(c=a*s))/2,o=c))),(i.complete||i.toDataURL)&&(Upt(t,e),t.globalAlpha=null!=(u=e.opacity)?u:1,t.imageSmoothingEnabled=!1!==e.smooth,t.drawImage(i,f,d,o,a))}}}))},pick:evt(),isect:l5,get:bvt,xOffset:kvt,yOffset:Cvt},Ovt=lvt("line",(function(t,e){var n=e[0],r=n.interpolate||"linear";return Kht.curve(fht(r,n.orient,n.tension)).context(t)(e)}),(function(t,e){for(var n,r,i=Math.pow(t[0].strokeWidth||1,2),o=t.length;--o>=0;)if(!1!==t[o].defined&&(n=t[o].x-e[0])*n+(r=t[o].y-e[1])*r<i)return t[o];return null}));function Mvt(t,e){var n=e.path;if(null==n)return!0;var r=e.x||0,i=e.y||0,o=e.scaleX||1,a=e.scaleY||1,u=(e.angle||0)*yht,s=e.pathCache;s&&s.path===n||((e.pathCache=s=mht(n)).path=n),u&&t.rotate&&t.translate?(t.translate(r,i),t.rotate(u),_ht(t,s,0,0,o,a),t.rotate(-u),t.translate(-r,-i)):_ht(t,s,r,i,o,a)}var _vt={type:"path",tag:"path",nested:!1,attr:function(t,e){var n=e.scaleX||1,r=e.scaleY||1;1===n&&1===r||t("vector-effect","non-scaling-stroke"),t("transform",function(t){return ivt(t.x||0,t.y||0)+(t.angle?" "+ovt(t.angle):"")+(t.scaleX||t.scaleY?" "+function(t,e){return"scale("+t+","+e+")"}(t.scaleX||1,t.scaleY||1):"")}(e)),t("d",e.path)},bound:function(t,e){return Mvt(Apt(t,e.angle),e)?t.set(0,0,0,0):fpt(t,e,!0)},draw:Jpt(Mvt),pick:rvt(Mvt),isect:Lpt(Mvt)};function Avt(t,e){t.beginPath(),ept(t,e)}var Tvt={type:"rect",tag:"path",nested:!1,attr:function(t,e){t("d",ept(null,e))},bound:function(t,e){var n,r;return fpt(t.set(n=e.x||0,r=e.y||0,n+e.width||0,r+e.height||0),e)},draw:Jpt(Avt),pick:rvt(Avt),isect:jpt};function Pvt(t,e,n){var r,i,o,a;return!(!e.stroke||!Gpt(t,e,n))&&(r=e.x||0,i=e.y||0,o=null!=e.x2?e.x2:r,a=null!=e.y2?e.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(o,a),!0)}var Dvt={type:"rule",tag:"line",nested:!1,attr:function(t,e){t("transform",avt(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)},bound:function(t,e){var n,r;return fpt(t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r),e)},draw:function(t,e,n){Kpt(e,(function(e){if(!n||n.intersects(e.bounds)){var r=null==e.opacity?1:e.opacity;r&&Pvt(t,e,r)&&(Upt(t,e),t.stroke())}}))},pick:evt((function(t,e,n,r){return!!t.isPointInStroke&&(Pvt(t,e,1)&&t.isPointInStroke(n,r))})),isect:Bpt},Fvt=uvt("shape",(function(t,e){return(e.mark.shape||e.shape).context(t)(e)})),Nvt=uvt("symbol",(function(t,e){return Jht.context(t)(e)}),Rpt),Ivt=m6(),Lvt={height:Hvt,measureWidth:zvt,estimateWidth:jvt,width:jvt,canvas:Rvt};function Rvt(t){Lvt.width=t&&Npt?zvt:jvt}function jvt(t,e){return Bvt(qvt(t,e),Hvt(t))}function Bvt(t,e){return~~(.8*t.length*e)}function zvt(t,e){return Hvt(t)<=0||!(e=qvt(t,e))?0:Uvt(e,$vt(t))}function Uvt(t,e){var n="(".concat(e,") ").concat(t),r=Ivt.get(n);return void 0===r&&(Npt.font=e,r=Npt.measureText(t).width,Ivt.set(n,r)),r}function Hvt(t){return null!=t.fontSize?+t.fontSize||0:11}function Vvt(t){return null!=t.lineHeight?t.lineHeight:Hvt(t)+2}function Wvt(t){return function(t){return y5(t)?t.length>1?t:t[0]:t}(t.lineBreak&&t.text&&!y5(t.text)?t.text.split(t.lineBreak):t.text)}function Yvt(t){var e=Wvt(t);return(y5(e)?e.length-1:0)*Vvt(t)}function qvt(t,e){var n=null==e?"":(e+"").trim();return t.limit>0&&n.length?function(t,e){var n=+t.limit,r=function(t){if(Lvt.width===zvt){var e=$vt(t);return function(t){return Uvt(t,e)}}var n=Hvt(t);return function(t){return Bvt(t,n)}}(t);if(r(e)<n)return e;var i,o=t.ellipsis||"\u2026",a="rtl"===t.dir,u=0,s=e.length;if(n-=r(o),a){for(;u<s;)i=u+s>>>1,r(e.slice(i))>n?u=i+1:s=i;return o+e.slice(u)}for(;u<s;)i=1+(u+s>>>1),r(e.slice(0,i))<n?u=i:s=i-1;return e.slice(0,u)+o}(t,n):n}function Gvt(t,e){var n=t.font;return(e&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function $vt(t,e){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+Hvt(t)+"px "+Gvt(t,e)}function Xvt(t){var e=t.baseline,n=Hvt(t);return Math.round("top"===e?.79*n:"middle"===e?.3*n:"bottom"===e?-.21*n:"line-top"===e?.29*n+.5*Vvt(t):"line-bottom"===e?.29*n-.5*Vvt(t):0)}Rvt(!0);var Kvt={left:"start",center:"middle",right:"end"},Zvt=new opt;function Jvt(t){var e,n=t.x||0,r=t.y||0,i=t.radius||0;return i&&(e=(t.theta||0)-xht,n+=i*Math.cos(e),r+=i*Math.sin(e)),Zvt.x1=n,Zvt.y1=r,Zvt}function Qvt(t,e,n){var r,i=Lvt.height(e),o=e.align,a=Jvt(e),u=a.x1,s=a.y1,l=e.dx||0,c=(e.dy||0)+Xvt(e)-Math.round(.8*i),f=Wvt(e);if(y5(f)?(i+=Vvt(e)*(f.length-1),r=f.reduce((function(t,n){return Math.max(t,Lvt.width(e,n))}),0)):r=Lvt.width(e,f),"center"===o?l-=r/2:"right"===o&&(l-=r),t.set(l+=u,c+=s,l+r,c+i),e.angle&&!n)t.rotate(e.angle*yht,u,s);else if(2===n)return t.rotatedPoints(e.angle*yht,u,s);return t}var tgt={type:"text",tag:"text",nested:!1,attr:function(t,e){var n,r=e.dx||0,i=(e.dy||0)+Xvt(e),o=Jvt(e),a=o.x1,u=o.y1,s=e.angle||0;t("text-anchor",Kvt[e.align]||"start"),s?(n=ivt(a,u)+" "+ovt(s),(r||i)&&(n+=" "+ivt(r,i))):n=ivt(a+r,u+i),t("transform",n)},bound:Qvt,draw:function(t,e,n){Kpt(e,(function(e){var r,i,o,a,u,s,l,c=null==e.opacity?1:e.opacity;if(!(n&&!n.intersects(e.bounds)||0===c||e.fontSize<=0||null==e.text||0===e.text.length)){if(t.font=$vt(e),t.textAlign=e.align||"left",i=(r=Jvt(e)).x1,o=r.y1,e.angle&&(t.save(),t.translate(i,o),t.rotate(e.angle*yht),i=o=0),i+=e.dx||0,o+=(e.dy||0)+Xvt(e),s=Wvt(e),Upt(t,e),y5(s))for(u=Vvt(e),a=0;a<s.length;++a)l=qvt(e,s[a]),e.fill&&Ypt(t,e,c)&&t.fillText(l,i,o),e.stroke&&Gpt(t,e,c)&&t.strokeText(l,i,o),o+=u;else l=qvt(e,s),e.fill&&Ypt(t,e,c)&&t.fillText(l,i,o),e.stroke&&Gpt(t,e,c)&&t.strokeText(l,i,o);e.angle&&t.restore()}}))},pick:evt((function(t,e,n,r,i,o){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var a=Jvt(e),u=a.x1,s=a.y1,l=Qvt(Zvt,e,1),c=-e.angle*yht,f=Math.cos(c),d=Math.sin(c),h=f*i-d*o+(u-f*u+d*s),p=d*i+f*o+(s-d*u-f*s);return l.contains(h,p)})),isect:function(t,e){var n=Qvt(Zvt,t,2);return zpt(e,n[0],n[1],n[2],n[3])||zpt(e,n[0],n[1],n[4],n[5])||zpt(e,n[4],n[5],n[6],n[7])||zpt(e,n[2],n[3],n[6],n[7])}},egt=lvt("trail",(function(t,e){return Qht.context(t)(e)}),(function(t,e){for(var n,r,i=t.length;--i>=0;)if(!1!==t[i].defined&&(n=t[i].x-e[0])*n+(r=t[i].y-e[1])*r<(n=t[i].size||1)*n)return t[i];return null})),ngt={arc:svt,area:cvt,group:yvt,image:Evt,line:Ovt,path:_vt,rect:Tvt,rule:Dvt,shape:Fvt,symbol:Nvt,text:tgt,trail:egt};function rgt(t,e,n){var r=ngt[t.mark.marktype],i=e||r.bound;return r.nested&&(t=t.mark),i(t.bounds||(t.bounds=new opt),t,n)}var igt={mark:null};function ogt(t,e,n){var r,i,o,a,u=ngt[t.marktype],s=u.bound,l=t.items,c=l&&l.length;if(u.nested)return c?o=l[0]:(igt.mark=t,o=igt),a=rgt(o,s,n),e=e&&e.union(a)||a;if(e=e||t.bounds&&t.bounds.clear()||new opt,c)for(r=0,i=l.length;r<i;++r)e.union(rgt(l[r],s,n));return t.bounds=e}var agt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function ugt(t,e){return JSON.stringify(t,agt,e)}function sgt(t){return lgt("string"===typeof t?JSON.parse(t):t)}function lgt(t){var e,n,r,i=t.marktype,o=t.items;if(o)for(n=0,r=o.length;n<r;++n)e=i?"mark":"group",o[n][e]=t,o[n].zindex&&(o[n][e].zdirty=!0),"group"===(i||e)&&lgt(o[n]);return i&&ogt(t),t}function cgt(t){arguments.length?this.root=sgt(t):(this.root=fgt({marktype:"group",name:"root",role:"frame"}),this.root.items=[new upt(this.root)])}function fgt(t,e){var n={bounds:new opt,clip:!!t.clip,group:e,interactive:!1!==t.interactive,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0};return null!=t.aria&&(n.aria=t.aria),t.description&&(n.description=t.description),n}function dgt(t,e,n){return!t&&"undefined"!==typeof document&&document.createElement&&(t=document),t?n?t.createElementNS(n,e):t.createElement(e):null}function hgt(t,e){e=e.toLowerCase();for(var n=t.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===e)return n[r]}function pgt(t,e,n,r){var i,o=t.childNodes[e];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=dgt(t.ownerDocument,n,r),t.insertBefore(o,i)),o}function vgt(t,e){for(var n=t.childNodes,r=n.length;r>e;)t.removeChild(n[--r]);return t}function ggt(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function mgt(t,e){var n=e.getBoundingClientRect();return[t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0)]}function ygt(t,e){this._active=null,this._handlers={},this._loader=t||yet(),this._tooltip=e||xgt}function xgt(t,e,n,r){t.element().setAttribute("title",r||"")}function bgt(t){this._el=null,this._bgcolor=null,this._loader=new spt(t)}cgt.prototype={toJSON:function(t){return ugt(this.root,t||0)},mark:function(t,e,n){var r=fgt(t,e=e||this.root.items[0]);return e.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},ygt.prototype={initialize:function(t,e,n){return this._el=t,this._obj=n||null,this.origin(e)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene:function(t){return arguments.length?(this._scene=t,this):this._scene},on:function(){},off:function(){},_handlerIndex:function(t,e,n){for(var r=t?t.length:0;--r>=0;)if(t[r].type===e&&(!n||t[r].handler===n))return r;return-1},handlers:function(t){var e=this._handlers,n=[];if(t)n.push.apply(n,Ye(e[this.eventName(t)]));else for(var r in e)n.push.apply(n,Ye(e[r]));return n},eventName:function(t){var e=t.indexOf(".");return e<0?t:t.slice(0,e)},handleHref:function(t,e,n){this._loader.sanitize(n,{context:"href"}).then((function(e){var n=new MouseEvent(t.type,t),r=dgt(null,"a");for(var i in e)r.setAttribute(i,e[i]);r.dispatchEvent(n)})).catch((function(){}))},handleTooltip:function(t,e,n){if(e&&null!=e.tooltip){e=function(t,e,n,r){var i,o,a=t&&t.mark;if(a&&(i=ngt[a.marktype]).tip){for((o=mgt(e,n))[0]-=r[0],o[1]-=r[1];t=t.mark.group;)o[0]-=t.x||0,o[1]-=t.y||0;t=i.tip(a.items,o)}return t}(e,t,this.canvas(),this._origin);var r=n&&e&&e.tooltip||null;this._tooltip.call(this._obj,this,t,e,r)}},getItemBoundingClientRect:function(t){var e=this.canvas();if(e){for(var n=e.getBoundingClientRect(),r=this._origin,i=t.bounds,o=i.width(),a=i.height(),u=i.x1+r[0]+n.left,s=i.y1+r[1]+n.top;t.mark&&(t=t.mark.group);)u+=t.x||0,s+=t.y||0;return{x:u,y:s,width:o,height:a,left:u,top:s,right:u+o,bottom:s+a}}}},bgt.prototype={initialize:function(t,e,n,r,i){return this._el=t,this.resize(e,n,r,i)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},resize:function(t,e,n,r){return this._width=t,this._height=e,this._origin=n||[0,0],this._scale=r||1,this},dirty:function(){},render:function(t){var e=this;return e._call=function(){e._render(t)},e._call(),e._call=null,e},_render:function(){},renderAsync:function(t){var e=this.render(t);return this._ready?this._ready.then((function(){return e})):Promise.resolve(e)},_load:function(t,e){var n=this,r=n._loader[t](e);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(t){t&&i(),n._ready=null}))}return r},sanitizeURL:function(t){return this._load("sanitizeURL",t)},loadImage:function(t){return this._load("loadImage",t)}};var wgt="dragenter",Sgt="dragleave",kgt="dragover",Cgt="mousedown",Egt="mousemove",Ogt="mouseout",Mgt="mouseover",_gt="click",Agt="mousewheel",Tgt="touchstart",Pgt="touchmove",Dgt="touchend",Fgt=Egt,Ngt=Ogt,Igt=_gt;function Lgt(t,e){ygt.call(this,t,e),this._down=null,this._touch=null,this._first=!0,this._events={}}function Rgt(t,e){(function(t){return t===Tgt||t===Pgt||t===Dgt?[Tgt,Pgt,Dgt]:[t]})(e).forEach((function(e){return function(t,e){var n=t.canvas();n&&!t._events[e]&&(t._events[e]=1,n.addEventListener(e,t[e]?function(n){return t[e](n)}:function(n){return t.fire(e,n)}))}(t,e)}))}function jgt(t,e,n){return function(r){var i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||this.fire(n,r),this._active=o,this.fire(e,r)),this.fire(t,r)}}function Bgt(t){return function(e){this.fire(t,e),this._active=null}}u6(Lgt,ygt,{initialize:function(t,e,n){var r=this;return this._canvas=t&&hgt(t,"canvas"),[_gt,Cgt,Egt,Ogt,Sgt].forEach((function(t){return Rgt(r,t)})),ygt.prototype.initialize.call(this,t,e,n)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",wgt,Sgt,kgt,Cgt,"mouseup",Egt,Ogt,Mgt,_gt,"dblclick","wheel",Agt,Tgt,Pgt,Dgt],DOMMouseScroll:function(t){this.fire(Agt,t)},mousemove:jgt(Egt,Mgt,Ogt),dragover:jgt(kgt,wgt,Sgt),mouseout:Bgt(Ogt),dragleave:Bgt(Sgt),mousedown:function(t){this._down=this._active,this.fire(Cgt,t)},click:function(t){this._down===this._active&&(this.fire(_gt,t),this._down=null)},touchstart:function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Tgt,t,!0)},touchmove:function(t){this.fire(Pgt,t,!0)},touchend:function(t){this.fire(Dgt,t,!0),this._touch=null},fire:function(t,e,n){var r=n?this._touch:this._active,i=this._handlers[t];if(e.vegaType=t,t===Igt&&r&&r.href?this.handleHref(e,r,r.href):t!==Fgt&&t!==Ngt||this.handleTooltip(e,r,t!==Ngt),i)for(var o=0,a=i.length;o<a;++o)i[o].handler.call(this._obj,e,r)},on:function(t,e){var n=this.eventName(t),r=this._handlers;return this._handlerIndex(r[n],t,e)<0&&(Rgt(this,t),(r[n]||(r[n]=[])).push({type:t,handler:e})),this},off:function(t,e){var n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&r.splice(i,1),this},pickEvent:function(t){var e=mgt(t,this._canvas),n=this._origin;return this.pick(this._scene,e[0],e[1],e[0]-n[0],e[1]-n[1])},pick:function(t,e,n,r,i){var o=this.context();return ngt[t.marktype].pick.call(this,o,t,e,n,r,i)}});var zgt="undefined"!==typeof window&&window.devicePixelRatio||1;function Ugt(t){bgt.call(this,t),this._options={},this._redraw=!1,this._dirty=new opt,this._tempb=new opt}var Hgt=bgt.prototype;function Vgt(t,e){ygt.call(this,t,e);var n=this;n._hrefHandler=Wgt(n,(function(t,e){e&&e.href&&n.handleHref(t,e,e.href)})),n._tooltipHandler=Wgt(n,(function(t,e){n.handleTooltip(t,e,t.type!==Ngt)}))}u6(Ugt,bgt,{initialize:function(t,e,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:bat(1,1,this._options.type),t&&this._canvas&&(vgt(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Hgt.initialize.call(this,t,e,n,r,i)},resize:function(t,e,n,r){if(Hgt.resize.call(this,t,e,n,r),this._canvas)!function(t,e,n,r,i,o){var a="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,u=t.getContext("2d"),s=a?zgt:i;for(var l in t.width=e*s,t.height=n*s,o)u[l]=o[l];a&&1!==s&&(t.style.width=e+"px",t.style.height=n+"px"),u.pixelRatio=s,u.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var i=this._options.externalContext;i||n5("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(t){for(var e=this._tempb.clear().union(t.bounds),n=t.mark.group;n;)e.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(e)},_render:function(t){var e=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty,a=function(t,e,n){return(new opt).set(0,0,e,n).translate(-t[0],-t[1])}(n,r,i);e.save();var u=this._redraw||o.empty()?(this._redraw=!1,a.expand(1)):function(t,e,n){return e.expand(1).round(),t.pixelRatio%1&&e.scale(t.pixelRatio).round().scale(1/t.pixelRatio),e.translate(-n[0]%1,-n[1]%1),t.beginPath(),t.rect(e.x1,e.y1,e.width(),e.height()),t.clip(),e}(e,a.intersect(o),n);return this.clear(-n[0],-n[1],r,i),this.draw(e,t,u),e.restore(),o.clear(),this},draw:function(t,e,n){var r=ngt[e.marktype];e.clip&&function(t,e){var n=e.clip;t.save(),Y5(n)?(t.beginPath(),n(t),t.clip()):fvt(t,e.group)}(t,e),r.draw.call(this,t,e,n),e.clip&&t.restore()},clear:function(t,e,n,r){var i=this._options,o=this.context();"pdf"===i.type||i.externalContext||o.clearRect(t,e,n,r),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(t,e,n,r))}});var Wgt=function(t,e){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,e.call(t._obj,n,r)}};u6(Vgt,ygt,{initialize:function(t,e,n){var r=this._svg;return r&&(r.removeEventListener(Igt,this._hrefHandler),r.removeEventListener(Fgt,this._tooltipHandler),r.removeEventListener(Ngt,this._tooltipHandler)),this._svg=r=t&&hgt(t,"svg"),r&&(r.addEventListener(Igt,this._hrefHandler),r.addEventListener(Fgt,this._tooltipHandler),r.addEventListener(Ngt,this._tooltipHandler)),ygt.prototype.initialize.call(this,t,e,n)},canvas:function(){return this._svg},on:function(t,e){var n=this.eventName(t),r=this._handlers;if(this._handlerIndex(r[n],t,e)<0){var i={type:t,handler:e,listener:Wgt(this,e)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},off:function(t,e){var n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});var Ygt="aria-hidden",qgt="aria-label",Ggt="role",$gt="aria-roledescription",Xgt="graphics-object",Kgt="graphics-symbol",Zgt=function(t,e,n){var r;return mt(r={},Ggt,t),mt(r,$gt,e),mt(r,qgt,n||void 0),r},Jgt=M6(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Qgt={axis:{desc:"axis",caption:function(t){var e=t.datum,n=t.orient,r=e.title?imt(t):null,i=t.context,o=i.scales[e.scale].value,a=i.dataflow.locale(),u=o.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(kdt(u)?"discrete":u," scale")+" with ".concat(rht(a,o,t))}},legend:{desc:"legend",caption:function(t){var e=t.datum,n=e.title?imt(t):null,r="".concat(e.type||""," legend").trim(),i=e.scales,o=Object.keys(i),a=t.context,u=a.scales[i[o[0]]].value,s=a.dataflow.locale();return function(t){return t.length?t[0].toUpperCase()+t.slice(1):t}(r)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(t){return(t=t.map((function(t){return t+("fill"===t||"stroke"===t?" color":"")}))).length<2?t[0]:t.slice(0,-1).join(", ")+" and "+C5(t)}(o))+" with ".concat(rht(s,u,t))}},"title-text":{desc:"title",caption:function(t){return"Title text '".concat(rmt(t),"'")}},"title-subtitle":{desc:"subtitle",caption:function(t){return"Subtitle text '".concat(rmt(t),"'")}}},tmt={ariaRole:Ggt,ariaRoleDescription:$gt,description:qgt};function emt(t,e){var n=!1===e.aria;if(t(Ygt,n||void 0),n||null==e.description)for(var r in tmt)t(tmt[r],void 0);else{var i=e.mark.marktype;t(qgt,e.description),t(Ggt,e.ariaRole||("group"===i?Xgt:Kgt)),t($gt,e.ariaRoleDescription||"".concat(i," mark"))}}function nmt(t){return!1===t.aria?mt({},Ygt,!0):Jgt[t.role]?null:Qgt[t.role]?function(t,e){try{var n=t.items[0],r=e.caption||function(){return""};return Zgt(e.role||Kgt,e.desc,n.description||r(n))}catch(i){return null}}(t,Qgt[t.role]):function(t){var e=t.marktype,n="group"===e||"text"===e||t.items.some((function(t){return null!=t.description&&!1!==t.aria}));return Zgt(n?Xgt:Kgt,"".concat(e," mark container"),t.description)}(t)}function rmt(t){return V5(t.text).join(" ")}function imt(t){try{return V5(C5(t.items).items[0].text).join(" ")}catch(e){return null}}var omt=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function amt(){var t="",e="",n="",r=[],i=function(){return e=n=""},o=function(o){e&&(t+="".concat(e,">").concat(n),i()),r.push(o)},a=function(t,n){return null!=n&&(e+=" ".concat(t,'="').concat(omt(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),u},u={open:function(t){o(t),e="<"+t;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=0,l=r;s<l.length;s++){var c=l[s];for(var f in c)a(f,c[f])}return u},close:function(){var o=r.pop();return t+=e?e+(n?">".concat(n,"</").concat(o,">"):"/>"):"</".concat(o,">"),i(),u},attr:a,text:function(t){return n+=omt(t),u},toString:function(){return t}};return u}var umt=function(t){return smt(amt(),t)+""};function smt(t,e){if(t.open(e.tagName),e.hasAttributes())for(var n=e.attributes,r=n.length,i=0;i<r;++i)t.attr(n[i].name,n[i].value);if(e.hasChildNodes()){var o,a=qe(e.childNodes);try{for(a.s();!(o=a.n()).done;){var u=o.value;3===u.nodeType?t.text(u.nodeValue):smt(t,u)}}catch(s){a.e(s)}finally{a.f()}}return t.close()}var lmt={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},cmt={blend:"mix-blend-mode"},fmt={fill:"none","stroke-miterlimit":10},dmt="http://www.w3.org/2000/xmlns/",hmt=xvt.xmlns;function pmt(t){bgt.call(this,t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var vmt=bgt.prototype;function gmt(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function mmt(t,e,n){var r,i,o;if("radial"===e.gradient){var a=pgt(t,n++,"pattern",hmt);Emt(a,{id:oht+e.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Emt(a=pgt(a,0,"rect",hmt),{width:1,height:1,fill:"url(".concat(Mmt(),"#").concat(e.id,")")}),Emt(t=pgt(t,n++,"radialGradient",hmt),{id:e.id,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})}else Emt(t=pgt(t,n++,"linearGradient",hmt),{id:e.id,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2});for(r=0,i=e.stops.length;r<i;++r)(o=pgt(t,r,"stop",hmt)).setAttribute("offset",e.stops[r].offset),o.setAttribute("stop-color",e.stops[r].color);return vgt(t,r),n}function ymt(t,e,n){return(t=pgt(t,n,"clipPath",hmt)).setAttribute("id",e.id),e.path?pgt(t,0,"path",hmt).setAttribute("d",e.path):Emt(pgt(t,0,"rect",hmt),{x:0,y:0,width:e.width,height:e.height}),vgt(t,1),n+1}function xmt(t,e,n,r,i){var o,a=t._svg;if(!a&&(a=dgt(o=e.ownerDocument,r,hmt),t._svg=a,t.mark&&(a.__data__=t,a.__values__={fill:"default"},"g"===r))){var u=dgt(o,"path",hmt);a.appendChild(u),u.__data__=t;var s=dgt(o,"g",hmt);a.appendChild(s),s.__data__=t;var l=dgt(o,"path",hmt);a.appendChild(l),l.__data__=t,l.__values__={fill:"default"}}return(a.ownerSVGElement!==i||function(t,e){return t.parentNode&&t.parentNode.childNodes.length>1&&t.previousSibling!=e}(a,n))&&e.insertBefore(a,n?n.nextSibling:e.firstChild),a}u6(pmt,bgt,{initialize:function(t,e,n,r,i){return this._defs={},this._clearDefs(),t&&(this._svg=pgt(t,0,"svg",hmt),this._svg.setAttributeNS(dmt,"xmlns",hmt),this._svg.setAttributeNS(dmt,"xmlns:xlink",xvt["xmlns:xlink"]),this._svg.setAttribute("version",xvt.version),this._svg.setAttribute("class","marks"),vgt(t,1),this._root=pgt(this._svg,0,"g",hmt),Emt(this._root,fmt),vgt(this._svg,1)),this.background(this._bgcolor),vmt.initialize.call(this,t,e,n,r,i)},background:function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),vmt.background.apply(this,arguments)},resize:function(t,e,n,r){return vmt.resize.call(this,t,e,n,r),this._svg&&(Emt(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas:function(){return this._svg},svg:function(){var t,e=this._svg,n=this._bgcolor;if(!e)return null;n&&(e.removeAttribute("style"),Emt(t=pgt(e,0,"rect",hmt),{width:this._width,height:this._height,fill:n}));var r=umt(e);return n&&(e.removeChild(t),this._svg.style.setProperty("background-color",n)),r},_render:function(t){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),vgt(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty:function(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty:function(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var t=this._dirty;if(!t.length||!this._dirtyID)return!0;var e,n,r,i,o,a,u,s=++this._dirtyID;for(o=0,a=t.length;o<a;++o)(n=(e=t[o]).mark).marktype!==r&&(r=n.marktype,i=ngt[r]),n.zdirty&&n.dirty!==s&&(this._dirtyAll=!1,gmt(e,s),n.items.forEach((function(t){t.dirty=s}))),n.zdirty||(e.exit?(i.nested&&n.items.length?(u=n.items[0])._svg&&this._update(i,u._svg,u):e._svg&&(u=e._svg.parentNode)&&u.removeChild(e._svg),e._svg=null):(e=i.nested?n.items[0]:e)._update!==s&&(e._svg&&e._svg.ownerSVGElement?this._update(i,e._svg,e):(this._dirtyAll=!1,gmt(e,s)),e._update=s));return!this._dirtyAll},mark:function(t,e,n){var r=this;if(!this.isDirty(e))return e._svg;var i=this._svg,o=ngt[e.marktype],a=!1===e.interactive?"none":null,u="g"===o.tag,s=xmt(e,t,n,"g",i);s.setAttribute("class",ggt(e));var l=nmt(e);for(var c in l)Omt(s,c,l[c]);u||Omt(s,"pointer-events",a),Omt(s,"clip-path",e.clip?ipt(this,e,e.group):null);var f=null,d=0,h=function(t){var e=r.isDirty(t),n=xmt(t,s,f,o.tag,i);e&&(r._update(o,n,t),u&&function(t,e,n){e=e.lastChild.previousSibling;var r,i=0;Kpt(n,(function(n){r=t.mark(e,n,r),++i})),vgt(e,1+i)}(r,n,t)),f=n,++d};return o.nested?e.items.length&&h(e.items[0]):Kpt(e,h),vgt(s,d),s},_update:function(t,e,n){bmt=e,wmt=e.__values__,emt(kmt,n),t.attr(kmt,n,this);var r=Smt[t.type];r&&r.call(this,t,e,n),bmt&&this.style(bmt,n)},style:function(t,e){if(null!=e){for(var n in lmt){var r="font"===n?Gvt(e):e[n];if(r!==wmt[n]){var i=lmt[n];null==r?t.removeAttribute(i):(aht(r)&&(r=uht(r,this._defs.gradient,Mmt())),t.setAttribute(i,r+"")),wmt[n]=r}}for(var o in cmt)Cmt(t,cmt[o],e[o])}},defs:function(){var t=this._svg,e=this._defs,n=e.el,r=0;for(var i in e.gradient)n||(e.el=n=pgt(t,1,"defs",hmt)),r=mmt(n,e.gradient[i],r);for(var o in e.clipping)n||(e.el=n=pgt(t,1,"defs",hmt)),r=ymt(n,e.clipping[o],r);n&&(0===r?(t.removeChild(n),e.el=null):vgt(n,r))},_clearDefs:function(){var t=this._defs;t.gradient={},t.clipping={}}});var bmt=null,wmt=null,Smt={group:function(t,e,n){var r=bmt=e.childNodes[2];wmt=r.__values__,t.foreground(kmt,n,this),wmt=e.__values__,bmt=e.childNodes[1],t.content(kmt,n,this);var i=bmt=e.childNodes[0];t.background(kmt,n,this);var o=!1===n.mark.interactive?"none":null;if(o!==wmt.events&&(Omt(r,"pointer-events",o),Omt(i,"pointer-events",o),wmt.events=o),n.strokeForeground&&n.stroke){var a=n.fill;Omt(r,"display",null),this.style(i,n),Omt(i,"stroke",null),a&&(n.fill=null),wmt=r.__values__,this.style(r,n),a&&(n.fill=a),bmt=null}else Omt(r,"display","none")},image:function(t,e,n){!1===n.smooth?(Cmt(e,"image-rendering","optimizeSpeed"),Cmt(e,"image-rendering","pixelated")):Cmt(e,"image-rendering",null)},text:function(t,e,n){var r,i,o,a,u=Wvt(n);y5(u)?(i=u.map((function(t){return qvt(n,t)})),(r=i.join("\n"))!==wmt.text&&(vgt(e,0),o=e.ownerDocument,a=Vvt(n),i.forEach((function(t,r){var i=dgt(o,"tspan",hmt);i.__data__=n,i.textContent=t,r&&(i.setAttribute("x",0),i.setAttribute("dy",a)),e.appendChild(i)})),wmt.text=r)):(i=qvt(n,u))!==wmt.text&&(e.textContent=i,wmt.text=i),Omt(e,"font-family",Gvt(n)),Omt(e,"font-size",Hvt(n)+"px"),Omt(e,"font-style",n.fontStyle),Omt(e,"font-variant",n.fontVariant),Omt(e,"font-weight",n.fontWeight)}};function kmt(t,e,n){e!==wmt[t]&&(n?function(t,e,n,r){null!=n?t.setAttributeNS(r,e,n):t.removeAttributeNS(r,e)}(bmt,t,e,n):Omt(bmt,t,e),wmt[t]=e)}function Cmt(t,e,n){n!==wmt[e]&&(null==n?t.style.removeProperty(e):t.style.setProperty(e,n+""),wmt[e]=n)}function Emt(t,e){for(var n in e)Omt(t,n,e[n])}function Omt(t,e,n){null!=n?t.setAttribute(e,n):t.removeAttribute(e)}function Mmt(){var t;return"undefined"===typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function _mt(t){bgt.call(this,t),this._text=null,this._defs={gradient:{},clipping:{}}}u6(_mt,bgt,{svg:function(){return this._text},_render:function(t){var e=amt();e.open("svg",Q5({},xvt,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));var n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&e.open("rect",{width:this._width,height:this._height,fill:n}).close(),e.open("g",fmt,{transform:"translate("+this._origin+")"}),this.mark(e,t),e.close(),this.defs(e),this._text=e.close()+"",this},mark:function(t,e){var n=this,r=ngt[e.marktype],i=r.tag,o=[emt,r.attr];t.open("g",{class:ggt(e),"clip-path":e.clip?ipt(this,e,e.group):null},nmt(e),{"pointer-events":"g"!==i&&!1===e.interactive?"none":null});var a=function(a){var u=n.href(a);if(u&&t.open("a",u),t.open(i,n.attr(e,a,o,"g"!==i?i:null)),"text"===i){var s=Wvt(a);if(y5(s))for(var l={x:0,dy:Vvt(a)},c=0;c<s.length;++c)t.open("tspan",c?l:null).text(qvt(a,s[c])).close();else t.text(qvt(a,s))}else if("g"===i){var f=a.strokeForeground,d=a.fill,h=a.stroke;f&&h&&(a.stroke=null),t.open("path",n.attr(e,a,r.background,"bgrect")).close(),t.open("g",n.attr(e,a,r.content)),Kpt(a,(function(e){return n.mark(t,e)})),t.close(),f&&h?(d&&(a.fill=null),a.stroke=h,t.open("path",n.attr(e,a,r.foreground,"bgrect")).close(),d&&(a.fill=d)):t.open("path",n.attr(e,a,r.foreground,"bgfore")).close()}t.close(),u&&t.close()};return r.nested?e.items&&e.items.length&&a(e.items[0]):Kpt(e,a),t.close()},href:function(t){var e,n=this,r=t.href;if(r){if(e=this._hrefs&&this._hrefs[r])return e;this.sanitizeURL(r).then((function(t){t["xlink:href"]=t.href,t.href=null,(n._hrefs||(n._hrefs={}))[r]=t}))}return null},attr:function(t,e,n,r){var i=this,o={},a=function(t,e,n,r){o[r||t]=e};return Array.isArray(n)?n.forEach((function(t){return t(a,e,i)})):n(a,e,this),r&&function(t,e,n,r,i){var o;if(null==e)return t;"bgrect"===r&&!1===n.interactive&&(t["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(t["pointer-events"]="none"),t.display="none",null!==e.fill))return t;"image"===r&&!1===e.smooth&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===r&&(t["font-family"]=Gvt(e),t["font-size"]=Hvt(e)+"px",t["font-style"]=e.fontStyle,t["font-variant"]=e.fontVariant,t["font-weight"]=e.fontWeight);for(var a in lmt){var u=e[a],s=lmt[a];("transparent"!==u||"fill"!==s&&"stroke"!==s)&&null!=u&&(aht(u)&&(u=uht(u,i.gradient,"")),t[s]=u)}for(var l in cmt){var c=e[l];null!=c&&(o=o||[]).push("".concat(cmt[l],": ").concat(c,";"))}o&&(t.style=o.join(" "))}(o,e,t,r,this._defs),o},defs:function(t){var e=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(e).length+Object.keys(n).length){for(var r in t.open("defs"),e){var i=e[r],o=i.stops;"radial"===i.gradient?(t.open("pattern",{id:oht+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),t.close(),t.open("radialGradient",{id:r,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):t.open("linearGradient",{id:r,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(var a=0;a<o.length;++a)t.open("stop",{offset:o[a].offset,"stop-color":o[a].color}).close();t.close()}for(var u in n){var s=n[u];t.open("clipPath",{id:u}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}});var Amt="canvas",Tmt="none",Pmt={Canvas:Amt,PNG:"png",SVG:"svg",None:Tmt},Dmt={};function Fmt(t,e){return t=String(t||"").toLowerCase(),arguments.length>1?(Dmt[t]=e,this):Dmt[t]}function Nmt(t,e,n){var r=[],i=(new opt).union(e),o=t.marktype;return o?Imt(t,i,n,r):"group"===o?Lmt(t,i,n,r):n5("Intersect scene must be mark node or group item.")}function Imt(t,e,n,r){if(function(t,e,n){return t.bounds&&e.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!n||n(t)))}(t,e,n)){var i=t.items,o=t.marktype,a=i.length,u=0;if("group"===o)for(;u<a;++u)Lmt(i[u],e,n,r);else for(var s=ngt[o].isect;u<a;++u){var l=i[u];Rmt(l,e,s)&&r.push(l)}}return r}function Lmt(t,e,n,r){n&&n(t.mark)&&Rmt(t,e,ngt.group.isect)&&r.push(t);var i=t.items,o=i&&i.length;if(o){var a=t.x||0,u=t.y||0;e.translate(-a,-u);for(var s=0;s<o;++s)Imt(i[s],e,n,r);e.translate(a,u)}return r}function Rmt(t,e,n){var r=t.bounds;return e.encloses(r)||e.intersects(r)&&n(t,e)}Dmt.canvas=Dmt.png={renderer:Ugt,headless:Ugt,handler:Lgt},Dmt.svg={renderer:pmt,headless:_mt,handler:Vgt},Dmt.none={};var jmt=new opt;function Bmt(t){var e=t.clip;if(Y5(e))e(Apt(jmt.clear()));else{if(!e)return;jmt.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(jmt)}function zmt(t,e,n){return t===e||("path"===n?Umt(t,e):t instanceof Date&&e instanceof Date?+t===+e:d6(t)&&d6(e)?Math.abs(t-e)<=1e-9:t&&e&&(x5(t)||x5(e))?function(t,e){var n,r,i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(!zmt(t[n=i[r]],e[n],n))return!1;return typeof t===typeof e}(t,e):t==e)}function Umt(t,e){return zmt(mht(t),mht(e))}function Hmt(){rpt(),iht=0}var Vmt="top",Wmt="left",Ymt="right",qmt="bottom",Gmt="start",$mt="middle",Xmt="end",Kmt="group",Zmt="axis",Jmt="title",Qmt="frame",tyt="scope",eyt="legend",nyt="row-header",ryt="row-footer",iyt="row-title",oyt="column-header",ayt="column-footer",uyt="column-title",syt="padding",lyt="fit",cyt="fit-x",fyt="fit-y",dyt="none",hyt="all",pyt="each",vyt="flush",gyt="column",myt="row";function yyt(t){cnt.call(this,null,t)}function xyt(t,e,n){return e(t.bounds.clear(),t,n)}u6(yyt,cnt,{transform:function(t,e){var n,r=e.dataflow,i=t.mark,o=i.marktype,a=ngt[o],u=a.bound,s=i.bounds;if(a.nested)i.items.length&&r.dirty(i.items[0]),s=xyt(i,u),i.items.forEach((function(t){t.bounds.clear().union(s)}));else if(o===Kmt||t.modified())switch(e.visit(e.MOD,(function(t){return r.dirty(t)})),s.clear(),i.items.forEach((function(t){return s.union(xyt(t,u))})),i.role){case Zmt:case eyt:case Jmt:e.reflow()}else n=e.changed(e.REM),e.visit(e.ADD,(function(t){s.union(xyt(t,u))})),e.visit(e.MOD,(function(t){n=n||s.alignsWith(t.bounds),r.dirty(t),s.union(xyt(t,u))})),n&&(s.clear(),i.items.forEach((function(t){return s.union(t.bounds)})));return Bmt(i),e.modifies("bounds")}});var byt=":vega_identifier:";function wyt(t){cnt.call(this,0,t)}function Syt(t){cnt.call(this,null,t)}function kyt(t){cnt.call(this,null,t)}wyt.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},u6(wyt,cnt,{transform:function(t,e){var n=function(t){return t._signals[byt]||(t._signals[byt]=t.add(0))}(e.dataflow),r=t.as,i=n.value;return e.visit(e.ADD,(function(t){return t[r]=t[r]||++i})),n.set(this.value=i),e}}),u6(Syt,cnt,{transform:function(t,e){var n=this.value;n||(n=e.dataflow.scenegraph().mark(t.markdef,function(t){var e=t.groups,n=t.parent;return e&&1===e.size?e.get(Object.keys(e.object)[0]):e&&n?e.lookup(n):null}(t),t.index),n.group.context=t.context,t.context.group||(t.context.group=n.group),n.source=this.source,n.clip=t.clip,n.interactive=t.interactive,this.value=n);var r=n.marktype===Kmt?upt:apt;return e.visit(e.ADD,(function(t){return r.call(t,n)})),(t.modified("clip")||t.modified("interactive"))&&(n.clip=t.clip,n.interactive=!!t.interactive,n.zdirty=!0,e.reflow()),n.items=e.source,e}});var Cyt={parity:function(t){return t.filter((function(t,e){return e%2?t.opacity=0:1}))},greedy:function(t,e){var n;return t.filter((function(t,r){return r&&Eyt(n.bounds,t.bounds,e)?t.opacity=0:(n=t,1)}))}},Eyt=function(t,e,n){return n>Math.max(e.x1-t.x2,t.x1-e.x2,e.y1-t.y2,t.y1-e.y2)},Oyt=function(t,e){for(var n,r=1,i=t.length,o=t[0].bounds;r<i;o=n,++r)if(Eyt(o,n=t[r].bounds,e))return!0},Myt=function(t){var e=t.bounds;return e.width()>1&&e.height()>1},_yt=function(t){return t.forEach((function(t){return t.opacity=1})),t},Ayt=function(t,e){return t.reflow(e.modified()).modifies("opacity")};function Tyt(t){cnt.call(this,null,t)}u6(kyt,cnt,{transform:function(t,e){var n,r,i=Cyt[t.method]||Cyt.parity,o=t.separation||0,a=e.materialize(e.SOURCE).source;if(a&&a.length){if(!t.method)return t.modified("method")&&(_yt(a),e=Ayt(e,t)),e;if((a=a.filter(Myt)).length){if(t.sort&&(a=a.slice().sort(t.sort)),n=_yt(a),e=Ayt(e,t),n.length>=3&&Oyt(n,o)){do{n=i(n,o)}while(n.length>=3&&Oyt(n,o));n.length<3&&!C5(a).opacity&&(n.length>1&&(C5(n).opacity=0),C5(a).opacity=1)}t.boundScale&&t.boundTolerance>=0&&(r=function(t,e,n){var r=t.range(),i=new opt;return e===Vmt||e===qmt?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(t){return i.encloses(t.bounds)}}(t.boundScale,t.boundOrient,+t.boundTolerance),a.forEach((function(t){r(t)||(t.opacity=0)})));var u=n[0].mark.bounds.clear();return a.forEach((function(t){t.opacity&&u.union(t.bounds)})),e}}}}),u6(Tyt,cnt,{transform:function(t,e){var n=e.dataflow;if(e.visit(e.ALL,(function(t){return n.dirty(t)})),e.fields&&e.fields.zindex){var r=e.source&&e.source[0];r&&(r.mark.zdirty=!0)}}});var Pyt=new opt;function Dyt(t,e,n){return t[e]===n?0:(t[e]=n,1)}function Fyt(t){var e=t.items[0].orient;return e===Wmt||e===Ymt}function Nyt(t,e,n,r){var i,o,a=e.items[0],u=a.datum,s=null!=a.translate?a.translate:.5,l=a.orient,c=function(t){var e=+t.grid;return[t.ticks?e++:-1,t.labels?e++:-1,e+ +t.domain]}(u),f=a.range,d=a.offset,h=a.position,p=a.minExtent,v=a.maxExtent,g=u.title&&a.items[c[2]].items[0],m=a.titlePadding,y=a.bounds,x=g&&Yvt(g),b=0,w=0;switch(Pyt.clear().union(y),y.clear(),(i=c[0])>-1&&y.union(a.items[i].bounds),(i=c[1])>-1&&y.union(a.items[i].bounds),l){case Vmt:b=h||0,w=-d,o=Math.max(p,Math.min(v,-y.y1)),y.add(0,-o).add(f,0),g&&Iyt(t,g,o,m,x,0,-1,y);break;case Wmt:b=-d,w=h||0,o=Math.max(p,Math.min(v,-y.x1)),y.add(-o,0).add(0,f),g&&Iyt(t,g,o,m,x,1,-1,y);break;case Ymt:b=n+d,w=h||0,o=Math.max(p,Math.min(v,y.x2)),y.add(0,0).add(o,f),g&&Iyt(t,g,o,m,x,1,1,y);break;case qmt:b=h||0,w=r+d,o=Math.max(p,Math.min(v,y.y2)),y.add(0,0).add(f,o),g&&Iyt(t,g,o,m,0,0,1,y);break;default:b=a.x,w=a.y}return fpt(y.translate(b,w),a),Dyt(a,"x",b+s)|Dyt(a,"y",w+s)&&(a.bounds=Pyt,t.dirty(a),a.bounds=y,t.dirty(a)),a.mark.bounds.clear().union(y)}function Iyt(t,e,n,r,i,o,a,u){var s=e.bounds;if(e.auto){var l=a*(n+i+r),c=0,f=0;t.dirty(e),o?c=(e.x||0)-(e.x=l):f=(e.y||0)-(e.y=l),e.mark.bounds.clear().union(s.translate(-c,-f)),t.dirty(e)}u.union(s)}var Lyt=function(t,e){return Math.floor(Math.min(t,e))},Ryt=function(t,e){return Math.ceil(Math.max(t,e))};function jyt(t){return(new opt).set(0,0,t.width||0,t.height||0)}function Byt(t){var e=t.bounds.clone();return e.empty()?e.set(0,0,0,0):e.translate(-(t.x||0),-(t.y||0))}function zyt(t,e,n){var r=x5(t)?t[e]:t;return null!=r?r:void 0!==n?n:0}function Uyt(t){return t<0?Math.ceil(-t):0}function Hyt(t,e,n){var r,i,o,a,u,s,l,c,f,d,h,p=!n.nodirty,v=n.bounds===vyt?jyt:Byt,g=Pyt.set(0,0,0,0),m=zyt(n.align,gyt),y=zyt(n.align,myt),x=zyt(n.padding,gyt),b=zyt(n.padding,myt),w=n.columns||e.length,S=w<=0?1:Math.ceil(e.length/w),k=e.length,C=Array(k),E=Array(w),O=0,M=Array(k),_=Array(S),A=0,T=Array(k),P=Array(k),D=Array(k);for(i=0;i<w;++i)E[i]=0;for(i=0;i<S;++i)_[i]=0;for(i=0;i<k;++i)s=e[i],u=D[i]=v(s),s.x=s.x||0,T[i]=0,s.y=s.y||0,P[i]=0,o=i%w,a=~~(i/w),O=Math.max(O,l=Math.ceil(u.x2)),A=Math.max(A,c=Math.ceil(u.y2)),E[o]=Math.max(E[o],l),_[a]=Math.max(_[a],c),C[i]=x+Uyt(u.x1),M[i]=b+Uyt(u.y1),p&&t.dirty(e[i]);for(i=0;i<k;++i)i%w===0&&(C[i]=0),i<w&&(M[i]=0);if(m===pyt)for(o=1;o<w;++o){for(h=0,i=o;i<k;i+=w)h<C[i]&&(h=C[i]);for(i=o;i<k;i+=w)C[i]=h+E[o-1]}else if(m===hyt){for(h=0,i=0;i<k;++i)i%w&&h<C[i]&&(h=C[i]);for(i=0;i<k;++i)i%w&&(C[i]=h+O)}else for(m=!1,o=1;o<w;++o)for(i=o;i<k;i+=w)C[i]+=E[o-1];if(y===pyt)for(a=1;a<S;++a){for(h=0,r=(i=a*w)+w;i<r;++i)h<M[i]&&(h=M[i]);for(i=a*w;i<r;++i)M[i]=h+_[a-1]}else if(y===hyt){for(h=0,i=w;i<k;++i)h<M[i]&&(h=M[i]);for(i=w;i<k;++i)M[i]=h+A}else for(y=!1,a=1;a<S;++a)for(r=(i=a*w)+w;i<r;++i)M[i]+=_[a-1];for(f=0,i=0;i<k;++i)f=C[i]+(i%w?f:0),T[i]+=f-e[i].x;for(o=0;o<w;++o)for(d=0,i=o;i<k;i+=w)d+=M[i],P[i]+=d-e[i].y;if(m&&zyt(n.center,gyt)&&S>1)for(i=0;i<k;++i)(f=(u=m===hyt?O:E[i%w])-D[i].x2-e[i].x-T[i])>0&&(T[i]+=f/2);if(y&&zyt(n.center,myt)&&1!==w)for(i=0;i<k;++i)(d=(u=y===hyt?A:_[~~(i/w)])-D[i].y2-e[i].y-P[i])>0&&(P[i]+=d/2);for(i=0;i<k;++i)g.union(D[i].translate(T[i],P[i]));switch(f=zyt(n.anchor,"x"),d=zyt(n.anchor,"y"),zyt(n.anchor,gyt)){case Xmt:f-=g.width();break;case $mt:f-=g.width()/2}switch(zyt(n.anchor,myt)){case Xmt:d-=g.height();break;case $mt:d-=g.height()/2}for(f=Math.round(f),d=Math.round(d),g.clear(),i=0;i<k;++i)e[i].mark.bounds.clear();for(i=0;i<k;++i)(s=e[i]).x+=T[i]+=f,s.y+=P[i]+=d,g.union(s.mark.bounds.union(s.bounds.translate(T[i],P[i]))),p&&t.dirty(s);return g}function Vyt(t,e,n){var r,i,o,a,u,s,l,c=function(t){for(var e,n,r,i,o,a,u,s=t.items,l=s.length,c=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};c<l;++c)if(u=(a=s[c]).items,a.marktype===Kmt)switch(a.role){case Zmt:case eyt:case Jmt:break;case nyt:(e=f.rowheaders).push.apply(e,Ye(u));break;case ryt:(n=f.rowfooters).push.apply(n,Ye(u));break;case oyt:(r=f.colheaders).push.apply(r,Ye(u));break;case ayt:(i=f.colfooters).push.apply(i,Ye(u));break;case iyt:f.rowtitle=u[0];break;case uyt:f.coltitle=u[0];break;default:(o=f.marks).push.apply(o,Ye(u))}return f}(e),f=c.marks,d=n.bounds===vyt?Wyt:Yyt,h=n.offset,p=n.columns||f.length,v=p<=0?1:Math.ceil(f.length/p),g=v*p,m=Hyt(t,f,n);m.empty()&&m.set(0,0,0,0),c.rowheaders&&(s=zyt(n.headerBand,myt,null),r=qyt(t,c.rowheaders,f,p,v,-zyt(h,"rowHeader"),Lyt,0,d,"x1",0,p,1,s)),c.colheaders&&(s=zyt(n.headerBand,gyt,null),i=qyt(t,c.colheaders,f,p,p,-zyt(h,"columnHeader"),Lyt,1,d,"y1",0,1,p,s)),c.rowfooters&&(s=zyt(n.footerBand,myt,null),o=qyt(t,c.rowfooters,f,p,v,zyt(h,"rowFooter"),Ryt,0,d,"x2",p-1,p,1,s)),c.colfooters&&(s=zyt(n.footerBand,gyt,null),a=qyt(t,c.colfooters,f,p,p,zyt(h,"columnFooter"),Ryt,1,d,"y2",g-p,1,p,s)),c.rowtitle&&(u=zyt(n.titleAnchor,myt),l=zyt(h,"rowTitle"),l=u===Xmt?o+l:r-l,s=zyt(n.titleBand,myt,.5),Gyt(t,c.rowtitle,l,0,m,s)),c.coltitle&&(u=zyt(n.titleAnchor,gyt),l=zyt(h,"columnTitle"),l=u===Xmt?a+l:i-l,s=zyt(n.titleBand,gyt,.5),Gyt(t,c.coltitle,l,1,m,s))}function Wyt(t,e){return"x1"===e?t.x||0:"y1"===e?t.y||0:"x2"===e?(t.x||0)+(t.width||0):"y2"===e?(t.y||0)+(t.height||0):void 0}function Yyt(t,e){return t.bounds[e]}function qyt(t,e,n,r,i,o,a,u,s,l,c,f,d,h){var p,v,g,m,y,x,b,w,S,k=n.length,C=0,E=0;if(!k)return C;for(p=c;p<k;p+=f)n[p]&&(C=a(C,s(n[p],l)));if(!e.length)return C;for(e.length>i&&(t.warn("Grid headers exceed limit: "+i),e=e.slice(0,i)),C+=o,v=0,m=e.length;v<m;++v)t.dirty(e[v]),e[v].mark.bounds.clear();for(p=c,v=0,m=e.length;v<m;++v,p+=f){for(y=(x=e[v]).mark.bounds,g=p;g>=0&&null==(b=n[g]);g-=d);u?(w=null==h?b.x:Math.round(b.bounds.x1+h*b.bounds.width()),S=C):(w=C,S=null==h?b.y:Math.round(b.bounds.y1+h*b.bounds.height())),y.union(x.bounds.translate(w-(x.x||0),S-(x.y||0))),x.x=w,x.y=S,t.dirty(x),E=a(E,y[l])}return E}function Gyt(t,e,n,r,i,o){if(e){t.dirty(e);var a=n,u=n;r?a=Math.round(i.x1+o*i.width()):u=Math.round(i.y1+o*i.height()),e.bounds.translate(a-(e.x||0),u-(e.y||0)),e.mark.bounds.clear().union(e.bounds),e.x=a,e.y=u,t.dirty(e)}}function $yt(t,e,n,r,i,o,a){var u=function(t,e){var n=t[e]||{};return function(e,r){return null!=n[e]?n[e]:null!=t[e]?t[e]:r}}(n,e),s=function(t,e){var n=-1/0;return t.forEach((function(t){null!=t.offset&&(n=Math.max(n,t.offset))})),n>-1/0?n:e}(t,u("offset",0)),l=u("anchor",Gmt),c=l===Xmt?1:l===$mt?.5:0,f={align:pyt,bounds:u("bounds",vyt),columns:"vertical"===u("direction")?1:t.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(e){case Wmt:f.anchor={x:Math.floor(r.x1)-s,column:Xmt,y:c*(a||r.height()+2*r.y1),row:l};break;case Ymt:f.anchor={x:Math.ceil(r.x2)+s,y:c*(a||r.height()+2*r.y1),row:l};break;case Vmt:f.anchor={y:Math.floor(i.y1)-s,row:Xmt,x:c*(o||i.width()+2*i.x1),column:l};break;case qmt:f.anchor={y:Math.ceil(i.y2)+s,x:c*(o||i.width()+2*i.x1),column:l};break;case"top-left":f.anchor={x:s,y:s};break;case"top-right":f.anchor={x:o-s,y:s,column:Xmt};break;case"bottom-left":f.anchor={x:s,y:a-s,row:Xmt};break;case"bottom-right":f.anchor={x:o-s,y:a-s,column:Xmt,row:Xmt}}return f}function Xyt(t,e){var n,r,i=e.items[0],o=i.datum,a=i.orient,u=i.bounds,s=i.x,l=i.y;return i._bounds?i._bounds.clear().union(u):i._bounds=u.clone(),u.clear(),function(t,e,n){var r=e.padding,i=r-n.x,o=r-n.y;if(e.datum.title){var a=e.items[1].items[0],u=a.anchor,s=e.titlePadding||0,l=r-a.x,c=r-a.y;switch(a.orient){case Wmt:i+=Math.ceil(a.bounds.width())+s;break;case Ymt:case qmt:break;default:o+=a.bounds.height()+s}switch((i||o)&&Zyt(t,n,i,o),a.orient){case Wmt:c+=Kyt(e,n,a,u,1,1);break;case Ymt:l+=Kyt(e,n,a,Xmt,0,0)+s,c+=Kyt(e,n,a,u,1,1);break;case qmt:l+=Kyt(e,n,a,u,0,0),c+=Kyt(e,n,a,Xmt,-1,0,1)+s;break;default:l+=Kyt(e,n,a,u,0,0)}(l||c)&&Zyt(t,a,l,c),(l=Math.round(a.bounds.x1-r))<0&&(Zyt(t,n,-l,0),Zyt(t,a,-l,0))}else(i||o)&&Zyt(t,n,i,o)}(t,i,i.items[0].items[0]),u=function(t,e){return t.items.forEach((function(t){return e.union(t.bounds)})),e.x1=t.padding,e.y1=t.padding,e}(i,u),n=2*i.padding,r=2*i.padding,u.empty()||(n=Math.ceil(u.width()+n),r=Math.ceil(u.height()+r)),"symbol"===o.type&&function(t){var e=t.reduce((function(t,e){return t[e.column]=Math.max(e.bounds.x2-e.x,t[e.column]||0),t}),{});t.forEach((function(t){t.width=e[t.column],t.height=t.bounds.y2-t.y}))}(i.items[0].items[0].items[0].items),a!==dyt&&(i.x=s=0,i.y=l=0),i.width=n,i.height=r,fpt(u.set(s,l,s+n,l+r),i),i.mark.bounds.clear().union(u),i}function Kyt(t,e,n,r,i,o,a){var u="symbol"!==t.datum.type,s=n.datum.vgrad,l=(!u||!o&&s||a?e:e.items[0]).bounds[i?"y2":"x2"]-t.padding,c=s&&o?l:0,f=s&&o?0:l,d=i<=0?0:Yvt(n);return Math.round(r===Gmt?c:r===Xmt?f-d:.5*(l-d))}function Zyt(t,e,n,r){e.x+=n,e.y+=r,e.bounds.translate(n,r),e.mark.bounds.translate(n,r),t.dirty(e)}function Jyt(t){cnt.call(this,null,t)}function Qyt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function txt(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ext(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}u6(Jyt,cnt,{transform:function(t,e){var n=e.dataflow;return t.mark.items.forEach((function(e){t.layout&&Vyt(n,e,t.layout),function(t,e,n){var r,i,o,a,u,s=e.items,l=Math.max(0,e.width||0),c=Math.max(0,e.height||0),f=(new opt).set(0,0,l,c),d=f.clone(),h=f.clone(),p=[];for(a=0,u=s.length;a<u;++a)switch((i=s[a]).role){case Zmt:(Fyt(i)?d:h).union(Nyt(t,i,l,c));break;case Jmt:r=i;break;case eyt:p.push(Xyt(t,i));break;case Qmt:case tyt:case nyt:case ryt:case iyt:case oyt:case ayt:case uyt:d.union(i.bounds),h.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){var v={};for(var g in p.forEach((function(t){(o=t.orient||Ymt)!==dyt&&(v[o]||(v[o]=[])).push(t)})),v){var m=v[g];Hyt(t,m,$yt(m,g,n.legends,d,h,l,c))}p.forEach((function(e){var r=e.bounds;if(r.equals(e._bounds)||(e.bounds=e._bounds,t.dirty(e),e.bounds=r,t.dirty(e)),n.autosize&&n.autosize.type===lyt)switch(e.orient){case Wmt:case Ymt:f.add(r.x1,0).add(r.x2,0);break;case Vmt:case qmt:f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(d).union(h),r&&f.union(function(t,e,n,r,i){var o,a=e.items[0],u=a.frame,s=a.orient,l=a.anchor,c=a.offset,f=a.padding,d=a.items[0].items[0],h=a.items[1]&&a.items[1].items[0],p=s===Wmt||s===Ymt?r:n,v=0,g=0,m=0,y=0,x=0;if(u!==Kmt?s===Wmt?(v=i.y2,p=i.y1):s===Ymt?(v=i.y1,p=i.y2):(v=i.x1,p=i.x2):s===Wmt&&(v=r,p=0),o=l===Gmt?v:l===Xmt?p:(v+p)/2,h&&h.text){switch(s){case Vmt:case qmt:x=d.bounds.height()+f;break;case Wmt:y=d.bounds.width()+f;break;case Ymt:y=-d.bounds.width()-f}Pyt.clear().union(h.bounds),Pyt.translate(y-(h.x||0),x-(h.y||0)),Dyt(h,"x",y)|Dyt(h,"y",x)&&(t.dirty(h),h.bounds.clear().union(Pyt),h.mark.bounds.clear().union(Pyt),t.dirty(h)),Pyt.clear().union(h.bounds)}else Pyt.clear();switch(Pyt.union(d.bounds),s){case Vmt:g=o,m=i.y1-Pyt.height()-c;break;case Wmt:g=i.x1-Pyt.width()-c,m=o;break;case Ymt:g=i.x2+Pyt.width()+c,m=o;break;case qmt:g=o,m=i.y2+c;break;default:g=a.x,m=a.y}return Dyt(a,"x",g)|Dyt(a,"y",m)&&(Pyt.translate(g,m),t.dirty(a),a.bounds.clear().union(Pyt),e.bounds.clear().union(Pyt),t.dirty(a)),a.bounds}(t,r,l,c,f));e.clip&&f.set(0,0,e.width||0,e.height||0);!function(t,e,n,r){var i=r.autosize||{},o=i.type;if(t._autosize<1||!o)return;var a=t._width,u=t._height,s=Math.max(0,e.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,e.height||0),f=Math.max(0,Math.ceil(-n.y1)),d=Math.max(0,Math.ceil(n.x2-s)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===syt){var p=t.padding();a-=p.left+p.right,u-=p.top+p.bottom}o===dyt?(l=0,f=0,s=a,c=u):o===lyt?(s=Math.max(0,a-l-d),c=Math.max(0,u-f-h)):o===cyt?(s=Math.max(0,a-l-d),u=c+f+h):o===fyt?(a=s+l+d,c=Math.max(0,u-f-h)):"pad"===o&&(a=s+l+d,u=c+f+h);t._resizeView(a,u,s,c,[l,f],i.resize)}(t,e,f,n)}(n,e,t)})),function(t){return t&&"legend-entry"!==t.mark.role}(t.mark.group)?e.reflow():e}});var nxt=function(t){return function(){return t}};function rxt(t,e){return function(n){return t+n*e}}function ixt(t){return 1===(t=+t)?oxt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):nxt(isNaN(e)?n:e)}}function oxt(t,e){var n=e-t;return n?rxt(t,n):nxt(isNaN(t)?e:t)}var axt=function t(e){var n=ixt(e);function r(t,e){var r=n((t=(0,Nat.B8)(t)).r,(e=(0,Nat.B8)(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=oxt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function uxt(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=(0,Nat.B8)(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}uxt((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return ext((n-r/e)*e,a,i,o,u)}})),uxt((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return ext((n-r/e)*e,i,o,a,u)}}));function sxt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=gxt(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function lxt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function cxt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function fxt(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=gxt(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var dxt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hxt=new RegExp(dxt.source,"g");function pxt(t,e){var n,r,i,o=dxt.lastIndex=hxt.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=dxt.exec(t))&&(r=hxt.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:cxt(n,r)})),o=hxt.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function vxt(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function gxt(t,e){var n,r=typeof e;return null==e||"boolean"===r?nxt(e):("number"===r?cxt:"string"===r?(n=(0,Nat.ZP)(e))?(e=n,axt):pxt:e instanceof Nat.ZP?axt:e instanceof Date?lxt:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?vxt:Array.isArray(e)?sxt:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?fxt:cxt)(t,e)}function mxt(t){cnt.call(this,null,t)}function yxt(t){cnt.call(this,null,t)}function xxt(){return _et({})}function bxt(t){cnt.call(this,null,t)}function wxt(t){cnt.call(this,[],t)}u6(mxt,cnt,{transform:function(t,e){if(this.value&&!t.modified())return e.StopPropagation;var n=e.dataflow.locale(),r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=this.value,o=t.scale,a=Hdt(o,null==t.count?t.values?t.values.length:10:t.count,t.minstep),u=t.format||Ydt(n,o,a,t.formatSpecifier,t.formatType,!!t.values),s=t.values?Vdt(o,t.values,a):Wdt(o,a);return i&&(r.rem=i),i=s.map((function(t,e){return _et({index:e/(s.length-1||1),value:t,label:u(t)})})),t.extra&&i.length&&i.push(_et({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),u6(yxt,cnt,{transform:function(t,e){var n=e.dataflow,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.item||xxt,o=t.key||Oet,a=this.value;return y5(r.encode)&&(r.encode=null),a&&(t.modified("key")||e.modified(o))&&n5("DataJoin does not support modified key function or fields."),a||(e=e.addAll(),this.value=a=function(t){var e=o6().test((function(t){return t.exit}));return e.lookup=function(n){return e.get(t(n))},e}(o)),e.visit(e.ADD,(function(t){var e=o(t),n=a.get(e);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(n=i(t),a.set(e,n),r.add.push(n)),n.datum=t,n.exit=!1})),e.visit(e.MOD,(function(t){var e=o(t),n=a.get(e);n&&(n.datum=t,r.mod.push(n))})),e.visit(e.REM,(function(t){var e=o(t),n=a.get(e);t!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),e.changed(e.ADD_MOD)&&r.modifies("datum"),(e.clean()||t.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}}),u6(bxt,cnt,{transform:function(t,e){var n=e.fork(e.ADD_REM),r=t.mod||!1,i=t.encoders,o=e.encode;if(y5(o)){if(!n.changed()&&!o.every((function(t){return i[t]})))return e.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,u=i.update||c5,s=i.enter||c5,l=i.exit||c5,c=(o&&!a?i[o]:u)||c5;if(e.changed(e.ADD)&&(e.visit(e.ADD,(function(e){s(e,t),u(e,t)})),n.modifies(s.output),n.modifies(u.output),c!==c5&&c!==u&&(e.visit(e.ADD,(function(e){c(e,t)})),n.modifies(c.output))),e.changed(e.REM)&&l!==c5&&(e.visit(e.REM,(function(e){l(e,t)})),n.modifies(l.output)),a||c!==c5){var f=e.MOD|(t.modified()?e.REFLOW:0);a?(e.visit(f,(function(e){var i=s(e,t)||r;(c(e,t)||i)&&n.mod.push(e)})),n.mod.length&&n.modifies(s.output)):e.visit(f,(function(e){(c(e,t)||r)&&n.mod.push(e)})),n.mod.length&&n.modifies(c.output)}return n.changed()?n:e.StopPropagation}}),u6(wxt,cnt,{transform:function(t,e){if(null!=this.value&&!t.modified())return e.StopPropagation;var n,r,i,o,a,u=e.dataflow.locale(),s=e.fork(e.NO_SOURCE|e.NO_FIELDS),l=this.value,c=t.type||jdt,f=t.scale,d=+t.limit,h=Hdt(f,null==t.count?5:t.count,t.minstep),p=!!t.values||c===jdt,v=t.format||Kdt(u,f,h,c,t.formatSpecifier,t.formatType,p),g=t.values||Xdt(f,h);return l&&(s.rem=l),c===jdt?(d&&g.length>d?(e.dataflow.warn("Symbol legend count exceeds limit, filtering items."),l=g.slice(0,d-1),a=!0):l=g,Y5(i=t.size)?(t.values||0!==f(l[0])||(l=l.slice(1)),o=l.reduce((function(e,n){return Math.max(e,i(n,t))}),0)):i=Z5(o=i||8),l=l.map((function(e,n){return _et({index:n,label:v(e,n,l),value:e,offset:o,size:i(e,t)})})),a&&(a=g[l.length],l.push(_et({index:l.length,label:"\u2026".concat(g.length-l.length," entries"),value:a,offset:o,size:i(a,t)})))):"gradient"===c?(n=f.domain(),r=Ddt(f,n[0],C5(n)),g.length<3&&!t.values&&n[0]!==C5(n)&&(g=[n[0],C5(n)]),l=g.map((function(t,e){return _et({index:e,label:v(t,e,g),value:t,perc:r(t)})}))):(i=g.length-1,r=function(t){var e=t.domain(),n=e.length-1,r=+e[0],i=+C5(e),o=i-r;if(t.type===ndt){var a=n?o/n:.1;o=(i+=a)-(r-=a)}return function(t){return(t-r)/o}}(f),l=g.map((function(t,e){return _et({index:e,label:v(t,e,g),value:t,perc:e?r(t):0,perc2:e===i?1:r(g[e+1])})}))),s.source=l,s.add=l,this.value=l,s}});var Sxt=function(t){return t.source.x},kxt=function(t){return t.source.y},Cxt=function(t){return t.target.x},Ext=function(t){return t.target.y};function Oxt(t){cnt.call(this,{},t)}Oxt.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},u6(Oxt,cnt,{transform:function(t,e){var n=t.sourceX||Sxt,r=t.sourceY||kxt,i=t.targetX||Cxt,o=t.targetY||Ext,a=t.as||"path",u=t.orient||"vertical",s=t.shape||"line",l=Txt.get(s+"-"+u)||Txt.get(s);return l||n5("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),e.visit(e.SOURCE,(function(t){t[a]=l(n(t),r(t),i(t),o(t))})),e.reflow(t.modified()).modifies(a)}});var Mxt=function(t,e,n,r){return"M"+t+","+e+"L"+n+","+r},_xt=function(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o)/2;return"M"+t+","+e+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r},Axt=function(t,e,n,r){var i=n-t,o=r-e,a=.2*(i+o),u=.2*(o-i);return"M"+t+","+e+"C"+(t+a)+","+(e+u)+" "+(n+u)+","+(r-a)+" "+n+","+r},Txt=o6({line:Mxt,"line-radial":function(t,e,n,r){return Mxt(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))},arc:_xt,"arc-radial":function(t,e,n,r){return _xt(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))},curve:Axt,"curve-radial":function(t,e,n,r){return Axt(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(t,e,n,r){return"M"+t+","+e+"V"+r+"H"+n},"orthogonal-vertical":function(t,e,n,r){return"M"+t+","+e+"H"+n+"V"+r},"orthogonal-radial":function(t,e,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),u=Math.sin(n);return"M"+e*i+","+e*o+"A"+e+","+e+" 0 0,"+((Math.abs(n-t)>Math.PI?n<=t:n>t)?1:0)+" "+e*a+","+e*u+"L"+r*a+","+r*u},"diagonal-horizontal":function(t,e,n,r){var i=(t+n)/2;return"M"+t+","+e+"C"+i+","+e+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(t,e,n,r){var i=(e+r)/2;return"M"+t+","+e+"C"+t+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(t,e,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),u=Math.sin(n),s=(e+r)/2;return"M"+e*i+","+e*o+"C"+s*i+","+s*o+" "+s*a+","+s*u+" "+r*a+","+r*u}});function Pxt(t){cnt.call(this,null,t)}Pxt.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},u6(Pxt,cnt,{transform:function(t,e){var n,r,i,o=t.as||["startAngle","endAngle"],a=o[0],u=o[1],s=t.field||s5,l=t.startAngle||0,c=null!=t.endAngle?t.endAngle:2*Math.PI,f=e.source,d=f.map(s),h=d.length,p=l,v=(c-l)/function(t,e){var n=0;if(void 0===e){var r,i=qe(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;(o=+o)&&(n+=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,u=-1,s=qe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;(l=+e(l,++u,t))&&(n+=l)}}catch(c){s.e(c)}finally{s.f()}}return n}(d),g=Qyt(h);for(t.sort&&g.sort((function(t,e){return d[t]-d[e]})),n=0;n<h;++n)i=d[g[n]],(r=f[g[n]])[a]=p,r[u]=p+=i*v;return this.value=d,e.reflow(t.modified()).modifies(o)}});function Dxt(t){return Sdt(t)&&t!==Jft}var Fxt=M6(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Nxt(t){cnt.call(this,null,t),this.modified(!0)}function Ixt(t,e,n){if(Edt(t)){var r=Math.abs(e.reduce((function(t,e){return t+(e<0?-1:e>0?1:0)}),0));r!==e.length&&n.warn("Log scale domain includes zero: "+S6(e))}return e}function Lxt(t,e,n){return Y5(t)&&(e||n)?Adt(t,Rxt(e||[0,1],n)):t}function Rxt(t,e){return e?t.slice().reverse():t}function jxt(t){cnt.call(this,null,t)}u6(Nxt,cnt,{transform:function(t,e){var n=e.dataflow,r=this.value,i=function(t){var e,n=t.type,r="";if(n===Jft)return"sequential-linear";(function(t){var e=t.type;return Sdt(e)&&e!==Kft&&e!==Zft&&(t.scheme||t.range&&t.range.length&&t.range.every(p6))})(t)&&(r=2===(e=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0)?"sequential-":3===e?"diverging-":"");return(r+n||Yft).toLowerCase()}(t);for(i in r&&i===r.type||(this.value=r=xdt(i)()),t)if(!Fxt[i]){if("padding"===i&&Dxt(r.type))continue;Y5(r[i])?r[i](t[i]):n.warn("Unsupported scale property: "+i)}return function(t,e,n){var r=t.type,i=e.round||!1,o=e.range;if(null!=e.rangeStep)o=function(t,e,n){t!==odt&&t!==idt&&n5("Only band and point scales support rangeStep.");var r=(null!=e.paddingOuter?e.paddingOuter:e.padding)||0,i=t===idt?1:(null!=e.paddingInner?e.paddingInner:e.padding)||0;return[0,e.rangeStep*Wft(n,i,r)]}(r,e,n);else if(e.scheme&&(o=function(t,e,n){var r,i=e.schemeExtent;y5(e.scheme)?r=Tdt(e.scheme,e.interpolate,e.interpolateGamma):(r=Rdt(e.scheme.toLowerCase()))||n5("Unrecognized scheme name: ".concat(e.scheme));return n=t===ndt?n+1:t===adt?n-1:t===tdt||t===edt?+e.schemeCount||5:n,Odt(t)?Lxt(r,i,e.reverse):Y5(r)?Pdt(Lxt(r,i),n):t===rdt?r:r.slice(0,n)}(r,e,n),Y5(o))){if(t.interpolator)return t.interpolator(o);n5("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&Odt(r))return t.interpolator(Tdt(Rxt(o,e.reverse),e.interpolate,e.interpolateGamma));o&&e.interpolate&&t.interpolate?t.interpolate(Fdt(e.interpolate,e.interpolateGamma)):Y5(t.round)?t.round(i):Y5(t.rangeRound)&&t.interpolate(i?txt:gxt);o&&t.range(Rxt(o,e.reverse))}(r,t,function(t,e,n){var r=e.bins;if(r&&!y5(r)){var i=t.domain(),o=i[0],a=C5(i),u=r.step,s=null==r.start?o:r.start,l=null==r.stop?a:r.stop;u||n5("Scale bins parameter missing step property."),s<o&&(s=u*Math.ceil(o/u)),l>a&&(l=u*Math.floor(a/u)),r=Qyt(s,l+u/2,u)}r?t.bins=r:t.bins&&delete t.bins;t.type===adt&&(r?e.domain||e.domainRaw||(t.domain(r),n=r.length):t.bins=t.domain());return n}(r,t,function(t,e,n){var r=function(t,e,n){return e?(t.domain(Ixt(t.type,e,n)),e.length):-1}(t,e.domainRaw,n);if(r>-1)return r;var i,o,a=e.domain,u=t.type,s=e.zero||void 0===e.zero&&function(t){var e=t.type;return!t.bins&&(e===Yft||e===Gft||e===$ft)}(t);if(!a)return 0;Dxt(u)&&e.padding&&a[0]!==C5(a)&&(a=function(t,e,n,r,i,o){var a=Math.abs(C5(n)-n[0]),u=a/(a-2*r),s=t===qft?j5(e,null,u):t===$ft?B5(e,null,u,.5):t===Gft?B5(e,null,u,i||1):t===Xft?z5(e,null,u,o||1):R5(e,null,u);return(e=e.slice())[0]=s[0],e[e.length-1]=s[1],e}(u,a,e.range,e.padding,e.exponent,e.constant));if((s||null!=e.domainMin||null!=e.domainMax||null!=e.domainMid)&&(i=(a=a.slice()).length-1||1,s&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=e.domainMin&&(a[0]=e.domainMin),null!=e.domainMax&&(a[i]=e.domainMax),null!=e.domainMid)){var l=(o=e.domainMid)>a[i]?i+1:o<a[0]?0:i;l!==i&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(l,0,o)}t.domain(Ixt(u,a,n)),u===rdt&&t.unknown(e.domainImplicit?Hct:void 0);e.nice&&t.nice&&t.nice(!0!==e.nice&&Hdt(t,e.nice)||null);return a.length}(r,t,n))),e.fork(e.NO_SOURCE|e.NO_FIELDS)}}),u6(jxt,cnt,{transform:function(t,e){var n=t.modified("sort")||e.changed(e.ADD)||e.modified(t.sort.fields)||e.modified("datum");return n&&e.source.sort(Det(t.sort)),this.modified(n),e}});var Bxt="zero",zxt="center",Uxt="normalize",Hxt=["y0","y1"];function Vxt(t){cnt.call(this,null,t)}function Wxt(t,e,n,r,i){for(var o,a=(e-t.sum)/2,u=t.length,s=0;s<u;++s)(o=t[s])[r]=a,o[i]=a+=Math.abs(n(o))}function Yxt(t,e,n,r,i){for(var o,a=1/t.sum,u=0,s=t.length,l=0,c=0;l<s;++l)(o=t[l])[r]=u,o[i]=u=a*(c+=Math.abs(n(o)))}function qxt(t,e,n,r,i){for(var o,a,u=0,s=0,l=t.length,c=0;c<l;++c)(o=+n(a=t[c]))<0?(a[r]=s,a[i]=s+=o):(a[r]=u,a[i]=u+=o)}Vxt.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Bxt,values:[Bxt,zxt,Uxt]},{name:"as",type:"string",array:!0,length:2,default:Hxt}]},u6(Vxt,cnt,{transform:function(t,e){var n,r,i,o,a=t.as||Hxt,u=a[0],s=a[1],l=Det(t.sort),c=t.field||s5,f=t.offset===zxt?Wxt:t.offset===Uxt?Yxt:qxt;for(n=function(t,e,n,r){var i,o,a,u,s,l,c,f,d,h=[],p=function(t){return t(s)};if(null==e)h.push(t.slice());else for(i={},o=0,a=t.length;o<a;++o)s=t[o],(c=i[l=e.map(p)])||(i[l]=c=[],h.push(c)),c.push(s);for(l=0,d=0,u=h.length;l<u;++l){for(o=0,f=0,a=(c=h[l]).length;o<a;++o)f+=Math.abs(r(c[o]));c.sum=f,f>d&&(d=f),n&&c.sort(n)}return h.max=d,h}(e.source,t.groupby,l,c),r=0,i=n.length,o=n.max;r<i;++r)f(n[r],o,c,u,s);return e.reflow(t.modified()).modifies(a)}});var Gxt=Math.sqrt(50),$xt=Math.sqrt(10),Xxt=Math.sqrt(2);function Kxt(t,e){var n;if(void 0===e){var r,i=qe(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,u=-1,s=qe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;null!=(l=e(l,++u,t))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}var Zxt=function(t){return t};function Jxt(t,e){t&&tbt.hasOwnProperty(t.type)&&tbt[t.type](t,e)}var Qxt={Feature:function(t,e){Jxt(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Jxt(n[r].geometry,e)}},tbt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ebt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ebt(n[r],e,0)},Polygon:function(t,e){nbt(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)nbt(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Jxt(n[r],e)}};function ebt(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function nbt(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ebt(t[n],e,1);e.polygonEnd()}function rbt(t,e){t&&Qxt.hasOwnProperty(t.type)?Qxt[t.type](t,e):Jxt(t,e)}var ibt=function(){function t(){Xr(this,t),this._partials=new Float64Array(32),this._n=0}return $r(t,[{key:"add",value:function(t){for(var e=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}},{key:"valueOf",value:function(){var t,e,n,r=this._partials,i=this._n,o=0;if(i>0){for(o=r[--i];i>0&&(t=o,!(n=(e=r[--i])-((o=t+e)-t))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(e=2*n)==(t=o+e)-o&&(o=t)}return o}}]),t}();var obt=1e-6,abt=1e-12,ubt=Math.PI,sbt=ubt/2,lbt=ubt/4,cbt=2*ubt,fbt=180/ubt,dbt=ubt/180,hbt=Math.abs,pbt=Math.atan,vbt=Math.atan2,gbt=Math.cos,mbt=Math.ceil,ybt=Math.exp,xbt=(Math.floor,Math.hypot),bbt=Math.log,wbt=Math.pow,Sbt=Math.sin,kbt=Math.sign||function(t){return t>0?1:t<0?-1:0},Cbt=Math.sqrt,Ebt=Math.tan;function Obt(t){return t>1?0:t<-1?ubt:Math.acos(t)}function Mbt(t){return t>1?sbt:t<-1?-sbt:Math.asin(t)}function _bt(){}var Abt,Tbt,Pbt,Dbt,Fbt=new ibt,Nbt=new ibt,Ibt={point:_bt,lineStart:_bt,lineEnd:_bt,polygonStart:function(){Ibt.lineStart=Lbt,Ibt.lineEnd=Bbt},polygonEnd:function(){Ibt.lineStart=Ibt.lineEnd=Ibt.point=_bt,Fbt.add(hbt(Nbt)),Nbt=new ibt},result:function(){var t=Fbt/2;return Fbt=new ibt,t}};function Lbt(){Ibt.point=Rbt}function Rbt(t,e){Ibt.point=jbt,Abt=Pbt=t,Tbt=Dbt=e}function jbt(t,e){Nbt.add(Dbt*t-Pbt*e),Pbt=t,Dbt=e}function Bbt(){jbt(Abt,Tbt)}var zbt=Ibt,Ubt=1/0,Hbt=Ubt,Vbt=-Ubt,Wbt=Vbt,Ybt={point:function(t,e){t<Ubt&&(Ubt=t);t>Vbt&&(Vbt=t);e<Hbt&&(Hbt=e);e>Wbt&&(Wbt=e)},lineStart:_bt,lineEnd:_bt,polygonStart:_bt,polygonEnd:_bt,result:function(){var t=[[Ubt,Hbt],[Vbt,Wbt]];return Vbt=Wbt=-(Hbt=Ubt=1/0),t}};var qbt,Gbt,$bt,Xbt,Kbt=Ybt,Zbt=0,Jbt=0,Qbt=0,twt=0,ewt=0,nwt=0,rwt=0,iwt=0,owt=0,awt={point:uwt,lineStart:swt,lineEnd:fwt,polygonStart:function(){awt.lineStart=dwt,awt.lineEnd=hwt},polygonEnd:function(){awt.point=uwt,awt.lineStart=swt,awt.lineEnd=fwt},result:function(){var t=owt?[rwt/owt,iwt/owt]:nwt?[twt/nwt,ewt/nwt]:Qbt?[Zbt/Qbt,Jbt/Qbt]:[NaN,NaN];return Zbt=Jbt=Qbt=twt=ewt=nwt=rwt=iwt=owt=0,t}};function uwt(t,e){Zbt+=t,Jbt+=e,++Qbt}function swt(){awt.point=lwt}function lwt(t,e){awt.point=cwt,uwt($bt=t,Xbt=e)}function cwt(t,e){var n=t-$bt,r=e-Xbt,i=Cbt(n*n+r*r);twt+=i*($bt+t)/2,ewt+=i*(Xbt+e)/2,nwt+=i,uwt($bt=t,Xbt=e)}function fwt(){awt.point=uwt}function dwt(){awt.point=pwt}function hwt(){vwt(qbt,Gbt)}function pwt(t,e){awt.point=vwt,uwt(qbt=$bt=t,Gbt=Xbt=e)}function vwt(t,e){var n=t-$bt,r=e-Xbt,i=Cbt(n*n+r*r);twt+=i*($bt+t)/2,ewt+=i*(Xbt+e)/2,nwt+=i,rwt+=(i=Xbt*t-$bt*e)*($bt+t),iwt+=i*(Xbt+e),owt+=3*i,uwt($bt=t,Xbt=e)}var gwt=awt;function mwt(t){this._context=t}mwt.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,cbt)}},result:_bt};var ywt,xwt,bwt,wwt,Swt,kwt=new ibt,Cwt={point:_bt,lineStart:function(){Cwt.point=Ewt},lineEnd:function(){ywt&&Owt(xwt,bwt),Cwt.point=_bt},polygonStart:function(){ywt=!0},polygonEnd:function(){ywt=null},result:function(){var t=+kwt;return kwt=new ibt,t}};function Ewt(t,e){Cwt.point=Owt,xwt=wwt=t,bwt=Swt=e}function Owt(t,e){wwt-=t,Swt-=e,kwt.add(Cbt(wwt*wwt+Swt*Swt)),wwt=t,Swt=e}var Mwt=Cwt;function _wt(){this._string=[]}function Awt(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Twt(t,e){var n,r,i=4.5;function o(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),rbt(t,n(r))),r.result()}return o.area=function(t){return rbt(t,n(zbt)),zbt.result()},o.measure=function(t){return rbt(t,n(Mwt)),Mwt.result()},o.bounds=function(t){return rbt(t,n(Kbt)),Kbt.result()},o.centroid=function(t){return rbt(t,n(gwt)),gwt.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Zxt):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new _wt):new mwt(e=t),"function"!==typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function Pwt(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:_bt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Dwt(t,e){return hbt(t[0]-e[0])<obt&&hbt(t[1]-e[1])<obt}function Fwt(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Nwt(t,e,n,r,i){var o,a,u=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Dwt(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(n=new Fwt(r,t,null,!0)),s.push(n.o=new Fwt(r,null,n,!1)),u.push(n=new Fwt(a,t,null,!1)),s.push(n.o=new Fwt(a,null,n,!0))}})),u.length){for(s.sort(e),Iwt(u),Iwt(s),o=0,a=s.length;o<a;++o)s[o].e=n=!n;for(var l,c,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(l=d.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}}function Iwt(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Lwt(t){return[vbt(t[1],t[0]),Mbt(t[2])]}function Rwt(t){var e=t[0],n=t[1],r=gbt(n);return[r*gbt(e),r*Sbt(e),Sbt(n)]}function jwt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bwt(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function zwt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Uwt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Hwt(t){var e=Cbt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Vwt(t){return hbt(t[0])<=ubt?t[0]:kbt(t[0])*((hbt(t[0])+ubt)%cbt-ubt)}_wt.prototype={_radius:4.5,_circle:Awt(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Awt(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Wwt=Ct.mark(Ywt);function Ywt(t){var e,n,r;return Ct.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=qe(t),i.prev=1,e.s();case 3:if((n=e.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),e.e(i.t1);case 13:return i.prev=13,e.f(),i.finish(13);case 16:case"end":return i.stop()}}),Wwt,null,[[1,10,13,16]])}function qwt(t){return Array.from(Ywt(t))}function Gwt(t,e,n,r){return function(i){var o,a,u,s=e(i),l=Pwt(),c=e(l),f=!1,d={point:h,lineStart:v,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=x,a=[],o=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=g,a=qwt(a);var t=function(t,e){var n=Vwt(e),r=e[1],i=Sbt(r),o=[Sbt(n),-gbt(n),0],a=0,u=0,s=new ibt;1===i?r=sbt+obt:-1===i&&(r=-sbt-obt);for(var l=0,c=t.length;l<c;++l)if(d=(f=t[l]).length)for(var f,d,h=f[d-1],p=Vwt(h),v=h[1]/2+lbt,g=Sbt(v),m=gbt(v),y=0;y<d;++y,p=b,g=S,m=k,h=x){var x=f[y],b=Vwt(x),w=x[1]/2+lbt,S=Sbt(w),k=gbt(w),C=b-p,E=C>=0?1:-1,O=E*C,M=O>ubt,_=g*S;if(s.add(vbt(_*E*Sbt(O),m*k+_*gbt(O))),a+=M?C+E*cbt:C,M^p>=n^b>=n){var A=Bwt(Rwt(h),Rwt(x));Hwt(A);var T=Bwt(o,A);Hwt(T);var P=(M^C>=0?-1:1)*Mbt(T[2]);(r>P||r===P&&(A[0]||A[1]))&&(u+=M^C>=0?1:-1)}}return(a<-1e-6||a<obt&&s<-1e-12)^1&u}(o,r);a.length?(f||(i.polygonStart(),f=!0),Nwt(a,Xwt,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(e,n){t(e,n)&&i.point(e,n)}function p(t,e){s.point(t,e)}function v(){d.point=p,s.lineStart()}function g(){d.point=h,s.lineEnd()}function m(t,e){u.push([t,e]),c.point(t,e)}function y(){c.lineStart(),u=[]}function x(){m(u[0][0],u[0][1]),c.lineEnd();var t,e,n,r,s=c.clean(),d=l.result(),h=d.length;if(u.pop(),o.push(u),u=null,h)if(1&s){if((e=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else h>1&&2&s&&d.push(d.pop().concat(d.shift())),a.push(d.filter($wt))}return d}}function $wt(t){return t.length>1}function Xwt(t,e){return((t=t.x)[0]<0?t[1]-sbt-obt:sbt-t[1])-((e=e.x)[0]<0?e[1]-sbt-obt:sbt-e[1])}var Kwt=Gwt((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u=o>0?ubt:-ubt,s=hbt(o-n);hbt(s-ubt)<obt?(t.point(n,r=(r+a)/2>0?sbt:-sbt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):i!==u&&s>=ubt&&(hbt(n-i)<obt&&(n-=i*obt),hbt(o-u)<obt&&(o-=u*obt),r=function(t,e,n,r){var i,o,a=Sbt(t-n);return hbt(a)>obt?pbt((Sbt(e)*(o=gbt(r))*Sbt(n)-Sbt(r)*(i=gbt(e))*Sbt(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=a),i=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*sbt,r.point(-ubt,i),r.point(0,i),r.point(ubt,i),r.point(ubt,0),r.point(ubt,-i),r.point(0,-i),r.point(-ubt,-i),r.point(-ubt,0),r.point(-ubt,i);else if(hbt(t[0]-e[0])>obt){var o=t[0]<e[0]?ubt:-ubt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-ubt,-sbt]);function Zwt(t,e,n,r,i,o){if(n){var a=gbt(e),u=Sbt(e),s=r*n;null==i?(i=e+r*cbt,o=e-s/2):(i=Jwt(a,i),o=Jwt(a,o),(r>0?i<o:i>o)&&(i+=r*cbt));for(var l,c=i;r>0?c>o:c<o;c-=s)l=Lwt([a,-u*gbt(c),-u*Sbt(c)]),t.point(l[0],l[1])}}function Jwt(t,e){(e=Rwt(e))[0]-=t,Hwt(e);var n=Obt(-e[1]);return((-e[2]<0?-n:n)+cbt-obt)%cbt}function Qwt(t){var e=gbt(t),n=6*dbt,r=e>0,i=hbt(e)>obt;function o(t,n){return gbt(t)*gbt(n)>e}function a(t,n,r){var i=[1,0,0],o=Bwt(Rwt(t),Rwt(n)),a=jwt(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var l=e*a/s,c=-e*u/s,f=Bwt(i,o),d=Uwt(i,l);zwt(d,Uwt(o,c));var h=f,p=jwt(d,h),v=jwt(h,h),g=p*p-v*(jwt(d,d)-1);if(!(g<0)){var m=Cbt(g),y=Uwt(h,(-p-m)/v);if(zwt(y,d),y=Lwt(y),!r)return y;var x,b=t[0],w=n[0],S=t[1],k=n[1];w<b&&(x=b,b=w,w=x);var C=w-b,E=hbt(C-ubt)<obt;if(!E&&k<S&&(x=S,S=k,k=x),E||C<obt?E?S+k>0^y[1]<(hbt(y[0]-b)<obt?S:k):S<=y[1]&&y[1]<=k:C>ubt^(b<=y[0]&&y[0]<=w)){var O=Uwt(h,(-p+m)/v);return zwt(O,d),[y,Lwt(O)]}}}function u(e,n){var i=r?t:ubt-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Gwt(o,(function(t){var e,n,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,d){var h,p=[f,d],v=o(f,d),g=r?v?0:u(f,d):v?u(f+(f<0?ubt:-ubt),d):0;if(!e&&(l=s=v)&&t.lineStart(),v!==s&&(!(h=a(e,p))||Dwt(e,h)||Dwt(p,h))&&(p[2]=1),v!==s)c=0,v?(t.lineStart(),h=a(p,e),t.point(h[0],h[1])):(h=a(e,p),t.point(h[0],h[1],2),t.lineEnd()),e=h;else if(i&&e&&r^v){var m;g&n||!(m=a(p,e,!0))||(c=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!v||e&&Dwt(e,p)||t.point(p[0],p[1]),e=p,s=v,n=g},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(l&&s)<<1}}}),(function(e,r,i,o){Zwt(o,t,n,i,e,r)}),r?[0,-t]:[-ubt,t-ubt])}var tSt=1e9,eSt=-tSt;function nSt(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,u,l){var c=0,f=0;if(null==i||(c=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return hbt(r[0]-t)<obt?i>0?0:3:hbt(r[0]-n)<obt?i>0?2:1:hbt(r[1]-e)<obt?i>0?1:0:i>0?3:2}function u(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,l,c,f,d,h,p,v,g,m,y,x=a,b=Pwt(),w={point:S,lineStart:function(){w.point=k,l&&l.push(c=[]);m=!0,g=!1,p=v=NaN},lineEnd:function(){s&&(k(f,d),h&&g&&b.rejoin(),s.push(b.result()));w.point=S,g&&x.lineEnd()},polygonStart:function(){x=b,s=[],l=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,u=l[n],s=1,c=u.length,f=u[0],d=f[0],h=f[1];s<c;++s)o=d,a=h,d=(f=u[s])[0],h=f[1],a<=r?h>r&&(d-o)*(r-a)>(h-a)*(t-o)&&++e:h<=r&&(d-o)*(r-a)<(h-a)*(t-o)&&--e;return e}(),n=y&&e,i=(s=qwt(s)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Nwt(s,u,e,o,a),a.polygonEnd());x=a,s=l=c=null}};function S(t,e){i(t,e)&&x.point(t,e)}function k(o,a){var u=i(o,a);if(l&&c.push([o,a]),m)f=o,d=a,h=u,m=!1,u&&(x.lineStart(),x.point(o,a));else if(u&&g)x.point(o,a);else{var s=[p=Math.max(eSt,Math.min(tSt,p)),v=Math.max(eSt,Math.min(tSt,v))],b=[o=Math.max(eSt,Math.min(tSt,o)),a=Math.max(eSt,Math.min(tSt,a))];!function(t,e,n,r,i,o){var a,u=t[0],s=t[1],l=0,c=1,f=e[0]-u,d=e[1]-s;if(a=n-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=r-s,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=o-s,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=u+l*f,t[1]=s+l*d),c<1&&(e[0]=u+c*f,e[1]=s+c*d),!0}}}}}(s,b,t,e,n,r)?u&&(x.lineStart(),x.point(o,a),y=!1):(g||(x.lineStart(),x.point(s[0],s[1])),x.point(b[0],b[1]),u||x.lineEnd(),y=!1)}p=o,v=a,g=u}return w}}function rSt(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function iSt(t,e){return[hbt(t)>ubt?t+Math.round(-t/cbt)*cbt:t,e]}function oSt(t,e,n){return(t%=cbt)?e||n?rSt(uSt(t),sSt(e,n)):uSt(t):e||n?sSt(e,n):iSt}function aSt(t){return function(e,n){return[(e+=t)>ubt?e-cbt:e<-ubt?e+cbt:e,n]}}function uSt(t){var e=aSt(t);return e.invert=aSt(-t),e}function sSt(t,e){var n=gbt(t),r=Sbt(t),i=gbt(e),o=Sbt(e);function a(t,e){var a=gbt(e),u=gbt(t)*a,s=Sbt(t)*a,l=Sbt(e),c=l*n+u*r;return[vbt(s*i-c*o,u*n-l*r),Mbt(c*i+s*o)]}return a.invert=function(t,e){var a=gbt(e),u=gbt(t)*a,s=Sbt(t)*a,l=Sbt(e),c=l*i-s*o;return[vbt(s*i+l*o,u*n+c*r),Mbt(c*n-u*r)]},a}function lSt(t){return function(e){var n=new cSt;for(var r in t)n[r]=t[r];return n.stream=e,n}}function cSt(){}function fSt(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),rbt(n,t.stream(Kbt)),e(Kbt.result()),null!=r&&t.clipExtent(r),t}function dSt(t,e,n){return fSt(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,u])}),n)}function hSt(t,e,n){return dSt(t,[[0,0],e],n)}function pSt(t,e,n){return fSt(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function vSt(t,e,n){return fSt(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}iSt.invert=iSt,cSt.prototype={constructor:cSt,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var gSt=gbt(30*dbt);function mSt(t,e){return+e?function(t,e){function n(r,i,o,a,u,s,l,c,f,d,h,p,v,g){var m=l-r,y=c-i,x=m*m+y*y;if(x>4*e&&v--){var b=a+d,w=u+h,S=s+p,k=Cbt(b*b+w*w+S*S),C=Mbt(S/=k),E=hbt(hbt(S)-1)<obt||hbt(o-f)<obt?(o+f)/2:vbt(w,b),O=t(E,C),M=O[0],_=O[1],A=M-r,T=_-i,P=y*A-m*T;(P*P/x>e||hbt((m*A+y*T)/x-.5)>.3||a*d+u*h+s*p<gSt)&&(n(r,i,o,a,u,s,M,_,E,b/=k,w/=k,S,v,g),g.point(M,_),n(M,_,E,b,w,S,l,c,f,d,h,p,v,g))}}return function(e){var r,i,o,a,u,s,l,c,f,d,h,p,v={point:g,lineStart:m,lineEnd:x,polygonStart:function(){e.polygonStart(),v.lineStart=b},polygonEnd:function(){e.polygonEnd(),v.lineStart=m}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){c=NaN,v.point=y,e.lineStart()}function y(r,i){var o=Rwt([r,i]),a=t(r,i);n(c,f,l,d,h,p,c=a[0],f=a[1],l=r,d=o[0],h=o[1],p=o[2],16,e),e.point(c,f)}function x(){v.point=g,e.lineEnd()}function b(){m(),v.point=w,v.lineEnd=S}function w(t,e){y(r=t,e),i=c,o=f,a=d,u=h,s=p,v.point=y}function S(){n(c,f,l,d,h,p,i,o,r,a,u,s,16,e),v.lineEnd=x,x()}return v}}(t,e):function(t){return lSt({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var ySt=lSt({point:function(t,e){this.stream.point(t*dbt,e*dbt)}});function xSt(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=gbt(o),u=Sbt(o),s=a*t,l=u*t,c=a/t,f=u/t,d=(u*n-a*e)/t,h=(u*e+a*n)/t;function p(t,o){return[s*(t*=r)-l*(o*=i)+e,n-l*t-s*o]}return p.invert=function(t,e){return[r*(c*t-f*e+d),i*(h-f*t-c*e)]},p}function bSt(t){return wSt((function(){return t}))()}function wSt(t){var e,n,r,i,o,a,u,s,l,c,f=150,d=480,h=250,p=0,v=0,g=0,m=0,y=0,x=0,b=1,w=1,S=null,k=Kwt,C=null,E=Zxt,O=.5;function M(t){return s(t[0]*dbt,t[1]*dbt)}function _(t){return(t=s.invert(t[0],t[1]))&&[t[0]*fbt,t[1]*fbt]}function A(){var t=xSt(f,0,0,b,w,x).apply(null,e(p,v)),r=xSt(f,d-t[0],h-t[1],b,w,x);return n=oSt(g,m,y),u=rSt(e,r),s=rSt(n,u),a=mSt(u,O),T()}function T(){return l=c=null,M}return M.stream=function(t){return l&&c===t?l:l=ySt(function(t){return lSt({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(k(a(E(c=t)))))},M.preclip=function(t){return arguments.length?(k=t,S=void 0,T()):k},M.postclip=function(t){return arguments.length?(E=t,C=r=i=o=null,T()):E},M.clipAngle=function(t){return arguments.length?(k=+t?Qwt(S=t*dbt):(S=null,Kwt),T()):S*fbt},M.clipExtent=function(t){return arguments.length?(E=null==t?(C=r=i=o=null,Zxt):nSt(C=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),T()):null==C?null:[[C,r],[i,o]]},M.scale=function(t){return arguments.length?(f=+t,A()):f},M.translate=function(t){return arguments.length?(d=+t[0],h=+t[1],A()):[d,h]},M.center=function(t){return arguments.length?(p=t[0]%360*dbt,v=t[1]%360*dbt,A()):[p*fbt,v*fbt]},M.rotate=function(t){return arguments.length?(g=t[0]%360*dbt,m=t[1]%360*dbt,y=t.length>2?t[2]%360*dbt:0,A()):[g*fbt,m*fbt,y*fbt]},M.angle=function(t){return arguments.length?(x=t%360*dbt,A()):x*fbt},M.reflectX=function(t){return arguments.length?(b=t?-1:1,A()):b<0},M.reflectY=function(t){return arguments.length?(w=t?-1:1,A()):w<0},M.precision=function(t){return arguments.length?(a=mSt(u,O=t*t),T()):Cbt(O)},M.fitExtent=function(t,e){return dSt(M,t,e)},M.fitSize=function(t,e){return hSt(M,t,e)},M.fitWidth=function(t,e){return pSt(M,t,e)},M.fitHeight=function(t,e){return vSt(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&_,A()}}function SSt(t){var e=0,n=ubt/3,r=wSt(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*dbt,n=t[1]*dbt):[e*fbt,n*fbt]},i}function kSt(t,e){var n=Sbt(t),r=(n+Sbt(e))/2;if(hbt(r)<obt)return function(t){var e=gbt(t);function n(t,n){return[t*e,Sbt(n)/e]}return n.invert=function(t,n){return[t/e,Mbt(n*e)]},n}(t);var i=1+n*(2*r-n),o=Cbt(i)/r;function a(t,e){var n=Cbt(i-2*r*Sbt(e))/r;return[n*Sbt(t*=r),o-n*gbt(t)]}return a.invert=function(t,e){var n=o-e,a=vbt(t,hbt(n))*kbt(n);return n*r<0&&(a-=ubt*kbt(t)*kbt(n)),[a/r,Mbt((i-(t*t+n*n)*r*r)/(2*r))]},a}function CSt(){return SSt(kSt).scale(155.424).center([0,33.6442])}function ESt(){return CSt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function OSt(t){return function(e,n){var r=gbt(e),i=gbt(n),o=t(r*i);return o===1/0?[2,0]:[o*i*Sbt(e),o*Sbt(n)]}}function MSt(t){return function(e,n){var r=Cbt(e*e+n*n),i=t(r),o=Sbt(i),a=gbt(i);return[vbt(e*o,r*a),Mbt(r&&n*o/r)]}}var _St=OSt((function(t){return Cbt(2/(1+t))}));_St.invert=MSt((function(t){return 2*Mbt(t/2)}));var ASt=OSt((function(t){return(t=Obt(t))&&t/Sbt(t)}));function TSt(t,e){return[t,bbt(Ebt((sbt+e)/2))]}function PSt(t){var e,n,r,i=bSt(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,l=null;function c(){var o=ubt*a(),u=i(function(t){function e(e){return(e=t(e[0]*dbt,e[1]*dbt))[0]*=fbt,e[1]*=fbt,e}return t=oSt(t[0]*dbt,t[1]*dbt,t.length>2?t[2]*dbt:0),e.invert=function(e){return(e=t.invert(e[0]*dbt,e[1]*dbt))[0]*=fbt,e[1]*=fbt,e},e}(i.rotate()).invert([0,0]));return s(null==l?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===TSt?[[Math.max(u[0]-o,l),e],[Math.min(u[0]+o,n),r]]:[[l,Math.max(u[1]-o,e)],[n,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),c()):a()},i.translate=function(t){return arguments.length?(u(t),c()):u()},i.center=function(t){return arguments.length?(o(t),c()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==l?null:[[l,e],[n,r]]},c()}function DSt(t){return Ebt((sbt+t)/2)}function FSt(t,e){var n=gbt(t),r=t===e?Sbt(t):bbt(n/gbt(e))/bbt(DSt(e)/DSt(t)),i=n*wbt(DSt(t),r)/r;if(!r)return TSt;function o(t,e){i>0?e<-sbt+obt&&(e=-sbt+obt):e>sbt-obt&&(e=sbt-obt);var n=i/wbt(DSt(e),r);return[n*Sbt(r*t),i-n*gbt(r*t)]}return o.invert=function(t,e){var n=i-e,o=kbt(r)*Cbt(t*t+n*n),a=vbt(t,hbt(n))*kbt(n);return n*r<0&&(a-=ubt*kbt(t)*kbt(n)),[a/r,2*pbt(wbt(i/o,1/r))-sbt]},o}function NSt(t,e){return[t,e]}function ISt(t,e){var n=gbt(t),r=t===e?Sbt(t):(n-gbt(e))/(e-t),i=n/r+t;if(hbt(r)<obt)return NSt;function o(t,e){var n=i-e,o=r*t;return[n*Sbt(o),i-n*gbt(o)]}return o.invert=function(t,e){var n=i-e,o=vbt(t,hbt(n))*kbt(n);return n*r<0&&(o-=ubt*kbt(t)*kbt(n)),[o/r,i-kbt(r)*Cbt(t*t+n*n)]},o}ASt.invert=MSt((function(t){return t})),TSt.invert=function(t,e){return[t,2*pbt(ybt(e))-sbt]},NSt.invert=NSt;var LSt=1.340264,RSt=-.081106,jSt=893e-6,BSt=.003796,zSt=Cbt(3)/2;function USt(t,e){var n=Mbt(zSt*Sbt(e)),r=n*n,i=r*r*r;return[t*gbt(n)/(zSt*(LSt+3*RSt*r+i*(7*jSt+9*BSt*r))),n*(LSt+RSt*r+i*(jSt+BSt*r))]}function HSt(t,e){var n=gbt(e),r=gbt(t)*n;return[n*Sbt(t)/r,Sbt(e)/r]}function VSt(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function WSt(t,e){return[gbt(e)*Sbt(t),Sbt(e)]}function YSt(t,e){var n=gbt(e),r=1+gbt(t)*n;return[n*Sbt(t)/r,Sbt(e)/r]}function qSt(t,e){return[bbt(Ebt((sbt+e)/2)),-t]}USt.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(LSt+RSt*i+o*(jSt+BSt*i))-e)/(LSt+3*RSt*i+o*(7*jSt+9*BSt*i)))*r)*i*i,!(hbt(n)<abt));++a);return[zSt*t*(LSt+3*RSt*i+o*(7*jSt+9*BSt*i))/gbt(r),Mbt(Sbt(r)/zSt)]},HSt.invert=MSt(pbt),VSt.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(hbt(n)>obt&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},WSt.invert=MSt(Mbt),YSt.invert=MSt((function(t){return 2*pbt(t)})),qSt.invert=function(t,e){return[-e,2*pbt(ybt(t))-sbt]};var GSt=Math.abs,$St=(Math.atan,Math.atan2,Math.ceil,Math.cos),XSt=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),KSt=(Math.tan,Math.PI),ZSt=KSt/2,JSt=(Math.SQRT1_2,tkt(2));tkt(KSt);function QSt(t){return t>1?ZSt:t<-1?-ZSt:Math.asin(t)}function tkt(t){return t>0?Math.sqrt(t):0}function ekt(t,e){var n,r=t*XSt(e),i=30;do{e-=n=(e+XSt(e)-r)/(1+$St(e))}while(GSt(n)>1e-6&&--i>0);return e/2}var nkt=function(t,e,n){function r(r,i){return[t*r*$St(i=ekt(n,i)),e*XSt(i)]}return r.invert=function(r,i){return i=QSt(i/e),[r/(t*$St(i)),QSt((2*i+XSt(2*i))/n)]},r}(JSt/ZSt,JSt,KSt);var rkt=Twt(),ikt=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function okt(t,e){return function n(){var r=e();return r.type=t,r.path=Twt().projection(r),r.copy=r.copy||function(){var t=n();return ikt.forEach((function(e){r[e]&&t[e](r[e]())})),t.path.pointRadius(r.path.pointRadius()),t},r}}function akt(t,e){if(!t||"string"!==typeof t)throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(skt[t]=okt(t,e),this):skt[t]||null}function ukt(t){return t&&t.path||rkt}var skt={albers:ESt,albersusa:function(){var t,e,n,r,i,o,a=ESt(),u=CSt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=CSt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function c(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,c}return c.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},c.stream=function(n){return t&&e===n?t:t=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([a.stream(e=n),u.stream(n),s.stream(n)])},c.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),s.precision(t),f()):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),s.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],c=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,c-.238*e],[o+.455*e,c+.238*e]]).stream(l),r=u.translate([o-.307*e,c+.201*e]).clipExtent([[o-.425*e+obt,c+.12*e+obt],[o-.214*e-obt,c+.234*e-obt]]).stream(l),i=s.translate([o-.205*e,c+.212*e]).clipExtent([[o-.214*e+obt,c+.166*e+obt],[o-.115*e-obt,c+.234*e-obt]]).stream(l),f()},c.fitExtent=function(t,e){return dSt(c,t,e)},c.fitSize=function(t,e){return hSt(c,t,e)},c.fitWidth=function(t,e){return pSt(c,t,e)},c.fitHeight=function(t,e){return vSt(c,t,e)},c.scale(1070)},azimuthalequalarea:function(){return bSt(_St).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return bSt(ASt).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return SSt(FSt).scale(109.5).parallels([30,30])},conicequalarea:CSt,conicequidistant:function(){return SSt(ISt).scale(131.154).center([0,13.9389])},equalEarth:function(){return bSt(USt).scale(177.158)},equirectangular:function(){return bSt(NSt).scale(152.63)},gnomonic:function(){return bSt(HSt).scale(144.049).clipAngle(60)},identity:function(){var t,e,n,r,i,o,a,u=1,s=0,l=0,c=1,f=1,d=0,h=null,p=1,v=1,g=lSt({point:function(t,e){var n=x([t,e]);this.stream.point(n[0],n[1])}}),m=Zxt;function y(){return p=u*c,v=u*f,o=a=null,x}function x(n){var r=n[0]*p,i=n[1]*v;if(d){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+s,i+l]}return x.invert=function(n){var r=n[0]-s,i=n[1]-l;if(d){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/v]},x.stream=function(t){return o&&a===t?o:o=g(m(a=t))},x.postclip=function(t){return arguments.length?(m=t,h=n=r=i=null,y()):m},x.clipExtent=function(t){return arguments.length?(m=null==t?(h=n=r=i=null,Zxt):nSt(h=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),y()):null==h?null:[[h,n],[r,i]]},x.scale=function(t){return arguments.length?(u=+t,y()):u},x.translate=function(t){return arguments.length?(s=+t[0],l=+t[1],y()):[s,l]},x.angle=function(n){return arguments.length?(e=Sbt(d=n%360*dbt),t=gbt(d),y()):d*fbt},x.reflectX=function(t){return arguments.length?(c=t?-1:1,y()):c<0},x.reflectY=function(t){return arguments.length?(f=t?-1:1,y()):f<0},x.fitExtent=function(t,e){return dSt(x,t,e)},x.fitSize=function(t,e){return hSt(x,t,e)},x.fitWidth=function(t,e){return pSt(x,t,e)},x.fitHeight=function(t,e){return vSt(x,t,e)},x},mercator:function(){return PSt(TSt).scale(961/cbt)},mollweide:function(){return bSt(nkt).scale(169.529)},naturalEarth1:function(){return bSt(VSt).scale(175.295)},orthographic:function(){return bSt(WSt).scale(249.5).clipAngle(90.000001)},stereographic:function(){return bSt(YSt).scale(250).clipAngle(142)},transversemercator:function(){var t=PSt(qSt),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}};for(var lkt in skt)akt(lkt,skt[lkt]);function ckt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function fkt(t,e,n){var r=ckt(t,e-obt,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function dkt(t,e,n){var r=ckt(t,e-obt,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function hkt(){var t,e,n,r,i,o,a,u,s,l,c,f,d=10,h=d,p=90,v=360,g=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return ckt(mbt(r/p)*p,n,p).map(c).concat(ckt(mbt(u/v)*v,a,v).map(f)).concat(ckt(mbt(e/d)*d,t,d).filter((function(t){return hbt(t%p)>obt})).map(s)).concat(ckt(mbt(o/h)*h,i,h).filter((function(t){return hbt(t%v)>obt})).map(l))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(a).slice(1),c(n).reverse().slice(1),f(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),m.precision(g)):[[r,u],[n,a]]},m.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),m.precision(g)):[[e,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],m):[p,v]},m.stepMinor=function(t){return arguments.length?(d=+t[0],h=+t[1],m):[d,h]},m.precision=function(d){return arguments.length?(g=+d,s=fkt(o,i,90),l=dkt(e,t,g),c=fkt(u,a,90),f=dkt(r,n,g),m):g},m.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function pkt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vkt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gkt(){}var mkt=.7,ykt=1/mkt,xkt="\\s*([+-]?\\d+)\\s*",bkt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",wkt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Skt=/^#([0-9a-f]{3,8})$/,kkt=new RegExp("^rgb\\("+[xkt,xkt,xkt]+"\\)$"),Ckt=new RegExp("^rgb\\("+[wkt,wkt,wkt]+"\\)$"),Ekt=new RegExp("^rgba\\("+[xkt,xkt,xkt,bkt]+"\\)$"),Okt=new RegExp("^rgba\\("+[wkt,wkt,wkt,bkt]+"\\)$"),Mkt=new RegExp("^hsl\\("+[bkt,wkt,wkt]+"\\)$"),_kt=new RegExp("^hsla\\("+[bkt,wkt,wkt,bkt]+"\\)$"),Akt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tkt(){return this.rgb().formatHex()}function Pkt(){return this.rgb().formatRgb()}function Dkt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Skt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Fkt(e):3===n?new Rkt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Nkt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Nkt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=kkt.exec(t))?new Rkt(e[1],e[2],e[3],1):(e=Ckt.exec(t))?new Rkt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ekt.exec(t))?Nkt(e[1],e[2],e[3],e[4]):(e=Okt.exec(t))?Nkt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Mkt.exec(t))?Ukt(e[1],e[2]/100,e[3]/100,1):(e=_kt.exec(t))?Ukt(e[1],e[2]/100,e[3]/100,e[4]):Akt.hasOwnProperty(t)?Fkt(Akt[t]):"transparent"===t?new Rkt(NaN,NaN,NaN,0):null}function Fkt(t){return new Rkt(t>>16&255,t>>8&255,255&t,1)}function Nkt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rkt(t,e,n,r)}function Ikt(t){return t instanceof gkt||(t=Dkt(t)),t?new Rkt((t=t.rgb()).r,t.g,t.b,t.opacity):new Rkt}function Lkt(t,e,n,r){return 1===arguments.length?Ikt(t):new Rkt(t,e,n,null==r?1:r)}function Rkt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function jkt(){return"#"+zkt(this.r)+zkt(this.g)+zkt(this.b)}function Bkt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function zkt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ukt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vkt(t,e,n,r)}function Hkt(t){if(t instanceof Vkt)return new Vkt(t.h,t.s,t.l,t.opacity);if(t instanceof gkt||(t=Dkt(t)),!t)return new Vkt;if(t instanceof Vkt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Vkt(a,u,s,t.opacity)}function Vkt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Wkt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ykt(){}pkt(gkt,Dkt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Tkt,formatHex:Tkt,formatHsl:function(){return Hkt(this).formatHsl()},formatRgb:Pkt,toString:Pkt}),pkt(Rkt,Lkt,vkt(gkt,{brighter:function(t){return t=null==t?ykt:Math.pow(ykt,t),new Rkt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?mkt:Math.pow(mkt,t),new Rkt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jkt,formatHex:jkt,formatRgb:Bkt,toString:Bkt})),pkt(Vkt,(function(t,e,n,r){return 1===arguments.length?Hkt(t):new Vkt(t,e,n,null==r?1:r)}),vkt(gkt,{brighter:function(t){return t=null==t?ykt:Math.pow(ykt,t),new Vkt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?mkt:Math.pow(mkt,t),new Vkt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rkt(Wkt(t>=240?t-240:t+120,i,r),Wkt(t,i,r),Wkt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var qkt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Gkt(){var t=1,e=1,n=a;function r(t,e){return e.map((function(e){return i(t,e)}))}function i(r,i){var a=[],u=[];return function(n,r,i){var a,u,s,l,c,f,d=new Array,h=new Array;a=u=-1,l=n[0]>=r,qkt[l<<1].forEach(p);for(;++a<t-1;)s=l,l=n[a+1]>=r,qkt[s|l<<1].forEach(p);qkt[l<<0].forEach(p);for(;++u<e-1;){for(a=-1,l=n[u*t+t]>=r,c=n[u*t]>=r,qkt[l<<1|c<<2].forEach(p);++a<t-1;)s=l,l=n[u*t+t+a+1]>=r,f=c,c=n[u*t+a+1]>=r,qkt[s|l<<1|c<<2|f<<3].forEach(p);qkt[l|c<<3].forEach(p)}a=-1,c=n[u*t]>=r,qkt[c<<2].forEach(p);for(;++a<t-1;)f=c,c=n[u*t+a+1]>=r,qkt[c<<2|f<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+a,t[0][1]+u],s=[t[1][0]+a,t[1][1]+u],l=o(r),c=o(s);(e=h[l])?(n=d[c])?(delete h[e.end],delete d[n.start],e===n?(e.ring.push(s),i(e.ring)):d[e.start]=h[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[e.end],e.ring.push(s),h[e.end=c]=e):(e=d[c])?(n=h[l])?(delete d[e.start],delete h[n.end],e===n?(e.ring.push(s),i(e.ring)):d[n.start]=h[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(r),d[e.start=l]=e):d[l]=h[c]={start:l,end:c,ring:[r,s]}}qkt[c<<3].forEach(p)}(r,i,(function(t){n(t,r,i),function(t){var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];for(;++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?a.push([t]):u.push(t)})),u.forEach((function(t){for(var e,n=0,r=a.length;n<r;++n)if(-1!==$kt((e=a[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,r,i){n.forEach((function(n){var o,a=n[0],u=n[1],s=0|a,l=0|u,c=r[l*t+s];a>0&&a<t&&s===a&&(o=r[l*t+s-1],n[0]=a+(i-o)/(c-o)-.5),u>0&&u<e&&l===u&&(o=r[(l-1)*t+s],n[1]=u+(i-o)/(c-o)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.floor(n[0]),o=Math.floor(n[1]);return i>=0&&o>=0||n5("invalid size"),t=i,e=o,r},r.smooth=function(t){return arguments.length?(n=t?a:Ykt,r):n===a},r}function $kt(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Xkt(t,e[r]))return n;return 0}function Xkt(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var s=t[o],l=s[0],c=s[1],f=t[u],d=f[0],h=f[1];if(Kkt(s,f,e))return 0;c>r!==h>r&&n<(d-l)*(r-c)/(h-c)+l&&(i=-i)}return i}function Kkt(t,e,n){var r;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&function(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}(t[r=+(t[0]===e[0])],n[r],e[r])}function Zkt(t,e,n){return function(r){var i=t6(r),o=n?Math.min(i[0],0):i[0],a=i[1],u=a-o,s=e?function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Gxt?i*=10:o>=$xt?i*=5:o>=Xxt&&(i*=2),e<t?-i:i}(o,a,t):u/(t+1);return function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(o+s,a,s)}}function Jkt(t){cnt.call(this,null,t)}function Qkt(t,e,n,r,i){var o=t.x1||0,a=t.y1||0,u=e*n<0;function s(t){t.forEach(l)}function l(t){u&&t.reverse(),t.forEach(c)}function c(t){t[0]=(t[0]-o)*e+r,t[1]=(t[1]-a)*n+i}return function(t){return t.coordinates.forEach(s),t}}function tCt(t,e,n){var r=t>=0?t:Pnt(e,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function eCt(t){return Y5(t)?t:Z5(+t)}function nCt(){var t=function(t){return t[0]},e=function(t){return t[1]},n=s5,r=[-1,-1],i=960,o=500,a=2;function u(u,s){var l=tCt(r[0],u,t)>>a,c=tCt(r[1],u,e)>>a,f=l?l+2:0,d=c?c+2:0,h=2*f+(i>>a),p=2*d+(o>>a),v=new Float32Array(h*p),g=new Float32Array(h*p),m=v;u.forEach((function(r){var i=f+(+t(r)>>a),o=d+(+e(r)>>a);i>=0&&i<h&&o>=0&&o<p&&(v[i+o*h]+=+n(r))})),l>0&&c>0?(rCt(h,p,v,g,l),iCt(h,p,g,v,c),rCt(h,p,v,g,l),iCt(h,p,g,v,c),rCt(h,p,v,g,l),iCt(h,p,g,v,c)):l>0?(rCt(h,p,v,g,l),rCt(h,p,g,v,l),rCt(h,p,v,g,l),m=g):c>0&&(iCt(h,p,v,g,c),iCt(h,p,g,v,c),iCt(h,p,v,g,c),m=g);for(var y=s?Math.pow(2,-2*a):1/function(t,e){var n=0;if(void 0===e){var r,i=qe(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;(o=+o)&&(n+=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,u=-1,s=qe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;(l=+e(l,++u,t))&&(n+=l)}}catch(c){s.e(c)}finally{s.f()}}return n}(m),x=0,b=h*p;x<b;++x)m[x]*=y;return{values:m,scale:1<<a,width:h,height:p,x1:f,y1:d,x2:f+(i>>a),y2:d+(o>>a)}}return u.x=function(e){return arguments.length?(t=eCt(e),u):t},u.y=function(t){return arguments.length?(e=eCt(t),u):e},u.weight=function(t){return arguments.length?(n=eCt(t),u):n},u.size=function(t){if(!arguments.length)return[i,o];var e=+t[0],n=+t[1];return e>=0&&n>=0||n5("invalid size"),i=e,o=n,u},u.cellSize=function(t){return arguments.length?((t=+t)>=1||n5("invalid cell size"),a=Math.floor(Math.log(t)/Math.LN2),u):1<<a},u.bandwidth=function(t){return arguments.length?(1===(t=V5(t)).length&&(t=[+t[0],+t[0]]),2!==t.length&&n5("invalid bandwidth"),r=t,u):r},u}function rCt(t,e,n,r,i){for(var o=1+(i<<1),a=0;a<e;++a)for(var u=0,s=0;u<t+i;++u)u<t&&(s+=n[u+a*t]),u>=i&&(u>=o&&(s-=n[u-o+a*t]),r[u-i+a*t]=s/Math.min(u+1,t-1+o-u,o))}function iCt(t,e,n,r,i){for(var o=1+(i<<1),a=0;a<t;++a)for(var u=0,s=0;u<e+i;++u)u<e&&(s+=n[a+u*t]),u>=i&&(u>=o&&(s-=n[a+(u-o)*t]),r[a+(u-i)*t]=s/Math.min(u+1,e-1+o-u,o))}function oCt(t){cnt.call(this,null,t)}Jkt.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},u6(Jkt,cnt,{transform:function(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=e.materialize(e.SOURCE).source,i=t.field||a5,o=Gkt().smooth(!1!==t.smooth),a=t.thresholds||function(t,e,n){var r=Zkt(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(t.map((function(t){return Kxt(e(t).values)})))}(r,i,t),u=null===t.as?null:t.as||"contour",s=[];return r.forEach((function(e){var n=i(e),r=o.size([n.width,n.height])(n.values,y5(a)?a:a(n.values));!function(t,e,n,r){var i=r.scale||e.scale,o=r.translate||e.translate;Y5(i)&&(i=i(n,r));Y5(o)&&(o=o(n,r));if((1===i||null==i)&&!o)return;var a=(d6(i)?i:i[0])||1,u=(d6(i)?i:i[1])||1,s=o&&o[0]||0,l=o&&o[1]||0;t.forEach(Qkt(e,a,u,s,l))}(r,n,e,t),r.forEach((function(t){s.push(Tet(e,_et(null!=u?mt({},u,t):t)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=s,n}}),oCt.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var aCt=["x","y","weight","size","cellSize","bandwidth"];function uCt(t,e){return aCt.forEach((function(n){return null!=e[n]?t[n](e[n]):0})),t}function sCt(t){cnt.call(this,null,t)}u6(oCt,cnt,{transform:function(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=function(t,e){var n,r,i,o,a,u,s=[],l=function(t){return t(o)};if(null==e)s.push(t);else for(n={},r=0,i=t.length;r<i;++r)o=t[r],(u=n[a=e.map(l)])||(n[a]=u=[],u.dims=a,s.push(u)),u.push(o);return s}(e.materialize(e.SOURCE).source,t.groupby),o=(t.groupby||[]).map(Z3),a=uCt(nCt(),t),u=t.as||"grid";return n=i.map((function(e){return _et(function(t,e){for(var n=0;n<o.length;++n)t[o[n]]=e[n];return t}(mt({},u,a(e,t.counts)),e.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),sCt.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},u6(sCt,cnt,{transform:function(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n,r,i=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=Gkt().smooth(!1!==t.smooth),a=t.values,u=t.thresholds||Zkt(t.count||10,t.nice,!!a),s=t.size;return a||(a=e.materialize(e.SOURCE).source,r=Qkt(n=uCt(nCt(),t)(a,!0),n.scale||1,n.scale||1,0,0),s=[n.width,n.height],a=n.values),u=y5(u)?u:u(a),a=o.size(s)(a,u),r&&a.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(a||[]).map(_et),i}});var lCt="Feature",cCt="FeatureCollection";function fCt(t){cnt.call(this,null,t)}function dCt(t){cnt.call(this,null,t)}function hCt(t){cnt.call(this,null,t)}function pCt(t){cnt.call(this,null,t)}function vCt(t){cnt.call(this,[],t),this.generator=hkt()}function gCt(t){cnt.call(this,null,t)}function mCt(t){if(!Y5(t))return!1;var e=M6(J3(t));return e.$x||e.$y||e.$value||e.$max}function yCt(t){cnt.call(this,null,t),this.modified(!0)}function xCt(t,e,n){Y5(t[e])&&t[e](n)}function bCt(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,u,s,l,c,f,d,h=t._root,p={data:r},v=t._x0,g=t._y0,m=t._x1,y=t._y1;if(!h)return t._root=p,t;for(;h.length;)if((l=e>=(o=(v+m)/2))?v=o:m=o,(c=n>=(a=(g+y)/2))?g=a:y=a,i=h,!(h=h[f=c<<1|l]))return i[f]=p,t;if(u=+t._x.call(null,h.data),s=+t._y.call(null,h.data),e===u&&n===s)return p.next=h,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(o=(v+m)/2))?v=o:m=o,(c=n>=(a=(g+y)/2))?g=a:y=a}while((f=c<<1|l)===(d=(s>=a)<<1|u>=o));return i[d]=h,i[f]=p,t}function wCt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function SCt(t){return t[0]}function kCt(t){return t[1]}function CCt(t,e,n){var r=new ECt(null==e?SCt:e,null==n?kCt:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ECt(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function OCt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}fCt.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},u6(fCt,cnt,{transform:function(t,e){var n,r=this._features,i=this._points,o=t.fields,a=o&&o[0],u=o&&o[1],s=t.geojson||!o&&a5,l=e.ADD;n=t.modified()||e.changed(e.REM)||e.modified(J3(s))||a&&e.modified(J3(a))||u&&e.modified(J3(u)),this.value&&!n||(l=e.SOURCE,this._features=r=[],this._points=i=[]),s&&e.visit(l,(function(t){return r.push(s(t))})),a&&u&&(e.visit(l,(function(t){var e=a(t),n=u(t);null!=e&&null!=n&&(e=+e)===e&&(n=+n)===n&&i.push([e,n])})),r=r.concat({type:lCt,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:cCt,features:r}}}),dCt.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},u6(dCt,cnt,{transform:function(t,e){var n=e.fork(e.ALL),r=this.value,i=t.field||a5,o=t.as||"path",a=n.SOURCE;!r||t.modified()?(this.value=r=ukt(t.projection),n.materialize().reflow()):a=i===a5||e.modified(i.fields)?n.ADD_MOD:n.ADD;var u=function(t,e){var n=t.pointRadius();t.context(null),null!=e&&t.pointRadius(e);return n}(r,t.pointRadius);return n.visit(a,(function(t){return t[o]=r(i(t))})),r.pointRadius(u),n.modifies(o)}}),hCt.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},u6(hCt,cnt,{transform:function(t,e){var n,r=t.projection,i=t.fields[0],o=t.fields[1],a=t.as||["x","y"],u=a[0],s=a[1];function l(t){var e=r([i(t),o(t)]);e?(t[u]=e[0],t[s]=e[1]):(t[u]=void 0,t[s]=void 0)}return t.modified()?e=e.materialize().reflow(!0).visit(e.SOURCE,l):(n=e.modified(i.fields)||e.modified(o.fields),e.visit(n?e.ADD_MOD:e.ADD,l)),e.modifies(a)}}),pCt.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},u6(pCt,cnt,{transform:function(t,e){var n=e.fork(e.ALL),r=this.value,i=t.as||"shape",o=n.ADD;return r&&!t.modified()||(this.value=r=function(t,e,n){var r=null==n?function(n){return t(e(n))}:function(r){var i=t.pointRadius(),o=t.pointRadius(n)(e(r));return t.pointRadius(i),o};return r.context=function(e){return t.context(e),r},r}(ukt(t.projection),t.field||i5("datum"),t.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(function(t){return t[i]=r})),n.modifies(i)}}),vCt.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},u6(vCt,cnt,{transform:function(t,e){var n,r=this.value,i=this.generator;if(!r.length||t.modified())for(var o in t)Y5(i[o])&&i[o](t[o]);return n=i(),r.length?e.mod.push(Pet(r[0],n)):e.add.push(_et(n)),r[0]=n,e}}),gCt.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},u6(gCt,cnt,{transform:function(t,e){if(!e.changed()&&!t.modified())return e.StopPropagation;var n=e.materialize(e.SOURCE).source,r="shared"===t.resolve,i=t.field||a5,o=function(t,e){var n;Y5(t)?(n=function(n){return t(n,e)},n.dep=mCt(t)):t?n=Z5(t):(n=function(t){return t.$value/t.$max||0},n.dep=!0);return n}(t.opacity,t),a=function(t,e){var n;Y5(t)?(n=function(n){return Lkt(t(n,e))},n.dep=mCt(t)):n=Z5(Lkt(t||"#888"));return n}(t.color,t),u=t.as||"image",s={$x:0,$y:0,$value:0,$max:r?Kxt(n.map((function(t){return Kxt(i(t).values)}))):0};return n.forEach((function(t){var e=i(t),n=Q5({},t,s);r||(n.$max=Kxt(e.values||[])),t[u]=function(t,e,n,r){for(var i=t.width,o=t.height,a=t.x1||0,u=t.y1||0,s=t.x2||i,l=t.y2||o,c=t.values,f=c?function(t){return c[t]}:u5,d=bat(s-a,l-u),h=d.getContext("2d"),p=h.getImageData(0,0,s-a,l-u),v=p.data,g=u,m=0;g<l;++g){e.$y=g-u;for(var y=a,x=g*i;y<s;++y,m+=4){e.$x=y-a,e.$value=f(y+x);var b=n(e);v[m+0]=b.r,v[m+1]=b.g,v[m+2]=b.b,v[m+3]=~~(255*r(e))}}return h.putImageData(p,0,0),d}(e,n,a.dep?a:Z5(a(n)),o.dep?o:Z5(o(n)))})),e.reflow(!0).modifies(u)}}),u6(yCt,cnt,{transform:function(t,e){var n=this.value;return!n||t.modified("type")?(this.value=n=function(t){var e=akt((t||"mercator").toLowerCase());e||n5("Unrecognized projection type: "+t);return e()}(t.type),ikt.forEach((function(e){null!=t[e]&&xCt(n,e,t[e])}))):ikt.forEach((function(e){t.modified(e)&&xCt(n,e,t[e])})),null!=t.pointRadius&&n.path.pointRadius(t.pointRadius),t.fit&&function(t,e){var n=function(t){return 1===(t=V5(t)).length?t[0]:{type:cCt,features:t.reduce((function(t,e){return t.concat(function(t){return t.type===cCt?t.features:V5(t).filter((function(t){return null!=t})).map((function(t){return t.type===lCt?t:{type:lCt,geometry:t}}))}(e))}),[])}}(e.fit);e.extent?t.fitExtent(e.extent,n):e.size&&t.fitSize(e.size,n)}(n,t),e.fork(e.NO_SOURCE|e.NO_FIELDS)}});var MCt=CCt.prototype=ECt.prototype;function _Ct(t){return function(){return t}}function ACt(t){return 1e-6*(t()-.5)}function TCt(t){return t.x+t.vx}function PCt(t){return t.y+t.vy}MCt.copy=function(){var t,e,n=new ECt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=OCt(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=OCt(e));return n},MCt.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return bCt(this.cover(e,n),e,n,t)},MCt.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,u[n]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),n=0;n<o;++n)bCt(this,a[n],u[n],t[n]);return this},MCt.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,u,s=i-n||1,l=this._root;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=l,l=a,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},MCt.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},MCt.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},MCt.find=function(t,e,n){var r,i,o,a,u,s,l,c=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new wCt(v,c,f,d,h)),null==n?n=1/0:(c=t-n,f=e-n,d=t+n,h=e+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(i=s.x0)>d||(o=s.y0)>h||(a=s.x1)<c||(u=s.y1)<f))if(v.length){var g=(i+a)/2,m=(o+u)/2;p.push(new wCt(v[3],g,m,a,u),new wCt(v[2],i,m,g,u),new wCt(v[1],g,o,a,m),new wCt(v[0],i,o,g,m)),(l=(e>=m)<<1|t>=g)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var y=t-+this._x.call(null,v.data),x=e-+this._y.call(null,v.data),b=y*y+x*x;if(b<n){var w=Math.sqrt(n=b);c=t-w,f=e-w,d=t+w,h=e+w,r=v.data}}return r},MCt.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,u,s,l,c,f,d,h=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((l=o>=(u=(p+g)/2))?p=u:g=u,(c=a>=(s=(v+m)/2))?v=s:m=s,e=h,!(h=h[f=c<<1|l]))return this;if(!h.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,d=f)}for(;h.data!==t;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},MCt.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},MCt.root=function(){return this._root},MCt.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},MCt.visit=function(t){var e,n,r,i,o,a,u=[],s=this._root;for(s&&u.push(new wCt(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&s.length){var l=(r+o)/2,c=(i+a)/2;(n=s[3])&&u.push(new wCt(n,l,c,o,a)),(n=s[2])&&u.push(new wCt(n,r,c,l,a)),(n=s[1])&&u.push(new wCt(n,l,i,o,c)),(n=s[0])&&u.push(new wCt(n,r,i,l,c))}return this},MCt.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new wCt(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,s=e.x1,l=e.y1,c=(a+s)/2,f=(u+l)/2;(o=i[0])&&n.push(new wCt(o,a,u,c,f)),(o=i[1])&&n.push(new wCt(o,c,u,s,f)),(o=i[2])&&n.push(new wCt(o,a,f,c,l)),(o=i[3])&&n.push(new wCt(o,c,f,s,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},MCt.x=function(t){return arguments.length?(this._x=t,this):this._x},MCt.y=function(t){return arguments.length?(this._y=t,this):this._y};var DCt={value:function(){}};function FCt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new NCt(r)}function NCt(t){this._=t}function ICt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function LCt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function RCt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=DCt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}NCt.prototype=FCt.prototype={constructor:NCt,on:function(t,e){var n,r=this._,i=ICt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=RCt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=RCt(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=LCt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new NCt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var jCt=FCt,BCt=n(6212),zCt=4294967296;function UCt(t){return t.x}function HCt(t){return t.y}var VCt=Math.PI*(3-Math.sqrt(5));function WCt(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,s=(0,BCt.HT)(f),l=jCt("tick","end"),c=function(){var t=1;return function(){return(t=(1664525*t+1013904223)%zCt)/zCt}}();function f(){d(),l.call("tick",e),n<r&&(s.stop(),l.call("end",e))}function d(r){var s,l,c=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,u.forEach((function(t){t(n)})),s=0;s<c;++s)null==(l=t[s]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function h(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*VCt;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),h(),e={tick:d,restart:function(){return s.restart(f),e},stop:function(){return s.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),u.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,u.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?u.delete(t):u.set(t,p(n)),e):u.get(t)},find:function(e,n,r){var i,o,a,u,s,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(u=t[l]).x)*i+(o=n-u.y)*o)<r&&(s=u,r=a);return s},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}function YCt(t){return t.index}function qCt(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}var GCt={center:function(t,e){var n,r=1;function i(){var i,o,a=n.length,u=0,s=0;for(i=0;i<a;++i)u+=(o=n[i]).x,s+=o.y;for(u=(u/a-t)*r,s=(s/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=u,o.y-=s}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i},collide:function(t){var e,n,r,i=1,o=1;function a(){for(var t,a,s,l,c,f,d,h=e.length,p=0;p<o;++p)for(a=CCt(e,TCt,PCt).visitAfter(u),t=0;t<h;++t)s=e[t],f=n[s.index],d=f*f,l=s.x+s.vx,c=s.y+s.vy,a.visit(v);function v(t,e,n,o,a){var u=t.data,h=t.r,p=f+h;if(!u)return e>l+p||o<l-p||n>c+p||a<c-p;if(u.index>s.index){var v=l-u.x-u.vx,g=c-u.y-u.vy,m=v*v+g*g;m<p*p&&(0===v&&(m+=(v=ACt(r))*v),0===g&&(m+=(g=ACt(r))*g),m=(p-(m=Math.sqrt(m)))/m*i,s.vx+=(v*=m)*(p=(h*=h)/(d+h)),s.vy+=(g*=m)*p,u.vx-=v*(p=1-p),u.vy-=g*p)}}}function u(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=_Ct(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,s()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:_Ct(+e),s(),a):t},a},nbody:function(){var t,e,n,r,i,o=_Ct(-30),a=1,u=1/0,s=.81;function l(n){var i,o=t.length,a=CCt(t,UCt,HCt).visitAfter(f);for(r=n,i=0;i<o;++i)e=t[i],a.visit(d)}function c(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function f(t){var e,n,r,o,a,u=0,s=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(u+=e.value,s+=n,r+=n*e.x,o+=n*e.y);t.x=r/s,t.y=o/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=i[e.data.index]}while(e=e.next)}t.value=u}function d(t,o,l,c){if(!t.value)return!0;var f=t.x-e.x,d=t.y-e.y,h=c-o,p=f*f+d*d;if(h*h/s<p)return p<u&&(0===f&&(p+=(f=ACt(n))*f),0===d&&(p+=(d=ACt(n))*d),p<a&&(p=Math.sqrt(a*p)),e.vx+=f*t.value*r/p,e.vy+=d*t.value*r/p),!0;if(!(t.length||p>=u)){(t.data!==e||t.next)&&(0===f&&(p+=(f=ACt(n))*f),0===d&&(p+=(d=ACt(n))*d),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(h=i[t.data.index]*r/p,e.vx+=f*h,e.vy+=d*h)}while(t=t.next)}}return l.initialize=function(e,r){t=e,n=r,c()},l.strength=function(t){return arguments.length?(o="function"===typeof t?t:_Ct(+t),c(),l):o},l.distanceMin=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.distanceMax=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l},link:function(t){var e,n,r,i,o,a,u=YCt,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=_Ct(30),c=1;function f(r){for(var i=0,u=t.length;i<c;++i)for(var s,l,f,d,h,p,v,g=0;g<u;++g)l=(s=t[g]).source,d=(f=s.target).x+f.vx-l.x-l.vx||ACt(a),h=f.y+f.vy-l.y-l.vy||ACt(a),d*=p=((p=Math.sqrt(d*d+h*h))-n[g])/p*r*e[g],h*=p,f.vx-=d*(v=o[g]),f.vy-=h*v,l.vx+=d*(v=1-v),l.vy+=h*v}function d(){if(r){var a,s,l=r.length,c=t.length,f=new Map(r.map((function(t,e){return[u(t,e,r),t]})));for(a=0,i=new Array(l);a<c;++a)(s=t[a]).index=a,"object"!==typeof s.source&&(s.source=qCt(f,s.source)),"object"!==typeof s.target&&(s.target=qCt(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)s=t[a],o[a]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);e=new Array(c),h(),n=new Array(c),p()}}function h(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,a=e,d()},f.links=function(e){return arguments.length?(t=e,d(),f):t},f.id=function(t){return arguments.length?(u=t,f):u},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(s="function"===typeof t?t:_Ct(+t),h(),f):s},f.distance=function(t){return arguments.length?(l="function"===typeof t?t:_Ct(+t),p(),f):l},f},x:function(t){var e,n,r,i=_Ct(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=_Ct(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:_Ct(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"===typeof e?e:_Ct(+e),a(),o):t},o},y:function(t){var e,n,r,i=_Ct(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=_Ct(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:_Ct(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"===typeof e?e:_Ct(+e),a(),o):t},o}},$Ct="forces",XCt=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],KCt=["static","iterations"],ZCt=["x","y","vx","vy"];function JCt(t){cnt.call(this,null,t)}function QCt(t,e,n,r){var i,o,a,u,s=V5(e.forces);for(i=0,o=XCt.length;i<o;++i)(a=XCt[i])!==$Ct&&e.modified(a)&&t[a](e[a]);for(i=0,o=s.length;i<o;++i)u=$Ct+i,(a=n||e.modified($Ct,i)?eEt(s[i]):r&&tEt(s[i],r)?t.force(u):null)&&t.force(u,a);for(o=t.numForces||0;i<o;++i)t.force($Ct+i,null);return t.numForces=s.length,t}function tEt(t,e){var n,r;for(n in t)if(Y5(r=t[n])&&e.modified(J3(r)))return 1;return 0}function eEt(t){var e,n;for(n in r6(GCt,t.force)||n5("Unrecognized force: "+t.force),e=GCt[t.force](),t)Y5(e[n])&&nEt(e[n],t[n],t);return e}function nEt(t,e,n){t(Y5(e)?function(t){return e(t,n)}:e)}function rEt(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}JCt.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:ZCt}]},u6(JCt,cnt,{transform:function(t,e){var n,r,i=this.value,o=e.changed(e.ADD_REM),a=t.modified(XCt),u=t.iterations||300;if(i?(o&&(e.modifies("index"),i.nodes(e.source)),(a||e.changed(e.MOD))&&QCt(i,t,0,e)):(this.value=i=function(t,e){var n=WCt(t),r=n.stop,i=n.restart,o=!1;return n.stopped=function(){return o},n.restart=function(){return o=!1,i()},n.stop=function(){return o=!0,r()},QCt(n,e,!0).on("end",(function(){return o=!0}))}(e.source,t),i.on("tick",(n=e.dataflow,r=this,function(){return n.touch(r).run()})),t.static||(o=!0,i.tick()),e.modifies("index")),a||o||t.modified(KCt)||e.changed()&&t.restart)if(i.alpha(Math.max(i.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/u)),t.static)for(i.stop();--u>=0;)i.tick();else if(i.stopped()&&i.restart(),!o)return e.StopPropagation;return this.finish(t,e)},finish:function(t,e){for(var n,r=e.dataflow,i=this._argops,o=0,a=i.length;o<a;++o)if((n=i[o]).name===$Ct&&"link"===n.op._argval.force)for(var u,s=n.op._argops,l=0,c=s.length;l<c;++l)if("links"===s[l].name&&(u=s[l].op.source)){r.pulse(u,r.changeset().reflow());break}return e.reflow(t.modified()).modifies(ZCt)}});var iEt=Ct.mark(oEt);function oEt(){var t,e,n,r,i,o;return Ct.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=[t=this];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){a.next=8;break}return a.next=5,t;case 5:if(r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);a.next=2;break;case 8:if(n.length){a.next=1;break}case 9:case"end":return a.stop()}}),iEt,this)}function aEt(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=sEt)):void 0===e&&(e=uEt);for(var n,r,i,o,a,u=new fEt(t),s=[u];n=s.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)s.push(r=i[o]=new fEt(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(cEt)}function uEt(t){return t.children}function sEt(t){return Array.isArray(t)?t[1]:null}function lEt(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function cEt(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function fEt(t){this.data=t,this.depth=this.height=0,this.parent=null}function dEt(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&vEt(n,e)?++r:(n=mEt(o=hEt(o,e)),r=0);return n}function hEt(t,e){var n,r;if(gEt(e,t))return[e];for(n=0;n<t.length;++n)if(pEt(e,t[n])&&gEt(yEt(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(pEt(yEt(t[n],t[r]),e)&&pEt(yEt(t[n],e),t[r])&&pEt(yEt(t[r],e),t[n])&&gEt(xEt(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function pEt(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function vEt(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function gEt(t,e){for(var n=0;n<e.length;++n)if(!vEt(t,e[n]))return!1;return!0}function mEt(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return yEt(t[0],t[1]);case 3:return xEt(t[0],t[1],t[2])}}function yEt(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,s=o-n,l=a-r,c=u-i,f=Math.sqrt(s*s+l*l);return{x:(n+o+s/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+u)/2}}function xEt(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,s=e.r,l=n.x,c=n.y,f=n.r,d=r-a,h=r-l,p=i-u,v=i-c,g=s-o,m=f-o,y=r*r+i*i-o*o,x=y-a*a-u*u+s*s,b=y-l*l-c*c+f*f,w=h*p-d*v,S=(p*b-v*x)/(2*w)-r,k=(v*g-p*m)/w,C=(h*x-d*b)/(2*w)-i,E=(d*m-h*g)/w,O=k*k+E*E-1,M=2*(o+S*k+C*E),_=S*S+C*C-o*o,A=-(O?(M+Math.sqrt(M*M-4*O*_))/(2*O):_/M);return{x:r+S+k*A,y:i+C+E*A,r:A}}function bEt(t,e,n){var r,i,o,a,u=t.x-e.x,s=t.y-e.y,l=u*u+s*s;l?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*u-o*s,n.y=t.y-r*s+o*u):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*u-o*s,n.y=e.y+r*s+o*u)):(n.x=e.x+n.r,n.y=e.y)}function wEt(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function SEt(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function kEt(t){this._=t,this.next=null,this.previous=null}function CEt(t){if(!(i=(t=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,n,r,i,o,a,u,s,l,c,f;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;bEt(n,e,r=t[2]),e=new kEt(e),n=new kEt(n),r=new kEt(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){bEt(e._,n._,r=t[u]),r=new kEt(r),s=n.next,l=e.previous,c=n._.r,f=e._.r;do{if(c<=f){if(wEt(s._,r._)){n=s,e.next=n,n.previous=e,--u;continue t}c+=s._.r,s=s.next}else{if(wEt(l._,r._)){(e=l).next=n,n.previous=e,--u;continue t}f+=l._.r,l=l.previous}}while(s!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=SEt(e);(r=r.next)!==n;)(a=SEt(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=dEt(e),u=0;u<i;++u)(e=t[u]).x-=r.x,e.y-=r.y;return r.r}function EEt(t){return null==t?null:OEt(t)}function OEt(t){if("function"!==typeof t)throw new Error;return t}function MEt(){return 0}function _Et(t){return function(){return t}}function AEt(t){return Math.sqrt(t.value)}function TEt(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function PEt(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=CEt(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function DEt(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function FEt(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function NEt(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,l=t.value&&(r-e)/t.value;++u<s;)(o=a[u]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}fEt.prototype=aEt.prototype=mt({constructor:fEt,count:function(){return this.eachAfter(rEt)},each:function(t,e){var n,r=-1,i=qe(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.call(e,o,++r,this)}}catch(a){i.e(a)}finally{i.f()}return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],u=[],s=-1;o=a.pop();)if(u.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=u.pop();)t.call(e,o,++s,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){var n,r=-1,i=qe(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t.call(e,o,++r,this))return o}}catch(a){i.e(a)}finally{i.f()}},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return aEt(this).eachBefore(lEt)}},Symbol.iterator,oEt);var IEt={depth:-1},LEt={},REt={};function jEt(t){return t.id}function BEt(t){return t.parentId}function zEt(){var t,e=jEt,n=BEt;function r(r){var i,o,a,u,s,l,c,f,d=Array.from(r),h=e,p=n,v=new Map;if(null!=t){var g,m=d.map((function(e,n){return function(t){var e=(t="".concat(t)).length;HEt(t,e-1)&&!HEt(t,e-2)&&(t=t.slice(0,-1));return"/"===t[0]?t:"/".concat(t)}(t(e,n,r))})),y=m.map(UEt),x=new Set(m).add(""),b=qe(y);try{for(b.s();!(g=b.n()).done;){var w=g.value;x.has(w)||(x.add(w),m.push(w),y.push(UEt(w)),d.push(REt))}}catch(k){b.e(k)}finally{b.f()}h=function(t,e){return m[e]},p=function(t,e){return y[e]}}for(a=0,i=d.length;a<i;++a)o=d[a],l=d[a]=new fEt(o),null!=(c=h(o,a,r))&&(c+="")&&(f=l.id=c,v.set(f,v.has(f)?LEt:l)),null!=(c=p(o,a,r))&&(c+="")&&(l.parent=c);for(a=0;a<i;++a)if(c=(l=d[a]).parent){if(!(s=v.get(c)))throw new Error("missing: "+c);if(s===LEt)throw new Error("ambiguous: "+c);s.children?s.children.push(l):s.children=[l],l.parent=s}else{if(u)throw new Error("multiple roots");u=l}if(!u)throw new Error("no root");if(null!=t){for(;u.data===REt&&1===u.children.length;)u=u.children[0],--i;for(var S=d.length-1;S>=0&&(l=d[S]).data===REt;--S)l.data=null}if(u.parent=IEt,u.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(cEt),u.parent=null,i>0)throw new Error("cycle");return u}return r.id=function(t){return arguments.length?(e=EEt(t),r):e},r.parentId=function(t){return arguments.length?(n=EEt(t),r):n},r.path=function(e){return arguments.length?(t=EEt(e),r):t},r}function UEt(t){var e=t.length;if(e<2)return"";for(;--e>1&&!HEt(t,e););return t.slice(0,e)}function HEt(t,e){if("/"===t[e]){for(var n=0;e>0&&"\\"===t[--e];)++n;if(0===(1&n))return!0}return!1}function VEt(t,e){return t.parent===e.parent?1:2}function WEt(t){var e=t.children;return e?e[0]:t.t}function YEt(t){var e=t.children;return e?e[e.length-1]:t.t}function qEt(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function GEt(t,e,n){return t.a.parent===e.parent?t.a:n}function $Et(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function XEt(t,e){return t.parent===e.parent?1:2}function KEt(t,e){return t+e.x}function ZEt(t,e){return Math.max(t,e.y)}function JEt(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,l=t.value&&(i-n)/t.value;++u<s;)(o=a[u]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}$Et.prototype=Object.create(fEt.prototype);var QEt=(1+Math.sqrt(5))/2;function tOt(t,e,n,r,i,o){for(var a,u,s,l,c,f,d,h,p,v,g,m=[],y=e.children,x=0,b=0,w=y.length,S=e.value;x<w;){s=i-n,l=o-r;do{c=y[b++].value}while(!c&&b<w);for(f=d=c,g=c*c*(v=Math.max(l/s,s/l)/(S*t)),p=Math.max(d/g,g/f);b<w;++b){if(c+=u=y[b].value,u<f&&(f=u),u>d&&(d=u),g=c*c*v,(h=Math.max(d/g,g/f))>p){c-=u;break}p=h}m.push(a={value:c,dice:s<l,children:y.slice(x,b)}),a.dice?NEt(a,n,r,i,S?r+=l*c/S:o):JEt(a,n,r,S?n+=s*c/S:i,o),S-=c,x=b}return m}var eOt=function t(e){function n(t,n,r,i,o){tOt(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(QEt),nOt=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,u,s,l,c,f=-1,d=a.length,h=t.value;++f<d;){for(s=(u=a[f]).children,l=u.value=0,c=s.length;l<c;++l)u.value+=s[l].value;u.dice?NEt(u,n,r,i,h?r+=(o-r)*u.value/h:o):JEt(u,n,r,h?n+=(i-n)*u.value/h:i,o),h-=u.value}else t._squarify=a=tOt(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(QEt);function rOt(t,e,n){var r={};return t.each((function(t){var i=t.data;n(i)&&(r[e(i)]=t)})),t.lookup=r,t}function iOt(t){cnt.call(this,null,t)}iOt.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var oOt=function(t){return t.values};function aOt(){var t=[],e={entries:function(t){return r(n(t,0),0)},key:function(n){return t.push(n),e}};function n(e,r){if(r>=t.length)return e;for(var i,o,a,u=e.length,s=t[r++],l={},c={},f=-1;++f<u;)(a=l[i=s(o=e[f])+""])?a.push(o):l[i]=[o];for(i in l)c[i]=n(l[i],r);return c}function r(e,n){if(++n>t.length)return e;var i=[];for(var o in e)i.push({key:o,values:r(e[o],n)});return i}return e}function uOt(t){cnt.call(this,null,t)}u6(iOt,cnt,{transform:function(t,e){e.source||n5("Nest transform requires an upstream data source.");var n=t.generate,r=t.modified(),i=e.clone(),o=this.value;return(!o||r||e.changed())&&(o&&o.each((function(t){t.children&&Eet(t.data)&&i.rem.push(t.data)})),this.value=o=aEt({values:V5(t.keys).reduce((function(t,e){return t.key(e),t}),aOt()).entries(i.source)},oOt),n&&o.each((function(t){t.children&&(t=_et(t.data),i.add.push(t),i.source.push(t))})),rOt(o,Oet,Oet)),i.source.root=o,i}});var sOt=function(t,e){return t.parent===e.parent?1:2};u6(uOt,cnt,{transform:function(t,e){e.source&&e.source.root||n5(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(t.method),r=this.fields,i=e.source.root,o=t.as||r;t.field?i.sum(t.field):i.count(),t.sort&&i.sort(Det(t.sort,(function(t){return t.data}))),function(t,e,n){for(var r,i=0,o=e.length;i<o;++i)(r=e[i])in n&&t[r](n[r])}(n,this.params,t),n.separation&&n.separation(!1!==t.separation?sOt:s5);try{this.value=n(i)}catch(a){n5(a)}return i.each((function(t){return function(t,e,n){for(var r=t.data,i=e.length-1,o=0;o<i;++o)r[n[o]]=t[e[o]];r[n[i]]=t.children?t.children.length:0}(t,r,o)})),e.reflow(t.modified()).modifies(o).modifies("leaf")}});var lOt=["x","y","r","depth","children"];function cOt(t){uOt.call(this,t)}cOt.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:lOt.length,default:lOt}]},u6(cOt,uOt,{layout:function(){var t=null,e=1,n=1,r=MEt;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(TEt(t)).eachAfter(PEt(r,.5)).eachBefore(DEt(1)):i.eachBefore(TEt(AEt)).eachAfter(PEt(MEt,1)).eachAfter(PEt(r,i.r/Math.min(e,n))).eachBefore(DEt(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=EEt(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:_Et(+t),i):r},i},params:["radius","size","padding"],fields:lOt});var fOt=["x0","y0","x1","y1","depth","children"];function dOt(t){uOt.call(this,t)}function hOt(t){cnt.call(this,null,t)}dOt.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:fOt.length,default:fOt}]},u6(dOt,uOt,{layout:function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&NEt(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,u=r.y1-n;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(e,o)),r&&i.eachBefore(FEt),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},params:["size","round","padding"],fields:fOt}),hOt.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},u6(hOt,cnt,{transform:function(t,e){e.source||n5("Stratify transform requires an upstream data source.");var n=this.value,r=t.modified(),i=e.fork(e.ALL).materialize(e.SOURCE),o=!n||r||e.changed(e.ADD_REM)||e.modified(t.key.fields)||e.modified(t.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?rOt(zEt().id(t.key).parentId(t.parentKey)(i.source),t.key,l5):rOt(zEt()([{}]),t.key,t.key)),i.source.root=this.value=n,i}});var pOt={tidy:function(){var t=VEt,e=1,n=1,r=null;function i(i){var s=function(t){for(var e,n,r,i,o,a=new $Et(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=e.children[i]=new $Et(r[i],i)),n.parent=e;return(a.parent=new $Et(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(u);else{var l=i,c=i,f=i;i.eachBefore((function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)}));var d=l===c?1:t(l,c)/2,h=d-l.x,p=e/(c.x+d+h),v=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+h)*p,t.y=t.depth*v}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,u=n,s=o.parent.children[0],l=o.m,c=a.m,f=u.m,d=s.m;u=YEt(u),o=WEt(o),u&&o;)s=WEt(s),(a=YEt(a)).a=e,(i=u.z+f-o.z-l+t(u._,o._))>0&&(qEt(GEt(u,e,r),e,i),l+=i,c+=i),f+=u.m,l+=o.m,d+=s.m,c+=a.m;u&&!YEt(a)&&(a.t=u,a.m+=f-c),o&&!WEt(s)&&(s.t=o,s.m+=l-d,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},cluster:function(){var t=XEt,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(KEt,0)/t.length}(n),e.y=function(t){return 1+t.reduce(ZEt,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var u=function(t){for(var e;e=t.children;)t=e[0];return t}(i),s=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),l=u.x-t(u,s)/2,c=s.x+t(s,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-l)/(c-l)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}},vOt=["x","y","depth","children"];function gOt(t){uOt.call(this,t)}function mOt(t){cnt.call(this,[],t)}gOt.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:vOt.length,default:vOt}]},u6(gOt,uOt,{layout:function(t){var e=t||"tidy";if(r6(pOt,e))return pOt[e]();n5("Unrecognized Tree layout method: "+e)},params:["size","nodeSize"],fields:vOt}),mOt.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},u6(mOt,cnt,{transform:function(t,e){var n=this.value,r=e.source&&e.source.root,i=e.fork(e.NO_SOURCE),o={};return r||n5("TreeLinks transform requires a tree data source."),e.changed(e.ADD_REM)?(i.rem=n,e.visit(e.SOURCE,(function(t){return o[Oet(t)]=1})),r.each((function(t){var e=t.data,n=t.parent&&t.parent.data;n&&o[Oet(e)]&&o[Oet(n)]&&i.add.push(_et({source:n,target:e}))})),this.value=i.add):e.changed(e.MOD)&&(e.visit(e.MOD,(function(t){return o[Oet(t)]=1})),n.forEach((function(t){(o[Oet(t.source)]||o[Oet(t.target)])&&i.mod.push(t)}))),i}});var yOt={binary:function(t,e,n,r,i){var o,a,u=t.children,s=u.length,l=new Array(s+1);for(l[0]=a=o=0;o<s;++o)l[o+1]=a+=u[o].value;!function t(e,n,r,i,o,a,s){if(e>=n-1){var c=u[e];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=s)}var f=l[e],d=r/2+f,h=e+1,p=n-1;for(;h<p;){var v=h+p>>>1;l[v]<d?h=v+1:p=v}d-l[h-1]<l[h]-d&&e+1<h&&--h;var g=l[h]-f,m=r-g;if(a-i>s-o){var y=r?(i*m+a*g)/r:a;t(e,h,g,i,o,y,s),t(h,n,m,y,o,a,s)}else{var x=r?(o*m+s*g)/r:s;t(e,h,g,i,o,a,x),t(h,n,m,i,x,a,s)}}(0,s,t.value,e,n,r,i)},dice:NEt,slice:JEt,slicedice:function(t,e,n,r,i){(1&t.depth?JEt:NEt)(t,e,n,r,i)},squarify:eOt,resquarify:nOt},xOt=["x0","y0","x1","y1","depth","children"];function bOt(t){uOt.call(this,t)}bOt.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:xOt.length,default:xOt}]},u6(bOt,uOt,{layout:function(){var t=function(){var t=eOt,e=!1,n=1,r=1,i=[0],o=MEt,a=MEt,u=MEt,s=MEt,l=MEt;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(FEt),t}function f(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,f=e.x1-n,d=e.y1-n;f<r&&(r=f=(r+f)/2),d<c&&(c=d=(c+d)/2),e.x0=r,e.y0=c,e.x1=f,e.y1=d,e.children&&(n=i[e.depth+1]=o(e)/2,r+=l(e)-n,c+=a(e)-n,(f-=u(e)-n)<r&&(r=f=(r+f)/2),(d-=s(e)-n)<c&&(c=d=(c+d)/2),t(e,r,c,f,d))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=OEt(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:_Et(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:_Et(+t),c):a},c.paddingRight=function(t){return arguments.length?(u="function"===typeof t?t:_Et(+t),c):u},c.paddingBottom=function(t){return arguments.length?(s="function"===typeof t?t:_Et(+t),c):s},c.paddingLeft=function(t){return arguments.length?(l="function"===typeof t?t:_Et(+t),c):l},c}();return t.ratio=function(e){var n=t.tile();n.ratio&&t.tile(n.ratio(e))},t.method=function(e){r6(yOt,e)?t.tile(yOt[e]):n5("Unrecognized Treemap layout method: "+e)},t},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:xOt});var wOt=4278190080;function SOt(t,e,n){return new Uint32Array(t.getImageData(0,0,e,n).data.buffer)}function kOt(t,e,n){if(e.length){var r=e[0].mark.marktype;"group"===r?e.forEach((function(e){e.items.forEach((function(e){return kOt(t,e.items,n)}))})):ngt[r].draw(t,{items:n?e.map(COt):e})}}function COt(t){var e=Tet(t,{});return e.stroke&&0!==e.strokeOpacity||e.fill&&0!==e.fillOpacity?xt(xt({},e),{},{strokeOpacity:1,stroke:"#000",fillOpacity:0}):e}var EOt=31,OOt=new Uint32Array(33),MOt=new Uint32Array(33);MOt[0]=0,OOt[0]=~MOt[0];for(var _Ot=1;_Ot<=32;++_Ot)MOt[_Ot]=MOt[_Ot-1]<<1|1,OOt[_Ot]=~MOt[_Ot];function AOt(t,e,n){var r=Math.max(1,Math.sqrt(t*e/1e6)),i=~~((t+2*n+r)/r),o=~~((e+2*n+r)/r),a=function(t){return~~((t+n)/r)};return a.invert=function(t){return t*r-n},a.bitmap=function(){return function(t,e){var n=new Uint32Array(~~((t*e+32)/32));function r(t,e){n[t]|=e}function i(t,e){n[t]&=e}return{array:n,get:function(e,r){var i=r*t+e;return n[i>>>5]&1<<(i&EOt)},set:function(e,n){var i=n*t+e;r(i>>>5,1<<(i&EOt))},clear:function(e,n){var r=n*t+e;i(r>>>5,~(1<<(r&EOt)))},getRange:function(e,r,i,o){for(var a,u,s,l,c=o;c>=r;--c)if((s=(a=c*t+e)>>>5)===(l=(u=c*t+i)>>>5)){if(n[s]&OOt[a&EOt]&MOt[1+(u&EOt)])return!0}else{if(n[s]&OOt[a&EOt])return!0;if(n[l]&MOt[1+(u&EOt)])return!0;for(var f=s+1;f<l;++f)if(n[f])return!0}return!1},setRange:function(e,n,i,o){for(var a,u,s,l,c;n<=o;++n)if((s=(a=n*t+e)>>>5)===(l=(u=n*t+i)>>>5))r(s,OOt[a&EOt]&MOt[1+(u&EOt)]);else for(r(s,OOt[a&EOt]),r(l,MOt[1+(u&EOt)]),c=s+1;c<l;++c)r(c,4294967295)},clearRange:function(e,n,r,o){for(var a,u,s,l,c;n<=o;++n)if((s=(a=n*t+e)>>>5)===(l=(u=n*t+r)>>>5))i(s,MOt[a&EOt]|OOt[1+(u&EOt)]);else for(i(s,MOt[a&EOt]),i(l,OOt[1+(u&EOt)]),c=s+1;c<l;++c)i(c,0)},outOfBounds:function(n,r,i,o){return n<0||r<0||o>=e||i>=t}}}(i,o)},a.ratio=r,a.padding=n,a.width=t,a.height=e,a}function TOt(t,e,n,r,i,o){var a=n/2;return t-a<0||t+a>i||e-(a=r/2)<0||e+a>o}function POt(t,e,n,r,i,o,a,u){var s=i*o/(2*r),l=t(e-s),c=t(e+s),f=t(n-(o/=2)),d=t(n+o);return a.outOfBounds(l,f,c,d)||a.getRange(l,f,c,d)||u&&u.getRange(l,f,c,d)}var DOt=[-1,-1,1,1],FOt=[-1,1,-1,1];var NOt=["right","center","left"],IOt=["bottom","middle","top"];function LOt(t,e,n,r,i,o,a,u,s,l,c,f){return!(i.outOfBounds(t,n,e,r)||(f&&o||i).getRange(t,n,e,r))}var ROt={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},jOt={naive:function(t,e,n,r){var i=t.width,o=t.height;return function(t){for(var e,n,a,u,s,l,c,f=t.datum.datum.items[r].items,d=f.length,h=t.datum.fontSize,p=Lvt.width(t.datum,t.datum.text),v=0,g=0;g<d;++g)e=f[g].x,a=f[g].y,s=(e+(n=void 0===f[g].x2?e:f[g].x2))/2,l=(a+(u=void 0===f[g].y2?a:f[g].y2))/2,(c=Math.abs(n-e+u-a))>=v&&(v=c,t.x=s,t.y=l);return s=p/2,l=h/2,e=t.x-s,n=t.x+s,a=t.y-l,u=t.y+l,t.align="center",e<0&&n<=i?t.align="left":0<=e&&i<n&&(t.align="right"),t.baseline="middle",a<0&&u<=o?t.baseline="top":0<=a&&o<u&&(t.baseline="bottom"),!0}},"reduced-search":function(t,e,n,r){var i=t.width,o=t.height,a=e[0],u=e[1];function s(e,n,r,s,l){var c,f=t.invert(e),d=t.invert(n),h=r,p=o;if(!TOt(f,d,s,l,i,o)&&!POt(t,f,d,l,s,h,a,u)&&!POt(t,f,d,l,s,l,a,null)){for(;p-h>=1;)POt(t,f,d,l,s,c=(h+p)/2,a,u)?p=c:h=c;if(h>r)return[f,d,h,!0]}}return function(e){for(var u,l,c,f,d,h,p,v,g,m,y,x,b,w,S,k,C,E=e.datum.datum.items[r].items,O=E.length,M=e.datum.fontSize,_=Lvt.width(e.datum,e.datum.text),A=n?M:0,T=!1,P=!1,D=0,F=0;F<O;++F){for(u=E[F].x,c=E[F].y,u>(l=void 0===E[F].x2?u:E[F].x2)&&(C=u,u=l,l=C),c>(f=void 0===E[F].y2?c:E[F].y2)&&(C=c,c=f,f=C),m=~~(((g=t(u))+(y=t(l)))/2),b=~~(((x=t(c))+(w=t(f)))/2),p=m;p>=g;--p)for(v=b;v>=x;--v)if(k=s(p,v,A,_,M)){var N=j(k,4);e.x=N[0],e.y=N[1],A=N[2],T=N[3]}for(p=m;p<=y;++p)for(v=b;v<=w;++v)if(k=s(p,v,A,_,M)){var I=j(k,4);e.x=I[0],e.y=I[1],A=I[2],T=I[3]}T||n||(d=(u+l)/2,h=(c+f)/2,(S=Math.abs(l-u+f-c))>=D&&!TOt(d,h,_,M,i,o)&&!POt(t,d,h,M,_,M,a,null)&&(D=S,e.x=d,e.y=h,P=!0))}return!(!T&&!P)&&(d=_/2,h=M/2,a.setRange(t(e.x-d),t(e.y-h),t(e.x+d),t(e.y+h)),e.align="center",e.baseline="middle",!0)}},floodfill:function(t,e,n,r){var i=t.width,o=t.height,a=e[0],u=e[1],s=t.bitmap();return function(e){for(var l,c,f,d,h,p,v,g,m,y,x,b,w=e.datum.datum.items[r].items,S=w.length,k=e.datum.fontSize,C=Lvt.width(e.datum,e.datum.text),E=[],O=n?k:0,M=!1,_=!1,A=0,T=0;T<S;++T){for(l=w[T].x,f=w[T].y,c=void 0===w[T].x2?l:w[T].x2,d=void 0===w[T].y2?f:w[T].y2,E.push([t((l+c)/2),t((f+d)/2)]);E.length;){var P=j(E.pop(),2);if(v=P[0],g=P[1],!(a.get(v,g)||u.get(v,g)||s.get(v,g))){s.set(v,g);for(var D=0;D<4;++D)h=v+DOt[D],p=g+FOt[D],s.outOfBounds(h,p,h,p)||E.push([h,p]);if(h=t.invert(v),p=t.invert(g),m=O,y=o,!TOt(h,p,C,k,i,o)&&!POt(t,h,p,k,C,m,a,u)&&!POt(t,h,p,k,C,k,a,null)){for(;y-m>=1;)POt(t,h,p,k,C,x=(m+y)/2,a,u)?y=x:m=x;m>O&&(e.x=h,e.y=p,O=m,M=!0)}}}M||n||(h=(l+c)/2,p=(f+d)/2,(b=Math.abs(c-l+d-f))>=A&&!TOt(h,p,C,k,i,o)&&!POt(t,h,p,k,C,k,a,null)&&(A=b,e.x=h,e.y=p,_=!0))}return!(!M&&!_)&&(h=C/2,p=k/2,a.setRange(t(e.x-h),t(e.y-p),t(e.x+h),t(e.y+p)),e.align="center",e.baseline="middle",!0)}}};function BOt(t,e,n,r,i,o,a,u,s,l,c){if(!t.length)return t;var f,d=Math.max(r.length,i.length),h=function(t,e){for(var n=new Float64Array(e),r=t.length,i=0;i<r;++i)n[i]=t[i]||0;for(var o=r;o<e;++o)n[o]=n[r-1];return n}(r,d),p=function(t,e){for(var n=new Int8Array(e),r=t.length,i=0;i<r;++i)n[i]|=ROt[t[i]];for(var o=r;o<e;++o)n[o]=n[r-1];return n}(i,d),v=(f=t[0].datum)&&f.mark&&f.mark.marktype,g="group"===v&&t[0].datum.items[s].marktype,m="area"===g,y=function(t,e,n,r){var i=function(t){return[t.x,t.x,t.x,t.y,t.y,t.y]};return t?"line"===t||"area"===t?function(t){return i(t.datum)}:"line"===e?function(t){var e=t.datum.items[r].items;return i(e.length?e["start"===n?0:e.length-1]:{x:NaN,y:NaN})}:function(t){var e=t.datum.bounds;return[e.x1,(e.x1+e.x2)/2,e.x2,e.y1,(e.y1+e.y2)/2,e.y2]}:i}(v,g,u,s),x=null===l||l===1/0,b=m&&"naive"===c,w=-1,S=-1,k=t.map((function(t){var e=x?Lvt.width(t,t.text):void 0;return w=Math.max(w,e),S=Math.max(S,t.fontSize),{datum:t,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(t),textWidth:e}}));l=null===l||l===1/0?Math.max(w,S)+Math.max.apply(Math,Ye(r)):l;var C,E=AOt(e[0],e[1],l);if(!b){n&&k.sort((function(t,e){return n(t.datum,e.datum)}));for(var O=!1,M=0;M<p.length&&!O;++M)O=5===p[M]||h[M]<0;var _=(v&&a||m)&&t.map((function(t){return t.datum}));C=o.length||_?function(t,e,n,r,i){var o=t.width,a=t.height,u=r||i,s=bat(o,a).getContext("2d"),l=bat(o,a).getContext("2d"),c=u&&bat(o,a).getContext("2d");n.forEach((function(t){return kOt(s,t,!1)})),kOt(l,e,!1),u&&kOt(c,e,!0);var f,d,h,p,v,g,m,y,x=SOt(s,o,a),b=SOt(l,o,a),w=u&&SOt(c,o,a),S=t.bitmap(),k=u&&t.bitmap();for(d=0;d<a;++d)for(f=0;f<o;++f)g=x[v=d*o+f]&wOt,y=b[v]&wOt,m=u&&w[v]&wOt,(g||m||y)&&(h=t(f),p=t(d),i||!g&&!y||S.set(h,p),u&&(g||m)&&k.set(h,p));return[S,k]}(E,_||[],o,O,m):function(t,e){var n=t.bitmap();return(e||[]).forEach((function(e){return n.set(t(e.boundary[0]),t(e.boundary[3]))})),[n,void 0]}(E,a&&k)}var A=m?jOt[c](E,C,a,s):function(t,e,n,r){var i=t.width,o=t.height,a=e[0],u=e[1],s=r.length;return function(e){var l,c=e.boundary,f=e.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;for(var d,h,p,v,g,m,y,x,b,w,S,k,C,E,O,M=null!==(l=e.textWidth)&&void 0!==l?l:0,_=0;_<s;++_){if(d=(3&n[_])-1,h=(n[_]>>>2&3)-1,p=0===d&&0===h||r[_]<0,v=d&&h?Math.SQRT1_2:1,g=r[_]<0?-1:1,m=c[1+d]+r[_]*d*v,x=(S=c[4+h]+g*f*h/2+r[_]*h*v)-f/2,b=S+f/2,k=t(m),E=t(x),O=t(b),!M){if(!LOt(k,k,E,O,a,u,0,0,0,0,0,p))continue;M=Lvt.width(e.datum,e.datum.text)}if(y=(w=m+g*M*d/2)+M/2,LOt(k=t(m=w-M/2),C=t(y),E,O,a,u,0,0,0,0,0,p))return e.x=d?d*g<0?y:m:w,e.y=h?h*g<0?b:x:S,e.align=NOt[d*g+1],e.baseline=IOt[h*g+1],a.setRange(k,E,C,O),!0}return!1}}(E,C,p,h);return k.forEach((function(t){return t.opacity=+A(t)})),k}var zOt=["x","y","opacity","align","baseline"],UOt=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function HOt(t){cnt.call(this,null,t)}function VOt(t,e){var n,r,i,o,a,u,s=[],l=function(t){return t(o)};if(null==e)s.push(t);else for(n={},r=0,i=t.length;r<i;++r)o=t[r],(u=n[a=e.map(l)])||(n[a]=u=[],u.dims=a,s.push(u)),u.push(o);return s}function WOt(t){cnt.call(this,null,t)}HOt.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:UOt},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:zOt.length,default:zOt}]},u6(HOt,cnt,{transform:function(t,e){var n=t.modified();if(n||e.changed(e.ADD_REM)||function(n){var r=t[n];return Y5(r)&&e.modified(r.fields)}("sort")){t.size&&2===t.size.length||n5("Size parameter should be specified as a [width, height] array.");var r=t.as||zOt;return BOt(e.materialize(e.SOURCE).source||[],t.size,t.sort,V5(null==t.offset?1:t.offset),V5(t.anchor||UOt),t.avoidMarks||[],!1!==t.avoidBaseMark,t.lineAnchor||"end",t.markIndex||0,void 0===t.padding?0:t.padding,t.method||"naive").forEach((function(t){var e=t.datum;e[r[0]]=t.x,e[r[1]]=t.y,e[r[2]]=t.opacity,e[r[3]]=t.align,e[r[4]]=t.baseline})),e.reflow(n).modifies(r)}}}),WOt.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},u6(WOt,cnt,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=VOt(e.materialize(e.SOURCE).source,t.groupby),i=(t.groupby||[]).map(Z3),o=i.length,a=t.as||[Z3(t.x),Z3(t.y)],u=[];r.forEach((function(e){grt(e,t.x,t.y,t.bandwidth||.3).forEach((function(t){for(var n={},r=0;r<o;++r)n[i[r]]=e.dims[r];n[a[0]]=t[0],n[a[1]]=t[1],u.push(_et(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});var YOt={linear:lrt,log:crt,exp:frt,pow:drt,quad:hrt,poly:prt};function qOt(t){cnt.call(this,null,t)}qOt.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(YOt)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},u6(qOt,cnt,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=VOt(e.materialize(e.SOURCE).source,t.groupby),i=(t.groupby||[]).map(Z3),o=t.method||"linear",a=t.order||3,u=function(t,e){return"poly"===t?e:"quad"===t?2:1}(o,a),s=t.as||[Z3(t.x),Z3(t.y)],l=YOt[o],c=[],f=t.extent;r6(YOt,o)||n5("Invalid regression method: "+o),null!=f&&"log"===o&&f[0]<=0&&(e.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),r.forEach((function(n){if(n.length<=u)e.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=l(n,t.x,t.y,a);if(t.params)c.push(_et({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var d=f||t6(n,t.x),h=function(t){for(var e={},r=0;r<i.length;++r)e[i[r]]=n.dims[r];e[s[0]]=t[0],e[s[1]]=t[1],c.push(_et(e))};"linear"===o?d.forEach((function(t){return h([t,r.predict(t)])})):brt(r.predict,d,25,200).forEach(h)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});var GOt=134217729;function $Ot(t,e,n,r,i){var o,a,u,s,l=e[0],c=r[0],f=0,d=0;c>l===c>-l?(o=l,l=e[++f]):(o=c,c=r[++d]);var h=0;if(f<t&&d<n)for(c>l===c>-l?(u=o-((a=l+o)-l),l=e[++f]):(u=o-((a=c+o)-c),c=r[++d]),o=a,0!==u&&(i[h++]=u);f<t&&d<n;)c>l===c>-l?(u=o-((a=o+l)-(s=a-o))+(l-s),l=e[++f]):(u=o-((a=o+c)-(s=a-o))+(c-s),c=r[++d]),o=a,0!==u&&(i[h++]=u);for(;f<t;)u=o-((a=o+l)-(s=a-o))+(l-s),l=e[++f],o=a,0!==u&&(i[h++]=u);for(;d<n;)u=o-((a=o+c)-(s=a-o))+(c-s),c=r[++d],o=a,0!==u&&(i[h++]=u);return 0===o&&0!==h||(i[h++]=o),h}function XOt(t){return new Float64Array(t)}var KOt=XOt(4),ZOt=XOt(8),JOt=XOt(12),QOt=XOt(16),tMt=XOt(4);function eMt(t,e,n,r,i,o){var a=(e-o)*(n-i),u=(t-i)*(r-o),s=a-u;if(0===a||0===u||a>0!==u>0)return s;var l=Math.abs(a+u);return Math.abs(s)>=33306690738754716e-32*l?s:-function(t,e,n,r,i,o,a){var u,s,l,c,f,d,h,p,v,g,m,y,x,b,w,S,k,C,E=t-i,O=n-i,M=e-o,_=r-o;f=(w=(p=E-(h=(d=GOt*E)-(d-E)))*(g=_-(v=(d=GOt*_)-(d-_)))-((b=E*_)-h*v-p*v-h*g))-(m=w-(k=(p=M-(h=(d=GOt*M)-(d-M)))*(g=O-(v=(d=GOt*O)-(d-O)))-((S=M*O)-h*v-p*v-h*g))),KOt[0]=w-(m+f)+(f-k),f=(x=b-((y=b+m)-(f=y-b))+(m-f))-(m=x-S),KOt[1]=x-(m+f)+(f-S),f=(C=y+m)-y,KOt[2]=y-(C-f)+(m-f),KOt[3]=C;var A=function(t,e){for(var n=e[0],r=1;r<t;r++)n+=e[r];return n}(4,KOt),T=22204460492503146e-32*a;if(A>=T||-A>=T)return A;if(u=t-(E+(f=t-E))+(f-i),l=n-(O+(f=n-O))+(f-i),s=e-(M+(f=e-M))+(f-o),c=r-(_+(f=r-_))+(f-o),0===u&&0===s&&0===l&&0===c)return A;if(T=11093356479670487e-47*a+33306690738754706e-32*Math.abs(A),(A+=E*c+_*u-(M*l+O*s))>=T||-A>=T)return A;f=(w=(p=u-(h=(d=GOt*u)-(d-u)))*(g=_-(v=(d=GOt*_)-(d-_)))-((b=u*_)-h*v-p*v-h*g))-(m=w-(k=(p=s-(h=(d=GOt*s)-(d-s)))*(g=O-(v=(d=GOt*O)-(d-O)))-((S=s*O)-h*v-p*v-h*g))),tMt[0]=w-(m+f)+(f-k),f=(x=b-((y=b+m)-(f=y-b))+(m-f))-(m=x-S),tMt[1]=x-(m+f)+(f-S),f=(C=y+m)-y,tMt[2]=y-(C-f)+(m-f),tMt[3]=C;var P=$Ot(4,KOt,4,tMt,ZOt);f=(w=(p=E-(h=(d=GOt*E)-(d-E)))*(g=c-(v=(d=GOt*c)-(d-c)))-((b=E*c)-h*v-p*v-h*g))-(m=w-(k=(p=M-(h=(d=GOt*M)-(d-M)))*(g=l-(v=(d=GOt*l)-(d-l)))-((S=M*l)-h*v-p*v-h*g))),tMt[0]=w-(m+f)+(f-k),f=(x=b-((y=b+m)-(f=y-b))+(m-f))-(m=x-S),tMt[1]=x-(m+f)+(f-S),f=(C=y+m)-y,tMt[2]=y-(C-f)+(m-f),tMt[3]=C;var D=$Ot(P,ZOt,4,tMt,JOt);f=(w=(p=u-(h=(d=GOt*u)-(d-u)))*(g=c-(v=(d=GOt*c)-(d-c)))-((b=u*c)-h*v-p*v-h*g))-(m=w-(k=(p=s-(h=(d=GOt*s)-(d-s)))*(g=l-(v=(d=GOt*l)-(d-l)))-((S=s*l)-h*v-p*v-h*g))),tMt[0]=w-(m+f)+(f-k),f=(x=b-((y=b+m)-(f=y-b))+(m-f))-(m=x-S),tMt[1]=x-(m+f)+(f-S),f=(C=y+m)-y,tMt[2]=y-(C-f)+(m-f),tMt[3]=C;var F=$Ot(D,JOt,4,tMt,QOt);return QOt[F-1]}(t,e,n,r,i,o,l)}XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(8),XOt(8),XOt(8),XOt(4),XOt(8),XOt(8),XOt(8),XOt(12),XOt(192),XOt(192);XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(8),XOt(8),XOt(8),XOt(8),XOt(8),XOt(8),XOt(8),XOt(8),XOt(8),XOt(4),XOt(4),XOt(4),XOt(8),XOt(16),XOt(16),XOt(16),XOt(32),XOt(32),XOt(48),XOt(64),XOt(1152),XOt(1152);XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(4),XOt(24),XOt(24),XOt(24),XOt(24),XOt(24),XOt(24),XOt(24),XOt(24),XOt(24),XOt(24),XOt(1152),XOt(1152),XOt(1152),XOt(1152),XOt(1152),XOt(2304),XOt(2304),XOt(3456),XOt(5760),XOt(8),XOt(8),XOt(8),XOt(16),XOt(24),XOt(48),XOt(48),XOt(96),XOt(192),XOt(384),XOt(384),XOt(384),XOt(768);XOt(96),XOt(96),XOt(96),XOt(1152);var nMt=Math.pow(2,-52),rMt=new Uint32Array(512),iMt=function(){function t(e){Xr(this,t);var n=e.length>>1;if(n>0&&"number"!==typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return $r(t,[{key:"update",value:function(){for(var t=this.coords,e=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=t.length>>1,a=1/0,u=1/0,s=-1/0,l=-1/0,c=0;c<o;c++){var f=t[2*c],d=t[2*c+1];f<a&&(a=f),d<u&&(u=d),f>s&&(s=f),d>l&&(l=d),this._ids[c]=c}for(var h,p,v,g=(a+s)/2,m=(u+l)/2,y=1/0,x=0;x<o;x++){var b=oMt(g,m,t[2*x],t[2*x+1]);b<y&&(h=x,y=b)}var w=t[2*h],S=t[2*h+1];y=1/0;for(var k=0;k<o;k++)if(k!==h){var C=oMt(w,S,t[2*k],t[2*k+1]);C<y&&C>0&&(p=k,y=C)}for(var E=t[2*p],O=t[2*p+1],M=1/0,_=0;_<o;_++)if(_!==h&&_!==p){var A=uMt(w,S,E,O,t[2*_],t[2*_+1]);A<M&&(v=_,M=A)}var T=t[2*v],P=t[2*v+1];if(M===1/0){for(var D=0;D<o;D++)this._dists[D]=t[2*D]-t[0]||t[2*D+1]-t[1];sMt(this._ids,this._dists,0,o-1);for(var F=new Uint32Array(o),N=0,I=0,L=-1/0;I<o;I++){var R=this._ids[I];this._dists[R]>L&&(F[N++]=R,L=this._dists[R])}return this.hull=F.subarray(0,N),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(eMt(w,S,E,O,T,P)<0){var j=p,B=E,z=O;p=v,E=T,O=P,v=j,T=B,P=z}var U=function(t,e,n,r,i,o){var a=n-t,u=r-e,s=i-t,l=o-e,c=a*a+u*u,f=s*s+l*l,d=.5/(a*l-u*s);return{x:t+(l*c-u*f)*d,y:e+(a*f-s*c)*d}}(w,S,E,O,T,P);this._cx=U.x,this._cy=U.y;for(var H=0;H<o;H++)this._dists[H]=oMt(t[2*H],t[2*H+1],U.x,U.y);sMt(this._ids,this._dists,0,o-1),this._hullStart=h;var V=3;n[h]=e[v]=p,n[p]=e[h]=v,n[v]=e[p]=h,r[h]=0,r[p]=1,r[v]=2,i.fill(-1),i[this._hashKey(w,S)]=h,i[this._hashKey(E,O)]=p,i[this._hashKey(T,P)]=v,this.trianglesLen=0,this._addTriangle(h,p,v,-1,-1,-1);for(var W,Y,q=0;q<this._ids.length;q++){var G=this._ids[q],$=t[2*G],X=t[2*G+1];if(!(q>0&&Math.abs($-W)<=nMt&&Math.abs(X-Y)<=nMt)&&(W=$,Y=X,G!==h&&G!==p&&G!==v)){for(var K=0,Z=0,J=this._hashKey($,X);Z<this._hashSize&&(-1===(K=i[(J+Z)%this._hashSize])||K===n[K]);Z++);for(var Q=K=e[K],tt=void 0;tt=n[Q],eMt($,X,t[2*Q],t[2*Q+1],t[2*tt],t[2*tt+1])>=0;)if((Q=tt)===K){Q=-1;break}if(-1!==Q){var et=this._addTriangle(Q,G,n[Q],-1,-1,r[Q]);r[G]=this._legalize(et+2),r[Q]=et,V++;for(var nt=n[Q];tt=n[nt],eMt($,X,t[2*nt],t[2*nt+1],t[2*tt],t[2*tt+1])<0;)et=this._addTriangle(nt,G,tt,r[G],-1,r[nt]),r[G]=this._legalize(et+2),n[nt]=nt,V--,nt=tt;if(Q===K)for(;eMt($,X,t[2*(tt=e[Q])],t[2*tt+1],t[2*Q],t[2*Q+1])<0;)et=this._addTriangle(tt,G,Q,-1,r[Q],r[tt]),this._legalize(et+2),r[tt]=et,n[Q]=Q,V--,Q=tt;this._hullStart=e[G]=Q,n[Q]=e[nt]=G,n[G]=nt,i[this._hashKey($,X)]=G,i[this._hashKey(t[2*Q],t[2*Q+1])]=Q}}}this.hull=new Uint32Array(V);for(var rt=0,it=this._hullStart;rt<V;rt++)this.hull[rt]=it,it=n[it];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,e){return Math.floor(function(t,e){var n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(t){for(var e=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[t],u=t-t%3;if(o=u+(t+2)%3,-1!==a){var s=a-a%3,l=u+(t+1)%3,c=s+(a+2)%3,f=e[o],d=e[t],h=e[l],p=e[c];if(aMt(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=f;var v=n[c];if(-1===v){var g=this._hullStart;do{if(this._hullTri[g]===c){this._hullTri[g]=t;break}g=this._hullPrev[g]}while(g!==this._hullStart)}this._link(t,v),this._link(a,n[o]),this._link(o,c);var m=s+(a+1)%3;i<rMt.length&&(rMt[i++]=m)}else{if(0===i)break;t=rMt[--i]}}else{if(0===i)break;t=rMt[--i]}}return o}},{key:"_link",value:function(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}],[{key:"from",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cMt,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fMt,i=e.length,o=new Float64Array(2*i),a=0;a<i;a++){var u=e[a];o[2*a]=n(u),o[2*a+1]=r(u)}return new t(o)}}]),t}();function oMt(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function aMt(t,e,n,r,i,o,a,u){var s=t-a,l=e-u,c=n-a,f=r-u,d=i-a,h=o-u,p=c*c+f*f,v=d*d+h*h;return s*(f*v-p*h)-l*(c*v-p*d)+(s*s+l*l)*(c*h-f*d)<0}function uMt(t,e,n,r,i,o){var a=n-t,u=r-e,s=i-t,l=o-e,c=a*a+u*u,f=s*s+l*l,d=.5/(a*l-u*s),h=(l*c-u*f)*d,p=(a*f-s*c)*d;return h*h+p*p}function sMt(t,e,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=t[i],a=e[o],u=i-1;u>=n&&e[t[u]]>a;)t[u+1]=t[u--];t[u+1]=o}else{var s=n+1,l=r;lMt(t,n+r>>1,s),e[t[n]]>e[t[r]]&&lMt(t,n,r),e[t[s]]>e[t[r]]&&lMt(t,s,r),e[t[n]]>e[t[s]]&&lMt(t,n,s);for(var c=t[s],f=e[c];;){do{s++}while(e[t[s]]<f);do{l--}while(e[t[l]]>f);if(l<s)break;lMt(t,s,l)}t[n+1]=t[l],t[l]=c,r-s+1>=l-n?(sMt(t,e,s,r),sMt(t,e,n,l-1)):(sMt(t,e,n,l-1),sMt(t,e,s,r))}}function lMt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function cMt(t){return t[0]}function fMt(t){return t[1]}var dMt=1e-6,hMt=function(){function t(){Xr(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return $r(t,[{key:"moveTo",value:function(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}},{key:"arc",value:function(t,e,n){var r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>dMt||Math.abs(this._y1-i)>dMt)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(t,e,n,r){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),t}(),pMt=function(){function t(){Xr(this,t),this._=[]}return $r(t,[{key:"moveTo",value:function(t,e){this._.push([t,e])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,e){this._.push([t,e])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}(),vMt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=j(n,4),i=r[0],o=r[1],a=r[2],u=r[3];if(Xr(this,t),!((a=+a)>=(i=+i))||!((u=+u)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=a,this.xmin=i,this.ymax=u,this.ymin=o,this._init()}return $r(t,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t,e,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),s=0,l=0,c=o.length;s<c;s+=3,l+=2){var f=2*o[s],d=2*o[s+1],h=2*o[s+2],p=r[f],v=r[f+1],g=r[d],m=r[d+1],y=r[h],x=r[h+1],b=g-p,w=m-v,S=y-p,k=x-v,C=2*(b*k-w*S);if(Math.abs(C)<1e-9){var E=1e9,O=2*o[0];t=(p+y)/2-(E*=Math.sign((r[O]-p)*k-(r[O+1]-v)*S))*k,e=(v+x)/2+E*S}else{var M=1/C,_=b*b+w*w,A=S*S+k*k;t=p+(k*_-w*A)*M,e=v+(b*A-S*_)*M}u[l]=t,u[l+1]=e}var T,P,D,F=i[i.length-1],N=4*F,I=r[2*F],L=r[2*F+1];a.fill(0);for(var R=0;R<i.length;++R)T=N,P=I,D=L,N=4*(F=i[R]),I=r[2*F],L=r[2*F+1],a[T+2]=a[N]=D-L,a[T+3]=a[N+1]=I-P}},{key:"render",value:function(t){var e=null==t?t=new hMt:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,u=this.vectors;if(o.length<=1)return null;for(var s=0,l=r.length;s<l;++s){var c=r[s];if(!(c<s)){var f=2*Math.floor(s/3),d=2*Math.floor(c/3),h=a[f],p=a[f+1],v=a[d],g=a[d+1];this._renderSegment(h,p,v,g,t)}}for(var m,y=o[o.length-1],x=0;x<o.length;++x){m=y,y=o[x];var b=2*Math.floor(i[y]/3),w=a[b],S=a[b+1],k=4*m,C=this._project(w,S,u[k+2],u[k+3]);C&&this._renderSegment(w,S,C[0],C[1],t)}return e&&e.value()}},{key:"renderBounds",value:function(t){var e=null==t?t=new hMt:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}},{key:"renderCell",value:function(t,e){var n=null==e?e=new hMt:void 0,r=this._clip(t);if(null!==r&&r.length){e.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||e.lineTo(r[o],r[o+1]);return e.closePath(),n&&n.value()}}},{key:"cellPolygons",value:Ct.mark((function t(){var e,n,r,i;return Ct.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.delaunay.points,n=0,r=e.length/2;case 2:if(!(n<r)){t.next=11;break}if(!(i=this.cellPolygon(n))){t.next=8;break}return i.index=n,t.next=8,i;case 8:++n,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"cellPolygon",value:function(t){var e=new pMt;return this.renderCell(t,e),e.value()}},{key:"_renderSegment",value:function(t,e,n,r,i){var o,a=this._regioncode(t,e),u=this._regioncode(n,r);0===a&&0===u?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(t,e,n){return(e=+e)===e&&(n=+n)===n&&this.delaunay._step(t,e,n)===t}},{key:"neighbors",value:Ct.mark((function t(e){var n,r,i,o,a,u,s,l,c;return Ct.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._clip(e))){t.next=33;break}r=qe(this.delaunay.neighbors(e)),t.prev=3,r.s();case 5:if((i=r.n()).done){t.next=25;break}if(o=i.value,!(a=this._clip(o))){t.next=23;break}u=0,s=n.length;case 10:if(!(u<s)){t.next=23;break}l=0,c=a.length;case 12:if(!(l<c)){t.next=20;break}if(n[u]!=a[l]||n[u+1]!=a[l+1]||n[(u+2)%s]!=a[(l+c-2)%c]||n[(u+3)%s]!=a[(l+c-1)%c]){t.next=17;break}return t.next=16,o;case 16:return t.abrupt("break",23);case 17:l+=2,t.next=12;break;case 20:u+=2,t.next=10;break;case 23:t.next=5;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(3),r.e(t.t0);case 30:return t.prev=30,r.f(),t.finish(30);case 33:case"end":return t.stop()}}),t,this,[[3,27,30,33]])}))},{key:"_cell",value:function(t){var e=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[t];if(-1===a)return null;var u=[],s=a;do{var l=Math.floor(s/3);if(u.push(e[2*l],e[2*l+1]),o[s=s%3===2?s-2:s+1]!==t)break;s=i[s]}while(s!==a&&-1!==s);return u}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var e=this._cell(t);if(null===e)return null;var n=this.vectors,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}},{key:"_clipFinite",value:function(t,e){for(var n,r,i,o,a=e.length,u=null,s=e[a-2],l=e[a-1],c=this._regioncode(s,l),f=0,d=0;d<a;d+=2)if(n=s,r=l,s=e[d],l=e[d+1],i=c,c=this._regioncode(s,l),0===i&&0===c)o=f,f=0,u?u.push(s,l):u=[s,l];else{var h=void 0,p=void 0,v=void 0,g=void 0,m=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,s,l,i,c)))continue;var y=j(h,4);p=y[0],v=y[1],g=y[2],m=y[3]}else{if(null===(h=this._clipSegment(s,l,n,r,c,i)))continue;var x=j(h,4);g=x[0],m=x[1],p=x[2],v=x[3],o=f,f=this._edgecode(p,v),o&&f&&this._edge(t,o,f,u,u.length),u?u.push(p,v):u=[p,v]}o=f,f=this._edgecode(g,m),o&&f&&this._edge(t,o,f,u,u.length),u?u.push(g,m):u=[g,m]}if(u)o=f,f=this._edgecode(u[0],u[1]),o&&f&&this._edge(t,o,f,u,u.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;var a=void 0,u=void 0,s=i||o;8&s?(a=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&s?(a=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&s?(u=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=u,i=this._regioncode(t,e)):(n=a,r=u,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(t,e,n,r,i,o){var a,u=Array.from(e);if((a=this._project(u[0],u[1],n,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(var s,l=0,c=u.length,f=this._edgecode(u[c-2],u[c-1]);l<c;l+=2)s=f,f=this._edgecode(u[l],u[l+1]),s&&f&&(l=this._edge(t,s,f,u,l),c=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}},{key:"_edge",value:function(t,e,n,r,i){for(;e!==n;){var o=void 0,a=void 0;switch(e){case 5:e=4;continue;case 4:e=6,o=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,o=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,o=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(t,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var u=0;u<r.length;u+=2){var s=(u+2)%r.length,l=(u+4)%r.length;(r[u]===r[s]&&r[s]===r[l]||r[u+1]===r[s+1]&&r[s+1]===r[l+1])&&(r.splice(s,2),u-=2)}return i}},{key:"_project",value:function(t,e,n,r){var i,o,a,u=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<u&&(a=this.ymin,o=t+(u=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<u&&(a=this.ymax,o=t+(u=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<u&&(o=this.xmax,a=e+(u=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<u&&(o=this.xmin,a=e+(u=i)*r)}return[o,a]}},{key:"_edgecode",value:function(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}},{key:"_regioncode",value:function(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}]),t}(),gMt=Ct.mark(CMt),mMt=2*Math.PI,yMt=Math.pow;function xMt(t){return t[0]}function bMt(t){return t[1]}function wMt(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var SMt=function(){function t(e){Xr(this,t),this._delaunator=new iMt(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}return $r(t,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){for(var e=t.triangles,n=t.coords,r=0;r<e.length;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(function(t,e){return e})).sort((function(t,n){return e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[e[2*n],e[2*n+1],e[2*r],e[2*r+1]],o=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),a=0,u=e.length/2;a<u;++a){var s=wMt(e[2*a],e[2*a+1],o);e[2*a]=s[0],e[2*a+1]=s[1]}this._delaunator=new iMt(e)}else delete this.collinear;for(var l=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,v=l.length;p<v;++p){var g=f[p%3===2?p-2:p+1];-1!==l[p]&&-1!==d[g]||(d[g]=p)}for(var m=0,y=c.length;m<y;++m)h[c[m]]=m;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],d[c[0]]=1,2===c.length&&(d[c[1]]=0,this.triangles[1]=c[1],this.triangles[2]=c[1]))}},{key:"voronoi",value:function(t){return new vMt(this,t)}},{key:"neighbors",value:Ct.mark((function t(e){var n,r,i,o,a,u,s,l,c,f,d;return Ct.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(u=this.collinear)){t.next=10;break}if(!((s=u.indexOf(e))>0)){t.next=6;break}return t.next=6,u[s-1];case 6:if(!(s<u.length-1)){t.next=9;break}return t.next=9,u[s+1];case 9:return t.abrupt("return");case 10:if(-1!==(l=n[e])){t.next=13;break}return t.abrupt("return");case 13:c=l,f=-1;case 14:return t.next=16,f=a[c];case 16:if(a[c=c%3===2?c-2:c+1]===e){t.next=19;break}return t.abrupt("return");case 19:if(-1!==(c=o[c])){t.next=26;break}if((d=r[(i[e]+1)%r.length])===f){t.next=25;break}return t.next=25,d;case 25:return t.abrupt("return");case 26:if(c!==l){t.next=14;break}case 27:case"end":return t.stop()}}),t,this)}))},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!==t||(e=+e)!==e)return-1;for(var r,i=n;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(t,e,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,u=this.triangles,s=this.points;if(-1===r[t]||!s.length)return(t+1)%(s.length>>1);var l=t,c=yMt(e-s[2*t],2)+yMt(n-s[2*t+1],2),f=r[t],d=f;do{var h=u[d],p=yMt(e-s[2*h],2)+yMt(n-s[2*h+1],2);if(p<c&&(c=p,l=h),u[d=d%3===2?d-2:d+1]!==t)break;if(-1===(d=a[d])){if((d=i[(o[t]+1)%i.length])!==h&&yMt(e-s[2*d],2)+yMt(n-s[2*d+1],2)<c)return d;break}}while(d!==f);return l}},{key:"render",value:function(t){for(var e=null==t?t=new hMt:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var u=r[o];if(!(u<o)){var s=2*i[o],l=2*i[u];t.moveTo(n[s],n[s+1]),t.lineTo(n[l],n[l+1])}}return this.renderHull(t),e&&e.value()}},{key:"renderPoints",value:function(t,e){void 0!==e||t&&"function"===typeof t.moveTo||(e=t,t=null),e=void 0==e?2:+e;for(var n=null==t?t=new hMt:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],u=r[i+1];t.moveTo(a+e,u),t.arc(a,u,e,0,mMt)}return n&&n.value()}},{key:"renderHull",value:function(t){var e=null==t?t=new hMt:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var u=2*n[a];t.lineTo(r[u],r[u+1])}return t.closePath(),e&&e.value()}},{key:"hullPolygon",value:function(){var t=new pMt;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,e){var n=null==e?e=new hMt:void 0,r=this.points,i=this.triangles,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[u],r[u+1]),e.closePath(),n&&n.value()}},{key:"trianglePolygons",value:Ct.mark((function t(){var e,n,r;return Ct.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.triangles,n=0,r=e.length/3;case 2:if(!(n<r)){t.next=8;break}return t.next=5,this.trianglePolygon(n);case 5:++n,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"trianglePolygon",value:function(t){var e=new pMt;return this.renderTriangle(t,e),e.value()}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xMt,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bMt,i=arguments.length>3?arguments[3]:void 0;return new t("length"in e?kMt(e,n,r,i):Float64Array.from(CMt(e,n,r,i)))}}]),t}();function kMt(t,e,n,r){for(var i=t.length,o=new Float64Array(2*i),a=0;a<i;++a){var u=t[a];o[2*a]=e.call(r,u,a,t),o[2*a+1]=n.call(r,u,a,t)}return o}function CMt(t,e,n,r){var i,o,a,u;return Ct.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=0,o=qe(t),s.prev=2,o.s();case 4:if((a=o.n()).done){s.next=13;break}return u=a.value,s.next=8,e.call(r,u,i,t);case 8:return s.next=10,n.call(r,u,i,t);case 10:++i;case 11:s.next=4;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(2),o.e(s.t0);case 18:return s.prev=18,o.f(),s.finish(18);case 21:case"end":return s.stop()}}),gMt,null,[[2,15,18,21]])}function EMt(t){cnt.call(this,null,t)}EMt.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var OMt=[-1e5,-1e5,1e5,1e5];function MMt(t){for(var e=t[0][0],n=t[0][1],r=t.length-1;t[r][0]===e&&t[r][1]===n;--r);return"M"+t.slice(0,r+1).join("L")+"Z"}u6(EMt,cnt,{transform:function(t,e){var n=t.as||"path",r=e.source;if(!r||!r.length)return e;var i=t.size;i=i?[0,0,i[0],i[1]]:(i=t.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:OMt;for(var o=this.value=SMt.from(r,t.x,t.y).voronoi(i),a=0,u=r.length;a<u;++a){var s=o.cellPolygon(a);r[a][n]=s?MMt(s):null}return e.reflow(t.modified()).modifies(n)}});var _Mt=Math.PI/180,AMt=2048;function TMt(){var t,e,n,r,i,o,a,u=[256,256],s=IMt,l=[],c=Math.random,f={};function d(t,e,n){for(var r,i,o,a=e.x,l=e.y,f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),d=s(u),h=c()<.5?1:-1,p=-h;(r=d(p+=h))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=f));)if(e.x=a+i,e.y=l+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>u[0]||e.y+e.y1>u[1])&&(!n||!DMt(e,t,u[0]))&&(!n||NMt(e,n))){for(var v,g=e.sprite,m=e.width>>5,y=u[0]>>5,x=e.x-(m<<4),b=127&x,w=32-b,S=e.y1-e.y0,k=(e.y+e.y0)*y+(x>>5),C=0;C<S;C++){v=0;for(var E=0;E<=m;E++)t[k+E]|=v<<w|(E<m?(v=g[C*m+E])>>>b:0);k+=y}return e.sprite=null,!0}return!1}return f.layout=function(){for(var s=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=AMt/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(bat()),f=function(t){var e=[],n=-1;for(;++n<t;)e[n]=0;return e}((u[0]>>5)*u[1]),h=null,p=l.length,v=-1,g=[],m=l.map((function(u){return{text:t(u),font:e(u),style:r(u),weight:i(u),rotate:o(u),size:~~(n(u)+1e-14),padding:a(u),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:u}})).sort((function(t,e){return e.size-t.size}));++v<p;){var y=m[v];y.x=u[0]*(c()+.5)>>1,y.y=u[1]*(c()+.5)>>1,PMt(s,y,m,v),y.hasText&&d(f,y,h)&&(g.push(y),h?FMt(h,y):h=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=u[0]>>1,y.y-=u[1]>>1)}return g},f.words=function(t){return arguments.length?(l=t,f):l},f.size=function(t){return arguments.length?(u=[+t[0],+t[1]],f):u},f.font=function(t){return arguments.length?(e=LMt(t),f):e},f.fontStyle=function(t){return arguments.length?(r=LMt(t),f):r},f.fontWeight=function(t){return arguments.length?(i=LMt(t),f):i},f.rotate=function(t){return arguments.length?(o=LMt(t),f):o},f.text=function(e){return arguments.length?(t=LMt(e),f):t},f.spiral=function(t){return arguments.length?(s=RMt[t]||t,f):s},f.fontSize=function(t){return arguments.length?(n=LMt(t),f):n},f.padding=function(t){return arguments.length?(a=LMt(t),f):a},f.random=function(t){return arguments.length?(c=t,f):c},f}function PMt(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,2048/o,AMt/o);var a,u,s,l,c,f=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font,a=i.measureText(e.text+"m").width*o,s=e.size<<1,e.rotate){var v=Math.sin(e.rotate*_Mt),g=Math.cos(e.rotate*_Mt),m=a*g,y=a*v,x=s*g,b=s*v;a=Math.max(Math.abs(m+b),Math.abs(m-b))+31>>5<<5,s=~~Math.max(Math.abs(y+x),Math.abs(y-x))}else a=a+31>>5<<5;if(s>h&&(h=s),f+a>=2048&&(f=0,d+=h,h=0),d+s>=AMt)break;i.translate((f+(a>>1))/o,(d+(s>>1))/o),e.rotate&&i.rotate(e.rotate*_Mt),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=a,e.height=s,e.xoff=f,e.yoff=d,e.x1=a>>1,e.y1=s>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,f+=a}for(var w=i.getImageData(0,0,2048/o,AMt/o).data,S=[];--r>=0;)if((e=n[r]).hasText){for(u=(a=e.width)>>5,s=e.y1-e.y0,l=0;l<s*u;l++)S[l]=0;if(null==(f=e.xoff))return;d=e.yoff;var k=0,C=-1;for(c=0;c<s;c++){for(l=0;l<a;l++){var E=u*c+(l>>5),O=w[2048*(d+c)+(f+l)<<2]?1<<31-l%32:0;S[E]|=O,k|=O}k?C=c:(e.y0++,s--,c--,d++)}e.y1=e.y0+C,e.sprite=S.slice(0,(e.y1-e.y0)*u)}}}function DMt(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),u=127&a,s=32-u,l=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),f=0;f<l;f++){r=0;for(var d=0;d<=o;d++)if((r<<s|(d<o?(r=i[f*o+d])>>>u:0))&e[c+d])return!0;c+=n}return!1}function FMt(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function NMt(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function IMt(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function LMt(t){return"function"===typeof t?t:function(){return t}}var RMt={archimedean:IMt,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}},jMt=["x","y","font","fontSize","fontStyle","fontWeight","angle"],BMt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function zMt(t){cnt.call(this,TMt(),t)}function UMt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HMt(t){var e=t,n=t,r=t;function i(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<0?i=a+1:o=a}while(i<o)}return i}return 2!==t.length&&(e=function(e,n){return t(e)-n},n=UMt,r=function(e,n){return UMt(t(e),n)}),{left:i,center:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,a=i(t,n,r,o-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<=0?i=a+1:o=a}while(i<o)}return i}}}zMt.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:jMt}]},u6(zMt,cnt,{transform:function(t,e){!t.size||t.size[0]&&t.size[1]||n5("Wordcloud size dimensions must be non-zero.");var n=t.modified();if(n||e.changed(e.ADD_REM)||BMt.some((function(n){var r=t[n];return Y5(r)&&e.modified(r.fields)}))){var r,i=e.materialize(e.SOURCE).source,o=this.value,a=t.as||jMt,u=t.fontSize||14;if(Y5(u)?r=t.fontSizeRange:u=Z5(u),r){var s=u,l=xdt("sqrt")().domain(t6(i,s)).range(r);u=function(t){return l(s(t))}}i.forEach((function(t){t[a[0]]=NaN,t[a[1]]=NaN,t[a[3]]=0}));for(var c,f,d=o.words(i).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(u).random(Fnt).layout(),h=o.size(),p=h[0]>>1,v=h[1]>>1,g=d.length,m=0;m<g;++m)(f=(c=d[m]).datum)[a[0]]=c.x+p,f[a[1]]=c.y+v,f[a[2]]=c.font,f[a[3]]=c.size,f[a[4]]=c.style,f[a[5]]=c.weight,f[a[6]]=c.rotate;return e.reflow(n).modifies(a)}}});var VMt=HMt(UMt),WMt=VMt.right,YMt=VMt.left;HMt((function(t){return null===t?NaN:+t})).center;var qMt=function(t){return new Uint8Array(t)},GMt=function(t){return new Uint16Array(t)},$Mt=function(t){return new Uint32Array(t)};function XMt(t,e,n){var r=(e<257?qMt:e<65537?GMt:$Mt)(t);return n&&r.set(n),r}function KMt(t,e,n){var r=1<<e;return{one:r,zero:~r,range:n.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd:function(t,e){var n,i=this,o=i.bisect(i.range,t.value),a=t.index,u=o[0],s=o[1],l=a.length;for(n=0;n<u;++n)e[a[n]]|=r;for(n=s;n<l;++n)e[a[n]]|=r;return i}}}function ZMt(){var t=$Mt(0),e=[],n=0;return{insert:function(r,i,o){if(!i.length)return[];var a,u,s,l=n,c=i.length,f=$Mt(c),d=Array(c);for(s=0;s<c;++s)d[s]=r(i[s]),f[s]=s;if(d=function(t,e){return t.sort.call(e,(function(e,n){var r=t[e],i=t[n];return r<i?-1:r>i?1:0})),function(t,e){return Array.from(e,(function(e){return t[e]}))}(t,e)}(d,f),l)a=e,u=t,e=Array(l+c),t=$Mt(l+c),function(t,e,n,r,i,o,a,u,s){var l,c=0,f=0;for(l=0;c<r&&f<a;++l)e[c]<i[f]?(u[l]=e[c],s[l]=n[c++]):(u[l]=i[f],s[l]=o[f++]+t);for(;c<r;++c,++l)u[l]=e[c],s[l]=n[c];for(;f<a;++f,++l)u[l]=i[f],s[l]=o[f]+t}(o,a,u,l,d,f,c,e,t);else{if(o>0)for(s=0;s<c;++s)f[s]+=o;e=d,t=f}return n=l+c,{index:f,value:d}},remove:function(r,i){var o,a,u,s=n;for(a=0;!i[t[a]]&&a<s;++a);for(u=a;a<s;++a)i[o=t[a]]||(t[u]=o,e[u]=e[a],++u);n=s-r},bisect:function(t,r){var i;return r?i=r.length:(r=e,i=n),[YMt(r,t[0],0,i),WMt(r,t[1],0,i)]},reindex:function(e){for(var r=0,i=n;r<i;++r)t[r]=e[t[r]]},index:function(){return t},size:function(){return n}}}function JMt(t){cnt.call(this,function(){var t=8,e=[],n=$Mt(0),r=XMt(0,t),i=XMt(0,t);return{data:function(){return e},seen:function(){return n=function(t,e,n){return t.length>=e?t:((n=n||new t.constructor(e)).set(t),n)}(n,e.length)},add:function(t){for(var n,r=0,i=e.length,o=t.length;r<o;++r)(n=t[r])._index=i++,e.push(n)},remove:function(t,n){var o,a,u,s=e.length,l=Array(s-t),c=e;for(a=0;!n[a]&&a<s;++a)l[a]=e[a],c[a]=a;for(u=a;a<s;++a)o=e[a],n[a]?c[a]=-1:(c[a]=u,r[u]=r[a],i[u]=i[a],l[u]=o,o._index=u++),r[a]=0;return e=l,c},size:function(){return e.length},curr:function(){return r},prev:function(){return i},reset:function(t){return i[t]=r[t]},all:function(){return t<257?255:t<65537?65535:4294967295},set:function(t,e){r[t]|=e},clear:function(t,e){r[t]&=~e},resize:function(e,n){(e>r.length||n>t)&&(t=Math.max(n,t),r=XMt(e,t,r),i=XMt(e,t))}}}(),t),this._indices=null,this._dims=null}function QMt(t){cnt.call(this,null,t)}JMt.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},u6(JMt,cnt,{transform:function(t,e){return this._dims?t.modified("fields")||t.fields.some((function(t){return e.modified(t.fields)}))?this.reinit(t,e):this.eval(t,e):this.init(t,e)},init:function(t,e){for(var n,r,i=t.fields,o=t.query,a=this._indices={},u=this._dims=[],s=o.length,l=0;l<s;++l)r=a[n=i[l].fname]||(a[n]=ZMt()),u.push(KMt(r,l,o[l]));return this.eval(t,e)},reinit:function(t,e){var n,r,i,o,a,u,s,l,c,f=e.materialize().fork(),d=t.fields,h=t.query,p=this._indices,v=this._dims,g=this.value,m=g.curr(),y=g.prev(),x=g.all(),b=f.rem=f.add,w=f.mod,S=h.length,k={};if(y.set(m),e.rem.length&&(a=this.remove(t,e,f)),e.add.length&&g.add(e.add),e.mod.length)for(u={},s=0,l=(o=e.mod).length;s<l;++s)u[o[s]._index]=1;for(s=0;s<S;++s)c=d[s],(!v[s]||t.modified("fields",s)||e.modified(c.fields))&&((n=k[i=c.fname])||(p[i]=r=ZMt(),k[i]=n=r.insert(c,e.source,0)),v[s]=KMt(r,s,h[s]).onAdd(n,m));for(s=0,l=g.data().length;s<l;++s)a[s]||(y[s]!==m[s]?b.push(s):u[s]&&m[s]!==x&&w.push(s));return g.mask=(1<<S)-1,f},eval:function(t,e){var n=e.materialize().fork(),r=this._dims.length,i=0;return e.rem.length&&(this.remove(t,e,n),i|=(1<<r)-1),t.modified("query")&&!t.modified("fields")&&(i|=this.update(t,e,n)),e.add.length&&(this.insert(t,e,n),i|=(1<<r)-1),e.mod.length&&(this.modify(e,n),i|=(1<<r)-1),this.value.mask=i,n},insert:function(t,e,n){var r,i,o,a=e.add,u=this.value,s=this._dims,l=this._indices,c=t.fields,f={},d=n.add,h=u.size()+a.length,p=s.length,v=u.size();u.resize(h,p),u.add(a);var g=u.curr(),m=u.prev(),y=u.all();for(r=0;r<p;++r)o=f[i=c[r].fname]||(f[i]=l[i].insert(c[r],a,v)),s[r].onAdd(o,g);for(;v<h;++v)m[v]=y,g[v]!==y&&d.push(v)},modify:function(t,e){var n,r,i,o=e.mod,a=this.value,u=a.curr(),s=a.all(),l=t.mod;for(n=0,r=l.length;n<r;++n)u[i=l[n]._index]!==s&&o.push(i)},remove:function(t,e,n){var r,i,o,a,u=this._indices,s=this.value,l=s.curr(),c=s.prev(),f=s.all(),d={},h=n.rem,p=e.rem;for(r=0,i=p.length;r<i;++r)d[o=p[r]._index]=1,c[o]=a=l[o],l[o]=f,a!==f&&h.push(o);for(o in u)u[o].remove(i,d);return this.reindex(e,i,d),d},reindex:function(t,e,n){var r=this._indices,i=this.value;t.runAfter((function(){var t=i.remove(e,n);for(var o in r)r[o].reindex(t)}))},update:function(t,e,n){var r,i,o=this._dims,a=t.query,u=e.stamp,s=o.length,l=0;for(n.filters=0,i=0;i<s;++i)t.modified("query",i)&&(r=i,++l);if(1===l)l=o[r].one,this.incrementOne(o[r],a[r],n.add,n.rem);else for(i=0,l=0;i<s;++i)t.modified("query",i)&&(l|=o[i].one,this.incrementAll(o[i],a[i],u,n.add),n.rem=n.add);return l},incrementAll:function(t,e,n,r){var i,o,a,u=this.value,s=u.seen(),l=u.curr(),c=u.prev(),f=t.index(),d=t.bisect(t.range),h=t.bisect(e),p=h[0],v=h[1],g=d[0],m=d[1],y=t.one;if(p<g)for(i=p,o=Math.min(g,v);i<o;++i)s[a=f[i]]!==n&&(c[a]=l[a],s[a]=n,r.push(a)),l[a]^=y;else if(p>g)for(i=g,o=Math.min(p,m);i<o;++i)s[a=f[i]]!==n&&(c[a]=l[a],s[a]=n,r.push(a)),l[a]^=y;if(v>m)for(i=Math.max(p,m),o=v;i<o;++i)s[a=f[i]]!==n&&(c[a]=l[a],s[a]=n,r.push(a)),l[a]^=y;else if(v<m)for(i=Math.max(g,v),o=m;i<o;++i)s[a=f[i]]!==n&&(c[a]=l[a],s[a]=n,r.push(a)),l[a]^=y;t.range=e.slice()},incrementOne:function(t,e,n,r){var i,o,a,u=this.value.curr(),s=t.index(),l=t.bisect(t.range),c=t.bisect(e),f=c[0],d=c[1],h=l[0],p=l[1],v=t.one;if(f<h)for(i=f,o=Math.min(h,d);i<o;++i)u[a=s[i]]^=v,n.push(a);else if(f>h)for(i=h,o=Math.min(f,p);i<o;++i)u[a=s[i]]^=v,r.push(a);if(d>p)for(i=Math.max(f,p),o=d;i<o;++i)u[a=s[i]]^=v,n.push(a);else if(d<p)for(i=Math.max(h,d),o=p;i<o;++i)u[a=s[i]]^=v,r.push(a);t.range=e.slice()}}),QMt.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},u6(QMt,cnt,{transform:function(t,e){var n=~(t.ignore||0),r=t.filter,i=r.mask;if(0===(i&n))return e.StopPropagation;var o=e.fork(e.ALL),a=r.data(),u=r.curr(),s=r.prev(),l=function(t){return u[t]&n?null:a[t]};return o.filter(o.MOD,l),i&i-1?(o.filter(o.ADD,(function(t){var e=u[t]&n;return!e&&e^s[t]&n?a[t]:null})),o.filter(o.REM,(function(t){var e=u[t]&n;return e&&!(e^e^s[t]&n)?a[t]:null}))):(o.filter(o.ADD,l),o.filter(o.REM,(function(t){return(u[t]&n)===i?a[t]:null}))),o.filter(o.SOURCE,(function(t){return l(t._index)}))}});var t_t=Math.sqrt(50),e_t=Math.sqrt(10),n_t=Math.sqrt(2);var r_t,i_t,o_t,a_t,u_t,s_t="Literal",l_t="Property",c_t="ArrayExpression",f_t="BinaryExpression",d_t="CallExpression",h_t="ConditionalExpression",p_t="LogicalExpression",v_t="MemberExpression",g_t="ObjectExpression",m_t="UnaryExpression";function y_t(t){this.type=t}y_t.prototype.visit=function(t){var e,n,r;if(t(this))return 1;for(n=0,r=(e=function(t){switch(t.type){case c_t:return t.elements;case f_t:case p_t:return[t.left,t.right];case d_t:return[t.callee].concat(t.arguments);case h_t:return[t.test,t.consequent,t.alternate];case v_t:return[t.object,t.property];case g_t:return t.properties;case l_t:return[t.key,t.value];case m_t:return[t.argument];default:return[]}}(this)).length;n<r;++n)if(e[n].visit(t))return 1};(r_t={})[1]="Boolean",r_t[2]="<end>",r_t[3]="Identifier",r_t[4]="Keyword",r_t[5]="Null",r_t[6]="Numeric",r_t[7]="Punctuator",r_t[8]="String",r_t[9]="RegularExpression";var x_t="Identifier",b_t="Unexpected token %0",w_t="Invalid regular expression",S_t="Invalid regular expression: missing /",k_t="Octal literals are not allowed in strict mode.",C_t="ILLEGAL",E_t="Disabled.",O_t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),M_t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function __t(t,e){if(!t)throw new Error("ASSERT: "+e)}function A_t(t){return t>=48&&t<=57}function T_t(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function P_t(t){return"01234567".indexOf(t)>=0}function D_t(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function F_t(t){return 10===t||13===t||8232===t||8233===t}function N_t(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&O_t.test(String.fromCharCode(t))}function I_t(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&M_t.test(String.fromCharCode(t))}var L_t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function R_t(){for(;o_t<a_t;){var t=i_t.charCodeAt(o_t);if(!D_t(t)&&!F_t(t))break;++o_t}}function j_t(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e)o_t<a_t&&T_t(i_t[o_t])?(r=i_t[o_t++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):tAt({},b_t,C_t);return String.fromCharCode(i)}function B_t(){var t,e,n,r;for(e=0,"}"===(t=i_t[o_t])&&tAt({},b_t,C_t);o_t<a_t&&T_t(t=i_t[o_t++]);)e=16*e+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||"}"!==t)&&tAt({},b_t,C_t),e<=65535?String.fromCharCode(e):(n=55296+(e-65536>>10),r=56320+(e-65536&1023),String.fromCharCode(n,r))}function z_t(){var t,e;for(t=i_t.charCodeAt(o_t++),e=String.fromCharCode(t),92===t&&(117!==i_t.charCodeAt(o_t)&&tAt({},b_t,C_t),++o_t,(t=j_t("u"))&&"\\"!==t&&N_t(t.charCodeAt(0))||tAt({},b_t,C_t),e=t);o_t<a_t&&I_t(t=i_t.charCodeAt(o_t));)++o_t,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==i_t.charCodeAt(o_t)&&tAt({},b_t,C_t),++o_t,(t=j_t("u"))&&"\\"!==t&&I_t(t.charCodeAt(0))||tAt({},b_t,C_t),e+=t);return e}function U_t(){var t,e;return t=o_t,e=92===i_t.charCodeAt(o_t)?z_t():function(){var t,e;for(t=o_t++;o_t<a_t;){if(92===(e=i_t.charCodeAt(o_t)))return o_t=t,z_t();if(!I_t(e))break;++o_t}return i_t.slice(t,o_t)}(),{type:1===e.length?3:L_t.hasOwnProperty(e)?4:"null"===e?5:"true"===e||"false"===e?1:3,value:e,start:t,end:o_t}}function H_t(){var t,e,n,r,i=o_t,o=i_t.charCodeAt(o_t),a=i_t[o_t];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++o_t,{type:7,value:String.fromCharCode(o),start:i,end:o_t};default:if(61===(t=i_t.charCodeAt(o_t+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return o_t+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(t),start:i,end:o_t};case 33:case 61:return o_t+=2,61===i_t.charCodeAt(o_t)&&++o_t,{type:7,value:i_t.slice(i,o_t),start:i,end:o_t}}}return">>>="===(r=i_t.substr(o_t,4))?{type:7,value:r,start:i,end:o_t+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:o_t+=3}:a===(e=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===e?{type:7,value:e,start:i,end:o_t+=2}:("//"===e&&tAt({},b_t,C_t),"<>=!+-*%&|^/".indexOf(a)>=0?{type:7,value:a,start:i,end:++o_t}:void tAt({},b_t,C_t))}function V_t(){var t,e,n;if(__t(A_t((n=i_t[o_t]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),e=o_t,t="","."!==n){if(t=i_t[o_t++],n=i_t[o_t],"0"===t){if("x"===n||"X"===n)return++o_t,function(t){for(var e="";o_t<a_t&&T_t(i_t[o_t]);)e+=i_t[o_t++];return 0===e.length&&tAt({},b_t,C_t),N_t(i_t.charCodeAt(o_t))&&tAt({},b_t,C_t),{type:6,value:parseInt("0x"+e,16),start:t,end:o_t}}(e);if(P_t(n))return function(t){for(var e="0"+i_t[o_t++];o_t<a_t&&P_t(i_t[o_t]);)e+=i_t[o_t++];return(N_t(i_t.charCodeAt(o_t))||A_t(i_t.charCodeAt(o_t)))&&tAt({},b_t,C_t),{type:6,value:parseInt(e,8),octal:!0,start:t,end:o_t}}(e);n&&A_t(n.charCodeAt(0))&&tAt({},b_t,C_t)}for(;A_t(i_t.charCodeAt(o_t));)t+=i_t[o_t++];n=i_t[o_t]}if("."===n){for(t+=i_t[o_t++];A_t(i_t.charCodeAt(o_t));)t+=i_t[o_t++];n=i_t[o_t]}if("e"===n||"E"===n)if(t+=i_t[o_t++],"+"!==(n=i_t[o_t])&&"-"!==n||(t+=i_t[o_t++]),A_t(i_t.charCodeAt(o_t)))for(;A_t(i_t.charCodeAt(o_t));)t+=i_t[o_t++];else tAt({},b_t,C_t);return N_t(i_t.charCodeAt(o_t))&&tAt({},b_t,C_t),{type:6,value:parseFloat(t),start:e,end:o_t}}function W_t(){var t,e,n,r;return u_t=null,R_t(),t=o_t,e=function(){var t,e,n,r;for(__t("/"===(t=i_t[o_t]),"Regular expression literal must start with a slash"),e=i_t[o_t++],n=!1,r=!1;o_t<a_t;)if(e+=t=i_t[o_t++],"\\"===t)F_t((t=i_t[o_t++]).charCodeAt(0))&&tAt({},S_t),e+=t;else if(F_t(t.charCodeAt(0)))tAt({},S_t);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||tAt({},S_t),{value:e.substr(1,e.length-2),literal:e}}(),n=function(){var t,e,n;for(e="",n="";o_t<a_t&&I_t((t=i_t[o_t]).charCodeAt(0));)++o_t,"\\"===t&&o_t<a_t?tAt({},b_t,C_t):(n+=t,e+=t);return n.search(/[^gimuy]/g)>=0&&tAt({},w_t,n),{value:n,literal:e}}(),r=function(t,e){var n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(t,e){if(parseInt(e,16)<=1114111)return"x";tAt({},w_t)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(v1t){tAt({},w_t)}try{return new RegExp(t,e)}catch(r){return null}}(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:o_t}}function Y_t(){if(R_t(),o_t>=a_t)return{type:2,start:o_t,end:o_t};var t=i_t.charCodeAt(o_t);return N_t(t)?U_t():40===t||41===t||59===t?H_t():39===t||34===t?function(){var t,e,n,r,i="",o=!1;for(__t("'"===(t=i_t[o_t])||'"'===t,"String literal must starts with a quote"),e=o_t,++o_t;o_t<a_t;){if((n=i_t[o_t++])===t){t="";break}if("\\"===n)if((n=i_t[o_t++])&&F_t(n.charCodeAt(0)))"\r"===n&&"\n"===i_t[o_t]&&++o_t;else switch(n){case"u":case"x":"{"===i_t[o_t]?(++o_t,i+=B_t()):i+=j_t(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:P_t(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),o_t<a_t&&P_t(i_t[o_t])&&(o=!0,r=8*r+"01234567".indexOf(i_t[o_t++]),"0123".indexOf(n)>=0&&o_t<a_t&&P_t(i_t[o_t])&&(r=8*r+"01234567".indexOf(i_t[o_t++]))),i+=String.fromCharCode(r)):i+=n}else{if(F_t(n.charCodeAt(0)))break;i+=n}}return""!==t&&tAt({},b_t,C_t),{type:8,value:i,octal:o,start:e,end:o_t}}():46===t?A_t(i_t.charCodeAt(o_t+1))?V_t():H_t():A_t(t)?V_t():H_t()}function q_t(){var t=u_t;return o_t=t.end,u_t=Y_t(),o_t=t.end,t}function G_t(){var t=o_t;u_t=Y_t(),o_t=t}function $_t(t,e,n){var r=new y_t("||"===t||"&&"===t?"LogicalExpression":"BinaryExpression");return r.operator=t,r.left=e,r.right=n,r}function X_t(t,e){var n=new y_t("CallExpression");return n.callee=t,n.arguments=e,n}function K_t(t){var e=new y_t(x_t);return e.name=t,e}function Z_t(t){var e=new y_t("Literal");return e.value=t.value,e.raw=i_t.slice(t.start,t.end),t.regex&&("//"===e.raw&&(e.raw="/(?:)/"),e.regex=t.regex),e}function J_t(t,e,n){var r=new y_t("MemberExpression");return r.computed="["===t,r.object=e,r.property=n,r.computed||(n.member=!0),r}function Q_t(t,e,n){var r=new y_t("Property");return r.key=e,r.value=n,r.kind=t,r}function tAt(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,(function(t,e){return __t(e<r.length,"Message reference must be in range"),r[e]}));throw(n=new Error(i)).index=o_t,n.description=i,n}function eAt(t){2===t.type&&tAt(t,"Unexpected end of input"),6===t.type&&tAt(t,"Unexpected number"),8===t.type&&tAt(t,"Unexpected string"),3===t.type&&tAt(t,"Unexpected identifier"),4===t.type&&tAt(t,"Unexpected reserved word"),tAt(t,b_t,t.value)}function nAt(t){var e=q_t();7===e.type&&e.value===t||eAt(e)}function rAt(t){return 7===u_t.type&&u_t.value===t}function iAt(t){return 4===u_t.type&&u_t.value===t}function oAt(){var t=[];for(o_t=u_t.start,nAt("[");!rAt("]");)rAt(",")?(q_t(),t.push(null)):(t.push(mAt()),rAt("]")||nAt(","));return q_t(),function(t){var e=new y_t("ArrayExpression");return e.elements=t,e}(t)}function aAt(){o_t=u_t.start;var t=q_t();return 8===t.type||6===t.type?(t.octal&&tAt(t,k_t),Z_t(t)):K_t(t.value)}function uAt(){var t,e,n;return o_t=u_t.start,3===(t=u_t).type?(n=aAt(),nAt(":"),Q_t("init",n,mAt())):2!==t.type&&7!==t.type?(e=aAt(),nAt(":"),Q_t("init",e,mAt())):void eAt(t)}function sAt(){var t,e,n=[],r={},i=String;for(o_t=u_t.start,nAt("{");!rAt("}");)e="$"+((t=uAt()).key.type===x_t?t.key.name:i(t.key.value)),Object.prototype.hasOwnProperty.call(r,e)?tAt({},"Duplicate data property in object literal not allowed in strict mode"):r[e]=!0,n.push(t),rAt("}")||nAt(",");return nAt("}"),function(t){var e=new y_t("ObjectExpression");return e.properties=t,e}(n)}var lAt={if:1};function cAt(){var t,e,n;if(rAt("("))return function(){nAt("(");var t=yAt();return nAt(")"),t}();if(rAt("["))return oAt();if(rAt("{"))return sAt();if(t=u_t.type,o_t=u_t.start,3===t||lAt[u_t.value])n=K_t(q_t().value);else if(8===t||6===t)u_t.octal&&tAt(u_t,k_t),n=Z_t(q_t());else{if(4===t)throw new Error(E_t);1===t?((e=q_t()).value="true"===e.value,n=Z_t(e)):5===t?((e=q_t()).value=null,n=Z_t(e)):rAt("/")||rAt("/=")?(n=Z_t(W_t()),G_t()):eAt(q_t())}return n}function fAt(){var t=[];if(nAt("("),!rAt(")"))for(;o_t<a_t&&(t.push(mAt()),!rAt(")"));)nAt(",");return nAt(")"),t}function dAt(){return nAt("."),function(){o_t=u_t.start;var t=q_t();return function(t){return 3===t.type||4===t.type||1===t.type||5===t.type}(t)||eAt(t),K_t(t.value)}()}function hAt(){nAt("[");var t=yAt();return nAt("]"),t}function pAt(){var t=function(){var t;for(t=cAt();;)if(rAt("."))t=J_t(".",t,dAt());else if(rAt("("))t=X_t(t,fAt());else{if(!rAt("["))break;t=J_t("[",t,hAt())}return t}();if(7===u_t.type&&(rAt("++")||rAt("--")))throw new Error(E_t);return t}function vAt(){var t,e;if(7!==u_t.type&&4!==u_t.type)e=pAt();else{if(rAt("++")||rAt("--"))throw new Error(E_t);if(rAt("+")||rAt("-")||rAt("~")||rAt("!"))t=q_t(),e=vAt(),e=function(t,e){var n=new y_t("UnaryExpression");return n.operator=t,n.argument=e,n.prefix=!0,n}(t.value,e);else{if(iAt("delete")||iAt("void")||iAt("typeof"))throw new Error(E_t);e=pAt()}}return e}function gAt(t){var e=0;if(7!==t.type&&4!==t.type)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11}return e}function mAt(){var t,e;return t=function(){var t,e,n,r,i,o,a,u,s,l;if(t=u_t,s=vAt(),0===(i=gAt(r=u_t)))return s;for(r.prec=i,q_t(),e=[t,u_t],o=[s,r,a=vAt()];(i=gAt(u_t))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),u=o.pop().value,s=o.pop(),e.pop(),n=$_t(u,s,a),o.push(n);(r=q_t()).prec=i,o.push(r),e.push(u_t),n=vAt(),o.push(n)}for(n=o[l=o.length-1],e.pop();l>1;)e.pop(),n=$_t(o[l-1].value,o[l-2],n),l-=2;return n}(),rAt("?")&&(q_t(),e=mAt(),nAt(":"),t=function(t,e,n){var r=new y_t("ConditionalExpression");return r.test=t,r.consequent=e,r.alternate=n,r}(t,e,mAt())),t}function yAt(){var t=mAt();if(rAt(","))throw new Error(E_t);return t}function xAt(t){o_t=0,a_t=(i_t=t).length,u_t=null,G_t();var e=yAt();if(2!==u_t.type)throw new Error("Unexpect token after expression.");return e}var bAt={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function wAt(t){function e(e,n,r){return function(i){return function(e,n,r,i){var o=t(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+e+(i<0?"":0===i?"()":"("+n.slice(1).map(t).join(",")+")")}(e,i,n,r)}}var n="new Date",r="String",i="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(e){e.length<3&&n5("Missing arguments to clamp function."),e.length>3&&n5("Too many arguments to clamp function.");var n=e.map(t);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:e("getDate",n,0),day:e("getDay",n,0),year:e("getFullYear",n,0),month:e("getMonth",n,0),hours:e("getHours",n,0),minutes:e("getMinutes",n,0),seconds:e("getSeconds",n,0),milliseconds:e("getMilliseconds",n,0),time:e("getTime",n,0),timezoneoffset:e("getTimezoneOffset",n,0),utcdate:e("getUTCDate",n,0),utcday:e("getUTCDay",n,0),utcyear:e("getUTCFullYear",n,0),utcmonth:e("getUTCMonth",n,0),utchours:e("getUTCHours",n,0),utcminutes:e("getUTCMinutes",n,0),utcseconds:e("getUTCSeconds",n,0),utcmilliseconds:e("getUTCMilliseconds",n,0),length:e("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:e("toUpperCase",r,0),lower:e("toLowerCase",r,0),substring:e("substring",r),split:e("split",r),trim:e("trim",r,0),regexp:i,test:e("test",i),if:function(e){e.length<3&&n5("Missing arguments to if function."),e.length>3&&n5("Too many arguments to if function.");var n=e.map(t);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function SAt(t){var e=(t=t||{}).allowed?M6(t.allowed):{},n=t.forbidden?M6(t.forbidden):{},r=t.constants||bAt,i=(t.functions||wAt)(f),o=t.globalvar,a=t.fieldvar,u=Y5(o)?o:function(t){return"".concat(o,'["').concat(t,'"]')},s={},l={},c=0;function f(t){if(p6(t))return t;var e=d[t.type];return null==e&&n5("Unsupported type: "+t.type),e(t)}var d={Literal:function(t){return t.raw},Identifier:function(t){var i=t.name;return c>0?i:r6(n,i)?n5("Illegal identifier: "+i):r6(r,i)?r[i]:r6(e,i)?i:(s[i]=1,u(i))},MemberExpression:function(t){var e=!t.computed,n=f(t.object);e&&(c+=1);var r=f(t.property);return n===a&&(l[function(t){var e=t&&t.length-1;return e&&('"'===t[0]&&'"'===t[e]||"'"===t[0]&&"'"===t[e])?t.slice(1,-1):t}(r)]=1),e&&(c-=1),n+(e?"."+r:"["+r+"]")},CallExpression:function(t){"Identifier"!==t.callee.type&&n5("Illegal callee type: "+t.callee.type);var e=t.callee.name,n=t.arguments,r=r6(i,e)&&i[e];return r||n5("Unrecognized function: "+e),Y5(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(f).join(",")+"]"},BinaryExpression:function(t){return"("+f(t.left)+" "+t.operator+" "+f(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+f(t.argument)+")"},ConditionalExpression:function(t){return"("+f(t.test)+"?"+f(t.consequent)+":"+f(t.alternate)+")"},LogicalExpression:function(t){return"("+f(t.left)+t.operator+f(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(f).join(",")+"}"},Property:function(t){c+=1;var e=f(t.key);return c-=1,e+":"+f(t.value)}};function h(t){var e={code:f(t),globals:Object.keys(s),fields:Object.keys(l)};return s={},l={},e}return h.functions=i,h.constants=r,h}var kAt,CAt,EAt,OAt,MAt,_At,AAt,TAt,PAt,DAt,FAt,NAt,IAt,LAt,RAt,jAt,BAt=new ibt,zAt=new ibt,UAt={point:_bt,lineStart:_bt,lineEnd:_bt,polygonStart:function(){BAt=new ibt,UAt.lineStart=HAt,UAt.lineEnd=VAt},polygonEnd:function(){var t=+BAt;zAt.add(t<0?cbt+t:t),this.lineStart=this.lineEnd=this.point=_bt},sphere:function(){zAt.add(cbt)}};function HAt(){UAt.point=WAt}function VAt(){YAt(kAt,CAt)}function WAt(t,e){UAt.point=YAt,kAt=t,CAt=e,EAt=t*=dbt,OAt=gbt(e=(e*=dbt)/2+lbt),MAt=Sbt(e)}function YAt(t,e){var n=(t*=dbt)-EAt,r=n>=0?1:-1,i=r*n,o=gbt(e=(e*=dbt)/2+lbt),a=Sbt(e),u=MAt*a,s=OAt*o+u*gbt(i),l=u*r*Sbt(i);BAt.add(vbt(l,s)),EAt=t,OAt=o,MAt=a}var qAt,GAt,$At,XAt,KAt,ZAt,JAt,QAt,tTt,eTt,nTt,rTt,iTt,oTt,aTt,uTt,sTt={point:lTt,lineStart:fTt,lineEnd:dTt,polygonStart:function(){sTt.point=hTt,sTt.lineStart=pTt,sTt.lineEnd=vTt,LAt=new ibt,UAt.polygonStart()},polygonEnd:function(){UAt.polygonEnd(),sTt.point=lTt,sTt.lineStart=fTt,sTt.lineEnd=dTt,BAt<0?(_At=-(TAt=180),AAt=-(PAt=90)):LAt>obt?PAt=90:LAt<-1e-6&&(AAt=-90),jAt[0]=_At,jAt[1]=TAt},sphere:function(){_At=-(TAt=180),AAt=-(PAt=90)}};function lTt(t,e){RAt.push(jAt=[_At=t,TAt=t]),e<AAt&&(AAt=e),e>PAt&&(PAt=e)}function cTt(t,e){var n=Rwt([t*dbt,e*dbt]);if(IAt){var r=Bwt(IAt,n),i=Bwt([r[1],-r[0],0],r);Hwt(i),i=Lwt(i);var o,a=t-DAt,u=a>0?1:-1,s=i[0]*fbt*u,l=hbt(a)>180;l^(u*DAt<s&&s<u*t)?(o=i[1]*fbt)>PAt&&(PAt=o):l^(u*DAt<(s=(s+360)%360-180)&&s<u*t)?(o=-i[1]*fbt)<AAt&&(AAt=o):(e<AAt&&(AAt=e),e>PAt&&(PAt=e)),l?t<DAt?gTt(_At,t)>gTt(_At,TAt)&&(TAt=t):gTt(t,TAt)>gTt(_At,TAt)&&(_At=t):TAt>=_At?(t<_At&&(_At=t),t>TAt&&(TAt=t)):t>DAt?gTt(_At,t)>gTt(_At,TAt)&&(TAt=t):gTt(t,TAt)>gTt(_At,TAt)&&(_At=t)}else RAt.push(jAt=[_At=t,TAt=t]);e<AAt&&(AAt=e),e>PAt&&(PAt=e),IAt=n,DAt=t}function fTt(){sTt.point=cTt}function dTt(){jAt[0]=_At,jAt[1]=TAt,sTt.point=lTt,IAt=null}function hTt(t,e){if(IAt){var n=t-DAt;LAt.add(hbt(n)>180?n+(n>0?360:-360):n)}else FAt=t,NAt=e;UAt.point(t,e),cTt(t,e)}function pTt(){UAt.lineStart()}function vTt(){hTt(FAt,NAt),UAt.lineEnd(),hbt(LAt)>obt&&(_At=-(TAt=180)),jAt[0]=_At,jAt[1]=TAt,IAt=null}function gTt(t,e){return(e-=t)<0?e+360:e}function mTt(t,e){return t[0]-e[0]}function yTt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var xTt={sphere:_bt,point:bTt,lineStart:STt,lineEnd:ETt,polygonStart:function(){xTt.lineStart=OTt,xTt.lineEnd=MTt},polygonEnd:function(){xTt.lineStart=STt,xTt.lineEnd=ETt}};function bTt(t,e){t*=dbt;var n=gbt(e*=dbt);wTt(n*gbt(t),n*Sbt(t),Sbt(e))}function wTt(t,e,n){++qAt,$At+=(t-$At)/qAt,XAt+=(e-XAt)/qAt,KAt+=(n-KAt)/qAt}function STt(){xTt.point=kTt}function kTt(t,e){t*=dbt;var n=gbt(e*=dbt);oTt=n*gbt(t),aTt=n*Sbt(t),uTt=Sbt(e),xTt.point=CTt,wTt(oTt,aTt,uTt)}function CTt(t,e){t*=dbt;var n=gbt(e*=dbt),r=n*gbt(t),i=n*Sbt(t),o=Sbt(e),a=vbt(Cbt((a=aTt*o-uTt*i)*a+(a=uTt*r-oTt*o)*a+(a=oTt*i-aTt*r)*a),oTt*r+aTt*i+uTt*o);GAt+=a,ZAt+=a*(oTt+(oTt=r)),JAt+=a*(aTt+(aTt=i)),QAt+=a*(uTt+(uTt=o)),wTt(oTt,aTt,uTt)}function ETt(){xTt.point=bTt}function OTt(){xTt.point=_Tt}function MTt(){ATt(rTt,iTt),xTt.point=bTt}function _Tt(t,e){rTt=t,iTt=e,t*=dbt,e*=dbt,xTt.point=ATt;var n=gbt(e);oTt=n*gbt(t),aTt=n*Sbt(t),uTt=Sbt(e),wTt(oTt,aTt,uTt)}function ATt(t,e){t*=dbt;var n=gbt(e*=dbt),r=n*gbt(t),i=n*Sbt(t),o=Sbt(e),a=aTt*o-uTt*i,u=uTt*r-oTt*o,s=oTt*i-aTt*r,l=xbt(a,u,s),c=Mbt(l),f=l&&-c/l;tTt.add(f*a),eTt.add(f*u),nTt.add(f*s),GAt+=c,ZAt+=c*(oTt+(oTt=r)),JAt+=c*(aTt+(aTt=i)),QAt+=c*(uTt+(uTt=o)),wTt(oTt,aTt,uTt)}function TTt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function PTt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function DTt(){}var FTt=.7,NTt=1/FTt,ITt="\\s*([+-]?\\d+)\\s*",LTt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",RTt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jTt=/^#([0-9a-f]{3,8})$/,BTt=new RegExp("^rgb\\("+[ITt,ITt,ITt]+"\\)$"),zTt=new RegExp("^rgb\\("+[RTt,RTt,RTt]+"\\)$"),UTt=new RegExp("^rgba\\("+[ITt,ITt,ITt,LTt]+"\\)$"),HTt=new RegExp("^rgba\\("+[RTt,RTt,RTt,LTt]+"\\)$"),VTt=new RegExp("^hsl\\("+[LTt,RTt,RTt]+"\\)$"),WTt=new RegExp("^hsla\\("+[LTt,RTt,RTt,LTt]+"\\)$"),YTt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qTt(){return this.rgb().formatHex()}function GTt(){return this.rgb().formatRgb()}function $Tt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jTt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?XTt(e):3===n?new QTt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?KTt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?KTt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=BTt.exec(t))?new QTt(e[1],e[2],e[3],1):(e=zTt.exec(t))?new QTt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=UTt.exec(t))?KTt(e[1],e[2],e[3],e[4]):(e=HTt.exec(t))?KTt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=VTt.exec(t))?rPt(e[1],e[2]/100,e[3]/100,1):(e=WTt.exec(t))?rPt(e[1],e[2]/100,e[3]/100,e[4]):YTt.hasOwnProperty(t)?XTt(YTt[t]):"transparent"===t?new QTt(NaN,NaN,NaN,0):null}function XTt(t){return new QTt(t>>16&255,t>>8&255,255&t,1)}function KTt(t,e,n,r){return r<=0&&(t=e=n=NaN),new QTt(t,e,n,r)}function ZTt(t){return t instanceof DTt||(t=$Tt(t)),t?new QTt((t=t.rgb()).r,t.g,t.b,t.opacity):new QTt}function JTt(t,e,n,r){return 1===arguments.length?ZTt(t):new QTt(t,e,n,null==r?1:r)}function QTt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function tPt(){return"#"+nPt(this.r)+nPt(this.g)+nPt(this.b)}function ePt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function nPt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function rPt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new aPt(t,e,n,r)}function iPt(t){if(t instanceof aPt)return new aPt(t.h,t.s,t.l,t.opacity);if(t instanceof DTt||(t=$Tt(t)),!t)return new aPt;if(t instanceof aPt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new aPt(a,u,s,t.opacity)}function oPt(t,e,n,r){return 1===arguments.length?iPt(t):new aPt(t,e,n,null==r?1:r)}function aPt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function uPt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}TTt(DTt,$Tt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:qTt,formatHex:qTt,formatHsl:function(){return iPt(this).formatHsl()},formatRgb:GTt,toString:GTt}),TTt(QTt,JTt,PTt(DTt,{brighter:function(t){return t=null==t?NTt:Math.pow(NTt,t),new QTt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?FTt:Math.pow(FTt,t),new QTt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tPt,formatHex:tPt,formatRgb:ePt,toString:ePt})),TTt(aPt,oPt,PTt(DTt,{brighter:function(t){return t=null==t?NTt:Math.pow(NTt,t),new aPt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?FTt:Math.pow(FTt,t),new aPt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new QTt(uPt(t>=240?t-240:t+120,i,r),uPt(t,i,r),uPt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var sPt,lPt=Math.PI/180,cPt=180/Math.PI,fPt=.96422,dPt=.82521,hPt=4/29,pPt=6/29,vPt=.12841854934601665;function gPt(t){if(t instanceof yPt)return new yPt(t.l,t.a,t.b,t.opacity);if(t instanceof EPt)return OPt(t);t instanceof QTt||(t=ZTt(t));var e,n,r=SPt(t.r),i=SPt(t.g),o=SPt(t.b),a=xPt((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=xPt((.4360747*r+.3850649*i+.1430804*o)/fPt),n=xPt((.0139322*r+.0971045*i+.7141733*o)/dPt)),new yPt(116*a-16,500*(e-a),200*(a-n),t.opacity)}function mPt(t,e,n,r){return 1===arguments.length?gPt(t):new yPt(t,e,n,null==r?1:r)}function yPt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function xPt(t){return t>.008856451679035631?Math.pow(t,1/3):t/vPt+hPt}function bPt(t){return t>pPt?t*t*t:vPt*(t-hPt)}function wPt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function SPt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kPt(t){if(t instanceof EPt)return new EPt(t.h,t.c,t.l,t.opacity);if(t instanceof yPt||(t=gPt(t)),0===t.a&&0===t.b)return new EPt(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*cPt;return new EPt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function CPt(t,e,n,r){return 1===arguments.length?kPt(t):new EPt(t,e,n,null==r?1:r)}function EPt(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function OPt(t){if(isNaN(t.h))return new yPt(t.l,0,0,t.opacity);var e=t.h*lPt;return new yPt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function MPt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _Pt(t){return t instanceof Rct?t:new Rct(t)}TTt(yPt,mPt,PTt(DTt,{brighter:function(t){return new yPt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new yPt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new QTt(wPt(3.1338561*(e=fPt*bPt(e))-1.6168667*(t=1*bPt(t))-.4906146*(n=dPt*bPt(n))),wPt(-.9787684*e+1.9161415*t+.033454*n),wPt(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),TTt(EPt,CPt,PTt(DTt,{brighter:function(t){return new EPt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new EPt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return OPt(this).rgb()}}));var APt="intersect",TPt="union",PPt="_vgsid_",DPt=i5(PPt),FPt="index:unit";function NPt(t,e){for(var n,r,i=e.fields,o=e.values,a=i.length,u=0;u<a;++u)if((r=i[u]).getter=i5.getter||i5(r.field),c6(n=r.getter(t))&&(n=E5(n)),c6(o[u])&&(o[u]=E5(o[u])),c6(o[u][0])&&(o[u]=o[u].map(E5)),"E"===r.type){if(y5(o[u])?o[u].indexOf(n)<0:n!==o[u])return!1}else if("R"===r.type){if(!s6(n,o[u]))return!1}else if("R-RE"===r.type){if(!s6(n,o[u],!0,!1))return!1}else if("R-E"===r.type){if(!s6(n,o[u],!1,!1))return!1}else if("R-LE"===r.type&&!s6(n,o[u],!1,!0))return!1;return!0}var IPt=function(t){var e=t,n=t,r=t;function i(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<0?i=a+1:o=a}while(i<o)}return i}return 2!==t.length&&(e=function(e,n){return t(e)-n},n=MPt,r=function(e,n){return MPt(t(e),n)}),{left:i,center:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,a=i(t,n,r,o-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{var a=i+o>>>1;r(t[a],e)<=0?i=a+1:o=a}while(i<o)}return i}}}(DPt),LPt=IPt.left,RPt=IPt.right;var jPt=(mt(sPt={},"".concat(PPt,"_union"),(function(){for(var t=new Rct,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a,u=o[i],s=qe(u);try{for(s.s();!(a=s.n()).done;){var l=a.value;t.add(l)}}catch(c){s.e(c)}finally{s.f()}}return t})),mt(sPt,"".concat(PPt,"_intersect"),(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t=new Rct(t),n=n.map(_Pt);var i,o=qe(t);try{t:for(o.s();!(i=o.n()).done;){var a,u=i.value,s=qe(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(!l.has(u)){t.delete(u);continue t}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){o.e(c)}finally{o.f()}return t})),mt(sPt,"E_union",(function(t,e){if(!t.length)return e;for(var n=0,r=e.length;n<r;++n)t.indexOf(e[n])<0&&t.push(e[n]);return t})),mt(sPt,"E_intersect",(function(t,e){return t.length?t.filter((function(t){return e.indexOf(t)>=0})):e})),mt(sPt,"R_union",(function(t,e){var n=E5(e[0]),r=E5(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?(t[0]>n&&(t[0]=n),t[1]<r&&(t[1]=r),t):[n,r]})),mt(sPt,"R_intersect",(function(t,e){var n=E5(e[0]),r=E5(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?r<t[0]||t[1]<n?[]:(t[0]<n&&(t[0]=n),t[1]>r&&(t[1]=r),t):[n,r]})),sPt);function BPt(t,e,n,r){e[0].type!==s_t&&n5("First argument to selection functions must be a string literal.");var i=e[0].value,o="unit",a="@unit",u=":"+i;(e.length>=2&&C5(e).value)!==APt||r6(r,a)||(r["@unit"]=n.getData(i).indataRef(n,o)),r6(r,u)||(r[u]=n.getData(i).tuplesRef())}function zPt(t){var e=this.context.data[t];return e?e.values.value:[]}var UPt=function(t){return function(e,n){return this.context.dataflow.locale()[t](n)(e)}},HPt=UPt("format"),VPt=UPt("timeFormat"),WPt=UPt("utcFormat"),YPt=UPt("timeParse"),qPt=UPt("utcParse"),GPt=new Date(2e3,0,1);function $Pt(t,e,n){return Number.isInteger(t)&&Number.isInteger(e)?(GPt.setYear(2e3),GPt.setMonth(t),GPt.setDate(e),VPt.call(this,GPt,n)):""}function XPt(t,e,n,r){e[0].type!==s_t&&n5("First argument to data functions must be a string literal.");var i=e[0].value,o=":"+i;if(!r6(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(a){}}function KPt(t,e,n,r){if(e[0].type===s_t)ZPt(n,r,e[0].value);else for(t in n.scales)ZPt(n,r,t)}function ZPt(t,e,n){var r="%"+n;if(!r6(e,r))try{e[r]=t.scaleRef(n)}catch(i){}}function JPt(t,e){var n;return Y5(t)?t:p6(t)?(n=e.scales[t])&&n.value:void 0}function QPt(t,e,n){e.__bandwidth=function(t){return t&&t.bandwidth?t.bandwidth():0},n._bandwidth=KPt,n._range=KPt,n._scale=KPt;var r=function(e){return"_["+(e.type===s_t?S6("%"+e.value):S6("%")+"+"+t(e))+"]"};return{_bandwidth:function(t){return"this.__bandwidth(".concat(r(t[0]),")")},_range:function(t){return"".concat(r(t[0]),".range()")},_scale:function(e){return"".concat(r(e[0]),"(").concat(t(e[1]),")")}}}function tDt(t,e){return function(n,r,i){if(n){var o=JPt(n,(i||this).context);return o&&o.path[t](r)}return e(r)}}var eDt=tDt("area",(function(t){return zAt=new ibt,rbt(t,UAt),2*zAt})),nDt=tDt("bounds",(function(t){var e,n,r,i,o,a,u;if(PAt=TAt=-(_At=AAt=1/0),RAt=[],rbt(t,sTt),n=RAt.length){for(RAt.sort(mTt),e=1,o=[r=RAt[0]];e<n;++e)yTt(r,(i=RAt[e])[0])||yTt(r,i[1])?(gTt(r[0],i[1])>gTt(r[0],r[1])&&(r[1]=i[1]),gTt(i[0],r[1])>gTt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(u=gTt(r[1],i[0]))>a&&(a=u,_At=i[0],TAt=r[1])}return RAt=jAt=null,_At===1/0||AAt===1/0?[[NaN,NaN],[NaN,NaN]]:[[_At,AAt],[TAt,PAt]]})),rDt=tDt("centroid",(function(t){qAt=GAt=$At=XAt=KAt=ZAt=JAt=QAt=0,tTt=new ibt,eTt=new ibt,nTt=new ibt,rbt(t,xTt);var e=+tTt,n=+eTt,r=+nTt,i=xbt(e,n,r);return i<abt&&(e=ZAt,n=JAt,r=QAt,GAt<obt&&(e=$At,n=XAt,r=KAt),(i=xbt(e,n,r))<abt)?[NaN,NaN]:[vbt(n,e)*fbt,Mbt(r/i)*fbt]}));function iDt(t,e,n){try{t[e].apply(t,["EXPRESSION"].concat([].slice.call(n)))}catch(r){t.warn(r)}return n[n.length-1]}function oDt(t){var e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function aDt(t){var e=JTt(t);return.2126*oDt(e.r)+.7152*oDt(e.g)+.0722*oDt(e.b)}function uDt(t,e){return t===e||t!==t&&e!==e||(y5(t)?!(!y5(e)||t.length!==e.length)&&function(t,e){for(var n=0,r=t.length;n<r;++n)if(!uDt(t[n],e[n]))return!1;return!0}(t,e):!(!x5(t)||!x5(e))&&sDt(t,e))}function sDt(t,e){for(var n in t)if(!uDt(t[n],e[n]))return!1;return!0}function lDt(t){return function(e){return sDt(t,e)}}var cDt={};function fDt(t){return y5(t)||ArrayBuffer.isView(t)?t:null}function dDt(t){return fDt(t)||(p6(t)?t:null)}var hDt=function(t){return t.data};function pDt(t,e){var n=zPt.call(e,t);return n.root&&n.root.lookup||{}}var vDt=function(){return"undefined"!==typeof window&&window||null};function gDt(t,e,n){if(!t)return[];var r=j(t,2),i=r[0],o=r[1],a=(new opt).set(i[0],i[1],o[0],o[1]);return Nmt(n||this.context.dataflow.scenegraph().root,a,function(t){var e=null;if(t){var n=V5(t.marktype),r=V5(t.markname);e=function(t){return(!n.length||n.some((function(e){return t.marktype===e})))&&(!r.length||r.some((function(e){return t.name===e})))}}return e}(e))}var mDt={random:function(){return Fnt()},cumulativeNormal:Wnt,cumulativeLogNormal:Knt,cumulativeUniform:nrt,densityNormal:Vnt,densityLogNormal:Xnt,densityUniform:ert,quantileNormal:Ynt,quantileLogNormal:Znt,quantileUniform:rrt,sampleNormal:Hnt,sampleLogNormal:$nt,sampleUniform:trt,isArray:y5,isBoolean:l6,isDate:c6,isDefined:function(t){return void 0!==t},isNumber:d6,isObject:x5,isRegExp:h6,isString:p6,isTuple:Eet,isValid:function(t){return null!=t&&t===t},toBoolean:k6,toDate:function(t){return E6(t)},toNumber:E5,toString:O6,indexof:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=dDt(t)).indexOf.apply(e,r)},join:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=fDt(t)).join.apply(e,r)},lastindexof:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=dDt(t)).lastIndexOf.apply(e,r)},replace:function(t,e,n){return Y5(n)&&n5("Function argument passed to replace."),String(t).replace(e,n)},reverse:function(t){return fDt(t).slice().reverse()},slice:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=dDt(t)).slice.apply(e,r)},flush:a6,lerp:g6,merge:function(){var t=[].slice.call(arguments);return t.unshift({}),Q5.apply(void 0,Ye(t))},pad:b6,peek:C5,pluck:function(t,e){var n=cDt[e]||(cDt[e]=i5(e));return y5(t)?t.map(n):n(t)},span:w6,inrange:s6,truncate:_6,rgb:JTt,lab:mPt,hcl:CPt,hsl:oPt,luminance:aDt,contrast:function(t,e){var n=aDt(t),r=aDt(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},format:HPt,utcFormat:WPt,utcParse:qPt,utcOffset:o9,utcSequence:s9,timeFormat:VPt,timeParse:YPt,timeOffset:i9,timeSequence:u9,timeUnitSpecifier:T8,monthFormat:function(t){return $Pt.call(this,t,1,"%B")},monthAbbrevFormat:function(t){return $Pt.call(this,t,1,"%b")},dayFormat:function(t){return $Pt.call(this,0,2+t,"%A")},dayAbbrevFormat:function(t){return $Pt.call(this,0,2+t,"%a")},quarter:U5,utcquarter:H5,week:N8,utcweek:z8,dayofyear:F8,utcdayofyear:B8,warn:function(){return iDt(this.context.dataflow,"warn",arguments)},info:function(){return iDt(this.context.dataflow,"info",arguments)},debug:function(){return iDt(this.context.dataflow,"debug",arguments)},extent:function(t){return t6(t)},inScope:function(t){var e=this.context.group,n=!1;if(e)for(;t;){if(t===e){n=!0;break}t=t.mark.group}return n},intersect:gDt,clampRange:W5,pinchDistance:function(t){var e=t.touches,n=e[0].clientX-e[1].clientX,r=e[0].clientY-e[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(t){var e=t.touches;return Math.atan2(e[0].clientY-e[1].clientY,e[0].clientX-e[1].clientX)},screen:function(){var t=vDt();return t?t.screen:{}},containerSize:function(){var t=this.context.dataflow,e=t.container&&t.container();return e?[e.clientWidth,e.clientHeight]:[void 0,void 0]},windowSize:function(){var t=vDt();return t?[t.innerWidth,t.innerHeight]:[void 0,void 0]},bandspace:function(t,e,n){return Wft(t||0,e||0,n||0)},setdata:function(t,e){var n=this.context.dataflow,r=this.context.data[t].input;return n.pulse(r,n.changeset().remove(l5).insert(e)),1},pathShape:function(t){var e=null;return function(n){return n?_ht(n,e=e||mht(t)):t}},panLinear:D5,panLog:F5,panPow:N5,panSymlog:I5,zoomLinear:R5,zoomLog:j5,zoomPow:B5,zoomSymlog:z5,encode:function(t,e,n){if(t){var r=this.context.dataflow,i=t.mark.source;r.pulse(i,r.changeset().encode(t,e))}return void 0!==n?n:t},modify:function(t,e,n,r,i,o){var a,u,s=this.context.dataflow,l=this.context.data[t],c=l.input,f=s.stamp(),d=l.changes;if(!1===s._trigger||!(c.value.length||e||r))return 0;if((!d||d.stamp<f)&&(l.changes=d=s.changeset(),d.stamp=f,s.runAfter((function(){l.modified=!0,s.pulse(c,d).run()}),!0,1)),n&&(a=!0===n?l5:y5(n)||Eet(n)?n:lDt(n),d.remove(a)),e&&d.insert(e),r&&(a=lDt(r),c.value.some(a)?d.remove(a):d.insert(r)),i)for(u in o)d.modify(i,u,o[u]);return 1},lassoAppend:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=t[t.length-1];return void 0===i||Math.sqrt(Math.pow(i[0]-e,2)+Math.pow(i[1]-n,2))>r?(t.push([e,n]),Ye(t)):t},lassoPath:function(t){return(null!==t&&void 0!==t?t:[]).reduce((function(e,n,r){var i=j(n,2),o=i[0],a=i[1];return e+(0==r?"M ".concat(o,",").concat(a," "):r===t.length-1?" Z":"L ".concat(o,",").concat(a," "))}),"")},intersectLasso:function(t,e,n){var r,i=n.x,o=n.y,a=n.mark,u=(new opt).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER),s=qe(e);try{for(s.s();!(r=s.n()).done;){var l=j(r.value,2),c=l[0],f=l[1];c<u.x1&&(u.x1=c),c>u.x2&&(u.x2=c),f<u.y1&&(u.y1=f),f>u.y2&&(u.y2=f)}}catch(d){s.e(d)}finally{s.f()}return u.translate(i,o),gDt([[u.x1,u.y1],[u.x2,u.y2]],t,a).filter((function(t){return function(t,e,n){for(var r=0,i=0,o=n.length-1;i<n.length;o=i++){var a=j(n[o],2),u=a[0],s=a[1],l=j(n[i],2),c=l[0],f=l[1];f>e!=s>e&&t<(u-c)*(e-f)/(s-f)+c&&r++}return 1&r}(t.x,t.y,e)}))}},yDt=["view","item","group","xy","x","y"],xDt="this.",bDt={},wDt={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(t){return"_[".concat(S6("$"+t),"]")},functions:function(t){var e=wAt(t);for(var n in yDt.forEach((function(t){return e[t]="event.vega."+t})),mDt)e[n]=xDt+n;return Q5(e,QPt(t,mDt,bDt)),e},constants:bAt,visitors:bDt},SDt=SAt(wDt);function kDt(t,e,n){return 1===arguments.length?mDt[t]:(mDt[t]=e,n&&(bDt[t]=n),SDt&&(SDt.functions[t]=xDt+t),this)}function CDt(t,e){var n,r={};try{n=xAt(t=p6(t)?t:S6(t)+"")}catch(o){n5("Expression parse error: "+t)}n.visit((function(t){if(t.type===d_t){var n=t.callee.name,i=wDt.visitors[n];i&&i(n,t.arguments,e,r)}}));var i=SDt(n);return i.globals.forEach((function(t){var n="$"+t;!r6(r,n)&&e.getSignal(t)&&(r[n]=e.signalRef(t))})),{$expr:Q5({code:i.code},e.options.ast?{ast:n}:null),$fields:i.fields,$params:r}}kDt("bandwidth",(function(t,e){var n=JPt(t,(e||this).context);return n&&n.bandwidth?n.bandwidth():0}),KPt),kDt("copy",(function(t,e){var n=JPt(t,(e||this).context);return n?n.copy():void 0}),KPt),kDt("domain",(function(t,e){var n=JPt(t,(e||this).context);return n?n.domain():[]}),KPt),kDt("range",(function(t,e){var n=JPt(t,(e||this).context);return n&&n.range?n.range():[]}),KPt),kDt("invert",(function(t,e,n){var r=JPt(t,(n||this).context);return r?y5(e)?(r.invertRange||r.invert)(e):(r.invert||r.invertExtent)(e):void 0}),KPt),kDt("scale",(function(t,e,n){var r=JPt(t,(n||this).context);return r?r(e):void 0}),KPt),kDt("gradient",(function(t,e,n,r,i){t=JPt(t,(i||this).context);var o=lht(e,n),a=t.domain(),u=a[0],s=C5(a),l=a5;return s-u?l=Ddt(t,u,s):t=(t.interpolator?xdt("sequential")().interpolator(t.interpolator()):xdt("linear")().interpolate(t.interpolate()).range(t.range())).domain([u=0,s=1]),t.ticks&&(u!==(a=t.ticks(+r||15))[0]&&a.unshift(u),s!==C5(a)&&a.push(s)),a.forEach((function(e){return o.stop(l(e),t(e))})),o}),KPt),kDt("geoArea",eDt,KPt),kDt("geoBounds",nDt,KPt),kDt("geoCentroid",rDt,KPt),kDt("geoShape",(function(t,e,n){var r=JPt(t,(n||this).context);return function(t){return r?r.path.context(t)(e):""}}),KPt),kDt("indata",(function(t,e,n){var r=this.context.data[t]["index:"+e],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(t,e,n,r){e[0].type!==s_t&&n5("First argument to indata must be a string literal."),e[1].type!==s_t&&n5("Second argument to indata must be a string literal.");var i=e[0].value,o=e[1].value,a="@"+o;r6(a,r)||(r[a]=n.getData(i).indataRef(n,o))})),kDt("data",zPt,XPt),kDt("treePath",(function(t,e,n){var r=pDt(t,this),i=r[e],o=r[n];return i&&o?i.path(o).map(hDt):void 0}),XPt),kDt("treeAncestors",(function(t,e){var n=pDt(t,this)[e];return n?n.ancestors().map(hDt):void 0}),XPt),kDt("vlSelectionTest",(function(t,e,n){for(var r,i,o,a,u,s=this.context.data[t],l=s?s.values.value:[],c=s?s[FPt]&&s[FPt].value:void 0,f=n===APt,d=l.length,h=0;h<d;++h)if(r=l[h],c&&f){if(-1===(o=(i=i||{})[a=r.unit]||0))continue;if(u=NPt(e,r),i[a]=u?-1:++o,u&&1===c.size)return!0;if(!u&&o===c.get(a).count)return!1}else if(f^(u=NPt(e,r)))return u;return d&&f}),BPt),kDt("vlSelectionIdTest",(function(t,e,n){var r=this.context.data[t],i=r?r.values.value:[],o=r?r[FPt]&&r[FPt].value:void 0,a=n===APt,u=DPt(e),s=LPt(i,u);if(s===i.length)return!1;if(DPt(i[s])!==u)return!1;if(o&&a){if(1===o.size)return!0;if(RPt(i,u)-s<o.size)return!1}return!0}),BPt),kDt("vlSelectionResolve",(function(t,e,n,r){for(var i,o,a,u,s,l,c,f,d,h,p,v,g=this.context.data[t],m=g?g.values.value:[],y={},x={},b={},w=m.length,S=0;S<w;++S)if(u=(i=m[S]).unit,o=i.fields,a=i.values,o&&a){for(p=0,v=o.length;p<v;++p)s=o[p],f=(c=y[s.field]||(y[s.field]={}))[u]||(c[u]=[]),b[s.field]=d=s.type.charAt(0),h=jPt["".concat(d,"_union")],c[u]=h(f,V5(a[p]));n&&(f=x[u]||(x[u]=[])).push(V5(a).reduce((function(t,e,n){return t[o[n].field]=e,t}),{}))}else s=PPt,l=DPt(i),(f=(c=y[s]||(y[s]={}))[u]||(c[u]=[])).push(l),n&&(f=x[u]||(x[u]=[])).push(mt({},PPt,l));return e=e||TPt,y._vgsid_?y._vgsid_=jPt["".concat(PPt,"_").concat(e)].apply(jPt,Ye(Object.values(y._vgsid_))):Object.keys(y).forEach((function(t){y[t]=Object.keys(y[t]).map((function(e){return y[t][e]})).reduce((function(n,r){return void 0===n?r:jPt["".concat(b[t],"_").concat(e)](n,r)}))})),m=Object.keys(x),n&&m.length&&(y[r?"vlPoint":"vlMulti"]=e===TPt?mt({},"or",m.reduce((function(t,e){return t.push.apply(t,Ye(x[e])),t}),[])):mt({},"and",m.map((function(t){return mt({},"or",x[t])})))),y}),BPt),kDt("vlSelectionTuples",(function(t,e){return t.map((function(t){return Q5(e.fields?{values:e.fields.map((function(e){return(e.getter||(e.getter=i5(e.field)))(t.datum)}))}:mt({},PPt,DPt(t.datum)),e)}))}));var EDt=M6(["rule"]),ODt=M6(["group","image","rect"]);function MDt(t){return(t+"").toLowerCase()}function _Dt(t,e,n){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(void 0,Ye(e.concat(n)));return t&&t.functions?r.bind(t.functions):r}var ADt={operator:function(t,e){return _Dt(t,["_"],e.code)},parameter:function(t,e){return _Dt(t,["datum","_"],e.code)},event:function(t,e){return _Dt(t,["event"],e.code)},handler:function(t,e){return _Dt(t,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(e.code,";"))},encode:function(t,e){var n=e.marktype,r=e.channels,i="var o=item,datum=o.datum,m=0,$;";for(var o in r){var a="o["+S6(o)+"]";i+="$=".concat(r[o].code,";if(").concat(a,"!==$)").concat(a,"=$,m=1;")}return i+=function(t,e){var n="";return EDt[e]||(t.x2&&(t.x?(ODt[e]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),t.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(ODt[e]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),t.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),_Dt(t,["item","_"],i+="return m;")},codegen:{get:function(t){var e="[".concat(t.map(S6).join("]["),"]"),n=Function("_","return _".concat(e,";"));return n.path=e,n},comparator:function(t,e){var n,r=Function("a","b","var u, v; return "+t.map((function(t,r){var i,o,a=e[r];return t.path?(i="a".concat(t.path),o="b".concat(t.path)):((n=n||{})["f"+r]=t,i="this.f".concat(r,"(a)"),o="this.f".concat(r,"(b)")),function(t,e,n,r){return"((u = ".concat(t,") < (v = ").concat(e,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(i,o,-a,a)})).join("")+"0;");return n?r.bind(n):r}}};function TDt(t,e,n){if(!t||!x5(t))return t;for(var r,i=0,o=PDt.length;i<o;++i)if(r6(t,(r=PDt[i]).key))return r.parse(t,e,n);return t}var PDt=[{key:"$ref",parse:function(t,e){return e.get(t.$ref)||n5("Operator not defined: "+t.$ref)}},{key:"$key",parse:function(t,e){var n="k:"+t.$key+"_"+!!t.$flat;return e.fn[n]||(e.fn[n]=v6(t.$key,t.$flat,e.expr.codegen))}},{key:"$expr",parse:function(t,e,n){t.$params&&e.parseParameters(t.$params,n);var r="e:"+t.$expr.code+"_"+t.$name;return e.fn[r]||(e.fn[r]=K3(e.parameterExpression(t.$expr),t.$fields,t.$name))}},{key:"$field",parse:function(t,e){if(!t.$field)return null;var n="f:"+t.$field+"_"+t.$name;return e.fn[n]||(e.fn[n]=i5(t.$field,t.$name,e.expr.codegen))}},{key:"$encode",parse:function(t,e){var n=t.$encode,r={};for(var i in n){var o=n[i];r[i]=K3(e.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}},{key:"$compare",parse:function(t,e){var n="c:"+t.$compare+"_"+t.$order,r=V5(t.$compare).map((function(t){return t&&t.$tupleid?Oet:t}));return e.fn[n]||(e.fn[n]=q5(r,t.$order,e.expr.codegen))}},{key:"$context",parse:function(t,e){return e}},{key:"$subflow",parse:function(t,e){var n=t.$subflow;return function(t,r,i){var o=e.fork().parse(n),a=o.get(n.operators[0].id),u=o.signals.parent;return u&&u.set(i),a.detachSubflow=function(){return e.detach(o)},a}}},{key:"$tupleid",parse:function(){return Oet}}];var DDt={skip:!0};function FDt(t,e,n,r){return new NDt(t,e,n,r)}function NDt(t,e,n,r){this.dataflow=t,this.transforms=e,this.events=t.events.bind(t),this.expr=r||ADt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function IDt(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.events=t.events,this.expr=t.expr,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}NDt.prototype=IDt.prototype={fork:function(){var t=new IDt(this);return(this.subcontext||(this.subcontext=[])).push(t),t},detach:function(t){this.subcontext=this.subcontext.filter((function(e){return e!==t}));for(var e=Object.keys(t.nodes),n=0,r=e;n<r.length;n++){var i=r[n];t.nodes[i]._targets=null}for(var o=0,a=e;o<a.length;o++){var u=a[o];t.nodes[u].detach()}t.nodes=null},get:function(t){return this.nodes[t]},set:function(t,e){return this.nodes[t]=e},add:function(t,e){var n=this,r=n.dataflow,i=t.value;if(n.set(t.id,e),function(t){return"collect"===MDt(t)}(t.type)&&i&&(i.$ingest?r.ingest(e,i.$ingest,i.$format):i.$request?r.preload(e,i.$request,i.$format):r.pulse(e,r.changeset().insert(i))),t.root&&(n.root=e),t.parent){var o=n.get(t.parent.$ref);o?(r.connect(o,[e]),e.targets().add(o)):(n.unresolved=n.unresolved||[]).push((function(){o=n.get(t.parent.$ref),r.connect(o,[e]),e.targets().add(o)}))}if(t.signal&&(n.signals[t.signal]=e),t.scale&&(n.scales[t.scale]=e),t.data){var a=function(r){var i=n.data[r]||(n.data[r]={});t.data[r].forEach((function(t){return i[t]=e}))};for(var u in t.data)a(u)}},resolve:function(){return(this.unresolved||[]).forEach((function(t){return t()})),delete this.unresolved,this},operator:function(t,e){this.add(t,this.dataflow.add(t.value,e))},transform:function(t,e){this.add(t,this.dataflow.add(this.transforms[MDt(e)]))},stream:function(t,e){this.set(t.id,e)},update:function(t,e,n,r,i){this.dataflow.on(e,n,r,i,t.options)},operatorExpression:function(t){return this.expr.operator(this,t)},parameterExpression:function(t){return this.expr.parameter(this,t)},eventExpression:function(t){return this.expr.event(this,t)},handlerExpression:function(t){return this.expr.handler(this,t)},encodeExpression:function(t){return this.expr.encode(this,t)},parse:function(t){var e=this,n=t.operators||[];return t.background&&(e.background=t.background),t.eventConfig&&(e.eventConfig=t.eventConfig),t.locale&&(e.locale=t.locale),n.forEach((function(t){return e.parseOperator(t)})),n.forEach((function(t){return e.parseOperatorParameters(t)})),(t.streams||[]).forEach((function(t){return e.parseStream(t)})),(t.updates||[]).forEach((function(t){return e.parseUpdate(t)})),e.resolve()},parseOperator:function(t){var e=this;!function(t){return"operator"===MDt(t)}(t.type)&&t.type?e.transform(t,t.type):e.operator(t,t.update?e.operatorExpression(t.update):null)},parseOperatorParameters:function(t){var e=this;if(t.params){var n=e.get(t.id);n||n5("Invalid operator id: "+t.id),e.dataflow.connect(n,n.parameters(e.parseParameters(t.params),t.react,t.initonly))}},parseParameters:function(t,e){e=e||{};var n=this;for(var r in t){var i=t[r];e[r]=y5(i)?i.map((function(t){return TDt(t,n,e)})):TDt(i,n,e)}return e},parseStream:function(t){var e,n=this,r=null!=t.filter?n.eventExpression(t.filter):void 0,i=null!=t.stream?n.get(t.stream):void 0;t.source?i=n.events(t.source,t.type,r):t.merge&&(e=t.merge.map((function(t){return n.get(t)})),i=e[0].merge.apply(e[0],e.slice(1))),t.between&&(e=t.between.map((function(t){return n.get(t)})),i=i.between(e[0],e[1])),t.filter&&(i=i.filter(r)),null!=t.throttle&&(i=i.throttle(+t.throttle)),null!=t.debounce&&(i=i.debounce(+t.debounce)),null==i&&n5("Invalid stream definition: "+JSON.stringify(t)),t.consume&&i.consume(!0),n.stream(t,i)},parseUpdate:function(t){var e,n=this,r=x5(r=t.source)?r.$ref:r,i=n.get(r),o=t.update,a=void 0;i||n5("Source not defined: "+t.source),e=t.target&&t.target.$expr?n.eventExpression(t.target.$expr):n.get(t.target),o&&o.$expr&&(o.$params&&(a=n.parseParameters(o.$params)),o=n.handlerExpression(o.$expr)),n.update(t,i,e,o,a)},getState:function(t){var e=this,n={};if(t.signals){var r=n.signals={};Object.keys(e.signals).forEach((function(n){var i=e.signals[n];t.signals(n,i)&&(r[n]=i.value)}))}if(t.data){var i=n.data={};Object.keys(e.data).forEach((function(n){var r=e.data[n];t.data(n,r)&&(i[n]=r.input.value)}))}return e.subcontext&&!1!==t.recurse&&(n.subcontext=e.subcontext.map((function(e){return e.getState(t)}))),n},setState:function(t){var e=this,n=e.dataflow,r=t.data,i=t.signals;Object.keys(i||{}).forEach((function(t){n.update(e.signals[t],i[t],DDt)})),Object.keys(r||{}).forEach((function(t){n.pulse(e.data[t].input,n.changeset().remove(l5).insert(r[t]))})),(t.subcontext||[]).forEach((function(t,n){var r=e.subcontext[n];r&&r.setState(t)}))}};var LDt,RDt,jDt=0,BDt=0,zDt=0,UDt=0,HDt=0,VDt=0,WDt="object"===typeof performance&&performance.now?performance:Date,YDt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qDt(){return HDt||(YDt(GDt),HDt=WDt.now()+VDt)}function GDt(){HDt=0}function $Dt(){this._call=this._time=this._next=null}function XDt(){HDt=(UDt=WDt.now())+VDt,jDt=BDt=0;try{!function(){qDt(),++jDt;for(var t,e=LDt;e;)(t=HDt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--jDt}()}finally{jDt=0,function(){var t,e,n=LDt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:LDt=e);RDt=t,ZDt(r)}(),HDt=0}}function KDt(){var t=WDt.now(),e=t-UDt;e>1e3&&(VDt-=e,UDt=t)}function ZDt(t){jDt||(BDt&&(BDt=clearTimeout(BDt)),t-HDt>24?(t<1/0&&(BDt=setTimeout(XDt,t-WDt.now()-VDt)),zDt&&(zDt=clearInterval(zDt))):(zDt||(UDt=WDt.now(),zDt=setInterval(KDt,1e3)),jDt=1,YDt(XDt)))}function JDt(t,e){t&&(null==e?t.removeAttribute("aria-label"):t.setAttribute("aria-label",e))}$Dt.prototype=function(t,e,n){var r=new $Dt;return r.restart(t,e,n),r}.prototype={constructor:$Dt,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?qDt():+n)+(null==e?0:+e),this._next||RDt===this||(RDt?RDt._next=this:LDt=this,RDt=this),this._call=t,this._time=n,ZDt()},stop:function(){this._call&&(this._call=null,this._time=1/0,ZDt())}};var QDt="default";function tFt(t,e){var n=t.globalCursor()?"undefined"!==typeof document&&document.body:t.container();if(n)return null==e?n.style.removeProperty("cursor"):n.style.cursor=e}function eFt(t,e){var n=t._runtime.data;return r6(n,e)||n5("Unrecognized data set: "+e),n[e]}function nFt(t,e){Fet(e)||n5("Second argument to changes must be a changeset.");var n=eFt(this,t);return n.modified=!0,this.pulse(n.input,e)}function rFt(t){var e=t.padding();return Math.max(0,t._viewWidth+e.left+e.right)}function iFt(t){var e=t.padding();return Math.max(0,t._viewHeight+e.top+e.bottom)}function oFt(t){var e=t.padding(),n=t._origin;return[e.left+n[0],e.top+n[1]]}function aFt(t){var e=oFt(t),n=rFt(t),r=iFt(t);t._renderer.background(t.background()),t._renderer.resize(n,r,e),t._handler.origin(e),t._resizeListeners.forEach((function(e){try{e(n,r)}catch(n5){t.error(n5)}}))}function uFt(t,e,n){var r,i,o=t._renderer,a=o&&o.canvas();return a&&(i=oFt(t),(r=mgt(e.changedTouches?e.changedTouches[0]:e,a))[0]-=i[0],r[1]-=i[1]),e.dataflow=t,e.item=n,e.vega=function(t,e,n){var r=e?"group"===e.mark.marktype?e:e.mark.group:null;function i(t){var n,i=r;if(t)for(n=e;n;n=n.mark.group)if(n.mark.name===t){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(t){if(!t)return n;p6(t)&&(t=i(t));for(var e=n.slice();t;)e[0]-=t.x||0,e[1]-=t.y||0,t=t.mark&&t.mark.group;return e}return{view:Z5(t),item:Z5(e||{}),group:i,xy:o,x:function(t){return o(t)[0]},y:function(t){return o(t)[1]}}}(t,n,r),e}var sFt="view",lFt={trap:!1};function cFt(t,e,n,r){t._eventListeners.push({type:n,sources:V5(e),handler:r})}function fFt(t,e,n){var r=t._eventConfig&&t._eventConfig[e];return!(!1===r||x5(r)&&!r[n])||(t.warn("Blocked ".concat(e," ").concat(n," event listener.")),!1)}function dFt(t){return t.item}function hFt(t){return t.item.mark.source}function pFt(t){return function(e,n){return n.vega.view().changeset().encode(n.item,t)}}function vFt(t,e,n){var r=document.createElement(t);for(var i in e)r.setAttribute(i,e[i]);return null!=n&&(r.textContent=n),r}function gFt(t,e,n,r){var i=n.event||"input",o=function(){return t.update(e.value)};r.signal(n.signal,e.value),e.addEventListener(i,o),cFt(r,e,i,o),t.set=function(t){e.value=t,e.dispatchEvent(function(t){return"undefined"!==typeof Event?new Event(t):{type:t}}(i))}}function mFt(t,e,n,r){var i=r.signal(n.signal),o=vFt("div",{class:"vega-bind"}),a="radio"===n.input?o:o.appendChild(vFt("label"));a.appendChild(vFt("span",{class:"vega-bind-name"},n.name||n.signal)),e.appendChild(o);var u=yFt;switch(n.input){case"checkbox":u=xFt;break;case"select":u=bFt;break;case"radio":u=wFt;break;case"range":u=SFt}u(t,a,n,i)}function yFt(t,e,n,r){var i=vFt("input");for(var o in n)"signal"!==o&&"element"!==o&&i.setAttribute("input"===o?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,e.appendChild(i),i.addEventListener("input",(function(){return t.update(i.value)})),t.elements=[i],t.set=function(t){return i.value=t}}function xFt(t,e,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var o=vFt("input",i);e.appendChild(o),o.addEventListener("change",(function(){return t.update(o.checked)})),t.elements=[o],t.set=function(t){return o.checked=!!t||null}}function bFt(t,e,n,r){var i=vFt("select",{name:n.signal}),o=n.labels||[];n.options.forEach((function(t,e){var n={value:t};kFt(t,r)&&(n.selected=!0),i.appendChild(vFt("option",n,(o[e]||t)+""))})),e.appendChild(i),i.addEventListener("change",(function(){t.update(n.options[i.selectedIndex])})),t.elements=[i],t.set=function(t){for(var e=0,r=n.options.length;e<r;++e)if(kFt(n.options[e],t))return void(i.selectedIndex=e)}}function wFt(t,e,n,r){var i=vFt("span",{class:"vega-bind-radio"}),o=n.labels||[];e.appendChild(i),t.elements=n.options.map((function(e,a){var u={type:"radio",name:n.signal,value:e};kFt(e,r)&&(u.checked=!0);var s=vFt("input",u);s.addEventListener("change",(function(){return t.update(e)}));var l=vFt("label",{},(o[a]||e)+"");return l.prepend(s),i.appendChild(l),s})),t.set=function(e){for(var n=t.elements,r=n.length,i=0;i<r;++i)kFt(n[i].value,e)&&(n[i].checked=!0)}}function SFt(t,e,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=t_t?i*=10:o>=e_t?i*=5:o>=n_t&&(i*=2),e<t?-i:i}(o,i,100),u=vFt("input",{type:"range",name:n.signal,min:o,max:i,step:a});u.value=r;var s=vFt("span",{},+r);e.appendChild(u),e.appendChild(s);var l=function(){s.textContent=u.value,t.update(+u.value)};u.addEventListener("input",l),u.addEventListener("change",l),t.elements=[u],t.set=function(t){u.value=t,s.textContent=t}}function kFt(t,e){return t===e||t+""===e+""}function CFt(t,e,n,r,i,o){return(e=e||new r(t.loader())).initialize(n,rFt(t),iFt(t),oFt(t),i,o).background(t.background())}function EFt(t,e){return e?function(){try{e.apply(this,arguments)}catch(n5){t.error(n5)}}:null}function OFt(t,e,n){if("string"===typeof e){if("undefined"===typeof document)return t.error("DOM document instance not found."),null;if(!(e=document.querySelector(e)))return t.error("Signal bind element not found: "+e),null}if(e&&n)try{e.textContent=""}catch(v1t){e=null,t.error(v1t)}return e}var MFt=function(t){return+t||0};function _Ft(t){return x5(t)?{top:MFt(t.top),bottom:MFt(t.bottom),left:MFt(t.left),right:MFt(t.right)}:function(t){return{top:t,bottom:t,left:t,right:t}}(MFt(t))}function AFt(t,e,n,r){return TFt.apply(this,arguments)}function TFt(){return TFt=kt(Et().mark((function t(e,n,r,i){var o,a;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Fmt(n),(a=o&&o.headless)||n5("Unrecognized renderer type: "+n),t.next=4,e.runAsync();case 4:return t.abrupt("return",CFt(e,null,null,a,r,i).renderAsync(e._scenegraph.root));case 5:case"end":return t.stop()}}),t)}))),TFt.apply(this,arguments)}function PFt(){return PFt=kt(Et().mark((function t(e,n){var r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e!==Pmt.Canvas&&e!==Pmt.SVG&&e!==Pmt.PNG&&n5("Unrecognized image type: "+e),t.next=3,AFt(this,e,n);case 3:return r=t.sent,t.abrupt("return",e===Pmt.SVG?DFt(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return t.stop()}}),t,this)}))),PFt.apply(this,arguments)}function DFt(t,e){var n=new Blob([t],{type:e});return window.URL.createObjectURL(n)}function FFt(){return(FFt=kt(Et().mark((function t(e,n){var r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,AFt(this,Pmt.Canvas,e,n);case 2:return r=t.sent,t.abrupt("return",r.canvas());case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function NFt(){return(NFt=kt(Et().mark((function t(e){var n;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,AFt(this,Pmt.SVG,e);case 2:return n=t.sent,t.abrupt("return",n.svg());case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var IFt="width",LFt="height",RFt="padding",jFt={skip:!0};function BFt(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===RFt?r.left+r.right:0)}function zFt(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===RFt?r.top+r.bottom:0)}function UFt(t,e){return e.modified&&y5(e.input.value)&&t.indexOf("_:vega:_")}function HFt(t,e){return!("parent"===t||e instanceof fnt.proxy)}function VFt(t,e,n,r){var i=t.element();i&&i.setAttribute("title",function(t){return null==t?"":y5(t)?WFt(t):x5(t)&&!c6(t)?(e=t,Object.keys(e).map((function(t){var n=e[t];return t+": "+(y5(n)?WFt(n):YFt(n))})).join("\n")):t+"";var e}(r))}function WFt(t){return"["+t.map(YFt).join(", ")+"]"}function YFt(t){return y5(t)?"[\u2026]":x5(t)&&!c6(t)?"{\u2026}":t}function qFt(t,e){var n=this;if(e=e||{},snt.call(n),e.loader&&n.loader(e.loader),e.logger&&n.logger(e.logger),null!=e.logLevel&&n.logLevel(e.logLevel),e.locale||t.locale){var r=Q5({},t.locale,e.locale);n.locale(jtt(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=e.renderer||Pmt.Canvas,n._scenegraph=new cgt;var i=n._scenegraph.root;n._renderer=null,n._tooltip=e.tooltip||VFt,n._redraw=!0,n._handler=(new Lgt).scene(i),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(t){var e=Q5({defaults:{}},t),n=function(t,e){e.forEach((function(e){y5(t[e])&&(t[e]=M6(t[e]))}))};return n(e.defaults,["prevent","allow"]),n(e,["view","window","selector"]),e}(t.eventConfig),n.globalCursor(n._eventConfig.globalCursor);var o=function(t,e,n){return FDt(t,fnt,mDt,n).parse(e)}(n,t,e.expr);n._runtime=o,n._signals=o.signals,n._bind=(t.bindings||[]).map((function(t){return{state:null,param:Q5({},t)}})),o.root&&o.root.set(i),i.source=o.data.root.input,n.pulse(o.data.root.input,n.changeset().insert(i.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=BFt(n,n._width),n._viewHeight=zFt(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(t){var e=t._signals,n=e.width,r=e.height,i=e.padding;function o(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,(function(e){t._width=e.size,t._viewWidth=BFt(t,e.size),o()}),{size:n}),t._resizeHeight=t.add(null,(function(e){t._height=e.size,t._viewHeight=zFt(t,e.size),o()}),{size:r});var a=t.add(null,o,{pad:i});t._resizeWidth.rank=n.rank+1,t._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(n),function(t){t.add(null,(function(e){return t._background=e.bg,t._resize=1,e.bg}),{bg:t._signals.background})}(n),function(t){var e=t._signals.cursor||(t._signals.cursor=t.add({user:QDt,item:null}));t.on(t.events("view","mousemove"),e,(function(t,n){var r=e.value,i=r?p6(r)?r:r.user:QDt,o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),t.add(null,(function(e){var n=e.cursor,r=this.value;return p6(n)||(r=n.item,n=n.user),tFt(t,n&&n!==QDt?n:r||n),r}),{cursor:e})}(n),n.description(t.description),e.hover&&n.hover(),e.container&&n.initialize(e.container,e.bind)}function GFt(t,e){return r6(t._signals,e)?t._signals[e]:n5("Unrecognized signal name: "+S6(e))}function $Ft(t,e){var n=(t._targets||[]).filter((function(t){return t._update&&t._update.handler===e}));return n.length?n[0]:null}function XFt(t,e,n,r){var i=$Ft(n,r);return i||((i=EFt(t,(function(){return r(e,n.value)}))).handler=r,t.on(n,null,i)),t}function KFt(t,e,n){var r=$Ft(e,n);return r&&e._targets.remove(r),t}u6(qFt,snt,{evaluate:function(t,e,n){var r=this;return kt(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,snt.prototype.evaluate.call(r,t,e);case 2:if(!r._redraw&&!r._resize){i.next=14;break}if(i.prev=3,!r._renderer){i.next=8;break}return r._resize&&(r._resize=0,aFt(r)),i.next=8,r._renderer.renderAsync(r._scenegraph.root);case 8:r._redraw=!1,i.next=14;break;case 11:i.prev=11,i.t0=i.catch(3),r.error(i.t0);case 14:return n&&bet(r,n),i.abrupt("return",r);case 16:case"end":return i.stop()}}),i,null,[[3,11]])})))()},dirty:function(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},description:function(t){if(arguments.length){var e=null!=t?t+"":null;return e!==this._desc&&JDt(this._el,this._desc=e),this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(t,e,n){var r=GFt(this,t);return 1===arguments.length?r.value:this.update(r,e,n)},width:function(t){return arguments.length?this.signal("width",t):this.signal("width")},height:function(t){return arguments.length?this.signal("height",t):this.signal("height")},padding:function(t){return arguments.length?this.signal("padding",_Ft(t)):_Ft(this.signal("padding"))},autosize:function(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},background:function(t){return arguments.length?this.signal("background",t):this.signal("background")},renderer:function(t){return arguments.length?(Fmt(t)||n5("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},tooltip:function(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},loader:function(t){return arguments.length?(t!==this._loader&&(snt.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},resize:function(){return this._autosize=1,this.touch(GFt(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(t,e,n,r,i,o){this.runAfter((function(a){var u=0;a._autosize=0,a.width()!==n&&(u=1,a.signal(IFt,n,jFt),a._resizeWidth.skip(!0)),a.height()!==r&&(u=1,a.signal(LFt,r,jFt),a._resizeHeight.skip(!0)),a._viewWidth!==t&&(a._resize=1,a._viewWidth=t),a._viewHeight!==e&&(a._resize=1,a._viewHeight=e),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),u&&a.run("enter"),o&&a.runAfter((function(t){return t.resize()}))}),!1,1)},addEventListener:function(t,e,n){var r=e;return n&&!1===n.trap||((r=EFt(this,e)).raw=e),this._handler.on(t,r),this},removeEventListener:function(t,e){for(var n,r,i=this._handler.handlers(t),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,t===r&&(e===n||e===n.raw)){this._handler.off(r,n);break}return this},addResizeListener:function(t){var e=this._resizeListeners;return e.indexOf(t)<0&&e.push(t),this},removeResizeListener:function(t){var e=this._resizeListeners,n=e.indexOf(t);return n>=0&&e.splice(n,1),this},addSignalListener:function(t,e){return XFt(this,t,GFt(this,t),e)},removeSignalListener:function(t,e){return KFt(this,GFt(this,t),e)},addDataListener:function(t,e){return XFt(this,t,eFt(this,t).values,e)},removeDataListener:function(t,e){return KFt(this,eFt(this,t).values,e)},globalCursor:function(t){if(arguments.length){if(this._globalCursor!==!!t){var e=tFt(this,null);this._globalCursor=!!t,e&&tFt(this,e)}return this}return this._globalCursor},preventDefault:function(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},timer:function(t,e){this._timers.push(function(t,e,n){var r=new $Dt,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?qDt():+n,r._restart((function o(a){a+=i,r._restart(o,i+=e,n),t(a)}),e,n)},r.restart(t,e,n),r)}((function(e){t({timestamp:Date.now(),elapsed:e})}),e))},events:function(t,e,n){var r,i=this,o=new Het(n),a=function(n,r){i.runAsync(null,(function(){t===sFt&&function(t,e){var n=t._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[e]:i?!i[e]:t.preventDefault()))}(i,e)&&n.preventDefault(),o.receive(uFt(i,n,r))}))};if("timer"===t)fFt(i,"timer",e)&&i.timer(a,e);else if(t===sFt)fFt(i,"view",e)&&i.addEventListener(e,a,lFt);else if("window"===t?fFt(i,"window",e)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&fFt(i,"selector",e)&&(r=document.querySelectorAll(t)),r){for(var u=0,s=r.length;u<s;++u)r[u].addEventListener(e,a);cFt(i,r,e,a)}else i.warn("Can not resolve event source: "+t);return o},finalize:function(){var t,e,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(t=i.length;--t>=0;)i[t].stop();for(t=o.length;--t>=0;)for(e=(n=o[t]).sources.length;--e>=0;)n.sources[e].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(t,e){return e=[e||"update",(t=[t||"hover"])[0]],this.on(this.events("view","mouseover",dFt),hFt,pFt(t)),this.on(this.events("view","mouseout",dFt),hFt,pFt(e)),this},data:function(t,e){return arguments.length<2?eFt(this,t).values.value:nFt.call(this,t,Net().remove(l5).insert(e))},change:nFt,insert:function(t,e){return nFt.call(this,t,Net().insert(e))},remove:function(t,e){return nFt.call(this,t,Net().remove(e))},scale:function(t){var e=this._runtime.scales;return r6(e,t)||n5("Unrecognized scale or projection: "+t),e[t].value},initialize:function(t,e){var n=this,r=n._renderType,i=n._eventConfig.bind,o=Fmt(r);t=n._el=t?OFt(n,t,!0):null,function(t){var e=t.container();e&&(e.setAttribute("role","graphics-document"),e.setAttribute("aria-roleDescription","visualization"),JDt(e,t.description()))}(n),o||n.error("Unrecognized renderer type: "+r);var a=o.handler||Lgt,u=t?o.renderer:o.headless;return n._renderer=u?CFt(n,n._renderer,t,u):null,n._handler=function(t,e,n,r){var i=new r(t.loader(),EFt(t,t.tooltip())).scene(t.scenegraph().root).initialize(n,oFt(t),t);return e&&e.handlers().forEach((function(t){i.on(t.type,t.handler)})),i}(n,n._handler,t,a),n._redraw=!0,t&&"none"!==i&&(e=e?n._elBind=OFt(n,e,!0):t.appendChild(vFt("form",{class:"vega-bindings"})),n._bind.forEach((function(t){t.param.element&&"container"!==i&&(t.element=OFt(n,t.param.element,!!t.param.input))})),n._bind.forEach((function(t){!function(t,e,n){if(e){var r=n.param,i=n.state;i||(i=n.state={elements:null,active:!1,set:null,update:function(e){e!=t.signal(r.signal)&&t.runAsync(null,(function(){i.source=!0,t.signal(r.signal,e)}))}},r.debounce&&(i.update=J5(r.debounce,i.update))),(null==r.input&&r.element?gFt:mFt)(i,e,r,t),i.active||(t.on(t._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(t.signal(r.signal))})),i.active=!0)}}(n,t.element||e,t)}))),n},toImageURL:function(t,e){return PFt.apply(this,arguments)},toCanvas:function(t,e){return FFt.apply(this,arguments)},toSVG:function(t){return NFt.apply(this,arguments)},getState:function(t){return this._runtime.getState(t||{data:UFt,signals:HFt,recurse:!0})},setState:function(t){return this.runAsync(null,(function(e){e._trigger=!1,e._runtime.setState(t)}),(function(t){t._trigger=!0})),this}});var ZFt,JFt,QFt="[",tNt="]",eNt=/[[\]{}]/,nNt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function rNt(t,e,n){return ZFt=e||"view",JFt=n||nNt,oNt(t.trim()).map(aNt)}function iNt(t,e,n,r,i){for(var o,a=t.length,u=0;e<a;++e){if(o=t[e],!u&&o===n)return e;i&&i.indexOf(o)>=0?--u:r&&r.indexOf(o)>=0&&++u}return e}function oNt(t){for(var e=[],n=t.length,r=0,i=0;i<n;)i=iNt(t,i,",","[{","]}"),e.push(t.substring(r,i).trim()),r=++i;if(0===e.length)throw"Empty event selector: "+t;return e}function aNt(t){return"["===t[0]?function(t){var e,n=t.length,r=1;if((r=iNt(t,r,tNt,QFt,tNt))===n)throw"Empty between selector: "+t;if(2!==(e=oNt(t.substring(1,r))).length)throw"Between selector must have two elements: "+t;if(">"!==(t=t.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+t;e=e.map(aNt);var i=aNt(t.slice(1).trim());if(i.between)return{between:e,stream:i};i.between=e;return i}(t):function(t){var e,n,r={source:ZFt},i=[],o=[0,0],a=0,u=0,s=t.length,l=0;if("}"===t[s-1]){if(!((l=t.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+t;try{o=function(t){var e=t.split(",");if(!t.length||e.length>2)throw t;return e.map((function(e){var n=+e;if(n!==n)throw t;return n}))}(t.substring(l+1,s-1))}catch(v1t){throw"Invalid throttle specification: "+t}s=(t=t.slice(0,l).trim()).length,l=0}if(!s)throw t;"@"===t[0]&&(a=++l);(e=iNt(t,l,":"))<s&&(i.push(t.substring(u,e).trim()),u=l=++e);if((l=iNt(t,l,QFt))===s)i.push(t.substring(u,s).trim());else if(i.push(t.substring(u,l).trim()),n=[],(u=++l)===s)throw"Unmatched left bracket: "+t;for(;l<s;){if((l=iNt(t,l,tNt))===s)throw"Unmatched left bracket: "+t;if(n.push(t.substring(u,l).trim()),l<s-1&&t[++l]!==QFt)throw"Expected left bracket: "+t;u=++l}if(!(s=i.length)||eNt.test(i[s-1]))throw"Invalid event selector: "+t;s>1?(r.type=i[1],a?r.markname=i[0].slice(1):!function(t){return JFt[t]}(i[0])?r.source=i[0]:r.marktype=i[0]):r.type=i[0];"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);o[0]&&(r.throttle=o[0]);o[1]&&(r.debounce=o[1]);return r}(t)}function uNt(t){return x5(t)?t:{type:t||"pad"}}var sNt=function(t){return+t||0};function lNt(t){return x5(t)?t.signal?t:{top:sNt(t.top),bottom:sNt(t.bottom),left:sNt(t.left),right:sNt(t.right)}:function(t){return{top:t,bottom:t,left:t,right:t}}(sNt(t))}var cNt=function(t){return x5(t)&&!y5(t)?Q5({},t):{value:t}};function fNt(t,e,n,r){return null!=n?(x5(n)&&!y5(n)||y5(n)&&n.length&&x5(n[0])?t.update[e]=n:t[r||"enter"][e]={value:n},1):0}function dNt(t,e,n){for(var r in e)fNt(t,r,e[r]);for(var i in n)fNt(t,i,n[i],"update")}function hNt(t,e,n){for(var r in e)n&&r6(n,r)||(t[r]=Q5(t[r]||{},e[r]));return t}function pNt(t,e){return e&&(e.enter&&e.enter[t]||e.update&&e.update[t])}var vNt="mark",gNt="frame",mNt="scope",yNt="legend-label",xNt="title-text",bNt="title-subtitle";function wNt(t,e,n){t[e]=n&&n.signal?{signal:n.signal}:{value:n}}var SNt=function(t){return p6(t)?S6(t):t.signal?"(".concat(t.signal,")"):ONt(t)};function kNt(t){if(null!=t.gradient)return function(t){var e=[t.start,t.stop,t.count].map((function(t){return null==t?null:S6(t)}));for(;e.length&&null==C5(e);)e.pop();return e.unshift(SNt(t.gradient)),"gradient(".concat(e.join(","),")")}(t);var e=t.signal?"(".concat(t.signal,")"):t.color?function(t){return t.c?CNt("hcl",t.h,t.c,t.l):t.h||t.s?CNt("hsl",t.h,t.s,t.l):t.l||t.a?CNt("lab",t.l,t.a,t.b):t.r||t.g||t.b?CNt("rgb",t.r,t.g,t.b):null}(t.color):null!=t.field?ONt(t.field):void 0!==t.value?S6(t.value):void 0;return null!=t.scale&&(e=function(t,e){var n=SNt(t.scale);null!=t.range?e="lerp(_range(".concat(n,"), ").concat(+t.range,")"):(void 0!==e&&(e="_scale(".concat(n,", ").concat(e,")")),t.band&&(e=(e?e+"+":"")+"_bandwidth(".concat(n,")")+(1===+t.band?"":"*"+ENt(t.band)),t.extra&&(e="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(e,")"))),null==e&&(e="0"));return e}(t,e)),void 0===e&&(e=null),null!=t.exponent&&(e="pow(".concat(e,",").concat(ENt(t.exponent),")")),null!=t.mult&&(e+="*".concat(ENt(t.mult))),null!=t.offset&&(e+="+".concat(ENt(t.offset))),t.round&&(e="round(".concat(e,")")),e}var CNt=function(t,e,n,r){return"(".concat(t,"(").concat([e,n,r].map(kNt).join(","),")+'')")};function ENt(t){return x5(t)?"("+kNt(t)+")":t}function ONt(t){return MNt(x5(t)?t:{datum:t})}function MNt(t){var e,n,r;if(t.signal)e="datum",r=t.signal;else if(t.group||t.parent){for(n=Math.max(1,t.level||1),e="item";n-- >0;)e+=".mark.group";t.parent?(r=t.parent,e+=".datum"):r=t.group}else t.datum?(e="datum",r=t.datum):n5("Invalid field reference: "+S6(t));return t.signal||(r=p6(r)?r5(r).map(S6).join("]["):MNt(r)),e+"["+r+"]"}function _Nt(t,e,n,r,i,o){var a={};for(var u in(o=o||{}).encoders={$encode:a},t=function(t,e,n,r,i){var o,a,u,s={},l={};for(a in a="lineBreak","text"!==e||null==i[a]||pNt(a,t)||wNt(s,a,i[a]),("legend"==n||String(n).startsWith("axis"))&&(n=null),u=n===gNt?i.group:n===vNt?Q5({},i.mark,i[e]):null)pNt(a,t)||("fill"===a||"stroke"===a)&&(pNt("fill",t)||pNt("stroke",t))||wNt(s,a,u[a]);for(a in V5(r).forEach((function(e){var n=i.style&&i.style[e];for(var r in n)pNt(r,t)||wNt(s,r,n[r])})),t=Q5({},t),s)(u=s[a]).signal?(o=o||{})[a]=u:l[a]=u;return t.enter=Q5(l,t.enter),o&&(t.update=Q5(o,t.update)),t}(t,e,n,r,i.config),t)a[u]=ANt(t[u],e,o,i);return o}function ANt(t,e,n,r){var i,o={},a={};for(var u in t)null!=t[u]&&(o[u]=TNt((i=t[u],y5(i)?function(t){var e="";return t.forEach((function(t){var n=kNt(t);e+=t.test?"(".concat(t.test,")?").concat(n,":"):n})),":"===C5(e)&&(e+="null"),e}(i):kNt(i)),r,n,a));return{$expr:{marktype:e,channels:o},$fields:Object.keys(a),$output:Object.keys(t)}}function TNt(t,e,n,r){var i=CDt(t,e);return i.$fields.forEach((function(t){return r[t]=1})),Q5(n,i.$params),i.$expr}var PNt=["value","update","init","react","bind"];function DNt(t,e){n5(t+' for "outer" push: '+S6(e))}function FNt(t,e){var n=t.name;if("outer"===t.push)e.signals[n]||DNt("No prior signal definition",n),PNt.forEach((function(e){void 0!==t[e]&&DNt("Invalid property ",e)}));else{var r=e.addSignal(n,t.value);!1===t.react&&(r.react=!1),t.bind&&e.addBinding(n,t.bind)}}function NNt(t,e,n,r){this.id=-1,this.type=t,this.value=e,this.params=n,r&&(this.parent=r)}function INt(t,e,n,r){return new NNt(t,e,n,r)}function LNt(t,e){return INt("operator",t,e)}function RNt(t){var e={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(e),e}function jNt(t,e){return e?{$field:t,$name:e}:{$field:t}}var BNt=jNt("key");function zNt(t,e){return{$compare:t,$order:e}}function UNt(t,e){return(t&&t.signal?"$"+t.signal:t||"")+(t&&e?"_":"")+(e&&e.signal?"$"+e.signal:e||"")}var HNt="scope",VNt="view";function WNt(t){return t&&t.signal}function YNt(t){if(WNt(t))return!0;if(x5(t))for(var e in t)if(YNt(t[e]))return!0;return!1}function qNt(t,e){return null!=t?t:e}function GNt(t){return t&&t.signal||t}var $Nt="timer";function XNt(t,e){return(t.merge?KNt:t.stream?ZNt:t.type?JNt:n5("Invalid stream specification: "+S6(t)))(t,e)}function KNt(t,e){var n=QNt({merge:t.merge.map((function(t){return XNt(t,e)}))},t,e);return e.addStream(n).id}function ZNt(t,e){var n=QNt({stream:XNt(t.stream,e)},t,e);return e.addStream(n).id}function JNt(t,e){var n;t.type===$Nt?(n=e.event($Nt,t.throttle),t={between:t.between,filter:t.filter}):n=e.event(function(t){return t===HNt?VNt:t||VNt}(t.source),t.type);var r=QNt({stream:n},t,e);return 1===Object.keys(r).length?n:e.addStream(r).id}function QNt(t,e,n){var r=e.between;return r&&(2!==r.length&&n5('Stream "between" parameter must have 2 entries: '+S6(e)),t.between=[XNt(r[0],n),XNt(r[1],n)]),r=e.filter?[].concat(e.filter):[],(e.marktype||e.markname||e.markrole)&&r.push(function(t,e,n){var r="event.item";return r+(t&&"*"!==t?"&&"+r+".mark.marktype==='"+t+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(e?"&&"+r+".mark.name==='"+e+"'":"")}(e.marktype,e.markname,e.markrole)),e.source===HNt&&r.push("inScope(event.item)"),r.length&&(t.filter=CDt("("+r.join(")&&(")+")",n).$expr),null!=(r=e.throttle)&&(t.throttle=+r),null!=(r=e.debounce)&&(t.debounce=+r),e.consume&&(t.consume=!0),t}var tIt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function eIt(t,e,n){var r=t.encode,i={target:n},o=t.events,a=t.update,u=[];o||n5("Signal update missing events specification."),p6(o)&&(o=rNt(o,e.isSubscope()?HNt:VNt)),o=V5(o).filter((function(t){return t.signal||t.scale?(u.push(t),0):1})),u.length>1&&(u=[nIt(u)]),o.length&&u.push(o.length>1?{merge:o}:o[0]),null!=r&&(a&&n5("Signal encode and update are mutually exclusive."),a="encode(item(),"+S6(r)+")"),i.update=p6(a)?CDt(a,e):null!=a.expr?CDt(a.expr,e):null!=a.value?a.value:null!=a.signal?{$expr:tIt,$params:{$value:e.signalRef(a.signal)}}:n5("Invalid signal update specification."),t.force&&(i.options={force:!0}),u.forEach((function(t){return e.addUpdate(Q5(function(t,e){return{source:t.signal?e.signalRef(t.signal):t.scale?e.scaleRef(t.scale):XNt(t,e)}}(t,e),i))}))}function nIt(t){return{signal:"["+t.map((function(t){return t.scale?'scale("'+t.scale+'")':t.signal}))+"]"}}var rIt=function(t){return function(e,n,r){return INt(t,n,e||void 0,r)}},iIt=rIt("aggregate"),oIt=rIt("axisticks"),aIt=rIt("bound"),uIt=rIt("collect"),sIt=rIt("compare"),lIt=rIt("datajoin"),cIt=rIt("encode"),fIt=rIt("expression"),dIt=rIt("facet"),hIt=rIt("field"),pIt=rIt("key"),vIt=rIt("legendentries"),gIt=rIt("load"),mIt=rIt("mark"),yIt=rIt("multiextent"),xIt=rIt("multivalues"),bIt=rIt("overlap"),wIt=rIt("params"),SIt=rIt("prefacet"),kIt=rIt("projection"),CIt=rIt("proxy"),EIt=rIt("relay"),OIt=rIt("render"),MIt=rIt("scale"),_It=rIt("sieve"),AIt=rIt("sortitems"),TIt=rIt("viewlayout"),PIt=rIt("values"),DIt=0,FIt={min:"min",max:"max",count:"sum"};function NIt(t,e){var n,r=e.getScale(t.name).params;for(n in r.domain=jIt(t.domain,t,e),null!=t.range&&(r.range=qIt(t,e,r)),null!=t.interpolate&&function(t,e){e.interpolate=IIt(t.type||t),null!=t.gamma&&(e.interpolateGamma=IIt(t.gamma))}(t.interpolate,r),null!=t.nice&&(r.nice=function(t){return x5(t)?{interval:IIt(t.interval),step:IIt(t.step)}:IIt(t)}(t.nice)),null!=t.bins&&(r.bins=function(t,e){return t.signal||y5(t)?LIt(t,e):e.objectProperty(t)}(t.bins,e)),t)r6(r,n)||"name"===n||(r[n]=IIt(t[n],e))}function IIt(t,e){return x5(t)?t.signal?e.signalRef(t.signal):n5("Unsupported object: "+S6(t)):t}function LIt(t,e){return t.signal?e.signalRef(t.signal):t.map((function(t){return IIt(t,e)}))}function RIt(t){n5("Can not find data set: "+S6(t))}function jIt(t,e,n){if(t)return t.signal?n.signalRef(t.signal):(y5(t)?BIt:t.fields?UIt:zIt)(t,e,n);null==e.domainMin&&null==e.domainMax||n5("No scale domain defined for domainMin/domainMax to override.")}function BIt(t,e,n){return t.map((function(t){return IIt(t,n)}))}function zIt(t,e,n){var r=n.getData(t.data);return r||RIt(t.data),kdt(e.type)?r.valuesRef(n,t.field,VIt(t.sort,!1)):Mdt(e.type)?r.domainRef(n,t.field):r.extentRef(n,t.field)}function UIt(t,e,n){var r=t.data,i=t.fields.reduce((function(t,e){return e=p6(e)?{data:r,field:e}:y5(e)||e.signal?function(t,e){var n="_:vega:_"+DIt++,r=uIt({});if(y5(t))r.value={$ingest:t};else if(t.signal){var i="setdata("+S6(n)+","+t.signal+")";r.params.input=e.signalRef(i)}return e.addDataPipeline(n,[r,_It({})]),{data:n,field:"data"}}(e,n):e,t.push(e),t}),[]);return(kdt(e.type)?HIt:Mdt(e.type)?WIt:YIt)(t,n,i)}function HIt(t,e,n){var r,i,o=VIt(t.sort,!0),a=n.map((function(t){var n=e.getData(t.data);return n||RIt(t.data),n.countsRef(e,t.field,o)})),u={groupby:BNt,pulse:a};o&&(r=o.op||"count",i=o.field?UNt(r,o.field):"count",u.ops=[FIt[r]],u.fields=[e.fieldRef(i)],u.as=[i]),r=e.add(iIt(u));var s=e.add(uIt({pulse:RNt(r)}));return i=e.add(PIt({field:BNt,sort:e.sortRef(o),pulse:RNt(s)})),RNt(i)}function VIt(t,e){return t&&(t.field||t.op?t.field||"count"===t.op?e&&t.field&&t.op&&!FIt[t.op]&&n5("Multiple domain scales can not be sorted using "+t.op):n5("No field provided for sort aggregate op: "+t.op):x5(t)?t.field="key":t={field:"key"}),t}function WIt(t,e,n){var r=n.map((function(t){var n=e.getData(t.data);return n||RIt(t.data),n.domainRef(e,t.field)}));return RNt(e.add(xIt({values:r})))}function YIt(t,e,n){var r=n.map((function(t){var n=e.getData(t.data);return n||RIt(t.data),n.extentRef(e,t.field)}));return RNt(e.add(yIt({extents:r})))}function qIt(t,e,n){var r=e.config.range,i=t.range;if(i.signal)return e.signalRef(i.signal);if(p6(i)){if(r&&r6(r,i))return qIt(t=Q5({},t,{range:r[i]}),e,n);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=kdt(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:n5("Unrecognized scale range value: "+S6(i))}else{if(i.scheme)return n.scheme=y5(i.scheme)?LIt(i.scheme,e):IIt(i.scheme,e),i.extent&&(n.schemeExtent=LIt(i.extent,e)),void(i.count&&(n.schemeCount=IIt(i.count,e)));if(i.step)return void(n.rangeStep=IIt(i.step,e));if(kdt(t.type)&&!y5(i))return jIt(i,t,e);y5(i)||n5("Unsupported range type: "+S6(i))}return i.map((function(t){return(y5(t)?LIt:IIt)(t,e)}))}function GIt(t,e,n){return y5(t)?t.map((function(t){return GIt(t,e,n)})):x5(t)?t.signal?n.signalRef(t.signal):"fit"===e?t:n5("Unsupported parameter object: "+S6(t)):t}var $It="top",XIt="left",KIt="right",ZIt="bottom",JIt="center",QIt="index",tLt="label",eLt="perc",nLt="value",rLt="guide-label",iLt="guide-title",oLt="group-title",aLt="group-subtitle",uLt="symbol",sLt="gradient",lLt="discrete",cLt="size",fLt=[cLt,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],dLt={name:1,style:1,interactive:1},hLt={value:0},pLt={value:1},vLt="group",gLt="rect",mLt="rule",yLt="text";function xLt(t){return t.type=vLt,t.interactive=t.interactive||!1,t}function bLt(t,e){var n=function(n,r){return qNt(t[n],qNt(e[n],r))};return n.isVertical=function(n){return"vertical"===qNt(t.direction,e.direction||(n?e.symbolDirection:e.gradientDirection))},n.gradientLength=function(){return qNt(t.gradientLength,e.gradientLength||e.gradientWidth)},n.gradientThickness=function(){return qNt(t.gradientThickness,e.gradientThickness||e.gradientHeight)},n.entryColumns=function(){return qNt(t.columns,qNt(e.columns,+n.isVertical(!0)))},n}function wLt(t,e){var n=e&&(e.update&&e.update[t]||e.enter&&e.enter[t]);return n&&n.signal?n:n?n.value:null}function SLt(t,e,n){return"item.anchor === '".concat("start","' ? ").concat(t," : item.anchor === '").concat("end","' ? ").concat(e," : ").concat(n)}var kLt=SLt(S6(XIt),S6(KIt),S6(JIt));function CLt(t,e){return e?t?x5(t)?Object.assign({},t,{offset:CLt(t.offset,e)}):{value:t,offset:e}:e:t}function ELt(t,e){return e?(t.name=e.name,t.style=e.style||t.style,t.interactive=!!e.interactive,t.encode=hNt(t.encode,e,dLt)):t.interactive=!1,t}function OLt(t,e,n,r){var i,o,a,u,s,l=bLt(t,n),c=l.isVertical(),f=l.gradientThickness(),d=l.gradientLength();c?(o=[0,1],a=[0,0],u=f,s=d):(o=[0,0],a=[1,0],u=d,s=f);var h={enter:i={opacity:hLt,x:hLt,y:hLt,width:cNt(u),height:cNt(s)},update:Q5({},i,{opacity:pLt,fill:{gradient:e,start:o,stop:a}}),exit:{opacity:hLt}};return dNt(h,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),ELt({type:gLt,role:"legend-gradient",encode:h},r)}function MLt(t,e,n,r,i){var o,a,u,s,l=bLt(t,n),c=l.isVertical(),f=l.gradientThickness(),d=l.gradientLength(),h="";c?(o="y",u="y2",a="x",s="width",h="1-"):(o="x",u="x2",a="y",s="height");var p={opacity:hLt,fill:{scale:e,field:nLt}};p[o]={signal:h+"datum."+eLt,mult:d},p[a]=hLt,p[u]={signal:h+"datum.perc2",mult:d},p[s]=cNt(f);var v={enter:p,update:Q5({},p,{opacity:pLt}),exit:{opacity:hLt}};return dNt(v,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),ELt({type:gLt,role:"legend-band",key:nLt,from:i,encode:v},r)}var _Lt="datum.".concat(eLt,'<=0?"').concat(XIt,'":datum.').concat(eLt,'>=1?"').concat(KIt,'":"').concat(JIt,'"'),ALt="datum.".concat(eLt,'<=0?"').concat(ZIt,'":datum.').concat(eLt,'>=1?"').concat($It,'":"').concat("middle",'"');function TLt(t,e,n,r){var i,o,a,u,s=bLt(t,e),l=s.isVertical(),c=cNt(s.gradientThickness()),f=s.gradientLength(),d=s("labelOverlap"),h="",p={enter:i={opacity:hLt},update:o={opacity:pLt,text:{field:tLt}},exit:{opacity:hLt}};return dNt(p,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:qNt(t.labelLimit,e.gradientLabelLimit)}),l?(i.align={value:"left"},i.baseline=o.baseline={signal:ALt},a="y",u="x",h="1-"):(i.align=o.align={signal:_Lt},i.baseline={value:"top"},a="x",u="y"),i[a]=o[a]={signal:h+"datum."+eLt,mult:f},i[u]=o[u]=c,c.offset=qNt(t.labelOffset,e.gradientLabelOffset)||0,d=d?{separation:s("labelSeparation"),method:d,order:"datum.index"}:void 0,ELt({type:yLt,role:yNt,style:rLt,key:nLt,from:r,encode:p,overlap:d},n)}function PLt(t,e,n,r,i){var o,a,u,s,l,c=bLt(t,e),f=n.entries,d=!(!f||!f.interactive),h=f?f.name:void 0,p=c("clipHeight"),v=c("symbolOffset"),g={data:"value"},m="(".concat(i,") ? datum.").concat("offset"," : datum.").concat(cLt),y=p?cNt(p):{field:cLt},x="datum.".concat(QIt),b="max(1, ".concat(i,")");y.mult=.5,o={enter:a={opacity:hLt,x:{signal:m,mult:.5,offset:v},y:y},update:u={opacity:pLt,x:a.x,y:a.y},exit:{opacity:hLt}};var w=null,S=null;t.fill||(w=e.symbolBaseFillColor,S=e.symbolBaseStrokeColor),dNt(o,{fill:c("symbolFillColor",w),shape:c("symbolType"),size:c("symbolSize"),stroke:c("symbolStrokeColor",S),strokeDash:c("symbolDash"),strokeDashOffset:c("symbolDashOffset"),strokeWidth:c("symbolStrokeWidth")},{opacity:c("symbolOpacity")}),fLt.forEach((function(e){t[e]&&(u[e]=a[e]={scale:t[e],field:nLt})}));var k=ELt({type:"symbol",role:"legend-symbol",key:nLt,from:g,clip:!!p||void 0,encode:o},n.symbols),C=cNt(v);C.offset=c("labelOffset"),dNt(o={enter:a={opacity:hLt,x:{signal:m,offset:C},y:y},update:u={opacity:pLt,text:{field:tLt},x:a.x,y:a.y},exit:{opacity:hLt}},{align:c("labelAlign"),baseline:c("labelBaseline"),fill:c("labelColor"),fillOpacity:c("labelOpacity"),font:c("labelFont"),fontSize:c("labelFontSize"),fontStyle:c("labelFontStyle"),fontWeight:c("labelFontWeight"),limit:c("labelLimit")});var E=ELt({type:yLt,role:yNt,style:rLt,key:nLt,from:g,encode:o},n.labels);return o={enter:{noBound:{value:!p},width:hLt,height:p?cNt(p):hLt,opacity:hLt},exit:{opacity:hLt},update:u={opacity:pLt,row:{signal:null},column:{signal:null}}},c.isVertical(!0)?(s="ceil(item.mark.items.length / ".concat(b,")"),u.row.signal="".concat(x,"%").concat(s),u.column.signal="floor(".concat(x," / ").concat(s,")"),l={field:["row",x]}):(u.row.signal="floor(".concat(x," / ").concat(b,")"),u.column.signal="".concat(x," % ").concat(b),l={field:x}),u.column.signal="(".concat(i,")?").concat(u.column.signal,":").concat(x),xLt({role:mNt,from:r={facet:{data:r,name:"value",groupby:QIt}},encode:hNt(o,f,dLt),marks:[k,E],name:h,interactive:d,sort:l})}var DLt='item.orient === "left"',FLt='item.orient === "right"',NLt="(".concat(DLt," || ").concat(FLt,")"),ILt="datum.vgrad && ".concat(NLt),LLt=SLt('"top"','"bottom"','"middle"'),RLt=SLt('"right"','"left"','"center"'),jLt="datum.vgrad && ".concat(FLt," ? (").concat(RLt,") : (").concat(NLt," && !(datum.vgrad && ").concat(DLt,')) ? "left" : ').concat(kLt),BLt="item._anchor || (".concat(NLt,' ? "middle" : "start")'),zLt="".concat(ILt," ? (").concat(DLt," ? -90 : 90) : 0"),ULt="".concat(NLt," ? (datum.vgrad ? (").concat(FLt,' ? "bottom" : "top") : ').concat(LLt,') : "top"');function HLt(t,e){var n;return x5(t)&&(t.signal?n=t.signal:t.path?n="pathShape("+VLt(t.path)+")":t.sphere&&(n="geoShape("+VLt(t.sphere)+', {type: "Sphere"})')),n?e.signalRef(n):!!t}function VLt(t){return x5(t)&&t.signal?t.signal:S6(t)}function WLt(t){var e=t.role||"";return e.indexOf("axis")&&e.indexOf("legend")&&e.indexOf("title")?t.type===vLt?mNt:e||vNt:e}function YLt(t){return{marktype:t.type,name:t.name||void 0,role:t.role||WLt(t),zindex:+t.zindex||void 0,aria:t.aria,description:t.description}}function qLt(t,e){return t&&t.signal?e.signalRef(t.signal):!1!==t}function GLt(t,e){var n=dnt(t.type);n||n5("Unrecognized transform type: "+S6(t.type));var r=INt(n.type.toLowerCase(),null,$Lt(n,t,e));return t.signal&&e.addSignal(t.signal,e.proxy(r)),r.metadata=n.metadata||{},r}function $Lt(t,e,n){for(var r={},i=t.params.length,o=0;o<i;++o){var a=t.params[o];r[a.name]=XLt(a,e,n)}return r}function XLt(t,e,n){var r=t.type,i=e[t.name];return"index"===r?function(t,e,n){p6(e.from)||n5('Lookup "from" parameter must be a string literal.');return n.getData(e.from).lookupRef(n,e.key)}(0,e,n):void 0!==i?"param"===r?function(t,e,n){var r=e[t.name];return t.array?(y5(r)||n5("Expected an array of sub-parameters. Instead: "+S6(r)),r.map((function(e){return ZLt(t,e,n)}))):ZLt(t,r,n)}(t,e,n):"projection"===r?n.projectionRef(e[t.name]):t.array&&!WNt(i)?i.map((function(e){return KLt(t,e,n)})):KLt(t,i,n):void(t.required&&n5("Missing required "+S6(e.type)+" parameter: "+S6(t.name)))}function KLt(t,e,n){var r=t.type;if(WNt(e))return eRt(r)?n5("Expression references can not be signals."):nRt(r)?n.fieldRef(e):rRt(r)?n.compareRef(e):n.signalRef(e.signal);var i=t.expr||nRt(r);return i&&JLt(e)?n.exprRef(e.expr,e.as):i&&QLt(e)?jNt(e.field,e.as):eRt(r)?CDt(e,n):tRt(r)?RNt(n.getData(e).values):nRt(r)?jNt(e):rRt(r)?n.compareRef(e):e}function ZLt(t,e,n){for(var r,i=t.params.length,o=0;o<i;++o){for(var a in(r=t.params[o]).key)if(r.key[a]!==e[a]){r=null;break}if(r)break}r||n5("Unsupported parameter: "+S6(e));var u=Q5($Lt(r,e,n),r.key);return RNt(n.add(wIt(u)))}var JLt=function(t){return t&&t.expr},QLt=function(t){return t&&t.field},tRt=function(t){return"data"===t},eRt=function(t){return"expr"===t},nRt=function(t){return"field"===t},rRt=function(t){return"compare"===t};function iRt(t,e){return t.$ref?t:t.data&&t.data.$ref?t.data:RNt(e.getData(t.data).output)}function oRt(t,e,n,r,i){this.scope=t,this.input=e,this.output=n,this.values=r,this.aggregate=i,this.index={}}function aRt(t){return p6(t)?t:null}function uRt(t,e,n){var r,i=UNt(n.op,n.field);if(e.ops){for(var o=0,a=e.as.length;o<a;++o)if(e.as[o]===i)return}else e.ops=["count"],e.fields=[null],e.as=["count"];n.op&&(e.ops.push((r=n.op.signal)?t.signalRef(r):n.op),e.fields.push(t.fieldRef(n.field)),e.as.push(i))}function sRt(t,e,n,r,i,o,a){var u,s,l=e[n]||(e[n]={}),c=function(t){return x5(t)?("descending"===t.order?"-":"+")+UNt(t.op,t.field):""}(o),f=aRt(i);if(null!=f&&(t=e.scope,u=l[f+=c?"|"+c:""]),!u){var d=o?{field:BNt,pulse:e.countsRef(t,i,o)}:{field:t.fieldRef(i),pulse:RNt(e.output)};c&&(d.sort=t.sortRef(o)),s=t.add(INt(r,void 0,d)),a&&(e.index[i]=s),u=RNt(s),null!=f&&(l[f]=u)}return u}function lRt(t,e,n){var r=t.remove,i=t.insert,o=t.toggle,a=t.modify,u=t.values,s=e.add(LNt()),l="if("+t.trigger+',modify("'+n+'",'+[i,r,o,a,u].map((function(t){return null==t?"null":t})).join(",")+"),0)",c=CDt(l,e);s.update=c.$expr,s.params=c.$params}function cRt(t,e){var n,r,i,o,a,u,s,l=WLt(t),c=t.type===vLt,f=t.from&&t.from.facet,d=t.overlap,h=t.layout||l===mNt||l===gNt,p=l===vNt||h||f,v=function(t,e,n){var r,i,o,a,u;return t?(r=t.facet)&&(e||n5("Only group marks can be faceted."),null!=r.field?a=u=iRt(r,n):(t.data?u=RNt(n.getData(t.data).aggregate):((o=GLt(Q5({type:"aggregate",groupby:V5(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),o.params.pulse=iRt(r,n),a=u=RNt(n.add(o))),i=n.keyRef(r.groupby,!0))):a=RNt(n.add(uIt(null,[{}]))),a||(a=iRt(t,n)),{key:i,pulse:a,parent:u}}(t.from,c,e),g=RNt(r=e.add(lIt({key:v.key||(t.key?jNt(t.key):void 0),pulse:v.pulse,clean:!c})));r=i=e.add(uIt({pulse:g})),r=e.add(mIt({markdef:YLt(t),interactive:qLt(t.interactive,e),clip:HLt(t.clip,e),context:{$context:!0},groups:e.lookup(),parent:e.signals.parent?e.signalRef("parent"):null,index:e.markpath(),pulse:RNt(r)}));var m=RNt(r);(r=o=e.add(cIt(_Nt(t.encode,t.type,l,t.style,e,{mod:!1,pulse:m})))).params.parent=e.encode(),t.transform&&t.transform.forEach((function(t){var n=GLt(t,e),i=n.metadata;(i.generates||i.changes)&&n5("Mark transforms should not generate new data."),i.nomod||(o.params.mod=!0),n.params.pulse=RNt(r),e.add(r=n)})),t.sort&&(r=e.add(AIt({sort:e.compareRef(t.sort),pulse:RNt(r)})));var y=RNt(r);(f||h)&&(u=RNt(h=e.add(TIt({layout:e.objectProperty(t.layout),legends:e.legends,mark:m,pulse:y}))));var x=e.add(aIt({mark:m,pulse:u||y}));s=RNt(x),c&&(p&&((n=e.operators).pop(),h&&n.pop()),e.pushState(y,u||s,g),f?function(t,e,n){var r,i=t.from.facet,o=i.name,a=iRt(i,e);i.name||n5("Facet must have a name: "+S6(i)),i.data||n5("Facet must reference a data set: "+S6(i)),i.field?r=e.add(SIt({field:e.fieldRef(i.field),pulse:a})):i.groupby?r=e.add(dIt({key:e.keyRef(i.groupby),group:RNt(e.proxy(n.parent)),pulse:a})):n5("Facet must specify groupby or field: "+S6(i));var u=e.fork(),s=u.add(uIt()),l=u.add(_It({pulse:RNt(s)}));u.addData(o,new oRt(u,s,s,l)),u.addSignal("parent",null),r.params.subflow={$subflow:u.parse(t).toRuntime()}}(t,e,v):p?function(t,e,n){var r=e.add(SIt({pulse:n.pulse})),i=e.fork();i.add(_It()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(t).toRuntime()}}(t,e,v):e.parse(t),e.popState(),p&&(h&&n.push(h),n.push(x))),d&&(s=function(t,e,n){var r=t.method,i=t.bound,o=t.separation,a={separation:WNt(o)?n.signalRef(o.signal):o,method:WNt(r)?n.signalRef(r.signal):r,pulse:e};t.order&&(a.sort=n.compareRef({field:t.order}));if(i){var u=i.tolerance;a.boundTolerance=WNt(u)?n.signalRef(u.signal):+u,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return RNt(n.add(bIt(a)))}(d,s,e));var b=e.add(OIt({pulse:s})),w=e.add(_It({pulse:RNt(b)},void 0,e.parent()));null!=t.name&&(a=t.name,e.addData(a,new oRt(e,i,b,w)),t.on&&t.on.forEach((function(t){(t.insert||t.remove||t.toggle)&&n5("Marks only support modify triggers."),lRt(t,e,a)})))}function fRt(t,e){var n,r,i,o=e.config.legend,a=t.encode||{},u=bLt(t,o),s=a.legend||{},l=s.name||void 0,c=s.interactive,f=s.style,d={},h=0;fLt.forEach((function(e){return t[e]?(d[e]=t[e],h=h||t[e]):0})),h||n5("Missing valid scale for legend.");var p=function(t,e){var n=t.type||uLt;t.type||1!==function(t){return fLt.reduce((function(e,n){return e+(t[n]?1:0)}),0)}(t)||!t.fill&&!t.stroke||(n=Sdt(e)?sLt:Cdt(e)?lLt:uLt);return n!==sLt?n:Cdt(e)?lLt:sLt}(t,e.scaleType(h)),v={title:null!=t.title,scales:d,type:p,vgrad:"symbol"!==p&&u.isVertical()},g=RNt(e.add(uIt(null,[v]))),m=RNt(e.add(vIt(r={type:p,scale:e.scaleRef(h),count:e.objectProperty(u("tickCount")),limit:e.property(u("symbolLimit")),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)})));return p===sLt?(i=[OLt(t,h,o,a.gradient),TLt(t,o,a.labels,m)],r.count=r.count||e.signalRef("max(2,2*floor((".concat(GNt(u.gradientLength()),")/100))"))):p===lLt?i=[MLt(t,h,o,a.gradient,m),TLt(t,o,a.labels,m)]:(n=function(t,e){var n=bLt(t,e);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(t,o),i=[PLt(t,o,a,m,GNt(n.columns))],r.size=function(t,e,n){var r=GNt(hRt("size",t,n)),i=GNt(hRt("strokeWidth",t,n)),o=GNt(function(t,e,n){return wLt("fontSize",t)||function(t,e,n){var r=e.config.style[n];return r&&r[t]}("fontSize",e,n)}(n[1].encode,e,rLt));return CDt("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(o,")"),e)}(t,e,i[0].marks)),i=[xLt({role:"legend-entry",from:g,encode:{enter:{x:{value:0},y:{value:0}}},marks:i,layout:n,interactive:c})],v.title&&i.push(function(t,e,n,r){var i=bLt(t,e),o={enter:{opacity:hLt},update:{opacity:pLt,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:hLt}};return dNt(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:BLt},angle:{signal:zLt},align:{signal:jLt},baseline:{signal:ULt},text:t.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),ELt({type:yLt,role:"legend-title",style:iLt,from:r,encode:o},n)}(t,o,a.title,g)),cRt(xLt({role:"legend",from:g,encode:hNt(dRt(u,t,o),s,dLt),marks:i,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:l,interactive:c,style:f}),e)}function dRt(t,e,n){var r={enter:{},update:{}};return dNt(r,{orient:t("orient"),offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:t("legendX"),y:t("legendY"),format:e.format,formatType:e.formatType}),r}function hRt(t,e,n){return e[t]?'scale("'.concat(e[t],'",datum)'):wLt(t,n[0].encode)}oRt.fromEntries=function(t,e){var n=e.length,r=e[n-1],i=e[n-2],o=e[0],a=null,u=1;for(o&&"load"===o.type&&(o=e[1]),t.add(e[0]);u<n;++u)e[u].params.pulse=RNt(e[u-1]),t.add(e[u]),"aggregate"===e[u].type&&(a=e[u]);return new oRt(t,o,i,r,a)},oRt.prototype={countsRef:function(t,e,n){var r,i,o,a=this,u=a.counts||(a.counts={}),s=aRt(e);return null!=s&&(t=a.scope,r=u[s]),r?n&&n.field&&uRt(t,r.agg.params,n):(o={groupby:t.fieldRef(e,"key"),pulse:RNt(a.output)},n&&n.field&&uRt(t,o,n),i=t.add(iIt(o)),r=t.add(uIt({pulse:RNt(i)})),r={agg:i,ref:RNt(r)},null!=s&&(u[s]=r)),r.ref},tuplesRef:function(){return RNt(this.values)},extentRef:function(t,e){return sRt(t,this,"extent","extent",e,!1)},domainRef:function(t,e){return sRt(t,this,"domain","values",e,!1)},valuesRef:function(t,e,n){return sRt(t,this,"vals","values",e,n||!0)},lookupRef:function(t,e){return sRt(t,this,"lookup","tupleindex",e,!1)},indataRef:function(t,e){return sRt(t,this,"indata","tupleindex",e,!0,!0)}};var pRt='item.orient==="'.concat(XIt,'"?-90:item.orient==="').concat(KIt,'"?90:0');function vRt(t,e){var n=bLt(t=p6(t)?{text:t}:t,e.config.title),r=t.encode||{},i=r.group||{},o=i.name||void 0,a=i.interactive,u=i.style,s=[],l=RNt(e.add(uIt(null,[{}])));return s.push(function(t,e,n,r){var i={value:0},o=t.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return dNt(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("color"),font:e("font"),fontSize:e("fontSize"),fontStyle:e("fontStyle"),fontWeight:e("fontWeight"),lineHeight:e("lineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),ELt({type:yLt,role:xNt,style:oLt,from:r,encode:a},n)}(t,n,function(t){var e=t.encode;return e&&e.title||Q5({name:t.name,interactive:t.interactive,style:t.style},e)}(t),l)),t.subtitle&&s.push(function(t,e,n,r){var i={value:0},o=t.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return dNt(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("subtitleColor"),font:e("subtitleFont"),fontSize:e("subtitleFontSize"),fontStyle:e("subtitleFontStyle"),fontWeight:e("subtitleFontWeight"),lineHeight:e("subtitleLineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),ELt({type:yLt,role:bNt,style:aLt,from:r,encode:a},n)}(t,n,r.subtitle,l)),cRt(xLt({role:"title",from:l,encode:gRt(n,i),marks:s,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:a,style:u}),e)}function gRt(t,e){var n={enter:{},update:{}};return dNt(n,{orient:t("orient"),anchor:t("anchor"),align:{signal:kLt},angle:{signal:pRt},limit:t("limit"),frame:t("frame"),offset:t("offset")||0,padding:t("subtitlePadding")}),hNt(n,e,dLt)}function mRt(t,e){var n=[];t.transform&&t.transform.forEach((function(t){n.push(GLt(t,e))})),t.on&&t.on.forEach((function(n){lRt(n,e,t.name)})),e.addDataPipeline(t.name,function(t,e,n){var r,i,o,a,u,s=[],l=null,c=!1,f=!1;t.values?WNt(t.values)||YNt(t.format)?(s.push(xRt(e,t)),s.push(l=yRt())):s.push(l=yRt({$ingest:t.values,$format:t.format})):t.url?YNt(t.url)||YNt(t.format)?(s.push(xRt(e,t)),s.push(l=yRt())):s.push(l=yRt({$request:t.url,$format:t.format})):t.source&&(l=r=V5(t.source).map((function(t){return RNt(e.getData(t).output)})),s.push(null));for(i=0,o=n.length;i<o;++i)u=(a=n[i]).metadata,l||u.source||s.push(l=yRt()),s.push(a),u.generates&&(f=!0),u.modifies&&!f&&(c=!0),u.source?l=a:u.changes&&(l=null);r&&(o=r.length-1,s[0]=EIt({derive:c,pulse:o?r:r[0]}),(c||o)&&s.splice(1,0,yRt()));l||s.push(yRt());return s.push(_It({})),s}(t,e,n))}function yRt(t){var e=uIt({},t);return e.metadata={source:!0},e}function xRt(t,e){return gIt({url:e.url?t.property(e.url):void 0,async:e.async?t.property(e.async):void 0,values:e.values?t.property(e.values):void 0,format:t.objectProperty(e.format)})}var bRt=function(t){return t===ZIt||t===$It},wRt=function(t,e,n){return WNt(t)?MRt(t.signal,e,n):t===XIt||t===$It?e:n},SRt=function(t,e,n){return WNt(t)?ERt(t.signal,e,n):bRt(t)?e:n},kRt=function(t,e,n){return WNt(t)?ORt(t.signal,e,n):bRt(t)?n:e},CRt=function(t,e,n){return WNt(t)?_Rt(t.signal,e,n):t===$It?{value:e}:{value:n}},ERt=function(t,e,n){return TRt("".concat(t," === '").concat($It,"' || ").concat(t," === '").concat(ZIt,"'"),e,n)},ORt=function(t,e,n){return TRt("".concat(t," !== '").concat($It,"' && ").concat(t," !== '").concat(ZIt,"'"),e,n)},MRt=function(t,e,n){return DRt("".concat(t," === '").concat(XIt,"' || ").concat(t," === '").concat($It,"'"),e,n)},_Rt=function(t,e,n){return DRt("".concat(t," === '").concat($It,"'"),e,n)},ARt=function(t,e,n){return DRt("".concat(t," === '").concat(KIt,"'"),e,n)},TRt=function(t,e,n){return e=null!=e?cNt(e):e,n=null!=n?cNt(n):n,PRt(e)&&PRt(n)?(e=e?e.signal||S6(e.value):null,n=n?n.signal||S6(n.value):null,{signal:"".concat(t," ? (").concat(e,") : (").concat(n,")")}):[Q5({test:t},e)].concat(n||[])},PRt=function(t){return null==t||1===Object.keys(t).length},DRt=function(t,e,n){return{signal:"".concat(t," ? (").concat(NRt(e),") : (").concat(NRt(n),")")}},FRt=function(t,e,n,r,i){return{signal:(null!=r?"".concat(t," === '").concat(XIt,"' ? (").concat(NRt(r),") : "):"")+(null!=n?"".concat(t," === '").concat(ZIt,"' ? (").concat(NRt(n),") : "):"")+(null!=i?"".concat(t," === '").concat(KIt,"' ? (").concat(NRt(i),") : "):"")+(null!=e?"".concat(t," === '").concat($It,"' ? (").concat(NRt(e),") : "):"")+"(null)"}},NRt=function(t){return WNt(t)?t.signal:null==t?null:S6(t)},IRt=function(t,e){var n=t.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+e.signal}:t};function LRt(t,e,n,r){var i;if(e&&r6(e,t))return e[t];if(r6(n,t))return n[t];if(t.startsWith("title")){switch(t){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=t[5].toLowerCase()+t.slice(6)}return r["guide-title"][i]}if(t.startsWith("label")){switch(t){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=t[5].toLowerCase()+t.slice(6)}return r["guide-label"][i]}return null}function RRt(t){var e,n={},r=qe(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i)for(var o in i)n[o]=1}}catch(a){r.e(a)}finally{r.f()}return Object.keys(n)}function jRt(t,e){return{scale:t.scale,range:e}}function BRt(t,e,n,r,i){var o,a,u,s=bLt(t,e),l=t.orient,c=t.gridScale,f=wRt(l,1,-1),d=function(t,e){if(1===e);else if(x5(t)){for(var n=t=Q5({},t);null!=n.mult;){if(!x5(n.mult))return n.mult=WNt(e)?{signal:"(".concat(n.mult,") * (").concat(e.signal,")")}:n.mult*e,t;n=n.mult=Q5({},n.mult)}n.mult=e}else t=WNt(e)?{signal:"(".concat(e.signal,") * (").concat(t||0,")")}:e*(t||0);return t}(t.offset,f),h={enter:o={opacity:hLt},update:u={opacity:pLt},exit:a={opacity:hLt}};dNt(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});var p={scale:t.scale,field:nLt,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},v=SRt(l,{signal:"height"},{signal:"width"}),g=c?{scale:c,range:0,mult:f,offset:d}:{value:0,offset:d},m=c?{scale:c,range:1,mult:f,offset:d}:Q5(v,{mult:f,offset:d});return o.x=u.x=SRt(l,p,g),o.y=u.y=kRt(l,p,g),o.x2=u.x2=kRt(l,m),o.y2=u.y2=SRt(l,m),a.x=SRt(l,p),a.y=kRt(l,p),ELt({type:mLt,role:"axis-grid",key:nLt,from:r,encode:h},n)}function zRt(t,e,n,r,i){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+e+","+n+","+r+","+i+")"}}function URt(t,e,n,r,i,o){var a,u=bLt(t,e),s=t.orient,l=t.scale,c=wRt(s,-1,1),f=GNt(u("labelFlush")),d=GNt(u("labelFlushOffset")),h=u("labelAlign"),p=u("labelBaseline"),v=0===f||!!f,g=cNt(i);g.mult=c,g.offset=cNt(u("labelPadding")||0),g.offset.mult=c;var m={scale:l,field:nLt,band:.5,offset:CLt(o.offset,u("labelOffset"))},y=SRt(s,v?zRt(l,f,'"left"','"right"','"center"'):{value:"center"},function(t,e,n){return WNt(t)?ARt(t.signal,e,n):t===KIt?{value:e}:{value:n}}(s,"left","right")),x=SRt(s,CRt(s,"bottom","top"),v?zRt(l,f,'"top"','"bottom"','"middle"'):{value:"middle"}),b=zRt(l,f,"-(".concat(d,")"),d,0);v=v&&d;var w={opacity:hLt,x:SRt(s,m,g),y:kRt(s,m,g)},S={enter:w,update:a={opacity:pLt,text:{field:tLt},x:w.x,y:w.y,align:y,baseline:x},exit:{opacity:hLt,x:w.x,y:w.y}};dNt(S,{dx:!h&&v?SRt(s,b):null,dy:!p&&v?kRt(s,b):null}),dNt(S,{angle:u("labelAngle"),fill:u("labelColor"),fillOpacity:u("labelOpacity"),font:u("labelFont"),fontSize:u("labelFontSize"),fontWeight:u("labelFontWeight"),fontStyle:u("labelFontStyle"),limit:u("labelLimit"),lineHeight:u("labelLineHeight")},{align:h,baseline:p});var k=u("labelBound"),C=u("labelOverlap");return C=C||k?{separation:u("labelSeparation"),method:C,order:"datum.index",bound:k?{scale:l,orient:s,tolerance:k}:null}:void 0,a.align!==y&&(a.align=IRt(a.align,y)),a.baseline!==x&&(a.baseline=IRt(a.baseline,x)),ELt({type:yLt,role:"axis-label",style:rLt,key:nLt,from:r,encode:S,overlap:C},n)}function HRt(t,e,n,r){var i,o,a=bLt(t,e),u=t.orient,s=wRt(u,-1,1),l={enter:i={opacity:hLt,anchor:cNt(a("titleAnchor",null)),align:{signal:kLt}},update:o=Q5({},i,{opacity:pLt,text:cNt(t.title)}),exit:{opacity:hLt}},c={signal:'lerp(range("'.concat(t.scale,'"), ').concat(SLt(0,1,.5),")")};return o.x=SRt(u,c),o.y=kRt(u,c),i.angle=SRt(u,hLt,function(t,e){return 0===e?0:WNt(t)?{signal:"(".concat(t.signal,") * ").concat(e)}:{value:t*e}}(s,90)),i.baseline=SRt(u,CRt(u,ZIt,$It),{value:ZIt}),o.angle=i.angle,o.baseline=i.baseline,dNt(l,{fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit"),lineHeight:a("titleLineHeight")},{align:a("titleAlign"),angle:a("titleAngle"),baseline:a("titleBaseline")}),function(t,e,n,r){var i=function(t,e){return null!=t?(n.update[e]=IRt(cNt(t),n.update[e]),!1):!pNt(e,r)},o=i(t("titleX"),"x"),a=i(t("titleY"),"y");n.enter.auto=a===o?cNt(a):SRt(e,cNt(a),cNt(o))}(a,u,l,n),l.update.align=IRt(l.update.align,i.align),l.update.angle=IRt(l.update.angle,i.angle),l.update.baseline=IRt(l.update.baseline,i.baseline),ELt({type:yLt,role:"axis-title",style:iLt,from:r,encode:l},n)}function VRt(t,e){var n,r=function(t,e){var n,r,i,o=e.config,a=o.style,u=o.axis,s="band"===e.scaleType(t.scale)&&o.axisBand,l=t.orient;if(WNt(l)){var c=RRt([o.axisX,o.axisY]),f=RRt([o.axisTop,o.axisBottom,o.axisLeft,o.axisRight]);n={};var d,h=qe(c);try{for(h.s();!(d=h.n()).done;)n[i=d.value]=SRt(l,LRt(i,o.axisX,u,a),LRt(i,o.axisY,u,a))}catch(g){h.e(g)}finally{h.f()}r={};var p,v=qe(f);try{for(v.s();!(p=v.n()).done;)r[i=p.value]=FRt(l.signal,LRt(i,o.axisTop,u,a),LRt(i,o.axisBottom,u,a),LRt(i,o.axisLeft,u,a),LRt(i,o.axisRight,u,a))}catch(g){v.e(g)}finally{v.f()}}else n=l===$It||l===ZIt?o.axisX:o.axisY,r=o["axis"+l[0].toUpperCase()+l.slice(1)];return n||r||s?Q5({},u,n,r,s):u}(t,e),i=t.encode||{},o=i.axis||{},a=o.name||void 0,u=o.interactive,s=o.style,l=bLt(t,r),c=function(t){var e,n,r=t("tickBand"),i=t("tickOffset");return r?r.signal?(e={signal:"(".concat(r.signal,") === 'extent' ? 1 : 0.5")},n={signal:"(".concat(r.signal,") === 'extent'")},x5(i)||(i={signal:"(".concat(r.signal,") === 'extent' ? 0 : ").concat(i)})):"extent"===r?(e=1,n=!0,i=0):(e=.5,n=!1):(e=t("bandPosition"),n=t("tickExtra")),{extra:n,band:e,offset:i}}(l),f={scale:t.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:null!=t.title},d=RNt(e.add(uIt({},[f]))),h=RNt(e.add(oIt({scale:e.scaleRef(t.scale),extra:e.property(c.extra),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)}))),p=[];return f.grid&&p.push(BRt(t,r,i.grid,h,c)),f.ticks&&(n=l("tickSize"),p.push(function(t,e,n,r,i,o){var a,u,s,l=bLt(t,e),c=t.orient,f=wRt(c,-1,1),d={enter:a={opacity:hLt},update:s={opacity:pLt},exit:u={opacity:hLt}};dNt(d,{stroke:l("tickColor"),strokeCap:l("tickCap"),strokeDash:l("tickDash"),strokeDashOffset:l("tickDashOffset"),strokeOpacity:l("tickOpacity"),strokeWidth:l("tickWidth")});var h=cNt(i);h.mult=f;var p={scale:t.scale,field:nLt,band:o.band,extra:o.extra,offset:o.offset,round:l("tickRound")};return s.y=a.y=SRt(c,hLt,p),s.y2=a.y2=SRt(c,h),u.x=SRt(c,p),s.x=a.x=kRt(c,hLt,p),s.x2=a.x2=kRt(c,h),u.y=kRt(c,p),ELt({type:mLt,role:"axis-tick",key:nLt,from:r,encode:d},n)}(t,r,i.ticks,h,n,c))),f.labels&&(n=f.ticks?n:0,p.push(URt(t,r,i.labels,h,n,c))),f.domain&&p.push(function(t,e,n,r){var i,o,a=bLt(t,e),u=t.orient,s={enter:i={opacity:hLt},update:o={opacity:pLt},exit:{opacity:hLt}};dNt(s,{stroke:a("domainColor"),strokeCap:a("domainCap"),strokeDash:a("domainDash"),strokeDashOffset:a("domainDashOffset"),strokeWidth:a("domainWidth"),strokeOpacity:a("domainOpacity")});var l=jRt(t,0),c=jRt(t,1);return i.x=o.x=SRt(u,l,hLt),i.x2=o.x2=SRt(u,c),i.y=o.y=kRt(u,l,hLt),i.y2=o.y2=kRt(u,c),ELt({type:mLt,role:"axis-domain",from:r,encode:s},n)}(t,r,i.domain,d)),f.title&&p.push(HRt(t,r,i.title,d)),cRt(xLt({role:"axis",from:d,encode:hNt(WRt(l,t),o,dLt),marks:p,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:a,interactive:u,style:s}),e)}function WRt(t,e){var n={enter:{},update:{}};return dNt(n,{orient:t("orient"),offset:t("offset")||0,position:qNt(e.position,0),titlePadding:t("titlePadding"),minExtent:t("minExtent"),maxExtent:t("maxExtent"),range:{signal:'abs(span(range("'.concat(e.scale,'")))')},translate:t("translate"),format:e.format,formatType:e.formatType}),n}function YRt(t,e,n){var r=V5(t.signals),i=V5(t.scales);return n||r.forEach((function(t){return FNt(t,e)})),V5(t.projections).forEach((function(t){return function(t,e){var n=e.config.projection||{},r={};for(var i in t)"name"!==i&&(r[i]=GIt(t[i],i,e));for(var o in n)null==r[o]&&(r[o]=GIt(n[o],o,e));e.addProjection(t.name,r)}(t,e)})),i.forEach((function(t){return function(t,e){var n=t.type||"linear";bdt(n)||n5("Unrecognized scale type: "+S6(n)),e.addScale(t.name,{type:n,domain:void 0})}(t,e)})),V5(t.data).forEach((function(t){return mRt(t,e)})),i.forEach((function(t){return NIt(t,e)})),(n||r).forEach((function(t){return function(t,e){var n=e.getSignal(t.name),r=t.update;t.init&&(r?n5("Signals can not include both init and update expressions."):(r=t.init,n.initonly=!0)),r&&(r=CDt(r,e),n.update=r.$expr,n.params=r.$params),t.on&&t.on.forEach((function(t){return eIt(t,e,n.id)}))}(t,e)})),V5(t.axes).forEach((function(t){return VRt(t,e)})),V5(t.marks).forEach((function(t){return cRt(t,e)})),V5(t.legends).forEach((function(t){return fRt(t,e)})),t.title&&vRt(t.title,e),e.parseLambdas(),e}function qRt(t,e){var n=e.config,r=RNt(e.root=e.add(LNt())),i=function(t,e){var n=function(n){return qNt(t[n],e[n])},r=[GRt("background",n("background")),GRt("autosize",uNt(n("autosize"))),GRt("padding",lNt(n("padding"))),GRt("width",n("width")||0),GRt("height",n("height")||0)],i=r.reduce((function(t,e){return t[e.name]=e,t}),{}),o={};return V5(t.signals).forEach((function(t){r6(i,t.name)?t=Q5(i[t.name],t):r.push(t),o[t.name]=t})),V5(e.signals).forEach((function(t){r6(o,t.name)||r6(i,t.name)||r.push(t)})),r}(t,n);i.forEach((function(t){return FNt(t,e)})),e.description=t.description||n.description,e.eventConfig=n.events,e.legends=e.objectProperty(n.legend&&n.legend.layout),e.locale=n.locale;var o=e.add(uIt()),a=e.add(cIt(_Nt(function(t){return hNt({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t)}(t.encode),vLt,gNt,t.style,e,{pulse:RNt(o)}))),u=e.add(TIt({layout:e.objectProperty(t.layout),legends:e.legends,autosize:e.signalRef("autosize"),mark:r,pulse:RNt(a)}));e.operators.pop(),e.pushState(RNt(a),RNt(u),null),YRt(t,e,i),e.operators.push(u);var s=e.add(aIt({mark:r,pulse:RNt(u)}));return s=e.add(OIt({pulse:RNt(s)})),s=e.add(_It({pulse:RNt(s)})),e.addData("root",new oRt(e,o,o,s)),e}function GRt(t,e){return e&&e.signal?{name:t,update:e.signal}:{name:t,value:e}}function $Rt(t,e){this.config=t||{},this.options=e||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function XRt(t){this.config=t.config,this.options=t.options,this.legends=t.legends,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}function KRt(t){return(y5(t)?ZRt:JRt)(t)}function ZRt(t){for(var e=t.length,n="[",r=0;r<e;++r){var i=t[r];n+=(r>0?",":"")+(x5(i)?i.signal||KRt(i):S6(i))}return n+"]"}function JRt(t){var e,n,r="{",i=0;for(e in t)n=t[e],r+=(++i>1?",":"")+S6(e)+":"+(x5(n)?n.signal||KRt(n):S6(n));return r+"}"}function QRt(t,e,n){return x5(t)||n5("Input Vega specification must be an object."),e=w5(function(){var t="sans-serif",e="#4c78a8",n="#000",r="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:e},area:{fill:e},image:null,line:{stroke:e,strokeWidth:2},path:{stroke:e},rect:{fill:e},rule:{stroke:n},shape:{stroke:e},symbol:{fill:e,size:64},text:{fill:n,font:t,fontSize:11},trail:{fill:e,size:2},style:{"guide-label":{fill:n,font:t,fontSize:10},"guide-title":{fill:n,font:t,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:t,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:t,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),e,t.config),qRt(t,new $Rt(e,n)).toRuntime()}$Rt.prototype=XRt.prototype={parse:function(t){return YRt(t,this)},fork:function(){return new XRt(this)},isSubscope:function(){return this._subid>0},toRuntime:function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach((function(e){e.$ref=t.id})),t.refs=null),t},proxy:function(t){var e=t instanceof NNt?RNt(t):t;return this.add(CIt({value:e}))},addStream:function(t){return this.streams.push(t),t.id=this.id(),t},addUpdate:function(t){return this.updates.push(t),t},finish:function(){var t,e;for(t in this.root&&(this.root.root=!0),this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function n(t,e,n){var r;t&&((r=t.data||(t.data={}))[e]||(r[e]=[])).push(n)}for(t in this.data)for(var r in n((e=this.data[t]).input,t,"input"),n(e.output,t,"output"),n(e.values,t,"values"),e.index)n(e.index[r],t,"index:"+r);return this},pushState:function(t,e,n){this._encode.push(RNt(this.add(_It({pulse:t})))),this._parent.push(e),this._lookup.push(n?RNt(this.proxy(n)):null),this._markpath.push(-1)},popState:function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent:function(){return C5(this._parent)},encode:function(){return C5(this._encode)},lookup:function(){return C5(this._lookup)},markpath:function(){var t=this._markpath;return++t[t.length-1]},fieldRef:function(t,e){if(p6(t))return jNt(t,e);t.signal||n5("Unsupported field reference: "+S6(t));var n=t.signal,r=this.field[n];if(!r){var i={name:this.signalRef(n)};e&&(i.as=e),this.field[n]=r=RNt(this.add(hIt(i)))}return r},compareRef:function(t){var e=this,n=!1,r=function(t){return WNt(t)?(n=!0,e.signalRef(t.signal)):function(t){return t&&t.expr}(t)?(n=!0,e.exprRef(t.expr)):t},i=V5(t.field).map(r),o=V5(t.order).map(r);return n?RNt(this.add(sIt({fields:i,orders:o}))):zNt(i,o)},keyRef:function(t,e){var n=!1,r=this.signals;return t=V5(t).map((function(t){return WNt(t)?(n=!0,RNt(r[t.signal])):t})),n?RNt(this.add(pIt({fields:t,flat:e}))):function(t,e){var n={$key:t};return e&&(n.$flat=!0),n}(t,e)},sortRef:function(t){if(!t)return t;var e=UNt(t.op,t.field),n=t.order||"ascending";return n.signal?RNt(this.add(sIt({fields:e,orders:this.signalRef(n.signal)}))):zNt(e,n)},event:function(t,e){var n=t+":"+e;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:t,type:e}),this.events[n]=r}return this.events[n]},hasOwnSignal:function(t){return r6(this.signals,t)},addSignal:function(t,e){this.hasOwnSignal(t)&&n5("Duplicate signal name: "+S6(t));var n=e instanceof NNt?e:this.add(LNt(e));return this.signals[t]=n},getSignal:function(t){return this.signals[t]||n5("Unrecognized signal name: "+S6(t)),this.signals[t]},signalRef:function(t){return this.signals[t]?RNt(this.signals[t]):(r6(this.lambdas,t)||(this.lambdas[t]=this.add(LNt(null))),RNt(this.lambdas[t]))},parseLambdas:function(){for(var t=Object.keys(this.lambdas),e=0,n=t.length;e<n;++e){var r=t[e],i=CDt(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property:function(t){return t&&t.signal?this.signalRef(t.signal):t},objectProperty:function(t){return t&&x5(t)?this.signalRef(t.signal||KRt(t)):t},exprRef:function(t,e){var n={expr:CDt(t,this)};return e&&(n.expr.$name=e),RNt(this.add(fIt(n)))},addBinding:function(t,e){this.bindings||n5("Nested signals do not support binding: "+S6(t)),this.bindings.push(Q5({signal:t},e))},addScaleProj:function(t,e){r6(this.scales,t)&&n5("Duplicate scale or projection name: "+S6(t)),this.scales[t]=this.add(e)},addScale:function(t,e){this.addScaleProj(t,MIt(e))},addProjection:function(t,e){this.addScaleProj(t,kIt(e))},getScale:function(t){return this.scales[t]||n5("Unrecognized scale name: "+S6(t)),this.scales[t]},scaleRef:function(t){return RNt(this.getScale(t))},scaleType:function(t){return this.getScale(t).params.type},projectionRef:function(t){return this.scaleRef(t)},projectionType:function(t){return this.scaleType(t)},addData:function(t,e){return r6(this.data,t)&&n5("Duplicate data set name: "+S6(t)),this.data[t]=e},getData:function(t){return this.data[t]||n5("Undefined data set name: "+S6(t)),this.data[t]},addDataPipeline:function(t,e){return r6(this.data,t)&&n5("Duplicate data set name: "+S6(t)),this.addData(t,oRt.fromEntries(this,e))}};var tjt="5.22.0";Q5(fnt,m,x,b,w,S,C,k,E,O,M,_);Math.E,Math.LN2,Math.LN10,Math.LOG2E,Math.LOG10E,Math.PI,Math.SQRT1_2,Math.SQRT2,Number.MIN_VALUE,Number.MAX_VALUE;var ejt=Array.prototype.slice,njt=function(t,e,n){var r=n?n(e[0]):e[0];return r[t].apply(r,ejt.call(e,1))};Number.isNaN,Number.isFinite,Math.abs,Math.acos,Math.asin,Math.atan,Math.atan2,Math.ceil,Math.cos,Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.random,Math.round,Math.sin,Math.sqrt,Math.tan,Date.now,Date.UTC,parseFloat,parseInt,RegExp;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var rjt=n(3991),ijt=n.n(rjt),ojt=n(2248),ajt=n.n(ojt);function ujt(t){return!!t.or}function sjt(t){return!!t.and}function ljt(t){return!!t.not}function cjt(t,e){if(ljt(t))cjt(t.not,e);else if(sjt(t)){var n,r=qe(t.and);try{for(r.s();!(n=r.n()).done;){cjt(n.value,e)}}catch(a){r.e(a)}finally{r.f()}}else if(ujt(t)){var i,o=qe(t.or);try{for(o.s();!(i=o.n()).done;){cjt(i.value,e)}}catch(a){o.e(a)}finally{o.f()}}else e(t)}function fjt(t,e){return ljt(t)?{not:fjt(t.not,e)}:sjt(t)?{and:t.and.map((function(t){return fjt(t,e)}))}:ujt(t)?{or:t.or.map((function(t){return fjt(t,e)}))}:e(t)}var djt=WS(),hjt=ijt();function pjt(t){throw new Error(t)}function vjt(t,e){var n,r={},i=qe(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r6(t,o)&&(r[o]=t[o])}}catch(a){i.e(a)}finally{i.f()}return r}function gjt(t,e){var n,r=Object.assign({},t),i=qe(e);try{for(i.s();!(n=i.n()).done;){delete r[n.value]}}catch(o){i.e(o)}finally{i.f()}return r}Set.prototype.toJSON=function(){return"Set(".concat(Ye(this).map((function(t){return ajt()(t)})).join(","),")")};var mjt=ajt();function yjt(t){if(d6(t))return t;var e=p6(t)?t:ajt()(t);if(e.length<250)return e;for(var n=0,r=0;r<e.length;r++){n=(n<<5)-n+e.charCodeAt(r),n&=n}return n}function xjt(t){return!1===t||null===t}function bjt(t,e){return t.includes(e)}function wjt(t,e){var n,r=0,i=qe(t.entries());try{for(i.s();!(n=i.n()).done;){var o=j(n.value,2),a=o[0];if(e(o[1],a,r++))return!0}}catch(u){i.e(u)}finally{i.f()}return!1}function Sjt(t,e){var n,r=0,i=qe(t.entries());try{for(i.s();!(n=i.n()).done;){var o=j(n.value,2),a=o[0];if(!e(o[1],a,r++))return!1}}catch(u){i.e(u)}finally{i.f()}return!0}function kjt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];Cjt(t,null!==a&&void 0!==a?a:{})}return t}function Cjt(t,e){var n,r=qe(Djt(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;S5(t,i,e[i],!0)}}catch(o){r.e(o)}finally{r.f()}}function Ejt(t,e){var n,r,i=[],o={},a=qe(t);try{for(a.s();!(r=a.n()).done;){var u=r.value;(n=e(u))in o||(o[n]=1,i.push(u))}}catch(s){a.e(s)}finally{a.f()}return i}function Ojt(t,e){var n=Djt(t),r=Djt(e);if(n.length!==r.length)return!1;var i,o=qe(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t[a]!==e[a])return!1}}catch(u){o.e(u)}finally{o.f()}return!0}function Mjt(t,e){if(t.size!==e.size)return!1;var n,r=qe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!e.has(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}function _jt(t,e){var n,r=qe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.has(i))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}function Ajt(t){var e,n=new Set,r=qe(t);try{var i=function(){var t,r=r5(e.value).map((function(t,e){return 0===e?t:"[".concat(t,"]")})),i=qe(r.map((function(t,e){return r.slice(0,e+1).join("")})));try{for(i.s();!(t=i.n()).done;){var o=t.value;n.add(o)}}catch(a){i.e(a)}finally{i.f()}};for(r.s();!(e=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}function Tjt(t,e){return void 0===t||void 0===e||_jt(Ajt(t),Ajt(e))}function Pjt(t){return 0===Djt(t).length}var Djt=Object.keys,Fjt=Object.values,Njt=Object.entries;function Ijt(t){return!0===t||!1===t}function Ljt(t){var e=t.replace(/\W/g,"_");return(t.match(/^\d+/)?"_":"")+e}function Rjt(t,e){return ljt(t)?"!(".concat(Rjt(t.not,e),")"):sjt(t)?"(".concat(t.and.map((function(t){return Rjt(t,e)})).join(") && ("),")"):ujt(t)?"(".concat(t.or.map((function(t){return Rjt(t,e)})).join(") || ("),")"):e(t)}function jjt(t,e){if(0===e.length)return!0;var n=e.shift();return n in t&&jjt(t[n],e)&&delete t[n],Pjt(t)}function Bjt(t){return t.charAt(0).toUpperCase()+t.substr(1)}function zjt(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=r5(t),r=[],i=1;i<=n.length;i++){var o="[".concat(n.slice(0,i).map(S6).join("]["),"]");r.push("".concat(e).concat(o))}return r.join(" && ")}function Ujt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(e,"[").concat(S6(r5(t).join(".")),"]")}function Hjt(t){return t.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Vjt(t){return"".concat(r5(t).map(Hjt).join("\\."))}function Wjt(t,e,n){return t.replace(new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Yjt(t){return"".concat(r5(t).join("."))}function qjt(t){return t?r5(t).length:0}function Gjt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];if(void 0!==o)return o}}var $jt=42;function Xjt(t){var e=++$jt;return t?String(t)+e:e}function Kjt(){$jt=42}function Zjt(t){return Jjt(t)?t:"__".concat(t)}function Jjt(t){return t.startsWith("__")}function Qjt(t){if(void 0!==t)return(t%360+360)%360}function tBt(t){return!!d6(t)||!isNaN(t)&&!isNaN(parseFloat(t))}var eBt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},nBt="row",rBt="column",iBt="facet",oBt="x",aBt="y",uBt="x2",sBt="y2",lBt="xOffset",cBt="yOffset",fBt="radius",dBt="radius2",hBt="theta",pBt="theta2",vBt="latitude",gBt="longitude",mBt="latitude2",yBt="longitude2",xBt="color",bBt="fill",wBt="stroke",SBt="shape",kBt="size",CBt="angle",EBt="opacity",OBt="fillOpacity",MBt="strokeOpacity",_Bt="strokeWidth",ABt="strokeDash",TBt="text",PBt="order",DBt="detail",FBt="key",NBt="tooltip",IBt="href",LBt="url",RBt="description",jBt={theta:1,theta2:1,radius:1,radius2:1};function BBt(t){return t in jBt}var zBt={longitude:1,longitude2:1,latitude:1,latitude2:1};var UBt=Djt(zBt),HBt=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),jBt),zBt),{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function VBt(t){return t===xBt||t===bBt||t===wBt}var WBt={row:1,column:1,facet:1},YBt=Djt(WBt),qBt=Object.assign(Object.assign({},HBt),WBt),GBt=Djt(qBt),$Bt=(qBt.order,qBt.detail,qBt.tooltip,eBt(qBt,["order","detail","tooltip"])),XBt=($Bt.row,$Bt.column,$Bt.facet,eBt($Bt,["row","column","facet"]));Djt($Bt),Djt(XBt);function KBt(t){return!!XBt[t]}function ZBt(t){return!!qBt[t]}var JBt=[uBt,sBt,mBt,yBt,pBt,dBt];function QBt(t){return tzt(t)!==t}function tzt(t){switch(t){case uBt:return oBt;case sBt:return aBt;case mBt:return vBt;case yBt:return gBt;case pBt:return hBt;case dBt:return fBt}return t}function ezt(t){if(BBt(t))switch(t){case hBt:return"startAngle";case pBt:return"endAngle";case fBt:return"outerRadius";case dBt:return"innerRadius"}return t}function nzt(t){switch(t){case oBt:return uBt;case aBt:return sBt;case vBt:return mBt;case gBt:return yBt;case hBt:return pBt;case fBt:return dBt}}function rzt(t){switch(t){case oBt:case uBt:return"width";case aBt:case sBt:return"height"}}function izt(t){switch(t){case oBt:return"xOffset";case aBt:return"yOffset"}}function ozt(t){switch(t){case"xOffset":return"x";case"yOffset":return"y"}}var azt=Djt(HBt),uzt=(HBt.x,HBt.y,HBt.x2,HBt.y2,HBt.xOffset,HBt.yOffset,HBt.latitude,HBt.longitude,HBt.latitude2,HBt.longitude2,HBt.theta,HBt.theta2,HBt.radius,HBt.radius2,eBt(HBt,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"])),szt=Djt(uzt),lzt={x:1,y:1},czt=Djt(lzt);function fzt(t){return t in lzt}var dzt={theta:1,radius:1},hzt=Djt(dzt);function pzt(t){return"width"===t?oBt:aBt}var vzt={xOffset:1,yOffset:1};Djt(vzt);function gzt(t){return t in vzt}uzt.text,uzt.tooltip,uzt.href,uzt.url,uzt.description,uzt.detail,uzt.key,uzt.order;var mzt=eBt(uzt,["text","tooltip","href","url","description","detail","key","order"]),yzt=Djt(mzt);var xzt=Object.assign(Object.assign(Object.assign(Object.assign({},lzt),dzt),vzt),mzt),bzt=Djt(xzt);function wzt(t){return!!xzt[t]}function Szt(t,e){return function(t){switch(t){case xBt:case bBt:case wBt:case RBt:case DBt:case FBt:case NBt:case IBt:case PBt:case EBt:case OBt:case MBt:case _Bt:case iBt:case nBt:case rBt:return kzt;case oBt:case aBt:case lBt:case cBt:case vBt:case gBt:return Czt;case uBt:case sBt:case mBt:case yBt:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case kBt:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case ABt:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case SBt:return{point:"always",geoshape:"always"};case TBt:return{text:"always"};case CBt:return{point:"always",square:"always",text:"always"};case LBt:return{image:"always"};case hBt:case fBt:return{text:"always",arc:"always"};case pBt:case dBt:return{arc:"always"}}}(t)[e]}var kzt={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},Czt=eBt(kzt,["geoshape"]);function Ezt(t){switch(t){case oBt:case aBt:case hBt:case fBt:case lBt:case cBt:case kBt:case CBt:case _Bt:case EBt:case OBt:case MBt:case uBt:case sBt:case pBt:case dBt:return;case iBt:case nBt:case rBt:case SBt:case ABt:case TBt:case NBt:case IBt:case LBt:case RBt:return"discrete";case xBt:case bBt:case wBt:return"flexible";case vBt:case gBt:case mBt:case yBt:case DBt:case FBt:case PBt:return}}var Ozt={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Mzt={count:1,min:1,max:1};function _zt(t){return!!t&&!!t.argmin}function Azt(t){return!!t&&!!t.argmax}function Tzt(t){return p6(t)&&!!Ozt[t]}var Pzt=new Set(["count","valid","missing","distinct"]);function Dzt(t){return p6(t)&&Pzt.has(t)}var Fzt=new Set(["count","sum","distinct","valid","missing"]),Nzt=new Set(["mean","average","median","q1","q3","min","max"]);function Izt(t){return l6(t)&&(t=lYt(t,void 0)),"bin"+Djt(t).map((function(e){return Bzt(t[e])?Ljt("_".concat(e,"_").concat(Njt(t[e]))):Ljt("_".concat(e,"_").concat(t[e]))})).join("")}function Lzt(t){return!0===t||jzt(t)&&!t.binned}function Rzt(t){return"binned"===t||jzt(t)&&!0===t.binned}function jzt(t){return x5(t)}function Bzt(t){return null===t||void 0===t?void 0:t.param}function zzt(t){switch(t){case nBt:case rBt:case kBt:case xBt:case bBt:case wBt:case _Bt:case EBt:case OBt:case MBt:case SBt:return 6;case ABt:return 4;default:return 10}}function Uzt(t){return t&&!!t.expr}function Hzt(t){var e,n={},r=qe(Djt(t||{}));try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i]=tUt(t[i])}}catch(o){r.e(o)}finally{r.f()}return n}var Vzt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Wzt(t){var e=t.anchor,n=t.frame,r=t.offset,i=t.orient,o=t.angle,a=t.limit,u=t.color,s=t.subtitleColor,l=t.subtitleFont,c=t.subtitleFontSize,f=t.subtitleFontStyle,d=t.subtitleFontWeight,h=t.subtitleLineHeight,p=t.subtitlePadding,v=Vzt(t,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),g=Object.assign(Object.assign({},v),u?{fill:u}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e?{anchor:e}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),void 0!==o?{angle:o}:{}),void 0!==a?{limit:a}:{}),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{subtitleColor:s}:{}),l?{subtitleFont:l}:{}),c?{subtitleFontSize:c}:{}),f?{subtitleFontStyle:f}:{}),d?{subtitleFontWeight:d}:{}),h?{subtitleLineHeight:h}:{}),p?{subtitlePadding:p}:{});return{titleMarkConfig:g,subtitleMarkConfig:vjt(t,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:m,subtitle:y}}function Yzt(t){return p6(t)||y5(t)&&p6(t[0])}function qzt(t){return t&&!!t.signal}function Gzt(t){return!!t.step}function $zt(t){return!y5(t)&&("field"in t&&"data"in t)}var Xzt=Djt({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Kzt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Zzt=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Jzt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Qzt(t){var e=y5(t.condition)?t.condition.map(eUt):eUt(t.condition);return Object.assign(Object.assign({},tUt(t)),{condition:e})}function tUt(t){if(Uzt(t)){var e=t.expr,n=Jzt(t,["expr"]);return Object.assign({signal:e},n)}return t}function eUt(t){if(Uzt(t)){var e=t.expr,n=Jzt(t,["expr"]);return Object.assign({signal:e},n)}return t}function nUt(t){if(Uzt(t)){var e=t.expr,n=Jzt(t,["expr"]);return Object.assign({signal:e},n)}return qzt(t)?t:void 0!==t?{value:t}:void 0}function rUt(t){return qzt(t)?t.signal:S6(t)}function iUt(t){return qzt(t)?t.signal:S6(t.value)}function oUt(t){return qzt(t)?t.signal:null==t?null:S6(t)}function aUt(t){var e;return[].concat(t.type,null!==(e=t.style)&&void 0!==e?e:[])}function uUt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel,o=r.ignoreVgConfig;return i&&void 0!==e[i]?e[i]:void 0!==e[t]?e[t]:!o||i&&i!==t?sUt(t,e,n,r):void 0}function sUt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel;return Gjt(i?lUt(t,e,n.style):void 0,lUt(t,e,n.style),i?n[e.type][i]:void 0,n[e.type][t],i?n.mark[i]:n.mark[t])}function lUt(t,e,n){return cUt(t,aUt(e),n)}function cUt(t,e,n){var r,i,o=qe(e=V5(e));try{for(o.s();!(i=o.n()).done;){var a=n[i.value];a&&void 0!==a[t]&&(r=a[t])}}catch(u){o.e(u)}finally{o.f()}return r}function fUt(t,e){return V5(t).reduce((function(t,n){var r;return t.field.push(qWt(n,e)),t.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),t}),{field:[],order:[]})}function dUt(t,e){var n=Ye(t);return e.forEach((function(t){var e,r=qe(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(djt(i,t))return}}catch(o){r.e(o)}finally{r.f()}n.push(t)})),n}function hUt(t,e){return djt(t,e)||!e?t:t?[].concat(Ye(V5(t)),Ye(V5(e))).join(", "):e}function pUt(t,e){var n=t.value,r=e.value;if(null==n||null===r)return{explicit:t.explicit,value:null};if((Yzt(n)||qzt(n))&&(Yzt(r)||qzt(r)))return{explicit:t.explicit,value:hUt(n,r)};if(Yzt(n)||qzt(n))return{explicit:t.explicit,value:n};if(Yzt(r)||qzt(r))return{explicit:t.explicit,value:r};if(!Yzt(n)&&!qzt(n)&&!Yzt(r)&&!qzt(r))return{explicit:t.explicit,value:dUt(n,r)};throw new Error("It should never reach here")}function vUt(t){return"Invalid specification ".concat(mjt(t),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var gUt='Autosize "fit" only works for single views and layered views.';function mUt(t){return"".concat("width"==t?"Width":"Height",' "container" only works for single views and layered views.')}function yUt(t){var e="width"==t?"x":"y";return"".concat("width"==t?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(e,'".')}function xUt(t){return t?'Dropping "fit-'.concat(t,'" because spec has discrete ').concat(rzt(t),"."):'Dropping "fit" because spec has discrete size.'}function bUt(t){return"Unknown field for ".concat(t,". Cannot calculate view size.")}function wUt(t){return'Cannot project a selection on encoding channel "'.concat(t,'", which has no field.')}function SUt(t,e){return'Cannot project a selection on encoding channel "'.concat(t,'" as it uses an aggregate function ("').concat(e,'").')}function kUt(t){return"Selection not supported for ".concat(t," yet.")}var CUt="The same selection must be used to override scale domains in a layered view.";function EUt(t){return'The "columns" property cannot be used when "'.concat(t,'" has nested row/column.')}function OUt(t,e,n){return'An ancestor parsed field "'.concat(t,'" as ').concat(n," but a child wants to parse the field as ").concat(e,".")}function MUt(t){return"Ignoring an invalid transform: ".concat(mjt(t),".")}function _Ut(t){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(t," are dropped.")}function AUt(t,e,n){return"Channel ".concat(t," is a ").concat(e,". Converted to {value: ").concat(mjt(n),"}.")}function TUt(t){return'Invalid field type "'.concat(t,'".')}function PUt(t,e){return'Invalid field type "'.concat(t,'" for aggregate: "').concat(e,'", using "quantitative" instead.')}function DUt(t){return'Invalid aggregation operator "'.concat(t,'".')}function FUt(t,e){var n=e.fill,r=e.stroke;return"Dropping color ".concat(t," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function NUt(t,e){return"Dropping ".concat(mjt(t),' from channel "').concat(e,'" since it does not contain any data field, datum, value, or signal.')}function IUt(t,e,n){return"".concat(t,' dropped as it is incompatible with "').concat(e,'"').concat(n?" when ".concat(n):"",".")}function LUt(t){return"".concat(t," encoding has no scale, so specified scale is ignored.")}function RUt(t){return"".concat(t," encoding should be discrete (ordinal / nominal / binned).")}function jUt(t){return"".concat(t," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}function BUt(t,e){return'Using discrete channel "'.concat(t,'" to encode "').concat(e,'" field can be misleading as it does not encode ').concat("ordinal"===e?"order":"magnitude",".")}function zUt(t){return"The ".concat(t," for range marks cannot be an expression")}function UUt(t){return"Using unaggregated domain with raw field has no effect (".concat(mjt(t),").")}function HUt(t){return'Unaggregated domain not applicable for "'.concat(t,'" since it produces values outside the origin domain of the source data.')}function VUt(t){return"Unaggregated domain is currently unsupported for log scale (".concat(mjt(t),").")}function WUt(t,e,n){return'Channel "'.concat(t,'" does not work with "').concat(e,'" scale. We are using "').concat(n,'" scale instead.')}function YUt(t,e){return'FieldDef does not work with "'.concat(t,'" scale. We are using "').concat(e,'" scale instead.')}function qUt(t,e,n){return"".concat(n,"-scale's \"").concat(e,'" is dropped as it does not work with ').concat(t," scale.")}function GUt(t){return'The step for "'.concat(t,'" is dropped because the ').concat("width"===t?"x":"y"," is continuous.")}var $Ut="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function XUt(t){return'Cannot stack "'.concat(t,'" if there is already "').concat(t,'2".')}function KUt(t){return"Cannot stack non-linear scale (".concat(t,").")}function ZUt(t){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(t,'").')}function JUt(t,e){return"Invalid ".concat(t,": ").concat(mjt(e),".")}function QUt(t){return"1D error band does not support ".concat(t,".")}function tHt(t){return"Channel ".concat(t,' is required for "binned" bin.')}function eHt(t){return"Channel ".concat(t,' should not be used with "binned" bin.')}var nHt=m5(p5),rHt=nHt;function iHt(t){return rHt=t}function oHt(){return rHt=nHt}function aHt(){var t;(t=rHt).warn.apply(t,arguments)}function uHt(t){if(t&&x5(t)){var e,n=qe(yHt);try{for(n.s();!(e=n.n()).done;){if(e.value in t)return!0}}catch(r){n.e(r)}finally{n.f()}}return!1}new WeakMap;var sHt=["january","february","march","april","may","june","july","august","september","october","november","december"],lHt=sHt.map((function(t){return t.substr(0,3)})),cHt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],fHt=cHt.map((function(t){return t.substr(0,3)}));function dHt(t,e){var n=[];if(e&&void 0!==t.day&&Djt(t).length>1&&(aHt(function(t){return"Dropping day from datetime ".concat(mjt(t)," as day cannot be combined with other units.")}(t)),delete(t=hjt(t)).day),void 0!==t.year?n.push(t.year):n.push(2012),void 0!==t.month){var r=e?function(t){if(tBt(t)&&(t=+t),d6(t))return t-1;var e=t.toLowerCase(),n=sHt.indexOf(e);if(-1!==n)return n;var r=e.substr(0,3),i=lHt.indexOf(r);if(-1!==i)return i;throw new Error(JUt("month",t))}(t.month):t.month;n.push(r)}else if(void 0!==t.quarter){var i=e?function(t){if(tBt(t)&&(t=+t),d6(t))return t>4&&aHt(JUt("quarter",t)),t-1;throw new Error(JUt("quarter",t))}(t.quarter):t.quarter;n.push(d6(i)?3*i:"".concat(i,"*3"))}else n.push(0);if(void 0!==t.date)n.push(t.date);else if(void 0!==t.day){var o=e?function(t){if(tBt(t)&&(t=+t),d6(t))return t%7;var e=t.toLowerCase(),n=cHt.indexOf(e);if(-1!==n)return n;var r=e.substr(0,3),i=fHt.indexOf(r);if(-1!==i)return i;throw new Error(JUt("day",t))}(t.day):t.day;n.push(d6(o)?o+1:"".concat(o,"+1"))}else n.push(1);for(var a=0,u=["hours","minutes","seconds","milliseconds"];a<u.length;a++){var s=t[u[a]];n.push("undefined"===typeof s?0:s)}return n}function hHt(t){var e=dHt(t,!0).join(", ");return t.utc?"utc(".concat(e,")"):"datetime(".concat(e,")")}function pHt(t){var e=dHt(t,!1).join(", ");return t.utc?"utc(".concat(e,")"):"datetime(".concat(e,")")}function vHt(t){var e=dHt(t,!0);return t.utc?+new Date(Date.UTC.apply(Date,Ye(e))):+Nct(Date,Ye(e))}var gHt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},mHt={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},yHt=Djt(mHt);function xHt(t){return t.startsWith("utc")}var bHt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function wHt(t){return yHt.filter((function(e){return SHt(t,e)}))}function SHt(t,e){var n=t.indexOf(e);return!(n<0)&&(!(n>0&&"seconds"===e&&"i"===t.charAt(n-1))&&(!(t.length>n+3&&"day"===e&&"o"===t.charAt(n+3))&&!(n>0&&"year"===e&&"f"===t.charAt(n-1))))}function kHt(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},i=r.end,o=zjt(e),a=xHt(t)?"utc":"";function u(t){return"quarter"===t?"(".concat(a,"quarter(").concat(o,")-1)"):"".concat(a).concat(t,"(").concat(o,")")}var s,l={},c=qe(yHt);try{for(c.s();!(s=c.n()).done;){var f=s.value;SHt(t,f)&&(l[f]=u(f),n=f)}}catch(d){c.e(d)}finally{c.f()}return i&&(l[n]+="+1"),pHt(l)}function CHt(t){if(t){var e=wHt(t);return"timeUnitSpecifier(".concat(mjt(e),", ").concat(mjt(bHt),")")}}function EHt(t){var e;if(t)return p6(t)?e={unit:t}:x5(t)&&(e=Object.assign(Object.assign({},t),t.unit?{unit:t.unit}:{})),xHt(e.unit)&&(e.utc=!0,e.unit=function(t){return t.substr(3)}(e.unit)),e}function OHt(t){var e=EHt(t),n=e.utc,r=gHt(e,["utc"]);return r.unit?(n?"utc":"")+Djt(r).map((function(t){return Ljt("".concat("unit"===t?"":"_".concat(t,"_")).concat(r[t]))})).join(""):(n?"utc":"")+"timeunit"+Djt(r).map((function(t){return Ljt("_".concat(t,"_").concat(r[t]))})).join("")}function MHt(t){return t&&!!t.field&&void 0!==t.equal}function _Ht(t){return t&&!!t.field&&void 0!==t.lt}function AHt(t){return t&&!!t.field&&void 0!==t.lte}function THt(t){return t&&!!t.field&&void 0!==t.gt}function PHt(t){return t&&!!t.field&&void 0!==t.gte}function DHt(t){if(null===t||void 0===t?void 0:t.field){if(y5(t.range)&&2===t.range.length)return!0;if(qzt(t.range))return!0}return!1}function FHt(t){return t&&!!t.field&&(y5(t.oneOf)||y5(t.in))}function NHt(t){return t&&!!t.field&&void 0!==t.valid}function IHt(t){return FHt(t)||MHt(t)||DHt(t)||_Ht(t)||THt(t)||AHt(t)||PHt(t)}function LHt(t,e){return hYt(t,{timeUnit:e,wrapTime:!0})}function RHt(t,e){return t.map((function(t){return LHt(t,e)}))}function jHt(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.field,i=null===(e=EHt(t.timeUnit))||void 0===e?void 0:e.unit,o=i?"time(".concat(kHt(i,r),")"):qWt(t,{expr:"datum"});if(MHt(t))return"".concat(o,"===").concat(LHt(t.equal,i));if(_Ht(t)){var a=t.lt;return"".concat(o,"<").concat(LHt(a,i))}if(THt(t)){var u=t.gt;return"".concat(o,">").concat(LHt(u,i))}if(AHt(t)){var s=t.lte;return"".concat(o,"<=").concat(LHt(s,i))}if(PHt(t)){var l=t.gte;return"".concat(o,">=").concat(LHt(l,i))}if(FHt(t))return"indexof([".concat(RHt(t.oneOf,i).join(","),"], ").concat(o,") !== -1");if(NHt(t))return BHt(o,t.valid);if(DHt(t)){var c=t.range,f=qzt(c)?{signal:"".concat(c.signal,"[0]")}:c[0],d=qzt(c)?{signal:"".concat(c.signal,"[1]")}:c[1];if(null!==f&&null!==d&&n)return"inrange("+o+", ["+LHt(f,i)+", "+LHt(d,i)+"])";var h=[];return null!==f&&h.push("".concat(o," >= ").concat(LHt(f,i))),null!==d&&h.push("".concat(o," <= ").concat(LHt(d,i))),h.length>0?h.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(mjt(t)))}function BHt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?"isValid(".concat(t,") && isFinite(+").concat(t,")"):"!isValid(".concat(t,") || !isFinite(+").concat(t,")")}function zHt(t){var e;return IHt(t)&&t.timeUnit?Object.assign(Object.assign({},t),{timeUnit:null===(e=EHt(t.timeUnit))||void 0===e?void 0:e.unit}):t}var UHt={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function HHt(t){return"ordinal"===t||"nominal"===t}var VHt=UHt.quantitative,WHt=UHt.ordinal,YHt=UHt.temporal,qHt=UHt.nominal,GHt=UHt.geojson;Djt(UHt);function $Ht(t){if(t)switch(t=t.toLowerCase()){case"q":case VHt:return"quantitative";case"t":case YHt:return"temporal";case"o":case WHt:return"ordinal";case"n":case qHt:return"nominal";case GHt:return"geojson"}}var XHt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},KHt="linear",ZHt="log",JHt="time",QHt="utc",tVt="point",eVt="band",nVt={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};Djt(nVt);function rVt(t,e){var n=nVt[t],r=nVt[e];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var iVt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function oVt(t){return iVt[t]}var aVt=new Set(["linear","log","pow","sqrt","symlog"]),uVt=new Set([].concat(Ye(aVt),["time","utc"]));function sVt(t){return aVt.has(t)}var lVt=new Set(["quantile","quantize","threshold"]),cVt=new Set([].concat(Ye(uVt),Ye(lVt),["sequential","identity"])),fVt=new Set(["ordinal","bin-ordinal","point","band"]);new Set(["time","utc"]);function dVt(t){return fVt.has(t)}function hVt(t){return cVt.has(t)}function pVt(t){return uVt.has(t)}function vVt(t){return lVt.has(t)}function gVt(t){return null===t||void 0===t?void 0:t.param}var mVt={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},yVt=(Djt(mVt),XHt(mVt,["type","domain","range","rangeMax","rangeMin","scheme"])),xVt=Djt(yVt);function bVt(t,e){switch(e){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(t);case"bins":return!["point","band","identity","ordinal"].includes(t);case"round":return pVt(t)||"band"===t||"point"===t;case"padding":case"rangeMin":case"rangeMax":return pVt(t)||["point","band"].includes(t);case"paddingOuter":case"align":return["point","band"].includes(t);case"paddingInner":return"band"===t;case"domainMax":case"domainMid":case"domainMin":case"clamp":return pVt(t);case"nice":return pVt(t)||"quantize"===t||"threshold"===t;case"exponent":return"pow"===t;case"base":return"log"===t;case"constant":return"symlog"===t;case"zero":return hVt(t)&&!bjt(["log","time","utc","threshold","quantile"],t)}}function wVt(t,e){switch(e){case"interpolate":case"scheme":case"domainMid":return VBt(t)?void 0:'Cannot use the scale property "'.concat(t,'" with non-color channel.');case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function SVt(t,e){return bjt([WHt,qHt],e)?void 0===t||dVt(t):e===YHt?bjt([JHt,QHt,void 0],t):e!==VHt||(sVt(t)||vVt(t)||void 0===t)}function kVt(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!wzt(t))return!1;switch(t){case oBt:case aBt:case lBt:case cBt:case hBt:case fBt:return!!pVt(e)||("band"===e||"point"===e&&!n);case kBt:case _Bt:case EBt:case OBt:case MBt:case CBt:return pVt(e)||vVt(e)||bjt(["band","point","ordinal"],e);case xBt:case bBt:case wBt:return"band"!==e;case ABt:case SBt:return"ordinal"===e||vVt(e)}}var CVt={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},EVt=CVt.arc,OVt=CVt.area,MVt=CVt.bar,_Vt=CVt.image,AVt=CVt.line,TVt=CVt.point,PVt=CVt.rect,DVt=CVt.rule,FVt=CVt.text,NVt=CVt.tick,IVt=CVt.trail,LVt=CVt.circle,RVt=CVt.square,jVt=CVt.geoshape;function BVt(t){return["line","area","trail"].includes(t)}function zVt(t){return["rect","bar","image","arc"].includes(t)}var UVt=new Set(Djt(CVt));function HVt(t){return t.type}var VVt=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),WVt=Djt({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),YVt=Djt({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function qVt(t){return t&&void 0!=t.band}var GVt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},$Vt={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},XVt={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function KVt(t){var e=t.channel,n=t.channelDef,r=t.markDef,i=t.scale,o=t.config,a=eWt(t);return DWt(n)&&!Dzt(n.aggregate)&&i&&pVt(i.get("type"))?function(t){var e=t.fieldDef,n=t.channel,r=t.markDef,i=t.ref,o=t.config;if(BVt(r.type))return i;if(null===uUt("invalid",r,o))return[ZVt(e,n),i];return i}({fieldDef:n,channel:e,markDef:r,ref:a,config:o}):a}function ZVt(t,e){var n=JVt(t,!0),r="y"===tzt(e)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function JVt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return BHt(p6(t)?t:qWt(t,{expr:"datum"}),!e)}function QVt(t,e,n,r){var i={};if(e&&(i.scale=e),NWt(t)){var o=t.datum;uHt(o)?i.signal=hHt(o):qzt(o)?i.signal=o.signal:Uzt(o)?i.signal=o.expr:i.value=o}else i.field=qWt(t,n);if(r){var a=r.offset,u=r.band;a&&(i.offset=a),u&&(i.band=u)}return i}function tWt(t){var e=t.scaleName,n=t.fieldOrDatumDef,r=t.fieldOrDatumDef2,i=t.offset,o=t.startSuffix,a=t.bandPosition,u=void 0===a?.5:a,s=0<u&&u<1?"datum":void 0,l=qWt(n,{expr:s,suffix:o}),c=void 0!==r?qWt(r,{expr:s}):qWt(n,{suffix:"end",expr:s}),f={};if(0===u||1===u){f.scale=e;var d=0===u?l:c;f.field=d}else{var h=qzt(u)?"".concat(u.signal," * ").concat(l," + (1-").concat(u.signal,") * ").concat(c):"".concat(u," * ").concat(l," + ").concat(1-u," * ").concat(c);f.signal='scale("'.concat(e,'", ').concat(h,")")}return i&&(f.offset=i),f}function eWt(t){var e,n=t.channel,r=t.channelDef,i=t.channel2Def,o=t.markDef,a=t.config,u=t.scaleName,s=t.scale,l=t.stack,c=t.offset,f=t.defaultRef,d=t.bandPosition;if(r){if(RWt(r)){var h=null===s||void 0===s?void 0:s.get("type");if(jWt(r)){null!==d&&void 0!==d||(d=OWt({fieldDef:r,fieldDef2:i,markDef:o,config:a}));var p=r.bin,v=r.timeUnit,g=r.type;if(Lzt(p)||d&&v&&g===YHt)return(null===l||void 0===l?void 0:l.impute)?QVt(r,u,{binSuffix:"mid"},{offset:c}):d&&!dVt(h)?tWt({scaleName:u,fieldOrDatumDef:r,bandPosition:d,offset:c}):QVt(r,u,vYt(r,n)?{binSuffix:"range"}:{},{offset:c});if(Rzt(p)){if(DWt(i))return tWt({scaleName:u,fieldOrDatumDef:r,fieldOrDatumDef2:i,bandPosition:d,offset:c});aHt(tHt(n===oBt?uBt:sBt))}}return QVt(r,u,dVt(h)?{binSuffix:"range"}:{},{offset:c,band:"band"===h?null!==(e=null!==d&&void 0!==d?d:r.bandPosition)&&void 0!==e?e:.5:void 0})}if(BWt(r)){var m=r.value,y=c?{offset:c}:{};return Object.assign(Object.assign({},nWt(n,m)),y)}}return Y5(f)&&(f=f()),f?Object.assign(Object.assign({},f),c?{offset:c}:{}):f}function nWt(t,e){return bjt(["x","x2"],t)&&"width"===e?{field:{group:"width"}}:bjt(["y","y2"],t)&&"height"===e?{field:{group:"height"}}:nUt(e)}function rWt(t){return t&&"number"!==t&&"time"!==t}function iWt(t,e,n){return"".concat(t,"(").concat(e).concat(n?", ".concat(mjt(n)):"",")")}function oWt(t){var e,n,r=t.fieldOrDatumDef,i=t.format,o=t.formatType,a=t.expr,u=t.normalizeStack,s=t.config;if(rWt(o))return uWt({fieldOrDatumDef:r,format:i,formatType:o,expr:a,config:s});var l=aWt(r,a,u);if(dYt(r)){var c=function(t,e,n,r,i){return!e||n?(n=p6(n)?n:r,"".concat(i?"utc":"time","Format(").concat(t,", '").concat(n,"')")):function(t,e,n){if(t){var r=CHt(t),i=n||xHt(t);return"".concat(i?"utc":"time","Format(").concat(e,", ").concat(r,")")}}(e,t,i)}(l,DWt(r)?null===(e=EHt(r.timeUnit))||void 0===e?void 0:e.unit:void 0,i,s.timeFormat,zWt(r)&&(null===(n=r.scale)||void 0===n?void 0:n.type)===QHt);return c?{signal:c}:void 0}return i=cWt(FWt(r),i,s),DWt(r)&&Lzt(r.bin)?{signal:hWt(l,qWt(r,{expr:a,binSuffix:"end"}),i,o,s)}:i||"quantitative"===FWt(r)?{signal:"".concat(fWt(l,i))}:{signal:"isValid(".concat(l,") ? ").concat(l,' : ""+').concat(l)}}function aWt(t,e,n){return DWt(t)?n?"".concat(qWt(t,{expr:e,suffix:"end"}),"-").concat(qWt(t,{expr:e,suffix:"start"})):qWt(t,{expr:e}):function(t){var e=t.datum;return uHt(e)?hHt(e):"".concat(mjt(e))}(t)}function uWt(t){var e=t.fieldOrDatumDef,n=t.format,r=t.formatType,i=t.expr,o=t.normalizeStack,a=t.config,u=t.field;return null!==u&&void 0!==u||(u=aWt(e,i,o)),DWt(e)&&Lzt(e.bin)?{signal:hWt(u,qWt(e,{expr:i,binSuffix:"end"}),n,r,a)}:{signal:iWt(r,u,n)}}function sWt(t,e,n,r,i,o){var a;if(!rWt(r))return dYt(t)?function(t,e,n,r){if(t)return t;if(e)return{signal:CHt(e)};return r?void 0:n.timeFormat}(n,DWt(t)?null===(a=EHt(t.timeUnit))||void 0===a?void 0:a.unit:void 0,i,o):cWt(e,n,i)}function lWt(t,e,n){return t&&(qzt(t)||"number"===t||"time"===t)?t:dYt(e)&&"time"!==n&&"utc"!==n?"time":void 0}function cWt(t,e,n){return p6(e)?e:t===VHt?n.numberFormat:void 0}function fWt(t,e){return"format(".concat(t,', "').concat(e||"",'")')}function dWt(t,e,n,r){var i;return rWt(n)?iWt(n,t,e):fWt(t,null!==(i=p6(e)?e:void 0)&&void 0!==i?i:r.numberFormat)}function hWt(t,e,n,r,i){var o=dWt(t,n,r,i),a=dWt(e,n,r,i);return"".concat(BHt(t,!1),' ? "null" : ').concat(o,' + "').concat(" \u2013 ",'" + ').concat(a)}var pWt="min",vWt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function gWt(t){return t in vWt}function mWt(t){return!!t&&!!t.encoding}function yWt(t){return!!t&&("count"===t.op||!!t.field)}function xWt(t){return!!t&&y5(t)}function bWt(t){return"row"in t||"column"in t}function wWt(t){return!!t&&"header"in t}function SWt(t){return"facet"in t}var kWt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function CWt(t){var e=t.field,n=t.timeUnit,r=t.bin,i=t.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:e})}function EWt(t){return"sort"in t}function OWt(t){var e=t.fieldDef,n=t.fieldDef2,r=t.markDef,i=t.config;if(RWt(e)&&void 0!==e.bandPosition)return e.bandPosition;if(DWt(e)){var o=e.timeUnit,a=e.bin;if(o&&!n)return zVt(r.type)?0:sUt("timeUnitBandPosition",r,i);if(Lzt(a))return.5}}function MWt(t){var e,n,r,i=t.channel,o=t.fieldDef,a=t.fieldDef2,u=t.markDef,s=t.config,l=t.scaleType,c=t.useVlSizeChannel,f=rzt(i),d=uUt(c?"size":f,u,s,{vgChannel:f});if(void 0!==d)return d;if(DWt(o)){var h=o.timeUnit,p=o.bin;if(h&&!a)return{band:sUt("timeUnitBandSize",u,s)};if(Lzt(p)&&!dVt(l))return{band:1}}return zVt(u.type)?l?dVt(l)?(null===(e=s[u.type])||void 0===e?void 0:e.discreteBandSize)||{band:1}:null===(n=s[u.type])||void 0===n?void 0:n.continuousBandSize:null===(r=s[u.type])||void 0===r?void 0:r.discreteBandSize:void 0}function _Wt(t,e,n,r){return!!(Lzt(t.bin)||t.timeUnit&&jWt(t)&&"temporal"===t.type)&&void 0!==OWt({fieldDef:t,fieldDef2:e,markDef:n,config:r})}function AWt(t){return t&&"condition"in t}function TWt(t){var e=t&&t.condition;return!!e&&!y5(e)&&DWt(e)}function PWt(t){var e=t&&t.condition;return!!e&&!y5(e)&&RWt(e)}function DWt(t){return t&&(!!t.field||"count"===t.aggregate)}function FWt(t){return t&&t.type}function NWt(t){return t&&"datum"in t}function IWt(t){return jWt(t)&&!GWt(t)||LWt(t)}function LWt(t){return NWt(t)&&d6(t.datum)}function RWt(t){return DWt(t)||NWt(t)}function jWt(t){return t&&("field"in t||"count"===t.aggregate)&&"type"in t}function BWt(t){return t&&"value"in t&&"value"in t}function zWt(t){return t&&("scale"in t||"sort"in t)}function UWt(t){return t&&("axis"in t||"stack"in t||"impute"in t)}function HWt(t){return t&&"legend"in t}function VWt(t){return t&&("format"in t||"formatType"in t)}function WWt(t){return gjt(t,["legend","axis","header","scale"])}function YWt(t){return"op"in t}function qWt(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.field,a=i.prefix,u=i.suffix,s="";if($Wt(t))o=Zjt("count");else{var l;if(!i.nofn)if(YWt(t))l=t.op;else{var c=t.bin,f=t.aggregate,d=t.timeUnit;Lzt(c)?(l=Izt(c),u=(null!==(e=i.binSuffix)&&void 0!==e?e:"")+(null!==(n=i.suffix)&&void 0!==n?n:"")):f?Azt(f)?(s='["'.concat(o,'"]'),o="argmax_".concat(f.argmax)):_zt(f)?(s='["'.concat(o,'"]'),o="argmin_".concat(f.argmin)):l=String(f):d&&(l=OHt(d),u=(!["range","mid"].includes(i.binSuffix)&&i.binSuffix||"")+(null!==(r=i.suffix)&&void 0!==r?r:""))}l&&(o=o?"".concat(l,"_").concat(o):l)}return u&&(o="".concat(o,"_").concat(u)),a&&(o="".concat(a,"_").concat(o)),i.forAs?Yjt(o):i.expr?Ujt(o,i.expr)+s:Vjt(o)+s}function GWt(t){switch(t.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return DWt(t)&&!!t.bin;case"temporal":return!1}throw new Error(TUt(t.type))}function $Wt(t){return"count"===t.aggregate}var XWt=function(t,e){switch(e.fieldTitle){case"plain":return t.field;case"functional":return function(t){var e=t.aggregate,n=t.bin,r=t.timeUnit,i=t.field;if(Azt(e))return"".concat(i," for argmax(").concat(e.argmax,")");if(_zt(e))return"".concat(i," for argmin(").concat(e.argmin,")");var o=EHt(r),a=e||(null===o||void 0===o?void 0:o.unit)||(null===o||void 0===o?void 0:o.maxbins)&&"timeunit"||Lzt(n)&&"bin";return a?"".concat(a.toUpperCase(),"(").concat(i,")"):i}(t);default:return function(t,e){var n,r=t.field,i=t.bin,o=t.timeUnit,a=t.aggregate;if("count"===a)return e.countTitle;if(Lzt(i))return"".concat(r," (binned)");if(o){var u=null===(n=EHt(o))||void 0===n?void 0:n.unit;if(u)return"".concat(r," (").concat(wHt(u).join("-"),")")}else if(a)return Azt(a)?"".concat(r," for max ").concat(a.argmax):_zt(a)?"".concat(r," for min ").concat(a.argmin):"".concat(Bjt(a)," of ").concat(r);return r}(t,e)}},KWt=XWt;function ZWt(t){KWt=t}function JWt(){ZWt(XWt)}function QWt(t,e,n){var r,i,o=n.allowDisabling,a=n.includeDefault,u=void 0===a||a,s=null===(r=tYt(t))||void 0===r?void 0:r.title;if(!DWt(t))return null!==s&&void 0!==s?s:t.title;var l=t,c=u?eYt(l,e):void 0;return o?Gjt(s,l.title,c):null!==(i=null!==s&&void 0!==s?s:l.title)&&void 0!==i?i:c}function tYt(t){return UWt(t)&&t.axis?t.axis:HWt(t)&&t.legend?t.legend:wWt(t)&&t.header?t.header:void 0}function eYt(t,e){return KWt(t,e)}function nYt(t){var e;if(VWt(t))return{format:t.format,formatType:t.formatType};var n=null!==(e=tYt(t))&&void 0!==e?e:{};return{format:n.format,formatType:n.formatType}}function rYt(t,e){var n;switch(e){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(EWt(t)&&y5(t.sort))return"ordinal";var r=t.aggregate,i=t.bin;if(t.timeUnit)return"temporal";if(i||r&&!Azt(r)&&!_zt(r))return"quantitative";if(zWt(t)&&(null===(n=t.scale)||void 0===n?void 0:n.type))switch(nVt[t.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function iYt(t){return DWt(t)?t:TWt(t)?t.condition:void 0}function oYt(t){return RWt(t)?t:PWt(t)?t.condition:void 0}function aYt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(p6(t)||d6(t)||l6(t)){var i=p6(t)?"string":d6(t)?"number":"boolean";return aHt(AUt(e,i,t)),{value:t}}return RWt(t)?uYt(t,e,n,r):PWt(t)?Object.assign(Object.assign({},t),{condition:uYt(t.condition,e,n,r)}):t}function uYt(t,e,n,r){if(VWt(t)){t.format;var i=t.formatType,o=kWt(t,["format","formatType"]);if(rWt(i)&&!n.customFormatTypes)return aHt(_Ut(e)),uYt(o,e,n,r)}else{var a=UWt(t)?"axis":HWt(t)?"legend":wWt(t)?"header":null;if(a&&t[a]){var u=t[a],s=(u.format,u.formatType),l=kWt(u,["format","formatType"]);if(rWt(s)&&!n.customFormatTypes)return aHt(_Ut(e)),uYt(Object.assign(Object.assign({},t),mt({},a,l)),e,n,r)}}return DWt(t)?sYt(t,e,r):function(t){var e=t.type;if(e)return t;var n=t.datum;return e=d6(n)?"quantitative":p6(n)?"nominal":uHt(n)?"temporal":void 0,Object.assign(Object.assign({},t),{type:e})}(t)}function sYt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.compositeMark,i=void 0!==r&&r,o=t.aggregate,a=t.timeUnit,u=t.bin,s=t.field,l=Object.assign({},t);if(i||!o||Tzt(o)||Azt(o)||_zt(o)||(aHt(DUt(o)),delete l.aggregate),a&&(l.timeUnit=EHt(a)),s&&(l.field="".concat(s)),Lzt(u)&&(l.bin=lYt(u,e)),Rzt(u)&&!fzt(e)&&aHt(eHt(e)),jWt(l)){var c=l.type,f=$Ht(c);c!==f&&(l.type=f),"quantitative"!==c&&Dzt(o)&&(aHt(PUt(c,o)),l.type="quantitative")}else if(!QBt(e)){var d=rYt(l,e);l.type=d}if(jWt(l)){var h=fYt(l,e)||{},p=h.compatible,v=h.warning;!1===p&&aHt(v)}if(EWt(l)&&p6(l.sort)){var g=l.sort;if(gWt(g))return Object.assign(Object.assign({},l),{sort:{encoding:g}});var m=g.substr(1);if("-"===g.charAt(0)&&gWt(m))return Object.assign(Object.assign({},l),{sort:{encoding:m,order:"descending"}})}if(wWt(l)){var y=l.header;if(y){var x=y.orient,b=kWt(y,["orient"]);if(x)return Object.assign(Object.assign({},l),{header:Object.assign(Object.assign({},b),{labelOrient:y.labelOrient||x,titleOrient:y.titleOrient||x})})}}return l}function lYt(t,e){return l6(t)?{maxbins:zzt(e)}:"binned"===t?{binned:!0}:t.maxbins||t.step?t:Object.assign(Object.assign({},t),{maxbins:zzt(e)})}var cYt={compatible:!0};function fYt(t,e){var n=t.type;if("geojson"===n&&"shape"!==e)return{compatible:!1,warning:"Channel ".concat(e," should not be used with a geojson data.")};switch(e){case nBt:case rBt:case iBt:return GWt(t)?cYt:{compatible:!1,warning:RUt(e)};case oBt:case aBt:case lBt:case cBt:case xBt:case bBt:case wBt:case TBt:case DBt:case FBt:case NBt:case IBt:case LBt:case CBt:case hBt:case fBt:case RBt:return cYt;case gBt:case yBt:case vBt:case mBt:return n!==VHt?{compatible:!1,warning:"Channel ".concat(e," should be used with a quantitative field only, not ").concat(t.type," field.")}:cYt;case EBt:case OBt:case MBt:case _Bt:case kBt:case pBt:case dBt:case uBt:case sBt:return"nominal"!==n||t.sort?cYt:{compatible:!1,warning:"Channel ".concat(e," should not be used with an unsorted discrete field.")};case SBt:case ABt:return GWt(t)||function(t){var e;return zWt(t)&&vVt(null===(e=t.scale)||void 0===e?void 0:e.type)}(t)?cYt:{compatible:!1,warning:jUt(e)};case PBt:return"nominal"!==t.type||"sort"in t?cYt:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function dYt(t){var e=nYt(t).formatType;return"time"===e||!e&&function(t){return t&&("temporal"===t.type||DWt(t)&&!!t.timeUnit)}(t)}function hYt(t,e){var n,r,i=e.timeUnit,o=e.type,a=e.wrapTime,u=e.undefinedIfExprNotRequired,s=i&&(null===(n=EHt(i))||void 0===n?void 0:n.unit),l=s||"temporal"===o;return Uzt(t)?r=t.expr:qzt(t)?r=t.signal:uHt(t)?(l=!0,r=hHt(t)):(p6(t)||d6(t))&&l&&(r="datetime(".concat(mjt(t),")"),function(t){return!!mHt[t]}(s)&&(d6(t)&&t<1e4||p6(t)&&isNaN(Date.parse(t)))&&(r=hHt(mt({},s,t)))),r?a&&l?"time(".concat(r,")"):r:u?void 0:mjt(t)}function pYt(t,e){var n=t.type;return e.map((function(e){var r=hYt(e,{timeUnit:DWt(t)?t.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:e}))}function vYt(t,e){return Lzt(t.bin)?wzt(e)&&["ordinal","nominal"].includes(t.type):(console.warn("Only call this method for binned field defs."),!1)}var gYt={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function mYt(t){return t&&t.condition}var yYt=["domain","grid","labels","ticks","title"],xYt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},bYt={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},wYt=Object.assign(Object.assign({},bYt),{style:1,labelExpr:1,encoding:1});function SYt(t){return!!wYt[t]}Djt(wYt);var kYt=Djt({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function CYt(t){return"mark"in t}var EYt=function(){function t(e,n){Xr(this,t),this.name=e,this.run=n}return $r(t,[{key:"hasMatchingType",value:function(t){return!!CYt(t)&&function(t){return HVt(t)?t.type:t}(t.mark)===this.name}}]),t}(),OYt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function MYt(t,e){var n=t&&t[e];return!!n&&(y5(n)?wjt(n,(function(t){return!!t.field})):DWt(n)||TWt(n))}function _Yt(t,e){var n=t&&t[e];return!!n&&(y5(n)?wjt(n,(function(t){return!!t.field})):DWt(n)||NWt(n)||PWt(n))}function AYt(t,e){if(fzt(e)){var n=t[e];if((DWt(n)||NWt(n))&&HHt(n.type))return _Yt(t,izt(e))}return!1}function TYt(t){return wjt(GBt,(function(e){if(MYt(t,e)){var n=t[e];if(y5(n))return wjt(n,(function(t){return!!t.aggregate}));var r=iYt(n);return r&&!!r.aggregate}return!1}))}function PYt(t,e){var n=[],r=[],i=[],o=[],a={};return IYt(t,(function(u,s){if(DWt(u)){var l=u.field,c=u.aggregate,f=u.bin,d=u.timeUnit,h=OYt(u,["field","aggregate","bin","timeUnit"]);if(c||d||f){var p,v=tYt(u),g=null===v||void 0===v?void 0:v.title,m=qWt(u,{forAs:!0}),y=Object.assign(Object.assign(Object.assign({},g?[]:{title:QWt(u,e,{allowDisabling:!0})}),h),{field:m});if(c){if(Azt(c)?(p="argmax",m=qWt({op:"argmax",field:c.argmax},{forAs:!0}),y.field="".concat(m,".").concat(l)):_zt(c)?(p="argmin",m=qWt({op:"argmin",field:c.argmin},{forAs:!0}),y.field="".concat(m,".").concat(l)):"boxplot"!==c&&"errorbar"!==c&&"errorband"!==c&&(p=c),p){var x={op:p,as:m};l&&(x.field=l),o.push(x)}}else if(n.push(m),jWt(u)&&Lzt(f)){if(r.push({bin:f,field:l,as:m}),n.push(qWt(u,{binSuffix:"end"})),vYt(u,s)&&n.push(qWt(u,{binSuffix:"range"})),fzt(s)){var b={field:"".concat(m,"_end")};a["".concat(s,"2")]=b}y.bin="binned",QBt(s)||(y.type=VHt)}else if(d){i.push({timeUnit:d,field:l,as:m});var w=jWt(u)&&u.type!==YHt&&"time";w&&(s===TBt||s===NBt?y.formatType=w:!function(t){return!!uzt[t]}(s)?fzt(s)&&(y.axis=Object.assign({formatType:w},y.axis)):y.legend=Object.assign({formatType:w},y.legend))}a[s]=y}else n.push(l),a[s]=t[s]}else a[s]=t[s]})),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function DYt(t,e,n,r){var i,o,a={},u=qe(Djt(t));try{for(u.s();!(i=u.n()).done;){var s=i.value;ZBt(s)||aHt("".concat(o=s,"-encoding is dropped as ").concat(o," is not a valid encoding channel."))}}catch(d){u.e(d)}finally{u.f()}var l,c=qe(azt);try{var f=function(){var i=l.value;if(!t[i])return"continue";var o=t[i];if(gzt(i)){var u=ozt(i),s=a[u];if(DWt(s)){if(function(t){return"quantitative"===t||"temporal"===t}(s.type)&&DWt(o))return aHt(function(t){return"".concat(t,"Offset dropped because ").concat(t," is continuous")}(u)),"continue"}else i=u,aHt(function(t){return"There is no ".concat(t," encoding. Replacing ").concat(t,"Offset encoding as ").concat(t,".")}(u))}if("angle"!==i||"arc"!==e||t.theta||(aHt("Arc marks uses theta channel rather than angle, replacing angle with theta."),i=hBt),!function(t,e,n){var r=Szt(e,n);if(!r)return!1;if("binned"===r){var i=t[e===uBt?oBt:aBt];return!!(DWt(i)&&DWt(t[e])&&Rzt(i.bin))}return!0}(t,i,e))return aHt(IUt(i,e)),"continue";if(i===kBt&&"line"===e){var c=iYt(t[i]);if(null===c||void 0===c?void 0:c.aggregate)return aHt("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),"continue"}if(i===xBt&&(n?"fill"in t:"stroke"in t))return aHt(FUt("encoding",{fill:"fill"in t,stroke:"stroke"in t})),"continue";if(i===DBt||i===PBt&&!y5(o)&&!BWt(o)||i===NBt&&y5(o))o&&(a[i]=V5(o).reduce((function(t,e){return DWt(e)?t.push(sYt(e,i)):aHt(NUt(e,i)),t}),[]));else{if(i===NBt&&null===o)a[i]=null;else if(!DWt(o)&&!NWt(o)&&!BWt(o)&&!AWt(o)&&!qzt(o))return aHt(NUt(o,i)),"continue";a[i]=aYt(o,i,r)}};for(c.s();!(l=c.n()).done;)f()}catch(d){c.e(d)}finally{c.f()}return a}function FYt(t,e){var n,r={},i=qe(Djt(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=aYt(t[o],o,e,{compositeMark:!0});r[o]=a}}catch(u){i.e(u)}finally{i.f()}return r}function NYt(t){var e,n=[],r=qe(Djt(t));try{for(r.s();!(e=r.n()).done;){var i=e.value;if(MYt(t,i)){var o,a=qe(V5(t[i]));try{for(a.s();!(o=a.n()).done;){var u=o.value;DWt(u)?n.push(u):TWt(u)&&n.push(u.condition)}}catch(s){a.e(s)}finally{a.f()}}}}catch(s){r.e(s)}finally{r.f()}return n}function IYt(t,e,n){if(t){var r,i=qe(Djt(t));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t[o];if(y5(a)){var u,s=qe(a);try{for(s.s();!(u=s.n()).done;){var l=u.value;e.call(n,l,o)}}catch(c){s.e(c)}finally{s.f()}}else e.call(n,a,o)}}catch(c){i.e(c)}finally{i.f()}}}function LYt(t,e){return Djt(e).reduce((function(n,r){switch(r){case oBt:case aBt:case IBt:case RBt:case LBt:case uBt:case sBt:case lBt:case cBt:case hBt:case pBt:case fBt:case dBt:case vBt:case gBt:case mBt:case yBt:case TBt:case SBt:case CBt:case NBt:return n;case PBt:if("line"===t||"trail"===t)return n;case DBt:case FBt:var i=e[r];if(y5(i)||DWt(i)){var o,a=qe(V5(i));try{for(a.s();!(o=a.n()).done;){var u=o.value;u.aggregate||n.push(qWt(u,{}))}}catch(l){a.e(l)}finally{a.f()}}return n;case kBt:if("trail"===t)return n;case xBt:case bBt:case wBt:case EBt:case OBt:case MBt:case ABt:case _Bt:var s=iYt(e[r]);return s&&!s.aggregate&&n.push(qWt(s,{})),n}}),[])}var RYt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function jYt(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var i=t.map((function(t){var n=t.fieldPrefix,i=t.titlePrefix,o=r?" of ".concat(BYt(e)):"";return{field:n+e.field,type:e.type,title:qzt(i)?{signal:"".concat(i,'"').concat(escape(o),'"')}:i+o}})),o=NYt(n).map(WWt);return{tooltip:[].concat(Ye(i),Ye(Ejt(o,yjt)))}}function BYt(t){return Gjt(t.title,t.field)}function zYt(t,e,n,r,i){var o=n.scale,a=n.axis;return function(u){var s=u.partName,l=u.mark,c=u.positionPrefix,f=u.endPositionPrefix,d=void 0===f?void 0:f,h=u.extraEncoding,p=void 0===h?{}:h,v=BYt(n);return UYt(t,s,i,{mark:l,encoding:Object.assign(Object.assign(Object.assign(mt({},e,Object.assign(Object.assign(Object.assign({field:"".concat(c,"_").concat(n.field),type:n.type},void 0!==v?{title:v}:{}),void 0!==o?{scale:o}:{}),void 0!==a?{axis:a}:{})),p6(d)?mt({},"".concat(e,"2"),{field:"".concat(d,"_").concat(n.field)}):{}),r),p)})}}function UYt(t,e,n,r){var i=t.clip,o=t.color,a=t.opacity,u=t.type;return t[e]||void 0===t[e]&&n[e]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[e]),i?{clip:i}:{}),o?{color:o}:{}),a?{opacity:a}:{}),HVt(r.mark)?r.mark:{type:r.mark}),{style:"".concat(u,"-").concat(e)}),l6(t[e])?{}:t[e])})]:[]}function HYt(t,e,n){var r=t.encoding,i="vertical"===e?"y":"x",o=r[i],a=r["".concat(i,"2")],u=r["".concat(i,"Error")],s=r["".concat(i,"Error2")];return{continuousAxisChannelDef:VYt(o,n),continuousAxisChannelDef2:VYt(a,n),continuousAxisChannelDefError:VYt(u,n),continuousAxisChannelDefError2:VYt(s,n),continuousAxis:i}}function VYt(t,e){if(null===t||void 0===t?void 0:t.aggregate){var n=t.aggregate,r=RYt(t,["aggregate"]);return n!==e&&aHt(function(t,e){return"Continuous axis should not have customized aggregation function ".concat(t,"; ").concat(e," already agregates the axis.")}(n,e)),r}return t}function WYt(t,e){var n=t.mark,r=t.encoding,i=r.x,o=r.y;if(HVt(n)&&n.orient)return n.orient;if(IWt(i)){if(IWt(o)){var a=DWt(i)&&i.aggregate,u=DWt(o)&&o.aggregate;if(a||u!==e){if(u||a!==e){if(a===e&&u===e)throw new Error("Both x and y cannot have aggregate");return dYt(o)&&!dYt(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(IWt(o))return"vertical";throw new Error("Need a valid continuous axis for ".concat(e,"s"))}var YYt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},qYt="boxplot",GYt=new EYt(qYt,XYt);function $Yt(t){return d6(t)?"tukey":t}function XYt(t,e){var n,r,i=e.config,o=t=Object.assign(Object.assign({},t),{encoding:FYt(t.encoding,i)}),a=o.mark,u=(o.encoding,o.params),s=(o.projection,YYt(t,["mark","encoding","params","projection"])),l=HVt(a)?a:{type:a};u&&aHt(kUt("boxplot"));var c=null!==(n=l.extent)&&void 0!==n?n:i.boxplot.extent,f=uUt("size",l,i),d=$Yt(c),h=function(t,e,n){var r=WYt(t,qYt),i=HYt(t,r,qYt),o=i.continuousAxisChannelDef,a=i.continuousAxis,u=o.field,s=$Yt(e),l=[].concat(Ye(KYt(u)),[{op:"median",field:u,as:"mid_box_".concat(u)},{op:"min",field:u,as:("min-max"===s?"lower_whisker_":"min_")+u},{op:"max",field:u,as:("min-max"===s?"upper_whisker_":"max_")+u}]),c="min-max"===s||"tukey"===s?[]:[{calculate:'datum["upper_box_'.concat(u,'"] - datum["lower_box_').concat(u,'"]'),as:"iqr_".concat(u)},{calculate:'min(datum["upper_box_'.concat(u,'"] + datum["iqr_').concat(u,'"] * ').concat(e,', datum["max_').concat(u,'"])'),as:"upper_whisker_".concat(u)},{calculate:'max(datum["lower_box_'.concat(u,'"] - datum["iqr_').concat(u,'"] * ').concat(e,', datum["min_').concat(u,'"])'),as:"lower_whisker_".concat(u)}],f=t.encoding,d=a,h=(f[d],function(t){var e,n,r=t.tooltip,i=RYt(t,["tooltip"]);if(!r)return{filteredEncoding:i};if(y5(r)){var o,a=qe(r);try{for(a.s();!(o=a.n()).done;){var u=o.value;u.aggregate?(e||(e=[]),e.push(u)):(n||(n=[]),n.push(u))}}catch(s){a.e(s)}finally{a.f()}e&&(i.tooltip=e)}else r.aggregate?i.tooltip=r:n=r;return y5(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}}(YYt(f,["symbol"===typeof d?d:d+""]))),p=h.customTooltipWithoutAggregatedField,v=PYt(h.filteredEncoding,n),g=v.bins,m=v.timeUnits,y=v.aggregate,x=v.groupby,b=v.encoding,w="vertical"===r?"horizontal":"vertical",S=r,k=[].concat(Ye(g),Ye(m),[{aggregate:[].concat(Ye(y),Ye(l)),groupby:x}],c);return{bins:g,timeUnits:m,transform:k,groupby:x,aggregate:y,continuousAxisChannelDef:o,continuousAxis:a,encodingWithoutContinuousAxis:b,ticksOrient:w,boxOrient:S,customTooltipWithoutAggregatedField:p}}(t,c,i),p=h.bins,v=h.timeUnits,g=h.transform,m=h.continuousAxisChannelDef,y=h.continuousAxis,x=h.groupby,b=h.aggregate,w=h.encodingWithoutContinuousAxis,S=h.ticksOrient,k=h.boxOrient,C=h.customTooltipWithoutAggregatedField,E=w.color,O=w.size,M=YYt(w,["color","size"]),_=function(t){return zYt(l,y,m,t,i.boxplot)},A=_(M),T=_(w),P=_(Object.assign(Object.assign({},M),O?{size:O}:{})),D=jYt([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],m,w),F={type:"tick",color:"black",opacity:1,orient:S,invalid:null,aria:!1},N="min-max"===d?D:jYt([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,w),I=[].concat(Ye(A({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:N})),Ye(A({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:N})),Ye(A({partName:"ticks",mark:F,positionPrefix:"lower_whisker",extraEncoding:N})),Ye(A({partName:"ticks",mark:F,positionPrefix:"upper_whisker",extraEncoding:N}))),L=[].concat(Ye("tukey"!==d?I:[]),Ye(T({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:k,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:D})),Ye(P({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},x5(i.boxplot.median)&&i.boxplot.median.color?{color:i.boxplot.median.color}:{}),f?{size:f}:{}),{orient:S,aria:!1}),positionPrefix:"mid_box",extraEncoding:D})));if("min-max"===d)return Object.assign(Object.assign({},s),{transform:(null!==(r=s.transform)&&void 0!==r?r:[]).concat(g),layer:L});var R,j,B='datum["lower_box_'.concat(m.field,'"]'),z='datum["upper_box_'.concat(m.field,'"]'),U="(".concat(z," - ").concat(B,")"),H="".concat(B," - ").concat(c," * ").concat(U),V="".concat(z," + ").concat(c," * ").concat(U),W='datum["'.concat(m.field,'"]'),Y={joinaggregate:KYt(m.field),groupby:x},q={transform:[{filter:"(".concat(H," <= ").concat(W,") && (").concat(W," <= ").concat(V,")")},{aggregate:[{op:"min",field:m.field,as:"lower_whisker_".concat(m.field)},{op:"max",field:m.field,as:"upper_whisker_".concat(m.field)},{op:"min",field:"lower_box_".concat(m.field),as:"lower_box_".concat(m.field)},{op:"max",field:"upper_box_".concat(m.field),as:"upper_box_".concat(m.field)}].concat(Ye(b)),groupby:x}],layer:I},G=(M.tooltip,YYt(M,["tooltip"])),$=m.scale,X=m.axis,K=BYt(m),Z=gjt(X,["title"]),J=UYt(l,"outliers",i.boxplot,{transform:[{filter:"(".concat(W," < ").concat(H,") || (").concat(W," > ").concat(V,")")}],mark:"point",encoding:Object.assign(Object.assign(Object.assign(mt({},y,Object.assign(Object.assign(Object.assign({field:m.field,type:m.type},void 0!==K?{title:K}:{}),void 0!==$?{scale:$}:{}),Pjt(Z)?{}:{axis:Z})),G),E?{color:E}:{}),C?{tooltip:C}:{})})[0],Q=[].concat(Ye(p),Ye(v),[Y]);J?R={transform:Q,layer:[J,q]}:(j=(R=q).transform).unshift.apply(j,Ye(Q));return Object.assign(Object.assign({},s),{layer:[R,{transform:g,layer:L}]})}function KYt(t){return[{op:"q1",field:t,as:"lower_box_".concat(t)},{op:"q3",field:t,as:"upper_box_".concat(t)}]}var ZYt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},JYt="errorbar",QYt=new EYt(JYt,tqt);function tqt(t,e){var n=e.config,r=nqt(t=Object.assign(Object.assign({},t),{encoding:FYt(t.encoding,n)}),JYt,n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.ticksOrient,l=r.markDef,c=r.outerSpec,f=r.tooltipEncoding;delete u.size;var d=zYt(l,a,o,u,n.errorbar),h=l.thickness,p=l.size,v=Object.assign(Object.assign({type:"tick",orient:s,aria:!1},void 0!==h?{thickness:h}:{}),void 0!==p?{size:p}:{}),g=[].concat(Ye(d({partName:"ticks",mark:v,positionPrefix:"lower",extraEncoding:f})),Ye(d({partName:"ticks",mark:v,positionPrefix:"upper",extraEncoding:f})),Ye(d({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==h?{size:h}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return Object.assign(Object.assign(Object.assign({},c),{transform:i}),g.length>1?{layer:g}:Object.assign({},g[0]))}function eqt(t,e){var n=t.encoding;if(function(t){return(RWt(t.x)||RWt(t.y))&&!RWt(t.x2)&&!RWt(t.y2)&&!RWt(t.xError)&&!RWt(t.xError2)&&!RWt(t.yError)&&!RWt(t.yError2)}(n))return{orient:WYt(t,e),inputType:"raw"};var r=function(t){return RWt(t.x2)||RWt(t.y2)}(n),i=function(t){return RWt(t.xError)||RWt(t.xError2)||RWt(t.yError)||RWt(t.yError2)}(n),o=n.x,a=n.y;if(r){if(i)throw new Error("".concat(e," cannot be both type aggregated-upper-lower and aggregated-error"));var u=n.x2,s=n.y2;if(RWt(u)&&RWt(s))throw new Error("".concat(e," cannot have both x2 and y2"));if(RWt(u)){if(IWt(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(e))}if(RWt(s)){if(IWt(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(e))}throw new Error("No ranged axis")}var l=n.xError,c=n.xError2,f=n.yError,d=n.yError2;if(RWt(c)&&!RWt(l))throw new Error("".concat(e," cannot have xError2 without xError"));if(RWt(d)&&!RWt(f))throw new Error("".concat(e," cannot have yError2 without yError"));if(RWt(l)&&RWt(f))throw new Error("".concat(e," cannot have both xError and yError with both are quantiative"));if(RWt(l)){if(IWt(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(RWt(f)){if(IWt(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function nqt(t,e,n){var r,i=t.mark,o=t.encoding,a=t.params,u=(t.projection,ZYt(t,["mark","encoding","params","projection"])),s=HVt(i)?i:{type:i};a&&aHt(kUt(e));var l=eqt(t,e),c=l.orient,f=l.inputType,d=HYt(t,c,e),h=d.continuousAxisChannelDef,p=d.continuousAxisChannelDef2,v=d.continuousAxisChannelDefError,g=d.continuousAxisChannelDefError2,m=d.continuousAxis,y=function(t,e,n,r,i,o,a,u){var s,l=[],c=[],f=e.field,d=!1;if("raw"===o){var h,p,v,g=t.center?t.center:t.extent?"iqr"===t.extent?"median":"mean":u.errorbar.center,m=t.extent?t.extent:"mean"===g?"stderr":"iqr";if("median"===g!==("iqr"===m)&&aHt(function(t,e,n){return"".concat(t," is not usually used with ").concat(e," for ").concat(n,".")}(g,m,a)),"stderr"===m||"stdev"===m)l=[{op:m,field:f,as:"extent_".concat(f)},{op:g,field:f,as:"center_".concat(f)}],c=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_".concat(f)},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_".concat(f)}],s=[{fieldPrefix:"center_",titlePrefix:Bjt(g)},{fieldPrefix:"upper_",titlePrefix:rqt(g,m,"+")},{fieldPrefix:"lower_",titlePrefix:rqt(g,m,"-")}],d=!0;else"ci"===m?(h="mean",p="ci0",v="ci1"):(h="median",p="q1",v="q3"),l=[{op:p,field:f,as:"lower_".concat(f)},{op:v,field:f,as:"upper_".concat(f)},{op:h,field:f,as:"center_".concat(f)}],s=[{fieldPrefix:"upper_",titlePrefix:QWt({field:f,aggregate:v,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:QWt({field:f,aggregate:p,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:QWt({field:f,aggregate:h,type:"quantitative"},u,{allowDisabling:!1})}]}else{(t.center||t.extent)&&aHt(function(t,e){return"".concat(e?"extent ":"").concat(e&&t?"and ":"").concat(t?"center ":"").concat(e&&t?"are ":"is ","not needed when data are aggregated.")}(t.center,t.extent)),"aggregated-upper-lower"===o?(s=[],c=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_".concat(f)},{calculate:'datum["'.concat(f,'"]'),as:"lower_".concat(f)}]):"aggregated-error"===o&&(s=[{fieldPrefix:"",titlePrefix:f}],c=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_".concat(f)}],i?c.push({calculate:'datum["'.concat(f,'"] + datum["').concat(i.field,'"]'),as:"lower_".concat(f)}):c.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_".concat(f)}));var y,x=qe(c);try{for(x.s();!(y=x.n()).done;){var b=y.value;s.push({fieldPrefix:b.as.substring(0,6),titlePrefix:Wjt(Wjt(b.calculate,'datum["',""),'"]',"")})}}catch(w){x.e(w)}finally{x.f()}}return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:s,tooltipTitleWithFieldName:d}}(s,h,p,v,g,f,e,n),x=y.errorBarSpecificAggregate,b=y.postAggregateCalculates,w=y.tooltipSummary,S=y.tooltipTitleWithFieldName,k=o,C=m,E=(k[C],"x"===m?"x2":"y2"),O=(k[E],"x"===m?"xError":"yError"),M=(k[O],"x"===m?"xError2":"yError2"),_=(k[M],PYt(ZYt(k,["symbol"===typeof C?C:C+"","symbol"===typeof E?E:E+"","symbol"===typeof O?O:O+"","symbol"===typeof M?M:M+""]),n)),A=_.bins,T=_.timeUnits,P=_.aggregate,D=_.groupby,F=_.encoding,N=[].concat(Ye(P),Ye(x)),I="raw"!==f?[]:D,L=jYt(w,h,F,S);return{transform:[].concat(Ye(null!==(r=u.transform)&&void 0!==r?r:[]),Ye(A),Ye(T),Ye(0===N.length?[]:[{aggregate:N,groupby:I}]),Ye(b)),groupby:I,continuousAxisChannelDef:h,continuousAxis:m,encodingWithoutContinuousAxis:F,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:s,outerSpec:u,tooltipEncoding:L}}function rqt(t,e,n){return"".concat(Bjt(t)," ").concat(n," ").concat(e)}var iqt="errorband",oqt=new EYt(iqt,aqt);function aqt(t,e){var n=e.config,r=nqt(t=Object.assign(Object.assign({},t),{encoding:FYt(t.encoding,n)}),iqt,n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.markDef,l=r.outerSpec,c=r.tooltipEncoding,f=s,d=zYt(f,a,o,u,n.errorband),h=void 0!==t.encoding.x&&void 0!==t.encoding.y,p={type:h?"area":"rect"},v={type:h?"line":"rule"},g=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return h?(p=Object.assign(Object.assign(Object.assign({},p),g),{ariaRoleDescription:"errorband"}),v=Object.assign(Object.assign(Object.assign({},v),g),{aria:!1})):f.interpolate?aHt(QUt("interpolate")):f.tension&&aHt(QUt("tension")),Object.assign(Object.assign({},l),{transform:i,layer:[].concat(Ye(d({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})),Ye(d({partName:"borders",mark:v,positionPrefix:"lower",extraEncoding:c})),Ye(d({partName:"borders",mark:v,positionPrefix:"upper",extraEncoding:c})))})}var uqt={};function sqt(t,e,n){var r=new EYt(t,e);uqt[t]={normalizer:r,parts:n}}sqt(qYt,XYt,["box","median","outliers","rule","ticks"]),sqt(JYt,tqt,["ticks","rule"]),sqt(iqt,aqt,["band","borders"]);var lqt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],cqt={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},fqt={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},dqt=Djt(cqt),hqt=Djt(fqt),pqt=Djt({header:1,headerRow:1,headerColumn:1,headerFacet:1}),vqt=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],gqt={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},mqt=(Djt(gqt),"_vgsid_"),yqt={point:{on:"click",fields:[mqt],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function xqt(t){return!!t&&("legend"===t||!!t.legend)}function bqt(t){return xqt(t)&&x5(t)}function wqt(t){return!!t.select}var Sqt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function kqt(t){var e,n=[],r=qe(t||[]);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!wqt(i)){var o=i.expr,a=i.bind,u=Sqt(i,["expr","bind"]);if(a&&o){var s=Object.assign(Object.assign({},u),{bind:a,init:o});n.push(s)}else{var l=Object.assign(Object.assign(Object.assign({},u),o?{update:o}:{}),a?{bind:a}:{});n.push(l)}}}}catch(c){r.e(c)}finally{r.f()}return n}function Cqt(t){return"concat"in t}function Eqt(t){return"vconcat"in t}function Oqt(t){return"hconcat"in t}function Mqt(t){var e,n=t.step;return t.offsetIsDiscrete?null!==(e=n.for)&&void 0!==e?e:"offset":"position"}function _qt(t){return x5(t)&&void 0!==t.step}function Aqt(t){return t.view||t.width||t.height}var Tqt=Djt({align:1,bounds:1,center:1,columns:1,spacing:1});var Pqt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Dqt(t,e){var n;return null!==(n=t[e])&&void 0!==n?n:t["width"===e?"continuousWidth":"continuousHeight"]}function Fqt(t,e){var n=Nqt(t,e);return _qt(n)?n.step:Iqt}function Nqt(t,e){var n;return Gjt(null!==(n=t[e])&&void 0!==n?n:t["width"===e?"discreteWidth":"discreteHeight"],{step:t.step})}var Iqt=20;var Lqt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:Iqt},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:$Vt,circle:{},geoshape:{},image:{},line:{},point:{},rect:XVt,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:yqt,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},Rqt=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],jqt={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Bqt={blue:Rqt[0],orange:Rqt[1],red:Rqt[2],teal:Rqt[3],green:Rqt[4],yellow:Rqt[5],purple:Rqt[6],pink:Rqt[7],brown:Rqt[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function zqt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:x5(t)?Object.assign(Object.assign({},Bqt),t):Bqt}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Uqt(t){return{signals:[{name:"fontSize",value:x5(t)?Object.assign(Object.assign({},jqt),t):jqt}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function Hqt(t){return{text:{font:t},style:{"guide-label":{font:t},"guide-title":{font:t},"group-title":{font:t},"group-subtitle":{font:t}}}}function Vqt(t){var e,n={},r=qe(Djt(t||{}));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=t[i];n[i]=mYt(o)?Qzt(o):tUt(o)}}catch(a){r.e(a)}finally{r.f()}return n}function Wqt(t){var e,n={},r=qe(Djt(t));try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i]=Vqt(t[i])}}catch(o){r.e(o)}finally{r.f()}return n}var Yqt=[].concat(Ye(YVt),Ye(kYt),Ye(pqt),["background","padding","legend","lineBreak","scale","style","title","view"]);function qqt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=t.font,r=t.fontSize,i=t.selection,o=Pqt(t,["color","font","fontSize","selection"]),a=w5({},hjt(Lqt),n?Hqt(n):{},e?zqt(e):{},r?Uqt(r):{},o||{});i&&S5(a,"selection",i,!0);for(var u=gjt(a,Yqt),s=0,l=["background","lineBreak","padding"];s<l.length;s++){var c=l[s];a[c]&&(u[c]=tUt(a[c]))}var f,d=qe(YVt);try{for(d.s();!(f=d.n()).done;){var h=f.value;a[h]&&(u[h]=Hzt(a[h]))}}catch(b){d.e(b)}finally{d.f()}var p,v=qe(kYt);try{for(v.s();!(p=v.n()).done;){var g=p.value;a[g]&&(u[g]=Vqt(a[g]))}}catch(b){v.e(b)}finally{v.f()}var m,y=qe(pqt);try{for(y.s();!(m=y.n()).done;){var x=m.value;a[x]&&(u[x]=Hzt(a[x]))}}catch(b){y.e(b)}finally{y.f()}return a.legend&&(u.legend=Hzt(a.legend)),a.scale&&(u.scale=Hzt(a.scale)),a.style&&(u.style=Wqt(a.style)),a.title&&(u.title=Hzt(a.title)),a.view&&(u.view=Hzt(a.view)),u}var Gqt=new Set(["view"].concat(Ye(UVt))),$qt=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],Xqt=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function Kqt(t){t=hjt(t);var e,n=qe($qt);try{for(n.s();!(e=n.n()).done;){delete t[e.value]}}catch(k){n.e(k)}finally{n.f()}if(t.axis)for(var r in t.axis)mYt(t.axis[r])&&delete t.axis[r];if(t.legend){var i,o=qe(lqt);try{for(o.s();!(i=o.n()).done;){var a=i.value;delete t.legend[a]}}catch(k){o.e(k)}finally{o.f()}}if(t.mark){var u,s=qe(WVt);try{for(s.s();!(u=s.n()).done;){var l=u.value;delete t.mark[l]}}catch(k){s.e(k)}finally{s.f()}t.mark.tooltip&&x5(t.mark.tooltip)&&delete t.mark.tooltip}t.params&&(t.signals=(t.signals||[]).concat(kqt(t.params)),delete t.params);var c,f=qe(Gqt);try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=qe(WVt);try{for(p.s();!(d=p.n()).done;){var v=d.value;delete t[h][v]}}catch(k){p.e(k)}finally{p.f()}var g=Xqt[h];if(g){var m,y=qe(g);try{for(y.s();!(m=y.n()).done;){var x=m.value;delete t[h][x]}}catch(k){y.e(k)}finally{y.f()}}Zqt(t,h)}}catch(k){f.e(k)}finally{f.f()}var b,w=qe(Djt(uqt));try{for(w.s();!(b=w.n()).done;){delete t[b.value]}}catch(k){w.e(k)}finally{w.f()}for(var S in function(t){var e=Wzt(t.title),n=e.titleMarkConfig,r=e.subtitleMarkConfig,i=e.subtitle;Pjt(n)||(t.style["group-title"]=Object.assign(Object.assign({},t.style["group-title"]),n));Pjt(r)||(t.style["group-subtitle"]=Object.assign(Object.assign({},t.style["group-subtitle"]),r));Pjt(i)?delete t.title:t.title=i}(t),t)x5(t[S])&&Pjt(t[S])&&delete t[S];return Pjt(t)?void 0:t}function Zqt(t,e,n,r){var i=r?t[e][r]:t[e];"view"===e&&(n="cell");var o=Object.assign(Object.assign({},i),t.style[null!==n&&void 0!==n?n:e]);Pjt(o)||(t.style[null!==n&&void 0!==n?n:e]=o),r||delete t[e]}function Jqt(t){return"layer"in t}var Qqt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},tGt=function(){function t(){Xr(this,t)}return $r(t,[{key:"map",value:function(t,e){return SWt(t)?this.mapFacet(t,e):function(t){return"repeat"in t}(t)?this.mapRepeat(t,e):Oqt(t)?this.mapHConcat(t,e):Eqt(t)?this.mapVConcat(t,e):Cqt(t)?this.mapConcat(t,e):this.mapLayerOrUnit(t,e)}},{key:"mapLayerOrUnit",value:function(t,e){if(Jqt(t))return this.mapLayer(t,e);if(CYt(t))return this.mapUnit(t,e);throw new Error(vUt(t))}},{key:"mapLayer",value:function(t,e){var n=this;return Object.assign(Object.assign({},t),{layer:t.layer.map((function(t){return n.mapLayerOrUnit(t,e)}))})}},{key:"mapHConcat",value:function(t,e){var n=this;return Object.assign(Object.assign({},t),{hconcat:t.hconcat.map((function(t){return n.map(t,e)}))})}},{key:"mapVConcat",value:function(t,e){var n=this;return Object.assign(Object.assign({},t),{vconcat:t.vconcat.map((function(t){return n.map(t,e)}))})}},{key:"mapConcat",value:function(t,e){var n=this,r=t.concat,i=Qqt(t,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map((function(t){return n.map(t,e)}))})}},{key:"mapFacet",value:function(t,e){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,e)})}},{key:"mapRepeat",value:function(t,e){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,e)})}}]),t}(),eGt={zero:1,center:1,normalize:1};function nGt(t){return t in eGt}var rGt=new Set([EVt,MVt,OVt,DVt,TVt,LVt,RVt,AVt,FVt,NVt]),iGt=new Set([MVt,OVt,EVt]);function oGt(t){return DWt(t)&&"quantitative"===FWt(t)&&!t.bin}function aGt(t,e){var n,r,i="x"===e?"y":"radius",o=t[e],a=t[i];if(DWt(o)&&DWt(a))if(oGt(o)&&oGt(a)){if(o.stack)return e;if(a.stack)return i;var u=DWt(o)&&!!o.aggregate;if(u!==(DWt(a)&&!!a.aggregate))return u?e:i;var s=null===(n=o.scale)||void 0===n?void 0:n.type,l=null===(r=a.scale)||void 0===r?void 0:r.type;if(s&&"linear"!==s)return i;if(l&&"linear"!==l)return e}else{if(oGt(o))return e;if(oGt(a))return i}else{if(oGt(o))return e;if(oGt(a))return i}}function uGt(t){switch(t){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function sGt(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=HVt(t)?t.type:t;if(!rGt.has(o))return null;var a=aGt(e,"x")||aGt(e,"theta");if(!a)return null;var u=e[a],s=DWt(u)?qWt(u,{}):void 0,l=uGt(a),c=[],f=new Set;if(e[l]){var d=e[l],h=DWt(d)?qWt(d,{}):void 0;h&&h!==s&&(c.push(l),f.add(h));var p="x"===l?"xOffset":"yOffset",v=e[p],g=DWt(v)?qWt(v,{}):void 0;g&&g!==s&&(c.push(p),f.add(g))}var m,y=szt.reduce((function(t,n){if("tooltip"!==n&&MYt(e,n)){var r,i=qe(V5(e[n]));try{for(i.s();!(r=i.n()).done;){var o=iYt(r.value);if(!o.aggregate){var a=qWt(o,{});a&&f.has(a)||t.push({channel:n,fieldDef:o})}}}catch(u){i.e(u)}finally{i.f()}}return t}),[]);if(void 0!==u.stack?m=l6(u.stack)?u.stack?"zero":null:u.stack:iGt.has(o)&&(m="zero"),!m||!nGt(m))return null;if(TYt(e)&&0===y.length)return null;if((null===(n=null===u||void 0===u?void 0:u.scale)||void 0===n?void 0:n.type)&&(null===(r=null===u||void 0===u?void 0:u.scale)||void 0===r?void 0:r.type)!==KHt){if(i.disallowNonLinearStack)return null;aHt(KUt(u.scale.type))}return RWt(e[nzt(a)])?(void 0!==u.stack&&aHt(XUt(a)),null):(DWt(u)&&u.aggregate&&!Fzt.has(u.aggregate)&&aHt(ZUt(u.aggregate)),{groupbyChannels:c,groupbyFields:f,fieldChannel:a,impute:null!==u.impute&&BVt(o),stackBy:y,offset:m})}var lGt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function cGt(t){t.point,t.line;var e=lGt(t,["point","line"]);return Djt(e).length>1?e:e.type}function fGt(t){for(var e=0,n=["line","area","rule","trail"];e<n.length;e++){var r=n[e];t[r]&&(t=Object.assign(Object.assign({},t),mt({},r,gjt(t[r],["point","line"]))))}return t}function dGt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===t.point?{opacity:0}:t.point?x5(t.point)?t.point:{}:void 0!==t.point?null:e.point||n.shape?x5(e.point)?e.point:{}:void 0}function hGt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.line?!0===t.line?{}:t.line:void 0!==t.line?null:e.line?!0===e.line?{}:e.line:void 0}var pGt=function(){function t(){Xr(this,t),this.name="path-overlay"}return $r(t,[{key:"hasMatchingType",value:function(t,e){if(CYt(t)){var n=t.mark,r=t.encoding,i=HVt(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!dGt(i,e[i.type],r);case"area":return!!dGt(i,e[i.type],r)||!!hGt(i,e[i.type])}}return!1}},{key:"run",value:function(t,e,n){var r=e.config,i=t.params,o=t.projection,a=t.mark,u=t.encoding,s=lGt(t,["params","projection","mark","encoding"]),l=FYt(u,r),c=HVt(a)?a:{type:a},f=dGt(c,r[c.type],l),d="area"===c.type&&hGt(c,r[c.type]),h=[Object.assign(Object.assign({},i?{params:i}:{}),{mark:cGt(Object.assign(Object.assign({},"area"===c.type&&void 0===c.opacity&&void 0===c.fillOpacity?{opacity:.7}:{}),c)),encoding:gjt(l,["shape"])})],p=sGt(c,l),v=l;if(p){var g=p.fieldChannel,m=p.offset;v=Object.assign(Object.assign({},l),mt({},g,Object.assign(Object.assign({},l[g]),m?{stack:m}:{})))}return d&&h.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},vjt(c,["clip","interpolate","tension","tooltip"])),d),encoding:v})),f&&h.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},vjt(c,["clip","tooltip"])),f),encoding:v})),n(Object.assign(Object.assign({},s),{layer:h}),Object.assign(Object.assign({},e),{config:fGt(r)}))}}]),t}(),vGt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function gGt(t,e){return e?bWt(t)?SGt(t,e):xGt(t,e):t}function mGt(t,e){return e?SGt(t,e):t}function yGt(t,e,n){var r=e[t];return function(t){return t&&!p6(t)&&"repeat"in t}(r)?r.repeat in n?Object.assign(Object.assign({},e),mt({},t,n[r.repeat])):void aHt(function(t){return'Unknown repeated value "'.concat(t,'".')}(r.repeat)):e}function xGt(t,e){if(void 0!==(t=yGt("field",t,e))){if(null===t)return null;if(EWt(t)&&yWt(t.sort)){var n=yGt("field",t.sort,e);t=Object.assign(Object.assign({},t),n?{sort:n}:{})}return t}}function bGt(t,e){if(DWt(t))return xGt(t,e);var n=yGt("datum",t,e);return n===t||n.type||(n.type="nominal"),n}function wGt(t,e){if(!RWt(t)){if(PWt(t)){var n=bGt(t.condition,e);if(n)return Object.assign(Object.assign({},t),{condition:n});t.condition;return vGt(t,["condition"])}return t}var r=bGt(t,e);return r||(AWt(t)?{condition:t.condition}:void 0)}function SGt(t,e){var n={};for(var r in t)if(r6(t,r)){var i=t[r];if(y5(i))n[r]=i.map((function(t){return wGt(t,e)})).filter((function(t){return t}));else{var o=wGt(i,e);void 0!==o&&(n[r]=o)}}return n}var kGt=function(){function t(){Xr(this,t),this.name="RuleForRangedLine"}return $r(t,[{key:"hasMatchingType",value:function(t){if(CYt(t)){var e=t.encoding,n=t.mark;if("line"===n||HVt(n)&&"line"===n.type){var r,i=qe(JBt);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=e[tzt(o)];if(e[o]&&(DWt(a)&&!Rzt(a.bin)||NWt(a)))return!0}}catch(u){i.e(u)}finally{i.f()}}}return!1}},{key:"run",value:function(t,e,n){var r,i,o=t.encoding,a=t.mark;return aHt((r=!!o.x2,i=!!o.y2,"Line mark is for continuous lines and thus cannot be used with ".concat(r&&i?"x2 and y2":r?"x2":"y2",". We will use the rule mark (line segments) instead."))),n(Object.assign(Object.assign({},t),{mark:x5(a)?Object.assign(Object.assign({},a),{type:"rule"}):"rule"}),e)}}]),t}(),CGt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},EGt=function(t){Zr(n,t);var e=ri(n);function n(){var t;return Xr(this,n),(t=e.apply(this,arguments)).nonFacetUnitNormalizers=[GYt,QYt,oqt,new pGt,new kGt],t}return $r(n,[{key:"map",value:function(t,e){if(CYt(t)){var r=MYt(t.encoding,nBt),i=MYt(t.encoding,rBt),o=MYt(t.encoding,iBt);if(r||i||o)return this.mapFacetedUnit(t,e)}return Fct(Jr(n.prototype),"map",this).call(this,t,e)}},{key:"mapUnit",value:function(t,e){var n=e.parentEncoding,r=e.parentProjection,i=mGt(t.encoding,e.repeater),o=Object.assign(Object.assign({},t),i?{encoding:i}:{});if(n||r)return this.mapUnitWithParentEncodingOrProjection(o,e);var a,u=this.mapLayerOrUnit.bind(this),s=qe(this.nonFacetUnitNormalizers);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.hasMatchingType(o,e.config))return l.run(o,e,u)}}catch(c){s.e(c)}finally{s.f()}return o}},{key:"mapRepeat",value:function(t,e){return function(t){return!y5(t.repeat)&&t.repeat.layer}(t)?this.mapLayerRepeat(t,e):this.mapNonLayerRepeat(t,e)}},{key:"mapLayerRepeat",value:function(t,e){var n=this,r=t.repeat,i=t.spec,o=CGt(t,["repeat","spec"]),a=r.row,u=r.column,s=r.layer,l=e.repeater,c=void 0===l?{}:l,f=e.repeaterPrefix,d=void 0===f?"":f;return a||u?this.mapRepeat(Object.assign(Object.assign({},t),{repeat:Object.assign(Object.assign({},a?{row:a}:{}),u?{column:u}:{}),spec:{repeat:{layer:s},spec:i}}),e):Object.assign(Object.assign({},o),{layer:s.map((function(t){var r=Object.assign(Object.assign({},c),{layer:t}),o="".concat((i.name||"")+d,"child__layer_").concat(Ljt(t)),a=n.mapLayerOrUnit(i,Object.assign(Object.assign({},e),{repeater:r,repeaterPrefix:o}));return a.name=o,a}))})}},{key:"mapNonLayerRepeat",value:function(t,e){var n,r=t,i=r.repeat,o=r.spec,a=r.data,u=CGt(t,["repeat","spec","data"]);!y5(i)&&t.columns&&(t=gjt(t,["columns"]),aHt(EUt("repeat")));var s,l=[],c=e.repeater,f=void 0===c?{}:c,d=e.repeaterPrefix,h=void 0===d?"":d,p=!y5(i)&&i.row||[f?f.row:null],v=!y5(i)&&i.column||[f?f.column:null],g=qe(y5(i)&&i||[f?f.repeat:null]);try{for(g.s();!(s=g.n()).done;){var m,y=s.value,x=qe(p);try{for(x.s();!(m=x.n()).done;){var b,w=m.value,S=qe(v);try{for(S.s();!(b=S.n()).done;){var k=b.value,C={repeat:y,row:w,column:k,layer:f.layer},E=(o.name||"")+h+"child__"+(y5(i)?"".concat(Ljt(y)):(i.row?"row_".concat(Ljt(w)):"")+(i.column?"column_".concat(Ljt(k)):"")),O=this.map(o,Object.assign(Object.assign({},e),{repeater:C,repeaterPrefix:E}));O.name=E,l.push(gjt(O,["data"]))}}catch(_){S.e(_)}finally{S.f()}}}catch(_){x.e(_)}finally{x.f()}}}catch(_){g.e(_)}finally{g.f()}var M=y5(i)?t.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:null!==(n=o.data)&&void 0!==n?n:a,align:"all"},u),{columns:M,concat:l})}},{key:"mapFacet",value:function(t,e){return bWt(t.facet)&&t.columns&&(t=gjt(t,["columns"]),aHt(EUt("facet"))),Fct(Jr(n.prototype),"mapFacet",this).call(this,t,e)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(t,e){var n=t.encoding,r=t.projection,i=e.parentEncoding,o=e.parentProjection,a=e.config,u=MGt({parentProjection:o,projection:r}),s=OGt({parentEncoding:i,encoding:mGt(n,e.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},t),u?{projection:u}:{}),s?{encoding:s}:{}),{config:a})}},{key:"mapFacetedUnit",value:function(t,e){var n=t.encoding,r=n.row,i=n.column,o=n.facet,a=CGt(n,["row","column","facet"]),u=t.mark,s=t.width,l=t.projection,c=t.height,f=t.view,d=t.params,h=(t.encoding,CGt(t,["mark","width","projection","height","view","params","encoding"])),p=this.getFacetMappingAndLayout({row:r,column:i,facet:o},e),v=p.facetMapping,g=p.layout,m=mGt(a,e.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),g),{facet:v,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{width:s}:{}),c?{height:c}:{}),f?{view:f}:{}),l?{projection:l}:{}),{mark:u,encoding:m}),d?{params:d}:{})}),e)}},{key:"getFacetMappingAndLayout",value:function(t,e){var n,r=t.row,i=t.column,o=t.facet;if(r||i){o&&aHt((g=[].concat(Ye(r?[nBt]:[]),Ye(i?[rBt]:[])),"Facet encoding dropped as ".concat(g.join(" and ")," ").concat(g.length>1?"are":"is"," also specified.")));for(var a={},u={},s=0,l=[nBt,rBt];s<l.length;s++){var c=l[s],f=t[c];if(f){f.align,f.center,f.spacing,f.columns;var d=CGt(f,["align","center","spacing","columns"]);a[c]=d;for(var h=0,p=["align","center","spacing"];h<p.length;h++){var v=p[h];void 0!==f[v]&&(null!==(n=u[v])&&void 0!==n||(u[v]={}),u[v][c]=f[v])}}}return{facetMapping:a,layout:u}}var g,m=o.align,y=o.center,x=o.spacing,b=o.columns;return{facetMapping:gGt(CGt(o,["align","center","spacing","columns"]),e.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},m?{align:m}:{}),y?{center:y}:{}),x?{spacing:x}:{}),b?{columns:b}:{})}}},{key:"mapLayer",value:function(t,e){var r=e.parentEncoding,i=e.parentProjection,o=CGt(e,["parentEncoding","parentProjection"]),a=t.encoding,u=t.projection,s=CGt(t,["encoding","projection"]),l=Object.assign(Object.assign({},o),{parentEncoding:OGt({parentEncoding:r,encoding:a,layer:!0}),parentProjection:MGt({parentProjection:i,projection:u})});return Fct(Jr(n.prototype),"mapLayer",this).call(this,s,l)}}]),n}(tGt);function OGt(t){var e=t.parentEncoding,n=t.encoding,r=void 0===n?{}:n,i=t.layer,o={};if(e){var a,u=qe(new Set([].concat(Ye(Djt(e)),Ye(Djt(r)))));try{for(u.s();!(a=u.n()).done;){var s=a.value,l=r[s],c=e[s];if(RWt(l)){var f=Object.assign(Object.assign({},c),l);o[s]=f}else PWt(l)?o[s]=Object.assign(Object.assign({},l),{condition:Object.assign(Object.assign({},c),l.condition)}):l||null===l?o[s]=l:(i||BWt(c)||qzt(c)||RWt(c)||y5(c))&&(o[s]=c)}}catch(d){u.e(d)}finally{u.f()}}else o=r;return!o||Pjt(o)?void 0:o}function MGt(t){var e=t.parentProjection,n=t.projection;return e&&n&&aHt(function(t){var e=t.parentProjection,n=t.projection;return"Layer's shared projection ".concat(mjt(e)," is overridden by a child projection ").concat(mjt(n),".")}({parentProjection:e,projection:n})),null!==n&&void 0!==n?n:e}function _Gt(t){return"filter"in t}function AGt(t){return void 0!==(null===t||void 0===t?void 0:t.stop)}function TGt(t){return"lookup"in t}function PGt(t){return"pivot"in t}function DGt(t){return"density"in t}function FGt(t){return"quantile"in t}function NGt(t){return"regression"in t}function IGt(t){return"loess"in t}function LGt(t){return"sample"in t}function RGt(t){return"window"in t}function jGt(t){return"joinaggregate"in t}function BGt(t){return"flatten"in t}function zGt(t){return"calculate"in t}function UGt(t){return"bin"in t}function HGt(t){return"impute"in t}function VGt(t){return"timeUnit"in t}function WGt(t){return"aggregate"in t}function YGt(t){return"stack"in t}function qGt(t){return"fold"in t}var GGt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},$Gt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"map",value:function(t,e){var r,i;return null!==(r=e.emptySelections)&&void 0!==r||(e.emptySelections={}),null!==(i=e.selectionPredicates)&&void 0!==i||(e.selectionPredicates={}),t=XGt(t,e),Fct(Jr(n.prototype),"map",this).call(this,t,e)}},{key:"mapLayerOrUnit",value:function(t,e){if((t=XGt(t,e)).encoding){var r,i={},o=qe(Njt(t.encoding));try{for(o.s();!(r=o.n()).done;){var a=j(r.value,2),u=a[0],s=a[1];i[u]=KGt(s,e)}}catch(l){o.e(l)}finally{o.f()}t=Object.assign(Object.assign({},t),{encoding:i})}return Fct(Jr(n.prototype),"mapLayerOrUnit",this).call(this,t,e)}},{key:"mapUnit",value:function(t,e){var n=t,r=n.selection,i=GGt(n,["selection"]);return r?Object.assign(Object.assign({},i),{params:Njt(r).map((function(t){var n,r=j(t,2),i=r[0],o=r[1],a=o.init,u=o.bind,s=o.empty,l=GGt(o,["init","bind","empty"]);"single"===l.type?(l.type="point",l.toggle=!1):"multi"===l.type&&(l.type="point"),e.emptySelections[i]="none"!==s;var c,f=qe(Fjt(null!==(n=e.selectionPredicates[i])&&void 0!==n?n:{}));try{for(f.s();!(c=f.n()).done;){c.value.empty="none"!==s}}catch(d){f.e(d)}finally{f.f()}return{name:i,value:a,select:l,bind:u}}))}):t}}]),n}(tGt);function XGt(t,e){var n=t.transform,r=GGt(t,["transform"]);if(n){var i=n.map((function(t){if(_Gt(t))return{filter:JGt(t,e)};if(UGt(t)&&jzt(t.bin))return Object.assign(Object.assign({},t),{bin:ZGt(t.bin)});if(TGt(t)){var n=t.from,r=n.selection,i=GGt(n,["selection"]);return r?Object.assign(Object.assign({},t),{from:Object.assign({param:r},i)}):t}return t}));return Object.assign(Object.assign({},r),{transform:i})}return t}function KGt(t,e){var n,r,i=hjt(t);if(DWt(i)&&jzt(i.bin)&&(i.bin=ZGt(i.bin)),zWt(i)&&(null===(r=null===(n=i.scale)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.selection)){var o=i.scale.domain,a=o.selection,u=GGt(o,["selection"]);i.scale.domain=Object.assign(Object.assign({},u),a?{param:a}:{})}if(AWt(i))if(y5(i.condition))i.condition=i.condition.map((function(t){t.selection;var n=t.param,r=(t.test,GGt(t,["selection","param","test"]));return n?t:Object.assign(Object.assign({},r),{test:JGt(t,e)})}));else{var s=KGt(i.condition,e),l=(s.selection,s.param),c=(s.test,GGt(s,["selection","param","test"]));i.condition=l?i.condition:Object.assign(Object.assign({},c),{test:JGt(i.condition,e)})}return i}function ZGt(t){var e=t.extent;if(null===e||void 0===e?void 0:e.selection){var n=e.selection,r=GGt(e,["selection"]);return Object.assign(Object.assign({},t),{extent:Object.assign(Object.assign({},r),{param:n})})}return t}function JGt(t,e){var n=function(t){return fjt(t,(function(t){var n,r,i,o={param:t,empty:null===(n=e.emptySelections[t])||void 0===n||n};return null!==(r=(i=e.selectionPredicates)[t])&&void 0!==r||(i[t]=[]),e.selectionPredicates[t].push(o),o}))};return t.selection?n(t.selection):fjt(t.test||t.filter,(function(t){return t.selection?n(t.selection):t}))}for(var QGt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"map",value:function(t,e){var r,i=null!==(r=e.selections)&&void 0!==r?r:[];if(t.params&&!CYt(t)){var o,a=[],u=qe(t.params);try{for(u.s();!(o=u.n()).done;){var s=o.value;wqt(s)?i.push(s):a.push(s)}}catch(l){u.e(l)}finally{u.f()}t.params=a}return e.selections=i,Fct(Jr(n.prototype),"map",this).call(this,t,r$t(t,e))}},{key:"mapUnit",value:function(t,e){var n,r=e.selections;if(!r||!r.length)return t;var i,o=(null!==(n=e.path)&&void 0!==n?n:[]).concat(t.name),a=[],u=qe(r);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(s.views&&s.views.length){var l,c=qe(s.views);try{for(c.s();!(l=c.n()).done;){var f=l.value;(p6(f)&&(f===t.name||o.indexOf(f)>=0)||y5(f)&&f.map((function(t){return o.indexOf(t)})).every((function(t,e,n){return-1!==t&&(0===e||t>n[e-1])})))&&a.push(s)}}catch(d){c.e(d)}finally{c.f()}}else a.push(s)}}catch(d){u.e(d)}finally{u.f()}return a.length&&(t.params=a),t}}]),n}(tGt),t$t=function(){var t=n$t[e$t],e=QGt.prototype[t];QGt.prototype[t]=function(t,n){return e.call(this,t,r$t(t,n))}},e$t=0,n$t=["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"];e$t<n$t.length;e$t++)t$t();function r$t(t,e){var n;return t.name?Object.assign(Object.assign({},e),{path:(null!==(n=e.path)&&void 0!==n?n:[]).concat(t.name)}):e}function i$t(t,e){void 0===e&&(e=qqt(t.config));var n=function(t){var e={config:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return u$t.map(o$t.map(a$t.map(t,e),e),e)}(t,e),r=function(t,e,n){var r=e.width,i=e.height,o=CYt(t)||Jqt(t),a={};o?"container"==r&&"container"==i?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==i&&(a.type="fit-y",a.contains="padding"):("container"==r&&(aHt(mUt("width")),r=void 0),"container"==i&&(aHt(mUt("height")),i=void 0));var u=Object.assign(Object.assign(Object.assign({type:"pad"},a),n?s$t(n.autosize):{}),s$t(t.autosize));"fit"!==u.type||o||(aHt(gUt),u.type="pad");"container"==r&&"fit"!=u.type&&"fit-x"!=u.type&&aHt(yUt("width"));"container"==i&&"fit"!=u.type&&"fit-y"!=u.type&&aHt(yUt("height"));if(djt(u,{type:"pad"}))return;return u}(n,{width:t.width,height:t.height,autosize:t.autosize},e);return Object.assign(Object.assign({},n),r?{autosize:r}:{})}var o$t=new EGt,a$t=new $Gt,u$t=new QGt;function s$t(t){return p6(t)?{type:t}:null!==t&&void 0!==t?t:{}}var l$t=["background","padding"];function c$t(t,e){var n,r={},i=qe(l$t);try{for(i.s();!(n=i.n()).done;){var o=n.value;t&&void 0!==t[o]&&(r[o]=tUt(t[o]))}}catch(a){i.e(a)}finally{i.f()}return e&&(r.params=t.params),r}var f$t=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xr(this,t),this.explicit=e,this.implicit=n}return $r(t,[{key:"clone",value:function(){return new t(hjt(this.explicit),hjt(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(t){return Gjt(this.explicit[t],this.implicit[t])}},{key:"getWithExplicit",value:function(t){return void 0!==this.explicit[t]?{explicit:!0,value:this.explicit[t]}:void 0!==this.implicit[t]?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(t,e){var n=e.value,r=e.explicit;void 0!==n&&this.set(t,n,r)}},{key:"set",value:function(t,e,n){return delete this[n?"implicit":"explicit"][t],this[n?"explicit":"implicit"][t]=e,this}},{key:"copyKeyFromSplit",value:function(t,e){var n=e.explicit,r=e.implicit;void 0!==n[t]?this.set(t,n[t],!0):void 0!==r[t]&&this.set(t,r[t],!1)}},{key:"copyKeyFromObject",value:function(t,e){void 0!==e[t]&&this.set(t,e[t],!0)}},{key:"copyAll",value:function(t){var e,n=qe(Djt(t.combine()));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=t.getWithExplicit(r);this.setWithExplicit(r,i)}}catch(o){n.e(o)}finally{n.f()}}}]),t}();function d$t(t){return{explicit:!0,value:t}}function h$t(t){return{explicit:!1,value:t}}function p$t(t){return function(e,n,r,i){var o=t(e.value,n.value);return o>0?e:o<0?n:v$t(e,n,r,i)}}function v$t(t,e,n,r){return t.explicit&&e.explicit&&aHt(function(t,e,n,r){return"Conflicting ".concat(e.toString(),' property "').concat(t.toString(),'" (').concat(mjt(n)," and ").concat(mjt(r),"). Using ").concat(mjt(n),".")}(n,r,t.value,e.value)),t}function g$t(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v$t;return void 0===t||void 0===t.value?e:t.explicit&&!e.explicit?t:e.explicit&&!t.explicit?e:djt(t.value,e.value)?t:i(t,e,n,r)}var m$t,y$t=function(t){Zr(n,t);var e=ri(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Xr(this,n),(t=e.call(this,r,i)).explicit=r,t.implicit=i,t.parseNothing=o,t}return $r(n,[{key:"clone",value:function(){var t=Fct(Jr(n.prototype),"clone",this).call(this);return t.parseNothing=this.parseNothing,t}}]),n}(f$t);function x$t(t){return"url"in t}function b$t(t){return"values"in t}function w$t(t){return"name"in t&&!x$t(t)&&!b$t(t)&&!S$t(t)}function S$t(t){return t&&(k$t(t)||C$t(t)||E$t(t))}function k$t(t){return"sequence"in t}function C$t(t){return"sphere"in t}function E$t(t){return"graticule"in t}!function(t){t[t.Raw=0]="Raw",t[t.Main=1]="Main",t[t.Row=2]="Row",t[t.Column=3]="Column",t[t.Lookup=4]="Lookup"}(m$t||(m$t={}));var O$t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function M$t(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a5;if(y5(t)){var r=t.map((function(t){return M$t(t,e,n)}));return e?"[".concat(r.join(", "),"]"):r}return uHt(t)?n(e?hHt(t):vHt(t)):e?n(mjt(t)):t}function _$t(t,e){var n,r,i=qe(Fjt(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var o,a=r.value,u=qe(WXt);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.defined(a)&&s.marks&&(e=s.marks(t,a,e))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){i.e(l)}finally{i.f()}return e}function A$t(t){return t.map((function(t){return t.on&&!t.on.length&&delete t.on,t}))}var T$t=function(){function t(e,n){Xr(this,t),this.debugName=n,this._children=[],this._parent=null,e&&(this.parent=e)}return $r(t,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t,t&&t.addChild(this)}},{key:"children",get:function(){return this._children}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(t,e){this._children.includes(t)?aHt("Attempt to add the same child twice."):void 0!==e?this._children.splice(e,0,t):this._children.push(t)}},{key:"removeChild",value:function(t){var e=this._children.indexOf(t);return this._children.splice(e,1),e}},{key:"remove",value:function(){var t,e=this._parent.removeChild(this),n=qe(this._children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r._parent=this._parent,this._parent.addChild(r,e++)}}catch(i){n.e(i)}finally{n.f()}}},{key:"insertAsParentOf",value:function(t){var e=t.parent;e.removeChild(this),this.parent=e,t.parent=this}},{key:"swapWithParent",value:function(){var t,e=this._parent,n=e.parent,r=qe(this._children);try{for(r.s();!(t=r.n()).done;){t.value.parent=e}}catch(i){r.e(i)}finally{r.f()}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=n,e.parent=this}}]),t}(),P$t=function(t){Zr(n,t);var e=ri(n);function n(t,r,i,o){var a;return Xr(this,n),(a=e.call(this,t,r)).type=i,a.refCounts=o,a._source=a._name=r,a.refCounts&&!(a._name in a.refCounts)&&(a.refCounts[a._name]=0),a}return $r(n,[{key:"clone",value:function(){var t=new this.constructor;return t.debugName="clone_".concat(this.debugName),t._source=this._source,t._name="clone_".concat(this._name),t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(Xjt())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(t){this._source=t}}]),n}(T$t),D$t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},F$t=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).formula=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.formula))}},{key:"merge",value:function(t){for(var e in this.formula=Object.assign({},this.formula),t.formula)this.formula[e]||(this.formula[e]=t.formula[e]);var n,r=qe(t.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.removeChild(i),i.parent=this}}catch(o){r.e(o)}finally{r.f()}t.remove()}},{key:"removeFormulas",value:function(t){var e,n={},r=qe(Njt(this.formula));try{for(r.s();!(e=r.n()).done;){var i=j(e.value,2),o=i[0],a=i[1];t.has(a.as)||(n[o]=a)}}catch(u){r.e(u)}finally{r.f()}this.formula=n}},{key:"producedFields",value:function(){return new Set(Fjt(this.formula).map((function(t){return t.as})))}},{key:"dependentFields",value:function(){return new Set(Fjt(this.formula).map((function(t){return t.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(yjt(this.formula))}},{key:"assemble",value:function(){var t,e=[],n=qe(Fjt(this.formula));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.field,o=r.as,a=EHt(r.timeUnit),u=a.unit,s=a.utc,l=D$t(a,["unit","utc"]);e.push(Object.assign(Object.assign(Object.assign(Object.assign({field:Vjt(i),type:"timeunit"},u?{units:wHt(u)}:{}),s?{timezone:"utc"}:{}),l),{as:[o,"".concat(o,"_end")]}))}}catch(c){n.e(c)}finally{n.f()}return e}}],[{key:"makeFromEncoding",value:function(t,e){var r=e.reduceFieldDef((function(t,e){var n=e.field,r=e.timeUnit;if(r){var i=qWt(e,{forAs:!0});t[yjt({as:i,field:n,timeUnit:r})]={as:i,field:n,timeUnit:r}}return t}),{});return Pjt(r)?null:new n(t,r)}},{key:"makeFromTransform",value:function(t,e){var r=Object.assign({},e),i=r.timeUnit,o=D$t(r,["timeUnit"]),a=EHt(i),u=Object.assign(Object.assign({},o),{timeUnit:a});return new n(t,mt({},yjt(u),u))}}]),n}(T$t),N$t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},I$t="_tuple_fields",L$t=$r((function t(){Xr(this,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}})),R$t={defined:function(){return!0},parse:function(t,e,n){var r,i=e.name,o=null!==(r=e.project)&&void 0!==r?r:e.project=new L$t,a={},u={},s=new Set,l=function(t,e){for(var n="visual"===e?t.channel:t.field,r=Ljt("".concat(i,"_").concat(n)),o=1;s.has(r);o++)r=Ljt("".concat(i,"_").concat(n,"_").concat(o));return s.add(r),mt({},e,r)},c=e.type,f=t.config.selection[c],d=void 0!==n.value?V5(n.value):null,h=x5(n.select)?n.select:{},p=h.fields,v=h.encodings;if(!p&&!v&&d){var g,m=qe(d);try{for(m.s();!(g=m.n()).done;){var y=g.value;if(x5(y)){var x,b=qe(Djt(y));try{for(b.s();!(x=b.n()).done;){var w=x.value;KBt(w)?(v||(v=[])).push(w):"interval"===c?(aHt('Interval selections should be initialized using "x" and/or "y" keys.'),v=f.encodings):(p||(p=[])).push(w)}}catch(N){b.e(N)}finally{b.f()}}}}catch(N){m.e(N)}finally{m.f()}}p||v||(v=f.encodings,"fields"in f&&(p=f.fields));var S,k=qe(null!==v&&void 0!==v?v:[]);try{for(k.s();!(S=k.n()).done;){var C=S.value,E=t.fieldDef(C);if(E){var O=E.field;if(E.aggregate){aHt(SUt(C,E.aggregate));continue}if(!O){aHt(wUt(C));continue}if(E.timeUnit){O=t.vgField(C);var M={timeUnit:E.timeUnit,as:O,field:E.field};u[yjt(M)]=M}if(!a[O]){var _="E";if("interval"===c)hVt(t.getScaleComponent(C).get("type"))&&(_="R");else E.bin&&(_="R-RE");var A={field:O,channel:C,type:_};A.signals=Object.assign(Object.assign({},l(A,"data")),l(A,"visual")),o.items.push(a[O]=A),o.hasField[O]=o.hasChannel[C]=a[O]}}else aHt(wUt(C))}}catch(N){k.e(N)}finally{k.f()}var T,P=qe(null!==p&&void 0!==p?p:[]);try{for(P.s();!(T=P.n()).done;){var D=T.value;if(!o.hasField[D]){var F={type:"E",field:D};F.signals=Object.assign({},l(F,"data")),o.items.push(F),o.hasField[D]=F}}}catch(N){P.e(N)}finally{P.f()}d&&(e.init=d.map((function(t){return o.items.map((function(e){return x5(t)?void 0!==t[e.channel]?t[e.channel]:t[e.field]:t}))}))),Pjt(u)||(o.timeUnit=new F$t(null,u))},signals:function(t,e,n){var r=e.name+I$t;return n.filter((function(t){return t.name===r})).length>0?n:n.concat({name:r,value:e.project.items.map((function(t){t.signals,t.hasLegend;var e=N$t(t,["signals","hasLegend"]);return e.field=Vjt(e.field),e}))})}},j$t=R$t,B$t={defined:function(t){return"interval"===t.type&&"global"===t.resolve&&t.bind&&"scales"===t.bind},parse:function(t,e){var n,r=e.scales=[],i=qe(e.project.items);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.channel;if(wzt(a)){var u=t.getScaleComponent(a),s=u?u.get("type"):void 0;u&&hVt(s)?(u.set("selectionExtent",{param:e.name,field:o.field},!0),r.push(o)):aHt("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}}catch(l){i.e(l)}finally{i.f()}},topLevelSignals:function(t,e,n){var r=e.scales.filter((function(t){return 0===n.filter((function(e){return e.name===t.signals.data})).length}));if(!t.parent||H$t(t)||0===r.length)return n;var i=n.filter((function(t){return t.name===e.name}))[0],o=i.update;if(o.indexOf(VXt)>=0)i.update="{".concat(r.map((function(t){return"".concat(S6(Vjt(t.field)),": ").concat(t.signals.data)})).join(", "),"}");else{var a,u=qe(r);try{for(u.s();!(a=u.n()).done;){var s=a.value,l="".concat(S6(Vjt(s.field)),": ").concat(s.signals.data);o.includes(l)||(o="".concat(o.substring(0,o.length-1),", ").concat(l,"}"))}}catch(c){u.e(c)}finally{u.f()}i.update=o}return n.concat(r.map((function(t){return{name:t.signals.data}})))},signals:function(t,e,n){if(t.parent&&!H$t(t)){var r,i=qe(e.scales);try{var o=function(){var t=r.value,e=n.filter((function(e){return e.name===t.signals.data}))[0];e.push="outer",delete e.value,delete e.update};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}return n}},z$t=B$t;function U$t(t,e){var n=S6(t.scaleName(e));return"domain(".concat(n,")")}function H$t(t){var e;return t.parent&&zJt(t.parent)&&(null!==(e=!t.parent.parent)&&void 0!==e?e:H$t(t.parent.parent))}var V$t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},W$t="_brush",Y$t="_scale_trigger",q$t={defined:function(t){return"interval"===t.type},signals:function(t,e,n){var r=e.name,i=r+I$t,o=z$t.defined(e),a=e.init?e.init[0]:null,u=[],s=[];if(e.translate&&!o){var l="!event.item || event.item.mark.name !== ".concat(S6(r+W$t));$$t(e,(function(t,e){var n,r,i=V5(null!==(n=(r=e.between[0]).filter)&&void 0!==n?n:r.filter=[]);return i.includes(l)||i.push(l),t}))}e.project.items.forEach((function(r,i){var o=r.channel;if(o===oBt||o===aBt){var l=a?a[i]:null,c=function(t,e,n,r){var i=n.channel,o=n.signals.visual,a=n.signals.data,u=z$t.defined(e),s=S6(t.scaleName(i)),l=t.getScaleComponent(i),c=l?l.get("type"):void 0,f=function(t){return"scale(".concat(s,", ").concat(t,")")},d=t.getSizeSignalRef(i===oBt?"width":"height").signal,h="".concat(i,"(unit)"),p=$$t(e,(function(t,e){return[].concat(Ye(t),[{events:e.between[0],update:"[".concat(h,", ").concat(h,"]")},{events:e,update:"[".concat(o,"[0], clamp(").concat(h,", 0, ").concat(d,")]")}])}));return p.push({events:{signal:e.name+Y$t},update:hVt(c)?"[".concat(f("".concat(a,"[0]")),", ").concat(f("".concat(a,"[1]")),"]"):"[0, 0]"}),u?[{name:a,on:[]}]:[Object.assign(Object.assign({name:o},r?{init:M$t(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:a},r?{init:M$t(r)}:{}),{on:[{events:{signal:o},update:"".concat(o,"[0] === ").concat(o,"[1] ? null : invert(").concat(s,", ").concat(o,")")}]})]}(t,e,r,l),f=r.signals.data,d=r.signals.visual,h=S6(t.scaleName(o)),p=hVt(t.getScaleComponent(o).get("type"))?"+":"";n.push.apply(n,Ye(c)),u.push(f),s.push({scaleName:t.scaleName(o),expr:"(!isArray(".concat(f,") || ")+"(".concat(p,"invert(").concat(h,", ").concat(d,")[0] === ").concat(p).concat(f,"[0] && ")+"".concat(p,"invert(").concat(h,", ").concat(d,")[1] === ").concat(p).concat(f,"[1]))")})}else aHt("Interval selections only support x and y encoding channels.")})),!o&&s.length&&n.push({name:r+Y$t,value:{},on:[{events:s.map((function(t){return{scale:t.scaleName}})),update:"".concat(s.map((function(t){return t.expr})).join(" && ")," ? ").concat(r+Y$t," : {}")}]});var c="unit: ".concat(qXt(t),", fields: ").concat(i,", values");return n.concat(Object.assign(Object.assign({name:r+UXt},a?{init:"{".concat(c,": ").concat(M$t(a),"}")}:{}),u.length?{on:[{events:[{signal:u.join(" || ")}],update:"".concat(u.join(" && ")," ? {").concat(c,": [").concat(u,"]} : null")}]}:{}))},marks:function(t,e,n){var r=e.name,i=e.project.hasChannel,o=i.x,a=i.y,u=null===o||void 0===o?void 0:o.signals.visual,s=null===a||void 0===a?void 0:a.signals.visual,l="data(".concat(S6(e.name+zXt),")");if(z$t.defined(e)||!o&&!a)return n;var c={x:void 0!==o?{signal:"".concat(u,"[0]")}:{value:0},y:void 0!==a?{signal:"".concat(s,"[0]")}:{value:0},x2:void 0!==o?{signal:"".concat(u,"[1]")}:{field:{group:"width"}},y2:void 0!==a?{signal:"".concat(s,"[1]")}:{field:{group:"height"}}};if("global"===e.resolve){var f,d=qe(Djt(c));try{for(d.s();!(f=d.n()).done;){var h=f.value;c[h]=[Object.assign({test:"".concat(l,".length && ").concat(l,"[0].unit === ").concat(qXt(t))},c[h]),{value:0}]}}catch(b){d.e(b)}finally{d.f()}}var p=e.mark,v=p.fill,g=p.fillOpacity,m=p.cursor,y=V$t(p,["fill","fillOpacity","cursor"]),x=Djt(y).reduce((function(t,e){return t[e]=[{test:[void 0!==o&&"".concat(u,"[0] !== ").concat(u,"[1]"),void 0!==a&&"".concat(s,"[0] !== ").concat(s,"[1]")].filter((function(t){return t})).join(" && "),value:y[e]},{value:null}],t}),{});return[{name:"".concat(r+W$t,"_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:v},fillOpacity:{value:g}},update:c}}].concat(Ye(n),[{name:r+W$t,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},m?{cursor:{value:m}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},c),x)}}])}},G$t=q$t;function $$t(t,e){return t.events.reduce((function(t,n){return n.between?e(t,n):(aHt("".concat(n," is not an ordered event stream for interval selections.")),t)}),[])}var X$t={defined:function(t){return"point"===t.type},signals:function(t,e,n){var r,i=e.name,o=i+I$t,a=e.project,u="(item().isVoronoi ? datum.datum : datum)",s=a.items.map((function(e){var n=t.fieldDef(e.channel);return(null===n||void 0===n?void 0:n.bin)?"[".concat(u,"[").concat(S6(t.vgField(e.channel,{})),"], ")+"".concat(u,"[").concat(S6(t.vgField(e.channel,{binSuffix:"end"})),"]]"):"".concat(u,"[").concat(S6(e.field),"]")})).join(", "),l="unit: ".concat(qXt(t),", fields: ").concat(o,", values"),c=e.events,f=Fjt(null!==(r=t.component.selection)&&void 0!==r?r:{}).reduce((function(t,e){return"interval"===e.type?t.concat(e.name+W$t):t}),[]).map((function(t){return"indexof(item().mark.name, '".concat(t,"') < 0")})).join(" && "),d="datum && item().mark.marktype !== 'group'".concat(f?" && ".concat(f):"");return n.concat([{name:i+UXt,on:c?[{events:c,update:"".concat(d," ? {").concat(l,": [").concat(s,"]} : null"),force:!0}]:[]}])}},K$t=X$t;function Z$t(t,e,n,r){var i=AWt(e)&&e.condition,o=r(e);if(i){var a=V5(i).map((function(e){var n=r(e);if(function(t){return t.param}(e)){var i=e.param,o=e.empty,a=QXt(t,{param:i,empty:o});return Object.assign({test:a},n)}var u=eKt(t,e.test);return Object.assign({test:u},n)}));return mt({},n,[].concat(Ye(a),Ye(void 0!==o?[o]:[])))}return void 0!==o?mt({},n,o):{}}function J$t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=t.encoding[e];return Z$t(t,n,e,(function(e){return Q$t(e,t.config)}))}function Q$t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(t){if(BWt(t))return nUt(t.value);if(RWt(t)){var r=nYt(t),i=r.format,o=r.formatType;return oWt({fieldOrDatumDef:t,format:i,formatType:o,expr:n,config:e})}}}function tXt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.encoding,r=t.markDef,i=t.config,o=t.stack,a=n.tooltip;if(y5(a))return{tooltip:nXt({tooltip:a},o,i,e)};var u=e.reactiveGeom?"datum.datum":"datum";return Z$t(t,a,"tooltip",(function(t){var a=Q$t(t,i,u);if(a)return a;if(null!==t){var s=uUt("tooltip",r,i);return!0===s&&(s={content:"encoding"}),p6(s)?{value:s}:x5(s)?qzt(s)?s:"encoding"===s.content?nXt(n,o,i,e):{signal:u}:void 0}}))}function eXt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,o={},a=i?"datum.datum":"datum",u=[];function s(r,i){var s,l=tzt(i),c=jWt(r)?r:Object.assign(Object.assign({},r),{type:t[l].type}),f=V5(c.title||eYt(c,n)).join(", ");if(fzt(i)){var d="x"===i?"x2":"y2",h=iYt(t[d]);if(Rzt(c.bin)&&h){var p=qWt(c,{expr:a}),v=qWt(h,{expr:a}),g=nYt(c);s=hWt(p,v,g.format,g.formatType,n),o[d]=!0}else if(e&&e.fieldChannel===i&&"normalize"===e.offset){var m=nYt(c);s=oWt({fieldOrDatumDef:c,format:m.format,formatType:m.formatType,expr:a,config:n,normalizeStack:!0}).signal}}null!==s&&void 0!==s||(s=Q$t(c,n,a).signal),u.push({channel:i,key:f,value:s})}IYt(t,(function(t,e){DWt(t)?s(t,e):TWt(t)&&s(t.condition,e)}));for(var l={},c=0,f=u;c<f.length;c++){var d=f[c],h=d.channel,p=d.key,v=d.value;o[h]||l[p]||(l[p]=v)}return l}function nXt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,o=eXt(t,e,n,{reactiveGeom:i}),a=Njt(o).map((function(t){var e=j(t,2),n=e[0],r=e[1];return'"'.concat(n,'": ').concat(r)}));return a.length>0?{signal:"{".concat(a.join(", "),"}")}:void 0}function rXt(t){var e=uUt("aria",t.markDef,t.config);return!1===e?{}:Object.assign(Object.assign(Object.assign({},e?{aria:e}:{}),function(t){var e=t.mark,n=t.markDef,r=t.config;if(!1===r.aria)return{};var i=uUt("ariaRoleDescription",n,r);if(null!=i)return{ariaRoleDescription:{value:i}};return e in Kzt?{}:{ariaRoleDescription:{value:e}}}(t)),function(t){var e=t.encoding,n=t.markDef,r=t.config,i=t.stack,o=e.description;if(o)return Z$t(t,o,"description",(function(e){return Q$t(e,t.config)}));var a=uUt("description",n,r);if(null!=a)return{description:nUt(a)};if(!1===r.aria)return{};var u=eXt(e,i,r);if(Pjt(u))return;return{description:{signal:Njt(u).map((function(t,e){var n=j(t,2),r=n[0],i=n[1];return'"'.concat(e>0?"; ":"").concat(r,': " + (').concat(i,")")})).join(" + ")}}}(t))}function iXt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.markDef,i=e.encoding,o=e.config,a=n.vgChannel,u=n.defaultRef,s=n.defaultValue;void 0===u&&(null!==s&&void 0!==s||(s=uUt(t,r,o,{vgChannel:a,ignoreVgConfig:!0})),void 0!==s&&(u=nUt(s)));var l=i[t];return Z$t(e,l,null!==a&&void 0!==a?a:t,(function(n){return eWt({channel:t,channelDef:n,markDef:r,config:o,scaleName:e.scaleName(t),scale:e.getScaleComponent(t),stack:null,defaultRef:u})}))}function oXt(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},a=t.markDef,u=t.encoding,s=t.config,l=a.type,c=null!==(e=o.filled)&&void 0!==e?e:uUt("filled",a,s),f=bjt(["bar","point","circle","square","geoshape"],l)?"transparent":void 0,d=null!==(r=null!==(n=uUt(!0===c?"color":void 0,a,s,{vgChannel:"fill"}))&&void 0!==n?n:s.mark[!0===c&&"color"])&&void 0!==r?r:f,h=null!==(i=uUt(!1===c?"color":void 0,a,s,{vgChannel:"stroke"}))&&void 0!==i?i:s.mark[!1===c&&"color"],p=c?"fill":"stroke",v=Object.assign(Object.assign({},d?{fill:nUt(d)}:{}),h?{stroke:nUt(h)}:{});return a.color&&(c?a.fill:a.stroke)&&aHt(FUt("property",{fill:"fill"in a,stroke:"stroke"in a})),Object.assign(Object.assign(Object.assign(Object.assign({},v),iXt("color",t,{vgChannel:p,defaultValue:c?d:h})),iXt("fill",t,{defaultValue:u.fill?d:void 0})),iXt("stroke",t,{defaultValue:u.stroke?h:void 0}))}function aXt(t){var e=t.channel,n=t.markDef,r=t.encoding,i=void 0===r?{}:r,o=t.model,a=t.bandPosition,u="".concat(e,"Offset"),s=n[u],l=i[u];if(("xOffset"===u||"yOffset"===u)&&l)return{offsetType:"encoding",offset:eWt({channel:u,channelDef:l,markDef:n,config:null===o||void 0===o?void 0:o.config,scaleName:o.scaleName(u),scale:o.getScaleComponent(u),stack:null,defaultRef:nUt(s),bandPosition:a})};var c=n[u];return c?{offsetType:"visual",offset:c}:{}}function uXt(t,e,n){var r=n.defaultPos,i=n.vgChannel,o=e.encoding,a=e.markDef,u=e.config,s=e.stack,l=o[t],c=o[nzt(t)],f=e.scaleName(t),d=e.getScaleComponent(t),h=aXt({channel:t,markDef:a,encoding:o,model:e,bandPosition:.5}),p=h.offset,v=h.offsetType,g=sXt({model:e,defaultPos:r,channel:t,scaleName:f,scale:d}),m=!l&&fzt(t)&&(o.latitude||o.longitude)?{field:e.getName(t)}:function(t){var e=t.channel,n=t.channelDef,r=t.scaleName,i=t.stack,o=t.offset,a=t.markDef;if(RWt(n)&&i&&e===i.fieldChannel){if(DWt(n)){var u=n.bandPosition;if(void 0!==u||"text"!==a.type||"radius"!==e&&"theta"!==e||(u=.5),void 0!==u)return tWt({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:u,offset:o})}return QVt(n,r,{suffix:"end"},{offset:o})}return KVt(t)}({channel:t,channelDef:l,channel2Def:c,markDef:a,config:u,scaleName:f,scale:d,stack:s,offset:p,defaultRef:g,bandPosition:"encoding"===v?0:void 0});return m?mt({},i||t,m):void 0}function sXt(t){var e=t.model,n=t.defaultPos,r=t.channel,i=t.scaleName,o=t.scale,a=e.markDef,u=e.config;return function(){var t=tzt(r),s=ezt(r),l=uUt(r,a,u,{vgChannel:s});if(void 0!==l)return nWt(r,l);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){var c=o.get("type");if(bjt([ZHt,JHt,QHt],c));else if(o.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===t?{field:{group:"height"}}:{value:0};switch(t){case"radius":return{signal:"min(".concat(e.width.signal,",").concat(e.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=e[rzt(r)];return Object.assign(Object.assign({},f),{mult:.5})}}}var lXt={left:"x",center:"xc",right:"x2"},cXt={top:"y",middle:"yc",bottom:"y2"};function fXt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===t||"theta"===t)return ezt(t);var i,o="x"===t?"align":"baseline",a=uUt(o,e,n);return qzt(a)?(aHt(zUt(o)),i=void 0):i=a,"x"===t?lXt[i||("top"===r?"left":"center")]:cXt[i||r]}function dXt(t,e,n){var r=n.defaultPos,i=n.defaultPos2;return n.range?hXt(t,e,{defaultPos:r,defaultPos2:i}):uXt(t,e,{defaultPos:r})}function hXt(t,e,n){var r=n.defaultPos,i=n.defaultPos2,o=e.markDef,a=e.config,u=nzt(t),s=rzt(t),l=function(t,e,n){var r,i=t.encoding,o=t.mark,a=t.markDef,u=t.stack,s=t.config,l=tzt(n),c=rzt(n),f=ezt(n),d=i[l],h=t.scaleName(l),p=t.getScaleComponent(l),v=aXt(n in i||n in a?{channel:n,markDef:a,encoding:i,model:t}:{channel:l,markDef:a,encoding:i,model:t}).offset;if(!d&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude)){var g=rzt(n),m=t.markDef[g];return null!=m?mt({},g,{value:m}):mt({},f,{field:t.getName(n)})}var y=function(t){var e=t.channel,n=t.channelDef,r=t.channel2Def,i=t.markDef,o=t.config,a=t.scaleName,u=t.scale,s=t.stack,l=t.offset,c=t.defaultRef;if(RWt(n)&&s&&e.charAt(0)===s.fieldChannel.charAt(0))return QVt(n,a,{suffix:"start"},{offset:l});return KVt({channel:e,channelDef:r,scaleName:a,scale:u,stack:s,markDef:i,config:o,offset:l,defaultRef:c})}({channel:n,channelDef:d,channel2Def:i[n],markDef:a,config:s,scaleName:h,scale:p,stack:u,offset:v,defaultRef:void 0});if(void 0!==y)return mt({},f,y);return pXt(n,a)||pXt(n,(mt(r={},n,lUt(n,a,s.style)),mt(r,c,lUt(c,a,s.style)),r))||pXt(n,s[o])||pXt(n,s.mark)||mt({},f,sXt({model:t,defaultPos:e,channel:n,scaleName:h,scale:p})())}(e,i,u),c=l[s]?fXt(t,o,a):ezt(t);return Object.assign(Object.assign({},uXt(t,e,{defaultPos:r,vgChannel:c})),l)}function pXt(t,e){var n=rzt(t),r=ezt(t);if(void 0!==e[r])return mt({},r,nWt(t,e[r]));if(void 0!==e[t])return mt({},r,nWt(t,e[t]));if(e[n]){var i=e[n];if(!qVt(i))return mt({},n,nWt(t,i));aHt(function(t){return"Position range does not support relative band size for ".concat(t,".")}(n))}}function vXt(t,e){var n,r,i=t.config,o=t.encoding,a=t.markDef,u=a.type,s=nzt(e),l=rzt(e),c=o[e],f=o[s],d=t.getScaleComponent(e),h=d?d.get("type"):void 0,p=a.orient,v=null!==(r=null!==(n=o[l])&&void 0!==n?n:o.size)&&void 0!==r?r:uUt("size",a,i,{vgChannel:l}),g="bar"===u&&("x"===e?"vertical"===p:"horizontal"===p);return!DWt(c)||!(Lzt(c.bin)||Rzt(c.bin)||c.timeUnit&&!f)||v&&!qVt(v)||dVt(h)?(RWt(c)&&dVt(h)||g)&&!f?function(t,e,n){var r,i=n.markDef,o=n.encoding,a=n.config,u=n.stack,s=i.orient,l=n.scaleName(e),c=n.getScaleComponent(e),f=rzt(e),d=nzt(e),h=function(t){switch(t){case oBt:return"xOffset";case aBt:return"yOffset";case uBt:return"x2Offset";case sBt:return"y2Offset";case hBt:return"thetaOffset";case fBt:return"radiusOffset";case pBt:return"theta2Offset";case dBt:return"radius2Offset"}}(e),p=n.scaleName(h),v="horizontal"===s&&"y"===e||"vertical"===s&&"x"===e;(o.size||i.size)&&(v?r=iXt("size",n,{vgChannel:f,defaultRef:nUt(i.size)}):aHt(function(t){return'Cannot apply size to non-oriented mark "'.concat(t,'".')}(i.type)));var g=MWt({channel:e,fieldDef:t,markDef:i,config:a,scaleType:null===c||void 0===c?void 0:c.get("type"),useVlSizeChannel:v});r=r||mt({},f,function(t,e,n,r,i){if(qVt(i)){if(!n)return{mult:i.band,field:{group:t}};var o=n.get("type");if("band"===o)return{scale:e,band:i.band};1!==i.band&&(aHt(function(t){return"Cannot use the relative band size with ".concat(t," scale.")}(o)),i=void 0)}else{if(qzt(i))return i;if(i)return{value:i}}if(n){var a=n.get("range");if(Gzt(a)&&d6(a.step))return{value:a.step-2}}return{value:Fqt(r.view,t)-2}}(f,p||l,c,a,g));var m="band"===(null===c||void 0===c?void 0:c.get("type"))&&"band"in r[f]?"top":"middle",y=fXt(e,i,a,m),x="xc"===y||"yc"===y,b=aXt({channel:e,markDef:i,encoding:o,model:n,bandPosition:x?.5:0}),w=b.offset,S=b.offsetType,k=KVt({channel:e,channelDef:t,markDef:i,config:a,scaleName:l,scale:c,stack:u,offset:w,defaultRef:sXt({model:n,defaultPos:"mid",channel:e,scaleName:l,scale:c}),bandPosition:x?"encoding"===S?0:.5:qzt(g)?{signal:"(1-".concat(g,")/2")}:qVt(g)?(1-g.band)/2:0});if(f)return Object.assign(mt({},y,k),r);var C,E=ezt(d),O=r[f],M=w?Object.assign(Object.assign({},O),{offset:w}):O;return mt(C={},y,k),mt(C,E,y5(k)?[k[0],Object.assign(Object.assign({},k[1]),{offset:M})]:Object.assign(Object.assign({},k),{offset:M})),C}(c,e,t):hXt(e,t,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function(t){var e,n,r,i,o=t.fieldDef,a=t.fieldDef2,u=t.channel,s=t.model,l=s.config,c=s.markDef,f=s.encoding,d=s.getScaleComponent(u),h=s.scaleName(u),p=d?d.get("type"):void 0,v=d.get("reverse"),g=MWt({channel:u,fieldDef:o,markDef:c,config:l,scaleType:p}),m=null===(e=s.component.axes[u])||void 0===e?void 0:e[0],y=null!==(n=null===m||void 0===m?void 0:m.get("translate"))&&void 0!==n?n:.5,x=fzt(u)&&null!==(r=uUt("binSpacing",c,l))&&void 0!==r?r:0,b=nzt(u),w=ezt(u),S=ezt(b),k=aXt({channel:u,markDef:c,encoding:f,model:s,bandPosition:0}).offset,C=qzt(g)?{signal:"(1-".concat(g.signal,")/2")}:qVt(g)?(1-g.band)/2:.5;if(Lzt(o.bin)||o.timeUnit)return mt(i={},S,mXt({fieldDef:o,scaleName:h,bandPosition:C,offset:gXt(b,x,v,y,k)})),mt(i,w,mXt({fieldDef:o,scaleName:h,bandPosition:qzt(C)?{signal:"1-".concat(C.signal)}:1-C,offset:gXt(u,x,v,y,k)})),i;if(Rzt(o.bin)){var E,O,M=QVt(o,h,{},{offset:gXt(b,x,v,y,k)});if(DWt(a))return mt(E={},S,M),mt(E,w,QVt(a,h,{},{offset:gXt(u,x,v,y,k)})),E;if(jzt(o.bin)&&o.bin.step)return mt(O={},S,M),mt(O,w,{signal:'scale("'.concat(h,'", ').concat(qWt(o,{expr:"datum"})," + ").concat(o.bin.step,")"),offset:gXt(u,x,v,y,k)}),O}return void aHt(tHt(b))}({fieldDef:c,fieldDef2:f,channel:e,model:t})}function gXt(t,e,n,r,i){if(BBt(t))return 0;var o="x"===t||"y2"===t?-e/2:e/2;if(qzt(n)||qzt(i)||qzt(r)){var a=oUt(n),u=oUt(i),s=oUt(r);return{signal:(s?"".concat(s," + "):"")+(a?"(".concat(a," ? -1 : 1) * "):"")+(u?"(".concat(u," + ").concat(o,")"):o)}}return i=i||0,r+(n?-i-o:+i+o)}function mXt(t){var e=t.fieldDef;return tWt({scaleName:t.scaleName,fieldOrDatumDef:e,bandPosition:t.bandPosition,offset:t.offset})}var yXt=new Set(["aria","width","height"]);function xXt(t,e){var n="include"===e.color?oXt(t):{},r=n.fill,i=void 0===r?void 0:r,o=n.stroke,a=void 0===o?void 0:o;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(t,e){return Xzt.reduce((function(n,r){return yXt.has(r)||void 0===t[r]||"ignore"===e[r]||(n[r]=nUt(t[r])),n}),{})}(t.markDef,e)),bXt(t,"fill",i)),bXt(t,"stroke",a)),iXt("opacity",t)),iXt("fillOpacity",t)),iXt("strokeOpacity",t)),iXt("strokeWidth",t)),iXt("strokeDash",t)),function(t){var e=t.encoding,n=t.mark,r=e.order;return!BVt(n)&&BWt(r)?Z$t(t,r,"zindex",(function(t){return nUt(t.value)})):{}}(t)),tXt(t)),J$t(t,"href")),rXt(t))}function bXt(t,e,n){var r=t.config,i=t.mark;if("hide"===uUt("invalid",t.markDef,r)&&n&&!BVt(i)){var o=function(t,e){var n=e.invalid,r=void 0!==n&&n,i=e.channels.reduce((function(e,n){var r=t.getScaleComponent(n);if(r){var i=r.get("type"),o=t.vgField(n,{expr:"datum"});o&&hVt(i)&&(e[o]=!0)}return e}),{}),o=Djt(i);if(o.length>0){var a=r?"||":"&&";return o.map((function(t){return JVt(t,r)})).join(" ".concat(a," "))}return}(t,{invalid:!0,channels:bzt});if(o)return mt({},e,[{test:o,value:null}].concat(Ye(V5(n))))}return n?mt({},e,n):{}}function wXt(t){var e=t.config;if(uUt("invalid",t.markDef,e)){var n=function(t,e){var n=e.invalid,r=void 0!==n&&n,i=e.channels.reduce((function(e,n){var r=t.getScaleComponent(n);if(r){var i=r.get("type"),o=t.vgField(n,{expr:"datum"});o&&hVt(i)&&(e[o]=!0)}return e}),{}),o=Djt(i);if(o.length>0){var a=r?"||":"&&";return o.map((function(t){return JVt(t,r)})).join(" ".concat(a," "))}return}(t,{channels:czt});if(n)return{defined:{signal:n}}}return{}}function SXt(t,e){if(void 0!==e)return mt({},t,nUt(e))}var kXt="voronoi",CXt={defined:function(t){return"point"===t.type&&t.nearest},parse:function(t,e){if(e.events){var n,r=qe(e.events);try{for(r.s();!(n=r.n()).done;){n.value.markname=t.getName(kXt)}}catch(i){r.e(i)}finally{r.f()}}},marks:function(t,e,n){var r=e.project.hasChannel,i=r.x,o=r.y,a=t.mark;if(BVt(a))return aHt(function(t){return'The "nearest" transform is not supported for '.concat(t," marks.")}(a)),n;var u={name:t.getName(kXt),type:"path",interactive:!0,from:{data:t.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},tXt(t,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!o?"datum.datum.x || 0":"0"},y:{expr:o||!i?"datum.datum.y || 0":"0"},size:[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]}]},s=0,l=!1;return n.forEach((function(e,n){var r,i=null!==(r=e.name)&&void 0!==r?r:"";i===t.component.mark[0].name?s=n:i.indexOf(kXt)>=0&&(l=!0)})),l||n.splice(s+1,0,u),n}},EXt=CXt,OXt={defined:function(t){return"point"===t.type&&"global"===t.resolve&&t.bind&&"scales"!==t.bind&&!xqt(t.bind)},parse:function(t,e,n){return $Xt(e,n)},topLevelSignals:function(t,e,n){var r=e.name,i=e.project,o=e.bind,a=e.init&&e.init[0],u=EXt.defined(e)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(t,i){var s,l,c=Ljt("".concat(r,"_").concat(t.field));n.filter((function(t){return t.name===c})).length||n.unshift(Object.assign(Object.assign({name:c},a?{init:M$t(a[i])}:{value:null}),{on:e.events?[{events:e.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(u,"[").concat(S6(t.field),"] : null")}]:[],bind:null!==(l=null!==(s=o[t.field])&&void 0!==s?s:o[t.channel])&&void 0!==l?l:o}))})),n},signals:function(t,e,n){var r=e.name,i=e.project,o=n.filter((function(t){return t.name===r+UXt}))[0],a=r+I$t,u=i.items.map((function(t){return Ljt("".concat(r,"_").concat(t.field))})),s=u.map((function(t){return"".concat(t," !== null")})).join(" && ");return u.length&&(o.update="".concat(s," ? {fields: ").concat(a,", values: [").concat(u.join(", "),"]} : null")),delete o.value,delete o.on,n}},MXt=OXt,_Xt="_toggle",AXt={defined:function(t){return"point"===t.type&&!!t.toggle},signals:function(t,e,n){return n.concat({name:e.name+_Xt,value:!1,on:[{events:e.events,update:e.toggle}]})},modifyExpr:function(t,e){var n=e.name+UXt,r=e.name+_Xt;return"".concat(r," ? null : ").concat(n,", ")+("global"===e.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(qXt(t),"}, "))+"".concat(r," ? ").concat(n," : null")}},TXt={defined:function(t){return void 0!==t.clear&&!1!==t.clear},parse:function(t,e){e.clear&&(e.clear=p6(e.clear)?rNt(e.clear,"view"):e.clear)},topLevelSignals:function(t,e,n){if(MXt.defined(e)){var r,i=qe(e.project.items);try{var o=function(){var t=r.value,i=n.findIndex((function(n){return n.name===Ljt("".concat(e.name,"_").concat(t.field))}));-1!==i&&n[i].on.push({events:e.clear,update:"null"})};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}return n},signals:function(t,e,n){function r(t,r){-1!==t&&n[t].on&&n[t].on.push({events:e.clear,update:r})}if("interval"===e.type){var i,o=qe(e.project.items);try{var a=function(){var t=i.value,e=n.findIndex((function(e){return e.name===t.signals.visual}));(r(e,"[0, 0]"),-1===e)&&r(n.findIndex((function(e){return e.name===t.signals.data})),"null")};for(o.s();!(i=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}else{var u=n.findIndex((function(t){return t.name===e.name+UXt}));r(u,"null"),AXt.defined(e)&&r(u=n.findIndex((function(t){return t.name===e.name+_Xt})),"false")}return n}},PXt={defined:function(t){var e="global"===t.resolve&&t.bind&&xqt(t.bind),n=1===t.project.items.length&&t.project.items[0].field!==mqt;return e&&!n&&aHt("Legend bindings are only supported for selections over an individual field or encoding channel."),e&&n},parse:function(t,e,n){var r,i=hjt(n);if(i.select=p6(i.select)?{type:i.select,toggle:e.toggle}:Object.assign(Object.assign({},i.select),{toggle:e.toggle}),$Xt(e,i),x5(n.select)&&(n.select.on||n.select.clear)){var o,a='event.item && indexof(event.item.mark.role, "legend") < 0',u=qe(e.events);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.filter=V5(null!==(r=s.filter)&&void 0!==r?r:[]),s.filter.includes(a)||s.filter.push(a)}}catch(f){u.e(f)}finally{u.f()}}var l=bqt(e.bind)?e.bind.legend:"click",c=p6(l)?rNt(l,"view"):V5(l);e.bind={legend:{merge:c}}},topLevelSignals:function(t,e,n){var r,i=e.name,o=bqt(e.bind)&&e.bind.legend,a=function(t){return function(e){var n=hjt(e);return n.markname=t,n}},u=qe(e.project.items);try{var s=function(){var t=r.value;if(!t.hasLegend)return"continue";var u="".concat(Ljt(t.field),"_legend"),s="".concat(i,"_").concat(u);if(0===n.filter((function(t){return t.name===s})).length){var l=o.merge.map(a("".concat(u,"_symbols"))).concat(o.merge.map(a("".concat(u,"_labels")))).concat(o.merge.map(a("".concat(u,"_entries"))));n.unshift(Object.assign(Object.assign({name:s},e.init?{}:{value:null}),{on:[{events:l,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:"!event.item || !datum ? null : ".concat(s),force:!0}]}))}};for(u.s();!(r=u.n()).done;)s()}catch(l){u.e(l)}finally{u.f()}return n},signals:function(t,e,n){var r=e.name,i=e.project,o=n.find((function(t){return t.name===r+UXt})),a=r+I$t,u=i.items.filter((function(t){return t.hasLegend})).map((function(t){return Ljt("".concat(r,"_").concat(Ljt(t.field),"_legend"))})),s=u.map((function(t){return"".concat(t," !== null")})).join(" && "),l="".concat(s," ? {fields: ").concat(a,", values: [").concat(u.join(", "),"]} : null");e.events&&u.length>0?o.on.push({events:u.map((function(t){return{signal:t}})),update:l}):u.length>0&&(o.update=l,delete o.value,delete o.on);var c=n.find((function(t){return t.name===r+_Xt})),f=bqt(e.bind)&&e.bind.legend;return c&&(e.events?c.on.push(Object.assign(Object.assign({},c.on[0]),{events:f})):c.on[0].events=f),n}};var DXt="_translate_anchor",FXt="_translate_delta",NXt={defined:function(t){return"interval"===t.type&&t.translate},signals:function(t,e,n){var r=e.name,i=z$t.defined(e),o=r+DXt,a=e.project.hasChannel,u=a.x,s=a.y,l=rNt(e.translate,"scope");return i||(l=l.map((function(t){return t.between[0].markname=r+W$t,t}))),n.push({name:o,value:{},on:[{events:l.map((function(t){return t.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: ".concat(i?U$t(t,oBt):"slice(".concat(u.signals.visual,")")):"")+(void 0!==s?", extent_y: ".concat(i?U$t(t,aBt):"slice(".concat(s.signals.visual,")")):"")+"}"}]},{name:r+FXt,value:{},on:[{events:l,update:"{x: ".concat(o,".x - x(unit), y: ").concat(o,".y - y(unit)}")}]}),void 0!==u&&IXt(t,e,u,"width",n),void 0!==s&&IXt(t,e,s,"height",n),n}};function IXt(t,e,n,r,i){var o,a,u=e.name,s=u+DXt,l=u+FXt,c=n.channel,f=z$t.defined(e),d=i.filter((function(t){return t.name===n.signals[f?"data":"visual"]}))[0],h=t.getSizeSignalRef(r).signal,p=t.getScaleComponent(c),v=p.get("type"),g=p.get("reverse"),m=f?c===oBt?g?"":"-":g?"-":"":"",y="".concat(s,".extent_").concat(c),x="".concat(m).concat(l,".").concat(c," / ").concat(f?"".concat(h):"span(".concat(y,")")),b=f?"log"===v?"panLog":"symlog"===v?"panSymlog":"pow"===v?"panPow":"panLinear":"panLinear",w=f?"pow"===v?", ".concat(null!==(o=p.get("exponent"))&&void 0!==o?o:1):"symlog"===v?", ".concat(null!==(a=p.get("constant"))&&void 0!==a?a:1):"":"",S="".concat(b,"(").concat(y,", ").concat(x).concat(w,")");d.on.push({events:{signal:l},update:f?S:"clampRange(".concat(S,", 0, ").concat(h,")")})}var LXt="_zoom_anchor",RXt="_zoom_delta",jXt={defined:function(t){return"interval"===t.type&&t.zoom},signals:function(t,e,n){var r=e.name,i=z$t.defined(e),o=r+RXt,a=e.project.hasChannel,u=a.x,s=a.y,l=S6(t.scaleName(oBt)),c=S6(t.scaleName(aBt)),f=rNt(e.zoom,"scope");return i||(f=f.map((function(t){return t.markname=r+W$t,t}))),n.push({name:r+LXt,on:[{events:f,update:i?"{"+[l?"x: invert(".concat(l,", x(unit))"):"",c?"y: invert(".concat(c,", y(unit))"):""].filter((function(t){return!!t})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==u&&BXt(t,e,u,"width",n),void 0!==s&&BXt(t,e,s,"height",n),n}};function BXt(t,e,n,r,i){var o,a,u=e.name,s=n.channel,l=z$t.defined(e),c=i.filter((function(t){return t.name===n.signals[l?"data":"visual"]}))[0],f=t.getSizeSignalRef(r).signal,d=t.getScaleComponent(s),h=d.get("type"),p=l?U$t(t,s):c.name,v=u+RXt,g="".concat(u).concat(LXt,".").concat(s),m=l?"log"===h?"zoomLog":"symlog"===h?"zoomSymlog":"pow"===h?"zoomPow":"zoomLinear":"zoomLinear",y=l?"pow"===h?", ".concat(null!==(o=d.get("exponent"))&&void 0!==o?o:1):"symlog"===h?", ".concat(null!==(a=d.get("constant"))&&void 0!==a?a:1):"":"",x="".concat(m,"(").concat(p,", ").concat(g,", ").concat(v).concat(y,")");c.on.push({events:{signal:v},update:l?x:"clampRange(".concat(x,", 0, ").concat(f,")")})}var zXt="_store",UXt="_tuple",HXt="_modify",VXt="vlSelectionResolve",WXt=[K$t,G$t,j$t,AXt,MXt,z$t,PXt,TXt,NXt,jXt,EXt];function YXt(t){for(var e=t.parent;e&&!jJt(e);)e=e.parent;return e}function qXt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=e.escape,r=n?S6(t.name):t.name,i=YXt(t);if(i){var o,a=i.facet,u=qe(YBt);try{for(u.s();!(o=u.n()).done;){var s=o.value;a[s]&&(r+=" + '__facet_".concat(s,"_' + (facet[").concat(S6(i.vgField(s)),"])"))}}catch(l){u.e(l)}finally{u.f()}}return r}function GXt(t){var e;return Fjt(null!==(e=t.component.selection)&&void 0!==e?e:{}).reduce((function(t,e){return t||e.project.items.some((function(t){return t.field===mqt}))}),!1)}function $Xt(t,e){!p6(e.select)&&e.select.on||delete t.events,!p6(e.select)&&e.select.clear||delete t.clear,!p6(e.select)&&e.select.toggle||delete t.toggle}function XXt(t){var e=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(e.push.apply(e,Ye(XXt(t.object))),e.push.apply(e,Ye(XXt(t.property)))),e)}function KXt(t){return"MemberExpression"===t.object.type?KXt(t.object):"datum"===t.object.name}function ZXt(t){var e=xAt(t),n=new Set;return e.visit((function(t){"MemberExpression"===t.type&&KXt(t)&&n.add(XXt(t).slice(1).join("."))})),n}var JXt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i){var o;return Xr(this,n),(o=e.call(this,t)).model=r,o.filter=i,o.expr=eKt(o.model,o.filter,ei(o)),o._dependentFields=ZXt(o.expr),o}return $r(n,[{key:"clone",value:function(){return new n(null,this.model,hjt(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(T$t);function QXt(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",o=p6(e)?e:e.param,a=Ljt(o),u=S6(a+zXt);try{r=t.getSelectionComponent(a,o)}catch(v1t){return"!!".concat(a)}if(r.project.timeUnit){var s=null!==n&&void 0!==n?n:t.component.data.raw,l=r.project.timeUnit.clone();s.parent?l.insertAsParentOf(s):s.parent=l}var c="vlSelectionTest(".concat(u,", ").concat(i).concat("global"===r.resolve?")":", ".concat(S6(r.resolve),")")),f="length(data(".concat(u,"))");return!1===e.empty?"".concat(f," && ").concat(c):"!".concat(f," || ").concat(c)}function tKt(t,e,n){var r,i=Ljt(e),o=n.encoding,a=n.field;try{r=t.getSelectionComponent(i,e)}catch(v1t){return i}if(o||a){if(o&&!a){var u=r.project.items.filter((function(t){return t.channel===o}));!u.length||u.length>1?(a=r.project.items[0].field,aHt((u.length?"Multiple ":"No ")+"matching ".concat(S6(o)," encoding found for selection ").concat(S6(n.param),". ")+'Using "field": '.concat(S6(a),"."))):a=u[0].field}}else a=r.project.items[0].field,r.project.items.length>1&&aHt('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(S6(a),"."));return"".concat(r.name,"[").concat(S6(Vjt(a)),"]")}function eKt(t,e,n){return Rjt(e,(function(e){return p6(e)?e:function(t){return null===t||void 0===t?void 0:t.param}(e)?QXt(t,e,n):jHt(e)}))}var nKt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function rKt(t,e){if(t)return y5(t)&&!Yzt(t)?t.map((function(t){return eYt(t,e)})).join(", "):t}function iKt(t,e,n,r){var i,o,a,u,s;null!==(i=t.encode)&&void 0!==i||(t.encode={}),null!==(o=(u=t.encode)[e])&&void 0!==o||(u[e]={}),null!==(a=(s=t.encode[e]).update)&&void 0!==a||(s.update={}),t.encode[e].update[n]=r}function oKt(t,e,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},a=t.combine(),u=a.disable,s=a.orient,l=a.scale,c=a.labelExpr,f=a.title,d=a.zindex,h=nKt(a,["disable","orient","scale","labelExpr","title","zindex"]);if(!u){for(var p in h){var v=xYt[p],g=h[p];if(v&&v!==e&&"both"!==v)delete h[p];else if(mYt(g)){var m=g.condition,y=nKt(g,["condition"]),x=V5(m),b=gYt[p];if(b){var w=b.vgProp,S=b.part,k=[].concat(Ye(x.map((function(t){var e=t.test,n=nKt(t,["test"]);return Object.assign({test:eKt(null,e)},n)}))),[y]);iKt(h,S,w,k),delete h[p]}else if(null===b){var C={signal:x.map((function(t){var e=t.test,n=nKt(t,["test"]);return"".concat(eKt(null,e)," ? ").concat(iUt(n)," : ")})).join("")+iUt(y)};h[p]=C}}else if(qzt(g)){var E=gYt[p];if(E){var O=E.vgProp,M=E.part;iKt(h,M,O,g),delete h[p]}}bjt(["labelAlign","labelBaseline"],p)&&null===h[p]&&delete h[p]}if("grid"===e){if(!h.grid)return;if(h.encode){var _=h.encode.grid;h.encode=Object.assign({},_?{grid:_}:{}),Pjt(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:l,orient:s},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Gjt(d,0)})}if(o.header||!t.mainExtracted){if(void 0!==c){var A=c;(null===(i=null===(r=h.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&qzt(h.encode.labels.update.text)&&(A=Wjt(c,"datum.label",h.encode.labels.update.text.signal)),iKt(h,"labels","text",{signal:A})}if(null===h.labelAlign&&delete h.labelAlign,h.encode){var T,P=qe(yYt);try{for(P.s();!(T=P.n()).done;){var D=T.value;t.hasAxisPart(D)||delete h.encode[D]}}catch(N){P.e(N)}finally{P.f()}Pjt(h.encode)&&delete h.encode}var F=rKt(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:l,orient:s,grid:!1},F?{title:F}:{}),h),!1===n.aria?{aria:!1}:{}),{zindex:Gjt(d,0)})}}}function aKt(t){var e,n=t.component.axes,r=[],i=qe(czt);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(n[o]){var a,u=qe(n[o]);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(!s.get("disable")&&!s.get("gridScale")){var l="x"===o?"height":"width",c=t.getSizeSignalRef(l).signal;l!==c&&r.push({name:l,update:c})}}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return r}function uKt(t,e,n,r){return Object.assign.apply(null,[{}].concat(Ye(t.map((function(t){if("axisOrient"===t){var i,o="x"===n?"bottom":"left",a=e["x"===n?"axisBottom":"axisLeft"]||{},u=e["x"===n?"axisTop":"axisRight"]||{},s={},l=qe(new Set([].concat(Ye(Djt(a)),Ye(Djt(u)))).values());try{for(l.s();!(i=l.n()).done;){var c=i.value;s[c]={signal:"".concat(r.signal,' === "').concat(o,'" ? ').concat(oUt(a[c])," : ").concat(oUt(u[c]))}}}catch(f){l.e(f)}finally{l.f()}return s}return e[t]})))))}function sKt(t,e){var n,r,i=[{}],o=qe(t);try{for(o.s();!(r=o.n()).done;){var a=null===(n=e[r.value])||void 0===n?void 0:n.style;if(a){var u,s=qe(a=V5(a));try{for(s.s();!(u=s.n()).done;){var l=u.value;i.push(e.style[l])}}catch(c){s.e(c)}finally{s.f()}}}}catch(c){o.e(c)}finally{o.f()}return Object.assign.apply(null,i)}function lKt(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=cUt(t,n,e);if(void 0!==o)return{configFrom:"style",configValue:o};for(var a=0,u=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];a<u.length;a++){var s=u[a];if(void 0!==(null===(r=i[s])||void 0===r?void 0:r[t]))return{configFrom:s,configValue:i[s][t]}}return{}}var cKt={scale:function(t){var e=t.model,n=t.channel;return e.scaleName(n)},format:function(t){var e=t.fieldOrDatumDef,n=t.config,r=t.axis,i=r.format,o=r.formatType;return sWt(e,e.type,i,o,n,!0)},formatType:function(t){var e=t.axis,n=t.fieldOrDatumDef,r=t.scaleType,i=e.formatType;return lWt(i,n,r)},grid:function(t){var e,n=t.fieldOrDatumDef,r=t.axis,i=t.scaleType;return null!==(e=r.grid)&&void 0!==e?e:function(t,e){return!dVt(t)&&DWt(e)&&!Lzt(null===e||void 0===e?void 0:e.bin)&&!Rzt(null===e||void 0===e?void 0:e.bin)}(i,n)},gridScale:function(t){return function(t,e){var n="x"===e?"y":"x";if(t.getScaleComponent(n))return t.scaleName(n);return}(t.model,t.channel)},labelAlign:function(t){var e=t.axis,n=t.labelAngle,r=t.orient,i=t.channel;return e.labelAlign||hKt(n,r,i)},labelAngle:function(t){return t.labelAngle},labelBaseline:function(t){var e=t.axis,n=t.labelAngle,r=t.orient,i=t.channel;return e.labelBaseline||dKt(n,r,i)},labelFlush:function(t){var e,n=t.axis,r=t.fieldOrDatumDef,i=t.channel;return null!==(e=n.labelFlush)&&void 0!==e?e:function(t,e){if("x"===e&&bjt(["quantitative","temporal"],t))return!0;return}(r.type,i)},labelOverlap:function(t){var e,n=t.axis,r=t.fieldOrDatumDef,i=t.scaleType;return null!==(e=n.labelOverlap)&&void 0!==e?e:function(t,e,n,r){if(n&&!x5(r)||"nominal"!==t&&"ordinal"!==t)return"log"!==e&&"symlog"!==e||"greedy";return}(r.type,i,DWt(r)&&!!r.timeUnit,DWt(r)?r.sort:void 0)},orient:function(t){return t.orient},tickCount:function(t){var e,n=t.channel,r=t.model,i=t.axis,o=t.fieldOrDatumDef,a=t.scaleType,u="x"===n?"width":"y"===n?"height":void 0,s=u?r.getSizeSignalRef(u):void 0;return null!==(e=i.tickCount)&&void 0!==e?e:function(t){var e,n=t.fieldOrDatumDef,r=t.scaleType,i=t.size;if(!t.values&&!dVt(r)&&"log"!==r){if(DWt(n)){if(Lzt(n.bin))return{signal:"ceil(".concat(i.signal,"/10)")};if(n.timeUnit&&bjt(["month","hours","day","quarter"],null===(e=EHt(n.timeUnit))||void 0===e?void 0:e.unit))return}return{signal:"ceil(".concat(i.signal,"/40)")}}return}({fieldOrDatumDef:o,scaleType:a,size:s,values:i.values})},title:function(t){var e=t.axis,n=t.model,r=t.channel;if(void 0!==e.title)return e.title;var i=pKt(n,r);if(void 0!==i)return i;var o=n.typedFieldDef(r),a="x"===r?"x2":"y2",u=n.fieldDef(a);return dUt(o?[CWt(o)]:[],DWt(u)?[CWt(u)]:[])},values:function(t){return function(t,e){var n=t.values;if(y5(n))return pYt(e,n);if(qzt(n))return n;return}(t.axis,t.fieldOrDatumDef)},zindex:function(t){var e,n=t.axis,r=t.fieldOrDatumDef,i=t.mark;return null!==(e=n.zindex)&&void 0!==e?e:function(t,e){if("rect"===t&&GWt(e))return 1;return 0}(i,r)}};function fKt(t){return"(((".concat(t.signal," % 360) + 360) % 360)")}function dKt(t,e,n,r){if(void 0!==t){if("x"===n){if(qzt(t)){var i=fKt(t),o=qzt(e)?"(".concat(e.signal,' === "top")'):"top"===e;return{signal:"(45 < ".concat(i," && ").concat(i," < 135) || (225 < ").concat(i," && ").concat(i,' < 315) ? "middle" :')+"(".concat(i," <= 45 || 315 <= ").concat(i,") === ").concat(o,' ? "bottom" : "top"')}}if(45<t&&t<135||225<t&&t<315)return"middle";if(qzt(e)){var a=t<=45||315<=t?"===":"!==";return{signal:"".concat(e.signal," ").concat(a,' "top" ? "bottom" : "top"')}}return(t<=45||315<=t)===("top"===e)?"bottom":"top"}if(qzt(t)){var u=fKt(t),s=qzt(e)?"(".concat(e.signal,' === "left")'):"left"===e,l=r?'"middle"':"null";return{signal:"".concat(u," <= 45 || 315 <= ").concat(u," || (135 <= ").concat(u," && ").concat(u," <= 225) ? ").concat(l," : (45 <= ").concat(u," && ").concat(u," <= 135) === ").concat(s,' ? "top" : "bottom"')}}if(t<=45||315<=t||135<=t&&t<=225)return r?"middle":null;if(qzt(e)){var c=45<=t&&t<=135?"===":"!==";return{signal:"".concat(e.signal," ").concat(c,' "left" ? "top" : "bottom"')}}return(45<=t&&t<=135)===("left"===e)?"top":"bottom"}}function hKt(t,e,n){if(void 0!==t){var r="x"===n,i=r?0:90,o=r?"bottom":"left";if(qzt(t)){var a=fKt(t),u=qzt(e)?"(".concat(e.signal,' === "').concat(o,'")'):e===o;return{signal:"(".concat(i?"(".concat(a," + 90)"):a," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(i," < ").concat(a," && ").concat(a," < ").concat(180+i,") === ").concat(u,' ? "left" : "right"')}}if((t+i)%180===0)return r?null:"center";if(qzt(e)){var s=i<t&&t<180+i?"===":"!==",l="".concat(e.signal," ").concat(s,' "').concat(o,'"');return{signal:"".concat(l,' ? "left" : "right"')}}return(i<t&&t<180+i)===(e===o)?"left":"right"}}function pKt(t,e){var n="x"===e?"x2":"y2",r=t.fieldDef(e),i=t.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?hUt(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}var vKt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).transform=r,i._dependentFields=ZXt(i.transform.calculate),i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(yjt(this.transform))}}],[{key:"parseAllForSortIndex",value:function(t,e){return e.forEachFieldDef((function(e,r){if(zWt(e)&&xWt(e.sort)){var i=e.field,o=e.timeUnit,a=e.sort,u=a.map((function(t,e){return"".concat(jHt({field:i,timeUnit:o,equal:t})," ? ").concat(e," : ")})).join("")+a.length;t=new n(t,{calculate:u,as:gKt(e,r,{forAs:!0})})}})),t}}]),n}(T$t);function gKt(t,e,n){return qWt(t,Object.assign({prefix:e,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function mKt(t,e){return bjt(["top","bottom"],e)?"column":bjt(["left","right"],e)||"row"===t?"row":"column"}function yKt(t,e,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return Gjt((e||{})[t],i[t],n.header[t])}function xKt(t,e,n,r){var i,o={},a=qe(t);try{for(a.s();!(i=a.n()).done;){var u=i.value,s=yKt(u,e||{},n,r);void 0!==s&&(o[u]=s)}}catch(l){a.e(l)}finally{a.f()}return o}var bKt=["row","column"],wKt=["header","footer"];function SKt(t,e){var n=t.component.layoutHeaders[e].title,r=t.config?t.config:void 0,i=t.component.layoutHeaders[e].facetFieldDef?t.component.layoutHeaders[e].facetFieldDef:void 0,o=xKt(["titleAnchor","titleAngle","titleOrient"],i.header,r,e),a=o.titleAnchor,u=o.titleAngle,s=mKt(e,o.titleOrient),l=Qjt(u);return{name:"".concat(e,"-title"),type:"group",role:"".concat(s,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===e?{orient:"left"}:{}),{style:"guide-title"}),CKt(l,s)),kKt(s,l,a)),PKt(r,i,e,dqt,cqt))}}function kKt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=hKt(e,"row"===t?"left":"top","row"===t?"y":"x");return r?{align:r}:{}}function CKt(t,e){var n=dKt(t,"row"===e?"left":"top","row"===e?"y":"x",!0);return n?{baseline:n}:{}}function EKt(t,e){var n,r=t.component.layoutHeaders[e],i=[],o=qe(wKt);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(r[a]){var u,s=qe(r[a]);try{for(s.s();!(u=s.n()).done;){var l=_Kt(t,e,a,r,u.value);null!=l&&i.push(l)}}catch(c){s.e(c)}finally{s.f()}}}}catch(c){o.e(c)}finally{o.f()}return i}function OKt(t,e){var n,r=t.sort;return yWt(r)?{field:qWt(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:y5(r)?{field:gKt(t,e,{expr:"datum"}),order:"ascending"}:{field:qWt(t,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function MKt(t,e,n){var r=xKt(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],t.header,n,e),i=r.format,o=r.formatType,a=r.labelAngle,u=r.labelAnchor,s=r.labelOrient,l=r.labelExpr,c=oWt({fieldOrDatumDef:t,format:i,formatType:o,expr:"parent",config:n}).signal,f=mKt(e,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:l?Wjt(Wjt(l,"datum.label",c),"datum.value",qWt(t,{expr:"parent"})):c}},"row"===e?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),CKt(a,f)),kKt(f,a,u)),PKt(n,t,e,hqt,fqt))}function _Kt(t,e,n,r,i){if(i){var o=null,a=r.facetFieldDef,u=t.config?t.config:void 0;if(a&&i.labels){var s=xKt(["labelOrient"],a.header,u,e).labelOrient;("row"===e&&!bjt(["top","bottom"],s)||"column"===e&&!bjt(["left","right"],s))&&(o=MKt(a,e,u))}var l=jJt(t)&&!bWt(t.facet),c=i.axes,f=(null===c||void 0===c?void 0:c.length)>0;if(o||f){var d="row"===e?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:t.getName("".concat(e,"_").concat(n)),type:"group",role:"".concat(e,"-").concat(n)},r.facetFieldDef?{from:{data:t.getName("".concat(e,"_domain"))},sort:OKt(a,e)}:{}),f&&l?{from:{data:t.getName("facet_domain_".concat(e))}}:{}),o?{title:o}:{}),i.sizeSignal?{encode:{update:mt({},d,i.sizeSignal)}}:{}),f?{axes:c}:{})}}return null}var AKt={column:{start:0,end:1},row:{start:1,end:0}};function TKt(t,e){return AKt[e][t]}function PKt(t,e,n,r,i){var o,a={},u=qe(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(i[s]){var l=yKt(s,null===e||void 0===e?void 0:e.header,t,n);void 0!==l&&(a[i[s]]=l)}}}catch(c){u.e(c)}finally{u.f()}return a}function DKt(t){return[].concat(Ye(FKt(t,"width")),Ye(FKt(t,"height")),Ye(FKt(t,"childWidth")),Ye(FKt(t,"childHeight")))}function FKt(t,e){var n="width"===e?"x":"y",r=t.component.layoutSize.get(e);if(!r||"merged"===r)return[];var i=t.getSizeSignalRef(e).signal;if("step"===r){var o=t.getScaleComponent(n);if(o){var a=o.get("type"),u=o.get("range");if(dVt(a)&&Gzt(u)){var s=t.scaleName(n);if(jJt(t.parent))if("independent"===t.parent.component.resolve.scale[n])return[NKt(s,u)];return[NKt(s,u),{name:i,update:IKt(s,o,"domain('".concat(s,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var l=i.endsWith("width"),c=l?"containerSize()[0]":"containerSize()[1]",f=Dqt(t.config.view,l?"width":"height"),d="isFinite(".concat(c,") ? ").concat(c," : ").concat(f);return[{name:i,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:i,value:r}]}function NKt(t,e){var n="".concat(t,"_step");return qzt(e.step)?{name:n,update:e.step.signal}:{name:n,value:e.step}}function IKt(t,e,n){var r=e.get("type"),i=e.get("padding"),o=Gjt(e.get("paddingOuter"),i),a=e.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,"bandspace(".concat(n,", ").concat(oUt(a),", ").concat(oUt(o),") * ").concat(t,"_step")}function LKt(t){return"childWidth"===t?"width":"childHeight"===t?"height":t}function RKt(t,e){return Djt(t).reduce((function(n,r){var i=t[r];return Object.assign(Object.assign({},n),Z$t(e,i,r,(function(t){return nUt(t.value)})))}),{})}function jKt(t,e){if(jJt(e))return"theta"===t?"independent":"shared";if(zJt(e))return"shared";if(BJt(e))return fzt(t)||"theta"===t||"radius"===t?"independent":"shared";throw new Error("invalid model type for resolve")}function BKt(t,e){var n=t.scale[e],r=fzt(e)?"axis":"legend";return"independent"===n?("shared"===t[r][e]&&aHt(function(t){return'Setting the scale to be independent for "'.concat(t,'" means we also have to set the guide (axis or legend) to be independent.')}(e)),"independent"):t[r][e]||"shared"}var zKt=Object.assign(Object.assign({},gqt),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),UKt=Djt(zKt),HKt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n)}(f$t),VKt={symbols:function(t,e){var n,r,i,o,a,u,s,l,c=e.fieldOrDatumDef,f=e.model,d=e.channel,h=e.legendCmpt;if("symbol"!==e.legendType)return;var p=f.markDef,v=f.encoding,g=f.config,m=f.mark,y=p.filled&&"trail"!==m,x=Object.assign(Object.assign({},function(t,e,n){var r,i=qe(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=sUt(o,e.markDef,e.config);void 0!==a&&(t[o]=nUt(a))}}catch(u){i.e(u)}finally{i.f()}return t}({},f,VVt)),oXt(f,{filled:y})),b=null!==(n=h.get("symbolOpacity"))&&void 0!==n?n:g.legend.symbolOpacity,w=null!==(r=h.get("symbolFillColor"))&&void 0!==r?r:g.legend.symbolFillColor,S=null!==(i=h.get("symbolStrokeColor"))&&void 0!==i?i:g.legend.symbolStrokeColor,k=void 0===b?null!==(o=WKt(v.opacity))&&void 0!==o?o:p.opacity:void 0;if(x.fill)if("fill"===d||y&&d===xBt)delete x.fill;else if(x.fill.field)w?delete x.fill:(x.fill=nUt(null!==(a=g.legend.symbolBaseFillColor)&&void 0!==a?a:"black"),x.fillOpacity=nUt(null!==k&&void 0!==k?k:1));else if(y5(x.fill)){var C=null!==(l=null!==(s=YKt(null!==(u=v.fill)&&void 0!==u?u:v.color))&&void 0!==s?s:p.fill)&&void 0!==l?l:y&&p.color;C&&(x.fill=nUt(C))}if(x.stroke)if("stroke"===d||!y&&d===xBt)delete x.stroke;else if(x.stroke.field||S)delete x.stroke;else if(y5(x.stroke)){var E=Gjt(YKt(v.stroke||v.color),p.stroke,y?p.color:void 0);E&&(x.stroke={value:E})}if(d!==EBt){var O=DWt(c)&&GKt(f,h,c);O?x.opacity=[Object.assign({test:O},nUt(null!==k&&void 0!==k?k:1)),nUt(g.legend.unselectedOpacity)]:k&&(x.opacity=nUt(k))}return Pjt(x=Object.assign(Object.assign({},x),t))?void 0:x},gradient:function(t,e){var n,r=e.model,i=e.legendType,o=e.legendCmpt;if("gradient"!==i)return;var a=r.config,u=r.markDef,s=r.encoding,l={},c=void 0===(null!==(n=o.get("gradientOpacity"))&&void 0!==n?n:a.legend.gradientOpacity)?WKt(s.opacity)||u.opacity:void 0;c&&(l.opacity=nUt(c));return Pjt(l=Object.assign(Object.assign({},l),t))?void 0:l},labels:function(t,e){var n=e.fieldOrDatumDef,r=e.model,i=e.channel,o=e.legendCmpt,a=r.legend(i)||{},u=r.config,s=DWt(n)?GKt(r,o,n):void 0,l=s?[{test:s,value:1},{value:u.legend.unselectedOpacity}]:void 0,c=a.format,f=a.formatType,d=rWt(f)?uWt({fieldOrDatumDef:n,field:"datum.value",format:c,formatType:f,config:u}):void 0,h=Object.assign(Object.assign(Object.assign({},l?{opacity:l}:{}),d?{text:d}:{}),t);return Pjt(h)?void 0:h},entries:function(t,e){var n=e.legendCmpt.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},t),{fill:{value:"transparent"}}):t}};function WKt(t){return qKt(t,(function(t,e){return Math.max(t,e.value)}))}function YKt(t){return qKt(t,(function(t,e){return Gjt(t,e.value)}))}function qKt(t,e){return function(t){var e=t&&t.condition;return!!e&&(y5(e)||BWt(e))}(t)?V5(t.condition).reduce(e,t.value):BWt(t)?t.value:void 0}function GKt(t,e,n){var r=e.get("selections");if(null===r||void 0===r?void 0:r.length){var i=S6(n.field);return r.map((function(t){var e=S6(Ljt(t)+zXt);return"(!length(data(".concat(e,")) || (").concat(t,"[").concat(i,"] && indexof(").concat(t,"[").concat(i,"], datum.value) >= 0))")})).join(" || ")}}var $Kt={direction:function(t){return t.direction},format:function(t){var e=t.fieldOrDatumDef,n=t.legend,r=t.config,i=n.format,o=n.formatType;return sWt(e,e.type,i,o,r,!1)},formatType:function(t){var e=t.legend,n=t.fieldOrDatumDef,r=t.scaleType,i=e.formatType;return lWt(i,n,r)},gradientLength:function(t){var e,n,r=t.legend,i=t.legendConfig;return null!==(n=null!==(e=r.gradientLength)&&void 0!==e?e:i.gradientLength)&&void 0!==n?n:function(t){var e=t.legendConfig,n=t.model,r=t.direction,i=t.orient,o=t.scaleType,a=e.gradientHorizontalMaxLength,u=e.gradientHorizontalMinLength,s=e.gradientVerticalMaxLength,l=e.gradientVerticalMinLength;if(pVt(o))return"horizontal"===r?"top"===i||"bottom"===i?ZKt(n,"width",u,a):u:ZKt(n,"height",l,s);return}(t)},labelOverlap:function(t){var e,n,r=t.legend,i=t.legendConfig,o=t.scaleType;return null!==(n=null!==(e=r.labelOverlap)&&void 0!==e?e:i.labelOverlap)&&void 0!==n?n:function(t){if(bjt(["quantile","threshold","log","symlog"],t))return"greedy";return}(o)},symbolType:function(t){var e,n=t.legend,r=t.markDef,i=t.channel,o=t.encoding;return null!==(e=n.symbolType)&&void 0!==e?e:function(t,e,n,r){var i;if("shape"!==e){var o=null!==(i=YKt(n))&&void 0!==i?i:r;if(o)return o}switch(t){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,i,o.shape,r.shape)},title:function(t){return QWt(t.fieldOrDatumDef,t.config,{allowDisabling:!0})},type:function(t){var e=t.legendType,n=t.scaleType;if(VBt(t.channel)&&pVt(n)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:function(t){var e=t.fieldOrDatumDef;return function(t,e){var n=t.values;if(y5(n))return pYt(e,n);if(qzt(n))return n;return}(t.legend,e)}};function XKt(t){return Gjt(t.legend.type,function(t){var e=t.channel,n=t.timeUnit,r=t.scaleType;if(VBt(e)){if(bjt(["quarter","month","day"],n))return"symbol";if(pVt(r))return"gradient"}return"symbol"}(t))}function KKt(t){var e,n,r=t.legendConfig,i=t.legendType,o=t.orient;return null!==(n=null!==(e=t.legend.direction)&&void 0!==e?e:r[i?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(t,e){switch(t){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===e?"horizontal":void 0}}(o,i)}function ZKt(t,e,n,r){var i=t.getSizeSignalRef(e).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function JKt(t){var e=RJt(t)?function(t){for(var e=t.encoding,n={},r=0,i=[xBt].concat(Ye(vqt));r<i.length;r++){var o=i[r],a=oYt(e[o]);a&&t.getScaleComponent(o)&&(o===SBt&&DWt(a)&&a.type===GHt||(n[o]=tZt(t,o)))}return n}(t):function(t){var e,n=t.component,r=n.legends,i=n.resolve,o=qe(t.children);try{for(o.s();!(e=o.n()).done;){var a=e.value;JKt(a);var u,s=qe(Djt(a.component.legends));try{for(s.s();!(u=s.n()).done;){var l=u.value;i.legend[l]=BKt(t.component.resolve,l),"shared"===i.legend[l]&&(r[l]=eZt(r[l],a.component.legends[l]),r[l]||(i.legend[l]="independent",delete r[l]))}}catch(g){s.e(g)}finally{s.f()}}}catch(g){o.e(g)}finally{o.f()}var c,f=qe(Djt(r));try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=qe(t.children);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.component.legends[h]&&("shared"===i.legend[h]&&delete v.component.legends[h])}}catch(g){p.e(g)}finally{p.f()}}}catch(g){f.e(g)}finally{f.f()}return r}(t);return t.component.legends=e,e}function QKt(t,e,n,r){switch(e){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===e&&t===(null===r||void 0===r?void 0:r.title))return!0}return t===(n||{})[e]}function tZt(t,e){var n,r,i,o=t.legend(e),a=t.markDef,u=t.encoding,s=t.config,l=s.legend,c=new HKt({},function(t,e){var n=t.scaleName(e);if("trail"===t.mark){if("color"===e)return{stroke:n};if("size"===e)return{strokeWidth:n}}return"color"===e?t.markDef.filled?{fill:n}:{stroke:n}:mt({},e,n)}(t,e));!function(t,e,n){var r,i,o,a,u,s=null===(r=t.fieldDef(e))||void 0===r?void 0:r.field,l=qe(Fjt(null!==(i=t.component.selection)&&void 0!==i?i:{}));try{for(l.s();!(u=l.n()).done;){var c=u.value,f=null!==(o=c.project.hasField[s])&&void 0!==o?o:c.project.hasChannel[e];if(f&&PXt.defined(c)){var d=null!==(a=n.get("selections"))&&void 0!==a?a:[];d.push(c.name),n.set("selections",d,!1),f.hasLegend=!0}}}catch(h){l.e(h)}finally{l.f()}}(t,e,c);var f=void 0!==o?!o:l.disable;if(c.set("disable",f,void 0!==o),f)return c;o=o||{};var d,h=t.getScaleComponent(e).get("type"),p=oYt(u[e]),v=DWt(p)?null===(n=EHt(p.timeUnit))||void 0===n?void 0:n.unit:void 0,g=o.orient||s.legend.orient||"right",m=XKt({legend:o,channel:e,timeUnit:v,scaleType:h}),y={legend:o,channel:e,model:t,markDef:a,encoding:u,fieldOrDatumDef:p,legendConfig:l,config:s,scaleType:h,orient:g,legendType:m,direction:KKt({legend:o,legendType:m,orient:g,legendConfig:l})},x=qe(UKt);try{for(x.s();!(d=x.n()).done;){var b=d.value;if(!("gradient"===m&&b.startsWith("symbol")||"symbol"===m&&b.startsWith("gradient"))){var w=b in $Kt?$Kt[b](y):o[b];if(void 0!==w){var S=QKt(w,b,o,t.fieldDef(e));(S||void 0===s.legend[b])&&c.set(b,w,S)}}}}catch(D){x.e(D)}finally{x.f()}for(var k=null!==(r=null===o||void 0===o?void 0:o.encoding)&&void 0!==r?r:{},C=c.get("selections"),E={},O={fieldOrDatumDef:p,model:t,channel:e,legendCmpt:c,legendType:m},M=0,_=["labels","legend","title","symbols","gradient","entries"];M<_.length;M++){var A=_[M],T=RKt(null!==(i=k[A])&&void 0!==i?i:{},t),P=A in VKt?VKt[A](T,O):T;void 0===P||Pjt(P)||(E[A]=Object.assign(Object.assign(Object.assign({},(null===C||void 0===C?void 0:C.length)&&DWt(p)?{name:"".concat(Ljt(p.field),"_legend_").concat(A)}:{}),(null===C||void 0===C?void 0:C.length)?{interactive:!!C}:{}),{update:P}))}return Pjt(E)||c.set("encode",E,!!(null===o||void 0===o?void 0:o.encoding)),c}function eZt(t,e){var n,r,i,o;if(!t)return e.clone();var a=t.getWithExplicit("orient"),u=e.getWithExplicit("orient");if(!a.explicit||!u.explicit||a.value===u.value){var s,l=!1,c=qe(UKt);try{var f=function(){var n=s.value,r=g$t(t.getWithExplicit(n),e.getWithExplicit(n),n,"legend",(function(t,e){switch(n){case"symbolType":return function(t,e){if("circle"===e.value)return e;return t}(t,e);case"title":return pUt(t,e);case"type":return l=!0,h$t("symbol")}return v$t(t,e,n,"legend")}));t.setWithExplicit(n,r)};for(c.s();!(s=c.n()).done;)f()}catch(d){c.e(d)}finally{c.f()}return l&&((null===(r=null===(n=t.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&jjt(t.implicit,["encode","gradient"]),(null===(o=null===(i=t.explicit)||void 0===i?void 0:i.encode)||void 0===o?void 0:o.gradient)&&jjt(t.explicit,["encode","gradient"])),t}}var nZt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function rZt(t){var e,n=t.component.legends,r={},i=qe(Djt(n));try{for(i.s();!(e=i.n()).done;){var o=e.value,a=t.getScaleComponent(o),u=mjt(a.get("domains"));if(r[u]){var s,l=qe(r[u]);try{for(l.s();!(s=l.n()).done;){eZt(s.value,n[o])||r[u].push(n[o])}}catch(f){l.e(f)}finally{l.f()}}else r[u]=[n[o].clone()]}}catch(f){i.e(f)}finally{i.f()}var c=Fjt(r).flat().map((function(e){return function(t,e){var n,r,i,o=t.combine(),a=o.disable,u=o.labelExpr,s=(o.selections,nZt(o,["disable","labelExpr","selections"]));if(a)return;!1===e.aria&&void 0==s.aria&&(s.aria=!1);if(null===(n=s.encode)||void 0===n?void 0:n.symbols){var l=s.encode.symbols.update;!l.fill||"transparent"===l.fill.value||l.stroke||s.stroke||(l.stroke={value:"transparent"});var c,d=qe(vqt);try{for(d.s();!(c=d.n()).done;){var h=c.value;s[h]&&delete l[h]}}catch(f){d.e(f)}finally{d.f()}}s.title||delete s.title;if(void 0!==u){var p=u;(null===(i=null===(r=s.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&qzt(s.encode.labels.update.text)&&(p=Wjt(u,"datum.label",s.encode.labels.update.text.signal)),function(t,e,n,r){var i,o,a,u,s;null!==(i=t.encode)&&void 0!==i||(t.encode={}),null!==(o=(u=t.encode)[e])&&void 0!==o||(u[e]={}),null!==(a=(s=t.encode[e]).update)&&void 0!==a||(s.update={}),t.encode[e].update[n]=r}(s,"labels","text",{signal:p})}return s}(e,t.config)})).filter((function(t){return void 0!==t}));return c}function iZt(t){return zJt(t)||BJt(t)?function(t){return t.children.reduce((function(t,e){return t.concat(e.assembleProjections())}),oZt(t))}(t):oZt(t)}function oZt(t){var e=t.component.projection;if(!e||e.merged)return[];var n=e.combine(),r=n.name;if(e.data){var i={signal:"[".concat(e.size.map((function(t){return t.signal})).join(", "),"]")},o=e.data.reduce((function(e,n){var r=qzt(n)?n.signal:"data('".concat(t.lookupDataSource(n),"')");return bjt(e,r)||e.push(r),e}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:o.length>1?"[".concat(o.join(", "),"]"):o[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var aZt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],uZt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i,o){var a;return Xr(this,n),(a=e.call(this,Object.assign({},r),{name:t})).specifiedProjection=r,a.size=i,a.data=o,a.merged=!1,a}return $r(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(f$t);function sZt(t){t.component.projection=RJt(t)?function(t){var e;if(t.hasProjection){var n=Hzt(t.specifiedProjection),r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]:void 0,o=r?function(t){for(var e=[],n=t.encoding,r=0,i=[[gBt,vBt],[yBt,mBt]];r<i.length;r++){var o=i[r];(oYt(n[o[0]])||oYt(n[o[1]]))&&e.push({signal:t.getName("geojson_".concat(e.length))})}t.channelHasField(SBt)&&t.typedFieldDef(SBt).type===GHt&&e.push({signal:t.getName("geojson_".concat(e.length))});0===e.length&&e.push(t.requestDataName(m$t.Main));return e}(t):void 0,a=new uZt(t.projectionName(!0),Object.assign(Object.assign({},null!==(e=Hzt(t.config.projection))&&void 0!==e?e:{}),null!==n&&void 0!==n?n:{}),i,o);return a.get("type")||a.set("type","equalEarth",!1),a}return}(t):function(t){if(0===t.children.length)return;var e,n,r=qe(t.children);try{for(r.s();!(n=r.n()).done;){sZt(n.value)}}catch(d){r.e(d)}finally{r.f()}var i=Sjt(t.children,(function(t){var n=t.component.projection;if(n){if(e){var r=function(t,e){var n=Sjt(aZt,(function(n){return!r6(t.explicit,n)&&!r6(e.explicit,n)||!!(r6(t.explicit,n)&&r6(e.explicit,n)&&djt(t.get(n),e.get(n)))}));if(djt(t.size,e.size)){if(n)return t;if(djt(t.explicit,{}))return e;if(djt(e.explicit,{}))return t}return null}(e,n);return r&&(e=r),!!r}return e=n,!0}return!0}));if(e&&i){var o,a=t.projectionName(!0),u=new uZt(a,e.specifiedProjection,e.size,hjt(e.data)),s=qe(t.children);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=l.component.projection;if(c){var f;if(c.isFit)(f=u.data).push.apply(f,Ye(l.component.projection.data));l.renameProjection(c.get("name"),a),c.merged=!0}}}catch(d){s.e(d)}finally{s.f()}return u}return}(t)}var lZt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function cZt(t,e){return"".concat(Izt(t),"_").concat(e)}function fZt(t,e,n){var r,i=cZt(null!==(r=lYt(n,void 0))&&void 0!==r?r:{},e);return t.getName("".concat(i,"_bins"))}function dZt(t,e,n){var r,i;r=function(t){return"as"in t}(t)?p6(t.as)?[t.as,"".concat(t.as,"_end")]:[t.as[0],t.as[1]]:[qWt(t,{forAs:!0}),qWt(t,{binSuffix:"end",forAs:!0})];var o=Object.assign({},lYt(e,void 0)),a=cZt(o,t.field),u=function(t,e){return{signal:t.getName("".concat(e,"_bins")),extentSignal:t.getName("".concat(e,"_extent"))}}(n,a),s=u.signal,l=u.extentSignal;if(Bzt(o.extent)){var c=o.extent;i=tKt(n,c.param,c),delete o.extent}return{key:a,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:t.field,as:[r]},s?{signal:s}:{}),l?{extentSignal:l}:{}),i?{span:i}:{})}}var hZt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).bins=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.bins))}},{key:"merge",value:function(t,e){var n,r=qe(Djt(t.bins));try{for(r.s();!(n=r.n()).done;){var i=n.value;i in this.bins?(e(t.bins[i].signal,this.bins[i].signal),this.bins[i].as=Ejt([].concat(Ye(this.bins[i].as),Ye(t.bins[i].as)),yjt)):this.bins[i]=t.bins[i]}}catch(s){r.e(s)}finally{r.f()}var o,a=qe(t.children);try{for(a.s();!(o=a.n()).done;){var u=o.value;t.removeChild(u),u.parent=this}}catch(s){a.e(s)}finally{a.f()}t.remove()}},{key:"producedFields",value:function(){return new Set(Fjt(this.bins).map((function(t){return t.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(Fjt(this.bins).map((function(t){return t.field})))}},{key:"hash",value:function(){return"Bin ".concat(yjt(this.bins))}},{key:"assemble",value:function(){return Fjt(this.bins).flatMap((function(t){var e=[],n=ul(t.as),r=n[0],i=n.slice(1),o=t.bin,a=o.extent,u=lZt(o,["extent"]),s=Object.assign(Object.assign(Object.assign({type:"bin",field:Vjt(t.field),as:r,signal:t.signal},Bzt(a)?{extent:null}:{extent:a}),t.span?{span:{signal:"span(".concat(t.span,")")}}:{}),u);!a&&t.extentSignal&&(e.push({type:"extent",field:Vjt(t.field),signal:t.extentSignal}),s.extent={signal:t.extentSignal}),e.push(s);var l,c=qe(i);try{for(c.s();!(l=c.n()).done;)for(var f=l.value,d=0;d<2;d++)e.push({type:"formula",expr:qWt({field:r[d]},{expr:"datum"}),as:f[d]})}catch(h){c.e(h)}finally{c.f()}return t.formula&&e.push({type:"formula",expr:t.formula,as:t.formulaAs}),e}))}}],[{key:"makeFromEncoding",value:function(t,e){var r=e.reduceFieldDef((function(t,n,r){if(jWt(n)&&Lzt(n.bin)){var i=dZt(n,n.bin,e),o=i.key,a=i.binComponent;t[o]=Object.assign(Object.assign(Object.assign({},a),t[o]),function(t,e,n,r){var i,o;if(vYt(e,n)){var a=RJt(t)&&null!==(o=null!==(i=t.axis(n))&&void 0!==i?i:t.legend(n))&&void 0!==o?o:{},u=qWt(e,{expr:"datum"}),s=qWt(e,{expr:"datum",binSuffix:"end"});return{formulaAs:qWt(e,{binSuffix:"range",forAs:!0}),formula:hWt(u,s,a.format,a.formatType,r)}}return{}}(e,n,r,e.config))}return t}),{});return Pjt(r)?null:new n(t,r)}},{key:"makeFromTransform",value:function(t,e,r){var i=dZt(e,e.bin,r);return new n(t,mt({},i.key,i.binComponent))}}]),n}(T$t);function pZt(t,e,n,r){var i,o=RJt(r)?r.encoding[nzt(e)]:void 0;if(jWt(n)&&RJt(r)&&_Wt(n,o,r.markDef,r.config))t.add(qWt(n,{})),t.add(qWt(n,{suffix:"end"})),n.bin&&vYt(n,e)&&t.add(qWt(n,{binSuffix:"range"}));else if(function(t){return t in zBt}(e)){var a=function(t){switch(t){case vBt:return"y";case mBt:return"y2";case gBt:return"x";case yBt:return"x2"}}(e);t.add(r.getName(a))}else t.add(qWt(n));return zWt(n)&&function(t){return x5(t)&&"field"in t}(null===(i=n.scale)||void 0===i?void 0:i.range)&&t.add(n.scale.range.field),t}var vZt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i){var o;return Xr(this,n),(o=e.call(this,t)).dimensions=r,o.measures=i,o}return $r(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),hjt(this.measures))}},{key:"groupBy",get:function(){return this.dimensions}},{key:"merge",value:function(t){return Mjt(this.dimensions,t.dimensions)?(function(t,e){var n,r,i=qe(Djt(e));try{for(i.s();!(r=i.n()).done;){var o,a=r.value,u=e[a],s=qe(Djt(u));try{for(s.s();!(o=s.n()).done;){var l=o.value;a in t?t[a][l]=new Set([].concat(Ye(null!==(n=t[a][l])&&void 0!==n?n:[]),Ye(u[l]))):t[a]=mt({},l,u[l])}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}}(this.measures,t.measures),!0):(function(){var t;(t=rHt).debug.apply(t,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(t){t.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(Ye(this.dimensions),Ye(Djt(this.measures))))}},{key:"producedFields",value:function(){var t,e=new Set,n=qe(Djt(this.measures));try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=qe(Djt(this.measures[i]));try{for(o.s();!(r=o.n()).done;){var a=r.value,u=this.measures[i][a];0===u.size?e.add("".concat(a,"_").concat(i)):u.forEach(e.add,e)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}return e}},{key:"hash",value:function(){return"Aggregate ".concat(yjt({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var t,e=[],n=[],r=[],i=qe(Djt(this.measures));try{for(i.s();!(t=i.n()).done;){var o,a=t.value,u=qe(Djt(this.measures[a]));try{for(u.s();!(o=u.n()).done;){var s,l=o.value,c=qe(this.measures[a][l]);try{for(c.s();!(s=c.n()).done;){var f=s.value;r.push(f),e.push(l),n.push("*"===a?null:Vjt(a))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){u.e(d)}finally{u.f()}}}catch(d){i.e(d)}finally{i.f()}return{type:"aggregate",groupby:Ye(this.dimensions).map(Vjt),ops:e,fields:n,as:r}}}],[{key:"makeFromEncoding",value:function(t,e){var r=!1;e.forEachFieldDef((function(t){t.aggregate&&(r=!0)}));var i={},o=new Set;return r?(e.forEachFieldDef((function(t,n){var r,a,u,s,l=t.aggregate,c=t.field;if(l)if("count"===l)null!==(r=i["*"])&&void 0!==r||(i["*"]={}),i["*"].count=new Set([qWt(t,{forAs:!0})]);else{if(_zt(l)||Azt(l)){var f=_zt(l)?"argmin":"argmax",d=l[f];null!==(a=i[d])&&void 0!==a||(i[d]={}),i[d][f]=new Set([qWt({op:f,field:d},{forAs:!0})])}else null!==(u=i[c])&&void 0!==u||(i[c]={}),i[c][l]=new Set([qWt(t,{forAs:!0})]);wzt(n)&&"unaggregated"===e.scaleDomain(n)&&(null!==(s=i[c])&&void 0!==s||(i[c]={}),i[c].min=new Set([qWt({field:c,aggregate:"min"},{forAs:!0})]),i[c].max=new Set([qWt({field:c,aggregate:"max"},{forAs:!0})]))}else pZt(o,n,t,e)})),o.size+Djt(i).length===0?null:new n(t,o,i)):null}},{key:"makeFromTransform",value:function(t,e){var r,i,o,a,u=new Set,s={},l=qe(e.aggregate);try{for(l.s();!(a=l.n()).done;){var c=a.value,f=c.op,d=c.field,h=c.as;f&&("count"===f?(null!==(r=s["*"])&&void 0!==r||(s["*"]={}),s["*"].count=new Set([h||qWt(c,{forAs:!0})])):(null!==(i=s[d])&&void 0!==i||(s[d]={}),s[d][f]=new Set([h||qWt(c,{forAs:!0})])))}}catch(m){l.e(m)}finally{l.f()}var p,v=qe(null!==(o=e.groupby)&&void 0!==o?o:[]);try{for(v.s();!(p=v.n()).done;){var g=p.value;u.add(g)}}catch(m){v.e(m)}finally{v.f()}return u.size+Djt(s).length===0?null:new n(t,u,s)}}]),n}(T$t),gZt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i,o){var a;Xr(this,n),(a=e.call(this,t)).model=r,a.name=i,a.data=o;var u,s=qe(YBt);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=r.facet[l];if(c){var f=c.bin,d=c.sort;a[l]=Object.assign({name:r.getName("".concat(l,"_domain")),fields:[qWt(c)].concat(Ye(Lzt(f)?[qWt(c,{binSuffix:"end"})]:[]))},yWt(d)?{sortField:d}:y5(d)?{sortIndexField:gKt(c,l)}:{})}}}catch(h){s.e(h)}finally{s.f()}return a.childModel=r.child,a}return $r(n,[{key:"hash",value:function(){var t,e="Facet",n=qe(YBt);try{for(n.s();!(t=n.n()).done;){var r=t.value;this[r]&&(e+=" ".concat(r.charAt(0),":").concat(yjt(this[r])))}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"fields",get:function(){var t,e,n=[],r=qe(YBt);try{for(r.s();!(e=r.n()).done;){var i=e.value;(null===(t=this[i])||void 0===t?void 0:t.fields)&&n.push.apply(n,Ye(this[i].fields))}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"dependentFields",value:function(){var t,e=new Set(this.fields),n=qe(YBt);try{for(n.s();!(t=n.n()).done;){var r=t.value;this[r]&&(this[r].sortField&&e.add(this[r].sortField.field),this[r].sortIndexField&&e.add(this[r].sortIndexField))}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var t,e={},n=qe(czt);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.childModel.component.scales[r];if(i&&!i.merged){var o=i.get("type"),a=i.get("range");if(dVt(o)&&Gzt(a)){var u=fJt(dJt(this.childModel,r));u?e[r]=u:aHt(bUt(r))}}}}catch(s){n.e(s)}finally{n.f()}return e}},{key:"assembleRowColumnHeaderData",value:function(t,e,n){var r={row:"y",column:"x",facet:void 0}[t],i=[],o=[],a=[];r&&n&&n[r]&&(e?(i.push("distinct_".concat(n[r])),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push("distinct_".concat(n[r])));var u=this[t],s=u.sortField,l=u.sortIndexField;if(s){var c=s.op,f=void 0===c?pWt:c,d=s.field;i.push(d),o.push(f),a.push(qWt(s,{forAs:!0}))}else l&&(i.push(l),o.push("max"),a.push(l));return{name:this[t].name,source:null!==e&&void 0!==e?e:this.data,transform:[Object.assign({type:"aggregate",groupby:this[t].fields},i.length?{fields:i,ops:o,as:a}:{})]}}},{key:"assembleFacetHeaderData",value:function(t){var e,n,r,i=this.model.layout.columns,o=this.model.component.layoutHeaders,a=[],u={},s=qe(bKt);try{for(s.s();!(r=s.n()).done;){var l,c=r.value,f=qe(wKt);try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=qe(null!==(e=o[c]&&o[c][h])&&void 0!==e?e:[]);try{for(p.s();!(d=p.n()).done;){if((null===(n=d.value.axes)||void 0===n?void 0:n.length)>0){u[c]=!0;break}}}catch(x){p.e(x)}finally{p.f()}}}catch(x){f.e(x)}finally{f.f()}if(u[c]){var v='length(data("'.concat(this.facet.name,'"))'),g="row"===c?i?{signal:"ceil(".concat(v," / ").concat(i,")")}:1:i?{signal:"min(".concat(v,", ").concat(i,")")}:{signal:v};a.push({name:"".concat(this.facet.name,"_").concat(c),transform:[{type:"sequence",start:0,stop:g}]})}}}catch(x){s.e(x)}finally{s.f()}var m=u.row,y=u.column;return(m||y)&&a.unshift(this.assembleRowColumnHeaderData("facet",null,t)),a}},{key:"assemble",value:function(){var t,e,n=[],r=null,i=this.getChildIndependentFieldsWithStep(),o=this.column,a=this.row,u=this.facet;if(o&&a&&(i.x||i.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var s=[].concat(null!==(t=i.x)&&void 0!==t?t:[],null!==(e=i.y)&&void 0!==e?e:[]),l=s.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:s,ops:l}]})}for(var c=0,f=[rBt,nBt];c<f.length;c++){var d=f[c];this[d]&&n.push(this.assembleRowColumnHeaderData(d,r,i))}if(u){var h=this.assembleFacetHeaderData(i);h&&n.push.apply(n,Ye(h))}return n}}]),n}(T$t);function mZt(t){return t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t}function yZt(t,e){var n=zjt(t);if("number"===e)return"toNumber(".concat(n,")");if("boolean"===e)return"toBoolean(".concat(n,")");if("string"===e)return"toString(".concat(n,")");if("date"===e)return"toDate(".concat(n,")");if("flatten"===e)return n;if(e.startsWith("date:")){var r=mZt(e.slice(5,e.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(e.startsWith("utc:")){var i=mZt(e.slice(4,e.length));return"utcParse(".concat(n,",'").concat(i,"')")}return aHt('Unrecognized parse "'.concat(e,'".')),null}function xZt(t){var e={};return cjt(t.filter,(function(t){var n;if(IHt(t)){var r=null;MHt(t)?r=tUt(t.equal):AHt(t)?r=tUt(t.lte):_Ht(t)?r=tUt(t.lt):THt(t)?r=tUt(t.gt):PHt(t)?r=tUt(t.gte):DHt(t)?r=t.range[0]:FHt(t)&&(r=(null!==(n=t.oneOf)&&void 0!==n?n:t.in)[0]),r&&(uHt(r)?e[t.field]="date":d6(r)?e[t.field]="number":p6(r)&&(e[t.field]="string")),t.timeUnit&&(e[t.field]="date")}})),e}function bZt(t){var e={};function n(t){var n;dYt(t)?e[t.field]="date":"quantitative"===t.type&&(p6(n=t.aggregate)&&bjt(["min","max"],n))?e[t.field]="number":qjt(t.field)>1?t.field in e||(e[t.field]="flatten"):zWt(t)&&yWt(t.sort)&&qjt(t.sort.field)>1&&(t.sort.field in e||(e[t.sort.field]="flatten"))}if((RJt(t)||jJt(t))&&t.forEachFieldDef((function(e,r){if(jWt(e))n(e);else{var i=tzt(r),o=t.fieldDef(i);n(Object.assign(Object.assign({},e),{type:o.type}))}})),RJt(t)){var r=t.mark,i=t.markDef,o=t.encoding;if(BVt(r)&&!t.encoding.order){var a=o["horizontal"===i.orient?"y":"x"];DWt(a)&&"quantitative"===a.type&&!(a.field in e)&&(e[a.field]="number")}}return e}var wZt,SZt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t))._parse=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(yjt(this._parse))}},{key:"parse",get:function(){return this._parse}},{key:"merge",value:function(t){this._parse=Object.assign(Object.assign({},this._parse),t.parse),t.remove()}},{key:"assembleFormatParse",value:function(){var t,e={},n=qe(Djt(this._parse));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this._parse[r];1===qjt(r)&&(e[r]=i)}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"producedFields",value:function(){return new Set(Djt(this._parse))}},{key:"dependentFields",value:function(){return new Set(Djt(this._parse))}},{key:"assembleTransforms",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Djt(this._parse).filter((function(t){return!e||qjt(t)>1})).map((function(e){var n=yZt(e,t._parse[e]);return n?{type:"formula",expr:n,as:Yjt(e)}:null})).filter((function(t){return null!==t}))}}],[{key:"makeExplicit",value:function(t,e,n){var r,i={},o=e.data;return!S$t(o)&&(null===(r=null===o||void 0===o?void 0:o.format)||void 0===r?void 0:r.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},n)}},{key:"makeWithAncestors",value:function(t,e,r,i){var o,a=qe(Djt(r));try{for(a.s();!(o=a.n()).done;){var u=o.value,s=i.getWithExplicit(u);void 0!==s.value&&(s.explicit||s.value===r[u]||"derived"===s.value||"flatten"===r[u]?delete r[u]:aHt(OUt(u,r[u],s.value)))}}catch(x){a.e(x)}finally{a.f()}var l,c=qe(Djt(e));try{for(c.s();!(l=c.n()).done;){var f=l.value,d=i.get(f);void 0!==d&&(d===e[f]?delete e[f]:aHt(OUt(f,e[f],d)))}}catch(x){c.e(x)}finally{c.f()}var h=new f$t(e,r);i.copyAll(h);var p,v={},g=qe(Djt(h.combine()));try{for(g.s();!(p=g.n()).done;){var m=p.value,y=h.get(m);null!==y&&(v[m]=y)}}catch(x){g.e(x)}finally{g.f()}return 0===Djt(v).length||i.parseNothing?null:new n(t,v)}}]),n}(T$t),kZt=function(t){Zr(n,t);var e=ri(n);function n(t){return Xr(this,n),e.call(this,t)}return $r(n,[{key:"clone",value:function(){return new n(null)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([mqt])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:mqt}}}]),n}(T$t),CZt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).params=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(yjt(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(T$t),EZt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).params=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var t;return new Set([null!==(t=this.params.as)&&void 0!==t?t:"data"])}},{key:"hash",value:function(){return"Hash ".concat(yjt(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),n}(T$t),OZt=function(t){Zr(n,t);var e=ri(n);function n(t){var r,i;if(Xr(this,n),r=e.call(this,null),null!==t&&void 0!==t||(t={name:"source"}),S$t(t)||(i=t.format?Object.assign({},gjt(t.format,["parse"])):{}),b$t(t))r._data={values:t.values};else if(x$t(t)){if(r._data={url:t.url},!i.type){var o=/(?:\.([^.]+))?$/.exec(t.url)[1];bjt(["json","csv","tsv","dsv","topojson"],o)||(o="json"),i.type=o}}else C$t(t)?r._data={values:[{type:"Sphere"}]}:(w$t(t)||S$t(t))&&(r._data={});return r._generator=S$t(t),t.name&&(r._name=t.name),i&&!Pjt(i)&&(r._data.format=i),r}return $r(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"data",get:function(){return this._data}},{key:"hasName",value:function(){return!!this._name}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(t){this._name=t}},{key:"parent",set:function(t){throw new Error("Source nodes have to be roots.")}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}]),n}(T$t),MZt=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},_Zt=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};function AZt(t){return t instanceof OZt||t instanceof CZt||t instanceof EZt}var TZt=function(){function t(){Xr(this,t),wZt.set(this,void 0),MZt(this,wZt,!1,"f")}return $r(t,[{key:"setModified",value:function(){MZt(this,wZt,!0,"f")}},{key:"modifiedFlag",get:function(){return _Zt(this,wZt,"f")}}]),t}();wZt=new WeakMap;var PZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"getNodeDepths",value:function(t,e,n){n.set(t,e);var r,i=qe(t.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.getNodeDepths(o,e+1,n)}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"optimize",value:function(t){var e,n=Ye(this.getNodeDepths(t,0,new Map).entries()).sort((function(t,e){return e[1]-t[1]})),r=qe(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;this.run(i[0])}}catch(o){r.e(o)}finally{r.f()}return this.modifiedFlag}}]),n}(TZt),DZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"optimize",value:function(t){this.run(t);var e,n=qe(t.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.optimize(r)}}catch(i){n.e(i)}finally{n.f()}return this.modifiedFlag}}]),n}(TZt),FZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"mergeNodes",value:function(t,e){var n,r=e.shift(),i=qe(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.removeChild(o),o.parent=r,o.remove()}}catch(a){i.e(a)}finally{i.f()}}},{key:"run",value:function(t){for(var e=t.children.map((function(t){return t.hash()})),n={},r=0;r<e.length;r++)void 0===n[e[r]]?n[e[r]]=[t.children[r]]:n[e[r]].push(t.children[r]);var i,o=qe(Djt(n));try{for(o.s();!(i=o.n()).done;){var a=i.value;n[a].length>1&&(this.setModified(),this.mergeNodes(t,n[a]))}}catch(u){o.e(u)}finally{o.f()}}}]),n}(DZt),NZt=function(t){Zr(n,t);var e=ri(n);function n(t){var r;return Xr(this,n),(r=e.call(this)).requiresSelectionId=t&&GXt(t),r}return $r(n,[{key:"run",value:function(t){t instanceof kZt&&(this.requiresSelectionId&&(AZt(t.parent)||t.parent instanceof vZt||t.parent instanceof SZt)||(this.setModified(),t.remove()))}}]),n}(DZt),IZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"optimize",value:function(t){return this.run(t,new Set),this.modifiedFlag}},{key:"run",value:function(t,e){var n=new Set;t instanceof F$t&&_jt(n=t.producedFields(),e)&&(this.setModified(),t.removeFormulas(e),0===t.producedFields.length&&t.remove());var r,i=qe(t.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.run(o,new Set([].concat(Ye(e),Ye(n))))}}catch(a){i.e(a)}finally{i.f()}}}]),n}(TZt),LZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.call(this)}return $r(n,[{key:"run",value:function(t){t instanceof P$t&&!t.isRequired()&&(this.setModified(),t.remove())}}]),n}(DZt),RZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"run",value:function(t){if(!AZt(t)&&!(t.numChildren()>1)){var e,n=qe(t.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof SZt)if(t instanceof SZt)this.setModified(),t.merge(r);else{if(Tjt(t.producedFields(),r.dependentFields()))continue;this.setModified(),r.swapWithParent()}}}catch(i){n.e(i)}finally{n.f()}}}}]),n}(PZt),jZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"run",value:function(t){var e=Ye(t.children),n=t.children.filter((function(t){return t instanceof SZt}));if(t.numChildren()>1&&n.length>=1){var r,i={},o=new Set,a=qe(n);try{for(a.s();!(r=a.n()).done;){var u,s=r.value.parse,l=qe(Djt(s));try{for(l.s();!(u=l.n()).done;){var c=u.value;c in i?i[c]!==s[c]&&o.add(c):i[c]=s[c]}}catch(b){l.e(b)}finally{l.f()}}}catch(b){a.e(b)}finally{a.f()}var f,d=qe(o);try{for(d.s();!(f=d.n()).done;){delete i[f.value]}}catch(b){d.e(b)}finally{d.f()}if(!Pjt(i)){this.setModified();var h,p=new SZt(t,i),v=qe(e);try{for(v.s();!(h=v.n()).done;){var g=h.value;if(g instanceof SZt){var m,y=qe(Djt(i));try{for(y.s();!(m=y.n()).done;){var x=m.value;delete g.parse[x]}}catch(b){y.e(b)}finally{y.f()}}t.removeChild(g),g.parent=p,g instanceof SZt&&0===Djt(g.parse).length&&g.remove()}}catch(b){v.e(b)}finally{v.f()}}}}}]),n}(PZt),BZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"run",value:function(t){t instanceof P$t||t.numChildren()>0||t instanceof gZt||t instanceof OZt||(this.setModified(),t.remove())}}]),n}(PZt),zZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"run",value:function(t){var e,n=t.children.filter((function(t){return t instanceof F$t})),r=n.pop(),i=qe(n);try{for(i.s();!(e=i.n()).done;){var o=e.value;this.setModified(),r.merge(o)}}catch(a){i.e(a)}finally{i.f()}}}]),n}(PZt),UZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"run",value:function(t){var e,n={},r=qe(t.children.filter((function(t){return t instanceof vZt})));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=yjt(i.groupBy);o in n||(n[o]=[]),n[o].push(i)}}catch(h){r.e(h)}finally{r.f()}var a,u=qe(Djt(n));try{for(u.s();!(a=u.n()).done;){var s=n[a.value];if(s.length>1){var l,c=s.pop(),f=qe(s);try{for(f.s();!(l=f.n()).done;){var d=l.value;c.merge(d)&&(t.removeChild(d),d.parent=c,d.remove(),this.setModified())}}catch(h){f.e(h)}finally{f.f()}}}}catch(h){u.e(h)}finally{u.f()}}}]),n}(PZt),HZt=function(t){Zr(n,t);var e=ri(n);function n(t){var r;return Xr(this,n),(r=e.call(this)).model=t,r}return $r(n,[{key:"run",value:function(t){var e,n=!(AZt(t)||t instanceof JXt||t instanceof SZt||t instanceof kZt),r=[],i=[],o=qe(t.children);try{for(o.s();!(e=o.n()).done;){var a=e.value;a instanceof hZt&&(n&&!Tjt(t.producedFields(),a.dependentFields())?r.push(a):i.push(a))}}catch(v){o.e(v)}finally{o.f()}if(r.length>0){var u,s=r.pop(),l=qe(r);try{for(l.s();!(u=l.n()).done;){var c=u.value;s.merge(c,this.model.renameSignal.bind(this.model))}}catch(v){l.e(v)}finally{l.f()}this.setModified(),t instanceof hZt?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){var f,d=i.pop(),h=qe(i);try{for(h.s();!(f=h.n()).done;){var p=f.value;d.merge(p,this.model.renameSignal.bind(this.model))}}catch(v){h.e(v)}finally{h.f()}this.setModified()}}}]),n}(PZt),VZt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"run",value:function(t){var e=Ye(t.children),n=wjt(e,(function(t){return t instanceof P$t}));if(n&&!(t.numChildren()<=1)){var r,i,o=[],a=qe(e);try{for(a.s();!(i=a.n()).done;){var u=i.value;if(u instanceof P$t){for(var s=u;1===s.numChildren();){var l=j(s.children,1)[0];if(!(l instanceof P$t))break;s=l}o.push.apply(o,Ye(s.children)),r?(t.removeChild(u),u.parent=r.parent,r.parent.removeChild(r),r.parent=s,this.setModified()):r=s}else o.push(u)}}catch(h){a.e(h)}finally{a.f()}if(o.length){this.setModified();var c,f=qe(o);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.parent.removeChild(d),d.parent=r}}catch(h){f.e(h)}finally{f.f()}}}}}]),n}(PZt),WZt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).transform=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"addDimensions",value:function(t){this.transform.groupby=Ejt(this.transform.groupby.concat(t),(function(t){return t}))}},{key:"dependentFields",value:function(){var t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map((function(t){return t.field})).filter((function(t){return void 0!==t})).forEach(t.add,t),t}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(t){var e;return null!==(e=t.as)&&void 0!==e?e:qWt(t)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t,e=[],n=[],r=[],i=qe(this.transform.joinaggregate);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.push(o.op),r.push(this.getDefaultName(o)),e.push(void 0===o.field?null:o.field)}}catch(u){i.e(u)}finally{i.f()}var a=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:e},void 0!==a?{groupby:a}:{})}}]),n}(T$t);var YZt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t))._stack=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this._stack))}},{key:"stack",get:function(){return this._stack}},{key:"addDimensions",value:function(t){var e;(e=this._stack.facetby).push.apply(e,Ye(t))}},{key:"dependentFields",value:function(){var t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(yjt(this._stack))}},{key:"getGroupbyFields",value:function(){var t=this._stack,e=t.dimensionFieldDefs,n=t.impute,r=t.groupby;return e.length>0?e.map((function(t){return t.bin?n?[qWt(t,{binSuffix:"mid"})]:[qWt(t,{}),qWt(t,{binSuffix:"end"})]:[qWt(t)]})).flat():null!==r&&void 0!==r?r:[]}},{key:"assemble",value:function(){var t=[],e=this._stack,n=e.facetby,r=e.dimensionFieldDefs,i=e.stackField,o=e.stackby,a=e.sort,u=e.offset,s=e.impute,l=e.as;if(s){var c,f=qe(r);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=d.bandPosition,p=void 0===h?.5:h;if(d.bin){var v=qWt(d,{expr:"datum"}),g=qWt(d,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:"".concat(p,"*").concat(v,"+").concat(1-p,"*").concat(g),as:qWt(d,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[].concat(Ye(o),Ye(n)),key:qWt(d,{binSuffix:"mid"}),method:"value",value:0})}}catch(m){f.e(m)}finally{f.f()}}return t.push({type:"stack",groupby:[].concat(Ye(this.getGroupbyFields()),Ye(n)),field:i,sort:a,as:l,offset:u}),t}}],[{key:"makeFromTransform",value:function(t,e){var r=e.stack,i=e.groupby,o=e.as,a=e.offset,u=void 0===a?"zero":a,s=[],l=[];if(void 0!==e.sort){var c,f=qe(e.sort);try{for(f.s();!(c=f.n()).done;){var d=c.value;s.push(d.field),l.push(Gjt(d.order,"ascending"))}}catch(v){f.e(v)}finally{f.f()}}var h,p={field:s,order:l};return h=function(t){return y5(t)&&t.every((function(t){return p6(t)}))&&t.length>1}(o)?o:p6(o)?[o,"".concat(o,"_end")]:["".concat(e.stack,"_start"),"".concat(e.stack,"_end")],new n(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:u,sort:p,facetby:[],as:h})}},{key:"makeFromEncoding",value:function(t,e){var r=e.stack,i=e.encoding;if(!r)return null;var o,a=r.groupbyChannels,u=r.fieldChannel,s=r.offset,l=r.impute,c=a.map((function(t){return iYt(i[t])})).filter((function(t){return!!t})),f=function(t){return t.stack.stackBy.reduce((function(t,e){var n=qWt(e.fieldDef);return n&&t.push(n),t}),[])}(e),d=e.encoding.order;return o=y5(d)||DWt(d)?fUt(d):f.reduce((function(t,e){return t.field.push(e),t.order.push("y"===u?"descending":"ascending"),t}),{field:[],order:[]}),new n(t,{dimensionFieldDefs:c,stackField:e.vgField(u),facetby:[],stackby:f,sort:o,offset:s,impute:l,as:[e.vgField(u,{suffix:"start",forAs:!0}),e.vgField(u,{suffix:"end",forAs:!0})]})}}]),n}(T$t),qZt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).transform=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"addDimensions",value:function(t){this.transform.groupby=Ejt(this.transform.groupby.concat(t),(function(t){return t}))}},{key:"dependentFields",value:function(){var t,e,n=new Set;return(null!==(t=this.transform.groupby)&&void 0!==t?t:[]).forEach(n.add,n),(null!==(e=this.transform.sort)&&void 0!==e?e:[]).forEach((function(t){return n.add(t.field)})),this.transform.window.map((function(t){return t.field})).filter((function(t){return void 0!==t})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(t){var e;return null!==(e=t.as)&&void 0!==e?e:qWt(t)}},{key:"hash",value:function(){return"WindowTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t,e,n=[],r=[],i=[],o=[],a=qe(this.transform.window);try{for(a.s();!(e=a.n()).done;){var u=e.value;r.push(u.op),i.push(this.getDefaultName(u)),o.push(void 0===u.param?null:u.param),n.push(void 0===u.field?null:u.field)}}catch(m){a.e(m)}finally{a.f()}var s=this.transform.frame,l=this.transform.groupby;if(s&&null===s[0]&&null===s[1]&&r.every((function(t){return Tzt(t)})))return Object.assign({type:"joinaggregate",as:i,ops:r,fields:n},void 0!==l?{groupby:l}:{});var c=[],f=[];if(void 0!==this.transform.sort){var d,h=qe(this.transform.sort);try{for(h.s();!(d=h.n()).done;){var p=d.value;c.push(p.field),f.push(null!==(t=p.order)&&void 0!==t?t:"ascending")}}catch(m){h.e(m)}finally{h.f()}}var v={field:c,order:f},g=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:o,as:i,ops:r,fields:n,sort:v},void 0!==g?{ignorePeers:g}:{}),void 0!==l?{groupby:l}:{}),void 0!==s?{frame:s}:{})}}]),n}(T$t);function GZt(t){if(t instanceof gZt)if(1!==t.numChildren()||t.children[0]instanceof P$t){var e=t.model.component.data.main;$Zt(e);var n,r=(a=t,function t(e){if(!(e instanceof gZt)){var n=e.clone();if(n instanceof P$t){var r=XZt+n.getSource();n.setSource(r),a.model.component.data.outputNodes[r]=n}else(n instanceof vZt||n instanceof YZt||n instanceof qZt||n instanceof WZt)&&n.addDimensions(a.fields);var i,o=qe(e.children.flatMap(t));try{for(o.s();!(i=o.n()).done;)i.value.parent=n}catch(u){o.e(u)}finally{o.f()}return[n]}return e.children.flatMap(t)}),i=qe(t.children.map(r).flat());try{for(i.s();!(n=i.n()).done;){n.value.parent=e}}catch(u){i.e(u)}finally{i.f()}}else{var o=t.children[0];(o instanceof vZt||o instanceof YZt||o instanceof qZt||o instanceof WZt)&&o.addDimensions(t.fields),o.swapWithParent(),GZt(t)}else t.children.map(GZt);var a}function $Zt(t){if(t instanceof P$t&&t.type===m$t.Main&&1===t.numChildren()){var e=t.children[0];e instanceof gZt||(e.swapWithParent(),$Zt(t))}}var XZt="scale_";function KZt(t){var e,n=qe(t);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=qe(i.children);try{for(o.s();!(r=o.n()).done;){if(r.value.parent!==i)return!1}}catch(a){o.e(a)}finally{o.f()}if(!KZt(i.children))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}function ZZt(t,e){var n,r=!1,i=qe(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=t.optimize(o)||r}}catch(a){i.e(a)}finally{i.f()}return r}function JZt(t,e,n){var r=t.sources,i=!1;return i=ZZt(new LZt,r)||i,i=ZZt(new NZt(e),r)||i,r=r.filter((function(t){return t.numChildren()>0})),i=ZZt(new BZt,r)||i,r=r.filter((function(t){return t.numChildren()>0})),n||(i=ZZt(new RZt,r)||i,i=ZZt(new HZt(e),r)||i,i=ZZt(new IZt,r)||i,i=ZZt(new jZt,r)||i,i=ZZt(new UZt,r)||i,i=ZZt(new zZt,r)||i,i=ZZt(new FZt,r)||i,i=ZZt(new VZt,r)||i),t.sources=r,i}function QZt(t,e){KZt(t.sources);for(var n=0,r=0,i=0;i<5&&JZt(t,e,!0);i++)n++;t.sources.map(GZt);for(var o=0;o<5&&JZt(t,e,!1);o++)r++;KZt(t.sources),5===Math.max(n,r)&&aHt("Maximum optimization runs(".concat(5,") reached."))}var tJt=function(){function t(e){Xr(this,t),Object.defineProperty(this,"signal",{enumerable:!0,get:e})}return $r(t,null,[{key:"fromName",value:function(e,n){return new t((function(){return e(n)}))}}]),t}(),eJt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function nJt(t){RJt(t)?function(t){var e,n=t.component.scales,r=qe(Djt(n));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=rJt(t,i);if(n[i].setWithExplicit("domains",o),uJt(t,i),t.component.data.isFaceted){for(var a=t;!jJt(a)&&a.parent;)a=a.parent;if("shared"===a.component.resolve.scale[i]){var u,s=qe(o.value);try{for(s.s();!(u=s.n()).done;){var l=u.value;$zt(l)&&(l.data=XZt+l.data.replace(XZt,""))}}catch(c){s.e(c)}finally{s.f()}}}}}catch(c){r.e(c)}finally{r.f()}}(t):function(t){var e,n=qe(t.children);try{for(n.s();!(e=n.n()).done;){nJt(e.value)}}catch(h){n.e(h)}finally{n.f()}var r,i=t.component.scales,o=qe(Djt(i));try{for(o.s();!(r=o.n()).done;){var a,u=r.value,s=void 0,l=null,c=qe(t.children);try{for(c.s();!(a=c.n()).done;){var f=a.value.component.scales[u];if(f){s=void 0===s?f.getWithExplicit("domains"):g$t(s,f.getWithExplicit("domains"),"domains","scale",lJt);var d=f.get("selectionExtent");l&&d&&l.param!==d.param&&aHt(CUt),l=d}}}catch(h){c.e(h)}finally{c.f()}i[u].setWithExplicit("domains",s),l&&i[u].set("selectionExtent",l,!0)}}catch(h){o.e(h)}finally{o.f()}}(t)}function rJt(t,e){var n=t.getScaleComponent(e).get("type"),r=t.encoding,i=function(t,e,n,r){if("unaggregated"===t){var i=sJt(e,n),o=i.valid,a=i.reason;if(!o)return void aHt(a)}else if(void 0===t&&r.useUnaggregatedDomain&&sJt(e,n).valid)return"unaggregated";return t}(t.scaleDomain(e),t.typedFieldDef(e),n,t.config.scale);return i!==t.scaleDomain(e)&&(t.specifiedScales[e]=Object.assign(Object.assign({},t.specifiedScales[e]),{domain:i})),"x"===e&&oYt(r.x2)?oYt(r.x)?g$t(oJt(n,i,t,"x"),oJt(n,i,t,"x2"),"domain","scale",lJt):oJt(n,i,t,"x2"):"y"===e&&oYt(r.y2)?oYt(r.y)?g$t(oJt(n,i,t,"y"),oJt(n,i,t,"y2"),"domain","scale",lJt):oJt(n,i,t,"y2"):oJt(n,i,t,e)}function iJt(t,e,n){var r,i=null===(r=EHt(n))||void 0===r?void 0:r.unit;return"temporal"===e||i?function(t,e,n){return t.map((function(t){var r=hYt(t,{timeUnit:n,type:e});return{signal:"{data: ".concat(r,"}")}}))}(t,e,i):[t]}function oJt(t,e,n,r){var i=oYt(n.encoding[r]),o=i.type,a=i.timeUnit;if(function(t){return t&&t.unionWith}(e)){var u=oJt(t,void 0,n,r),s=iJt(e.unionWith,o,a);return d$t([].concat(Ye(u.value),Ye(s)))}if(qzt(e))return d$t([e]);if(e&&"unaggregated"!==e&&!gVt(e))return d$t(iJt(e,o,a));var l=n.stack;if(l&&r===l.fieldChannel){if("normalize"===l.offset)return h$t([[0,1]]);var c=n.requestDataName(m$t.Main);return h$t([{data:c,field:n.vgField(r,{suffix:"start"})},{data:c,field:n.vgField(r,{suffix:"end"})}])}var f=wzt(r)&&DWt(i)?function(t,e,n){if(!dVt(n))return;var r=t.fieldDef(e),i=r.sort;if(xWt(i))return{op:"min",field:gKt(r,e),order:"ascending"};var o=t.stack,a=o?new Set([].concat(Ye(o.groupbyFields),Ye(o.stackBy.map((function(t){return t.fieldDef.field}))))):void 0;if(yWt(i))return aJt(i,o&&!a.has(i.field));if(mWt(i)){var u=i.encoding,s=i.order,l=t.fieldDef(u),c=l.aggregate,f=l.field,d=o&&!a.has(f);if(_zt(c)||Azt(c))return aJt({field:qWt(l),order:s},d);if(Tzt(c)||!c)return aJt({op:c,field:f,order:s},d)}else{if("descending"===i)return{op:"min",field:t.vgField(e),order:"descending"};if(bjt(["ascending",void 0],i))return!0}return}(n,r,t):void 0;if(NWt(i))return h$t(iJt([i.datum],o,a));var d=i;if("unaggregated"===e){var h=n.requestDataName(m$t.Main),p=i.field;return h$t([{data:h,field:qWt({field:p,aggregate:"min"})},{data:h,field:qWt({field:p,aggregate:"max"})}])}if(Lzt(d.bin)){if(dVt(t))return h$t("bin-ordinal"===t?[]:[{data:Ijt(f)?n.requestDataName(m$t.Main):n.requestDataName(m$t.Raw),field:n.vgField(r,vYt(d,r)?{binSuffix:"range"}:{}),sort:!0!==f&&x5(f)?f:{field:n.vgField(r,{}),op:"min"}}]);var v=d.bin;if(Lzt(v)){var g=fZt(n,d.field,v);return h$t([new tJt((function(){var t=n.getSignalName(g);return"[".concat(t,".start, ").concat(t,".stop]")}))])}return h$t([{data:n.requestDataName(m$t.Main),field:n.vgField(r,{})}])}if(d.timeUnit&&bjt(["time","utc"],t)&&_Wt(d,RJt(n)?n.encoding[nzt(r)]:void 0,n.markDef,n.config)){var m=n.requestDataName(m$t.Main);return h$t([{data:m,field:n.vgField(r)},{data:m,field:n.vgField(r,{suffix:"end"})}])}return h$t(f?[{data:Ijt(f)?n.requestDataName(m$t.Main):n.requestDataName(m$t.Raw),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(m$t.Main),field:n.vgField(r)}])}function aJt(t,e){var n=t.op,r=t.field,i=t.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:e?"sum":pWt},r?{field:Vjt(r)}:{}),i?{order:i}:{})}function uJt(t,e){var n,r=t.component.scales[e],i=t.specifiedScales[e].domain,o=null===(n=t.fieldDef(e))||void 0===n?void 0:n.bin,a=gVt(i)&&i,u=jzt(o)&&Bzt(o.extent)&&o.extent;(a||u)&&r.set("selectionExtent",null!==a&&void 0!==a?a:u,!0)}function sJt(t,e){var n=t.aggregate,r=t.type;return n?p6(n)&&!Nzt.has(n)?{valid:!1,reason:HUt(n)}:"quantitative"===r&&"log"===e?{valid:!1,reason:VUt(t)}:{valid:!0}:{valid:!1,reason:UUt(t)}}function lJt(t,e,n,r){return t.explicit&&e.explicit&&aHt(function(t,e,n,r){return"Conflicting ".concat(e.toString(),' property "').concat(t.toString(),'" (').concat(mjt(n)," and ").concat(mjt(r),"). Using the union of the two domains.")}(n,r,t.value,e.value)),{explicit:t.explicit,value:[].concat(Ye(t.value),Ye(e.value))}}function cJt(t){var e=Ejt(t.map((function(t){if($zt(t)){t.sort;return eJt(t,["sort"])}return t})),yjt),n=Ejt(t.map((function(t){if($zt(t)){var e=t.sort;return void 0===e||Ijt(e)||("op"in e&&"count"===e.op&&delete e.field,"ascending"===e.order&&delete e.order),e}})).filter((function(t){return void 0!==t})),yjt);if(0!==e.length){if(1===e.length){var r=t[0];if($zt(r)&&n.length>0){var i=n[0];if(n.length>1)aHt($Ut),i=!0;else if(x5(i)&&"field"in i){var o=i.field;r.field===o&&(i=!i.order||{order:i.order})}return Object.assign(Object.assign({},r),{sort:i})}return r}var a,u=Ejt(n.map((function(t){return Ijt(t)||!("op"in t)||p6(t.op)&&t.op in Mzt?t:(aHt(function(t){return"Dropping sort property ".concat(mjt(t),' as unioned domains only support boolean or op "count", "min", and "max".')}(t)),!0)})),yjt);1===u.length?a=u[0]:u.length>1&&(aHt($Ut),a=!0);var s=Ejt(t.map((function(t){return $zt(t)?t.data:null})),(function(t){return t}));return 1===s.length&&null!==s[0]?Object.assign({data:s[0],fields:e.map((function(t){return t.field}))},a?{sort:a}:{}):Object.assign({fields:e},a?{sort:a}:{})}}function fJt(t){if($zt(t)&&p6(t.field))return t.field;if(function(t){return!y5(t)&&"fields"in t&&!("data"in t)}(t)){var e,n,r=qe(t.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value;if($zt(i)&&p6(i.field))if(e){if(e!==i.field)return aHt("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),e}else e=i.field}}catch(a){r.e(a)}finally{r.f()}return aHt("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),e}if(function(t){return!y5(t)&&"fields"in t&&"data"in t}(t)){aHt("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");var o=t.fields[0];return p6(o)?o:void 0}}function dJt(t,e){var n=t.component.scales[e].get("domains").map((function(e){return $zt(e)&&(e.data=t.lookupDataSource(e.data)),e}));return cJt(n)}var hJt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function pJt(t){return zJt(t)||BJt(t)?t.children.reduce((function(t,e){return t.concat(pJt(e))}),vJt(t)):vJt(t)}function vJt(t){return Djt(t.component.scales).reduce((function(e,n){var r=t.component.scales[n];if(r.merged)return e;var i=r.combine(),o=i.name,a=i.type,u=i.selectionExtent,s=(i.domains,i.range,i.reverse),l=hJt(i,["name","type","selectionExtent","domains","range","reverse"]),c=function(t,e,n,r){if(fzt(n)){if(Gzt(t))return{step:{signal:"".concat(e,"_step")}}}else if(x5(t)&&$zt(t))return Object.assign(Object.assign({},t),{data:r.lookupDataSource(t.data)});return t}(i.range,o,n,t),f=dJt(t,n),d=u?function(t,e,n,r){var i=tKt(t,e.param,e);return{signal:hVt(n.get("type"))&&y5(r)&&r[0]>r[1]?"isValid(".concat(i,") && reverse(").concat(i,")"):i}}(t,u,r,f):null;return e.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:a},f?{domain:f}:{}),d?{domainRaw:d}:{}),{range:c}),void 0!==s?{reverse:s}:{}),l)),e}),[])}var gJt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,{},{name:t})).merged=!1,i.setWithExplicit("type",r),i}return $r(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||wjt(this.get("domains"),(function(t){return y5(t)&&2===t.length&&t[0]<=0&&t[1]>=0}))}}]),n}(f$t),mJt=["range","scheme"];function yJt(t,e){var n=t.fieldDef(e);if(null===n||void 0===n?void 0:n.bin){var r=n.bin,i=n.field,o=rzt(e),a=t.getName(o);if(x5(r)&&r.binned&&void 0!==r.step)return new tJt((function(){var n=t.scaleName(e),i='(domain("'.concat(n,'")[1] - domain("').concat(n,'")[0]) / ').concat(r.step);return"".concat(t.getSignalName(a)," / (").concat(i,")")}));if(Lzt(r)){var u=fZt(t,i,r);return new tJt((function(){var e=t.getSignalName(u),n="(".concat(e,".stop - ").concat(e,".start) / ").concat(e,".step");return"".concat(t.getSignalName(a)," / (").concat(n,")")}))}}}function xJt(t,e){var n,r=e.specifiedScales[t],i=e.size,o=e.getScaleComponent(t).get("type"),a=qe(mJt);try{for(a.s();!(n=a.n()).done;){var u=n.value;if(void 0!==r[u]){var s=bVt(o,u),l=wVt(t,u);if(s)if(l)aHt(l);else switch(u){case"range":var c=r.range;if(y5(c)){if(fzt(t))return d$t(c.map((function(t){if("width"===t||"height"===t){var n=e.getName(t),r=e.getSignalName.bind(e);return tJt.fromName(r,n)}return t})))}else if(x5(c))return d$t({data:e.requestDataName(m$t.Main),field:c.field,sort:{op:"min",field:e.vgField(t)}});return d$t(c);case"scheme":return d$t(bJt(r[u]))}else aHt(qUt(o,u,t))}}}catch(x){a.e(x)}finally{a.f()}var f=t===oBt||"xOffset"===t?"width":"height",d=i[f];if(_qt(d))if(fzt(t))if(dVt(o)){var h=wJt(d,e,t);if(h)return d$t({step:h})}else aHt(GUt(f));else if(gzt(t)){var p=t===lBt?"x":"y";if("band"===e.getScaleComponent(p).get("type")){var v=SJt(d,o);if(v)return d$t(v)}}var g=r.rangeMin,m=r.rangeMax,y=function(t,e){var n=e.size,r=e.config,i=e.mark,o=e.encoding,a=e.getSignalName.bind(e),u=oYt(o[t]).type,s=e.getScaleComponent(t).get("type"),l=e.specifiedScales[t],c=l.domain,f=l.domainMid;switch(t){case oBt:case aBt:if(bjt(["point","band"],s)){var d=kJt(t,n,r.view);if(_qt(d))return{step:wJt(d,e,t)}}var h=rzt(t),p=e.getName(h);return t===aBt&&hVt(s)?[tJt.fromName(a,p),0]:[0,tJt.fromName(a,p)];case lBt:case cBt:return function(t,e,n){var r=t===lBt?"x":"y",i=e.getScaleComponent(r).get("type"),o=e.scaleName(r);if("band"===i){var a=kJt(r,e.size,e.config.view);if(_qt(a)){var u=SJt(a,n);if(u)return u}return[0,{signal:"bandwidth('".concat(o,"')")}]}return pjt("Cannot use ".concat(t," scale if ").concat(r," scale is not discrete."))}(t,e,s);case kBt:var v=CJt(i,e.component.scales[t].get("zero"),r),g=function(t,e,n,r){var i={x:yJt(n,"x"),y:yJt(n,"y")};switch(t){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var o=OJt(e,i,r.view);return d6(o)?o-1:new tJt((function(){return"".concat(o.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var a=OJt(e,i,r.view);return d6(a)?Math.pow(EJt*a,2):new tJt((function(){return"pow(".concat(EJt," * ").concat(a.signal,", 2)")}))}throw new Error(IUt("size",t))}(i,n,e,r);return vVt(s)?function(t,e,n){var r=function(){var r=oUt(e),i=oUt(t),o="(".concat(r," - ").concat(i,") / (").concat(n," - 1)");return"sequence(".concat(i,", ").concat(r," + ").concat(o,", ").concat(o,")")};return qzt(e)?new tJt(r):{signal:r()}}(v,g,function(t,e,n,r){switch(t){case"quantile":return e.scale.quantileCount;case"quantize":return e.scale.quantizeCount;case"threshold":return void 0!==n&&y5(n)?n.length+1:(aHt(function(t){return"Domain for ".concat(t," is required for threshold scale.")}(r)),3)}}(s,r,c,t)):[v,g];case hBt:return[0,2*Math.PI];case CBt:return[0,360];case fBt:return[0,new tJt((function(){var t=e.getSignalName("width"),n=e.getSignalName("height");return"min(".concat(t,",").concat(n,")/2")}))];case _Bt:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case ABt:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case SBt:return"symbol";case xBt:case bBt:case wBt:return"ordinal"===s?"nominal"===u?"category":"ordinal":void 0!==f?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case EBt:case OBt:case MBt:return[r.scale.minOpacity,r.scale.maxOpacity]}}(t,e);return(void 0!==g||void 0!==m)&&bVt(o,"rangeMin")&&y5(y)&&2===y.length?d$t([null!==g&&void 0!==g?g:y[0],null!==m&&void 0!==m?m:y[1]]):h$t(y)}function bJt(t){return function(t){return!p6(t)&&!!t.name}(t)?Object.assign({scheme:t.name},gjt(t,["name"])):{scheme:t}}function wJt(t,e,n){var r,i,o,a,u,s=e.encoding,l=e.getScaleComponent(n),c=izt(n),f=s[c];if("offset"===Mqt({step:t,offsetIsDiscrete:RWt(f)&&HHt(f.type)})&&_Yt(s,c)){var d=e.getScaleComponent(c),h=e.scaleName(c),p="domain('".concat(h,"').length");if("band"===d.get("type")){var v=null!==(i=null!==(r=d.get("paddingInner"))&&void 0!==r?r:d.get("padding"))&&void 0!==i?i:0,g=null!==(a=null!==(o=d.get("paddingOuter"))&&void 0!==o?o:d.get("padding"))&&void 0!==a?a:0;p="bandspace(".concat(p,", ").concat(v,", ").concat(g,")")}var m=null!==(u=l.get("paddingInner"))&&void 0!==u?u:l.get("padding");return{signal:"".concat(t.step," * ").concat(p," / (1-").concat(rUt(m),")")}}return t.step}function SJt(t,e){if("offset"===Mqt({step:t,offsetIsDiscrete:dVt(e)}))return{step:t.step}}function kJt(t,e,n){var r=t===oBt?"width":"height",i=e[r];return i||Nqt(n,r)}function CJt(t,e,n){if(e)return qzt(e)?{signal:"".concat(e.signal," ? 0 : ").concat(CJt(t,!1,n))}:0;switch(t){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(IUt("size",t))}var EJt=.95;function OJt(t,e,n){var r=_qt(t.width)?t.width.step:Fqt(n,"width"),i=_qt(t.height)?t.height.step:Fqt(n,"height");return e.x||e.y?new tJt((function(){var t=[e.x?e.x.signal:r,e.y?e.y.signal:i];return"min(".concat(t.join(", "),")")})):Math.min(r,i)}function MJt(t,e){RJt(t)?function(t,e){var n,r=t.component.scales,i=t.config,o=t.encoding,a=t.markDef,u=t.specifiedScales,s=qe(Djt(r));try{for(s.s();!(n=s.n()).done;){var l=n.value,c=u[l],f=r[l],d=t.getScaleComponent(l),h=oYt(o[l]),p=c[e],v=d.get("type"),g=d.get("padding"),m=d.get("paddingInner"),y=bVt(v,e),x=wVt(l,e);if(void 0!==p&&(y?x&&aHt(x):aHt(qUt(v,e,l))),y&&void 0===x)if(void 0!==p){var b=h.timeUnit,w=h.type;switch(e){case"domainMax":case"domainMin":uHt(c[e])||"temporal"===w||b?f.set(e,{signal:hYt(c[e],{type:w,timeUnit:b})},!0):f.set(e,c[e],!0);break;default:f.copyKeyFromObject(e,c)}}else{var S=e in _Jt?_Jt[e]({model:t,channel:l,fieldOrDatumDef:h,scaleType:v,scalePadding:g,scalePaddingInner:m,domain:c.domain,domainMin:c.domainMin,domainMax:c.domainMax,markDef:a,config:i,hasNestedOffsetScale:AYt(o,l)}):i.scale[e];void 0!==S&&f.set(e,S,!1)}}}catch(k){s.e(k)}finally{s.f()}}(t,e):TJt(t,e)}var _Jt={bins:function(t){var e=t.model,n=t.fieldOrDatumDef;return DWt(n)?function(t,e){var n=e.bin;if(Lzt(n)){var r=fZt(t,e.field,n);return new tJt((function(){return t.getSignalName(r)}))}if(Rzt(n)&&jzt(n)&&void 0!==n.step)return{step:n.step};return}(e,n):void 0},interpolate:function(t){return function(t,e){if(bjt([xBt,bBt,wBt],t)&&"nominal"!==e)return"hcl";return}(t.channel,t.fieldOrDatumDef.type)},nice:function(t){return function(t,e,n,r,i,o){var a;if((null===(a=iYt(o))||void 0===a?void 0:a.bin)||y5(n)||null!=i||null!=r||bjt([JHt,QHt],t))return;return!!fzt(e)||void 0}(t.scaleType,t.channel,t.domain,t.domainMin,t.domainMax,t.fieldOrDatumDef)},padding:function(t){var e=t.channel,n=t.scaleType,r=t.fieldOrDatumDef,i=t.markDef,o=t.config;return function(t,e,n,r,i,o){if(fzt(t)){if(pVt(e)){if(void 0!==n.continuousPadding)return n.continuousPadding;var a=i.type,u=i.orient;if("bar"===a&&(!DWt(r)||!r.bin&&!r.timeUnit)&&("vertical"===u&&"x"===t||"horizontal"===u&&"y"===t))return o.continuousBandSize}if(e===tVt)return n.pointPadding}return}(e,n,o.scale,r,i,o.bar)},paddingInner:function(t){var e=t.scalePadding,n=t.channel,r=t.markDef,i=t.scaleType,o=t.config,a=t.hasNestedOffsetScale;return function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==t)return;if(fzt(e)){var a=i.bandPaddingInner,u=i.barBandPaddingInner,s=i.rectBandPaddingInner,l=i.bandWithNestedOffsetPaddingInner;return o?l:Gjt(a,"bar"===n?u:s)}if(gzt(e)&&r===eVt)return i.offsetBandPaddingInner;return}(e,n,r.type,i,o.scale,a)},paddingOuter:function(t){var e=t.scalePadding,n=t.channel,r=t.scaleType,i=t.scalePaddingInner,o=t.config,a=t.hasNestedOffsetScale;return function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==t)return;if(fzt(e)){var a=i.bandPaddingOuter,u=i.bandWithNestedOffsetPaddingOuter;if(o)return u;if(n===eVt)return Gjt(a,qzt(r)?{signal:"".concat(r.signal,"/2")}:r/2)}else if(gzt(e)){if(n===tVt)return.5;if(n===eVt)return i.offsetBandPaddingOuter}return}(e,n,r,i,o.scale,a)},reverse:function(t){var e=t.fieldOrDatumDef,n=t.scaleType,r=t.channel,i=t.config;return function(t,e,n,r){if("x"===n&&void 0!==r.xReverse)return hVt(t)&&"descending"===e?qzt(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse;if(hVt(t)&&"descending"===e)return!0;return}(n,DWt(e)?e.sort:void 0,r,i.scale)},zero:function(t){return function(t,e,n,r,i){if(n&&"unaggregated"!==n&&hVt(i)){if(y5(n)){var o=n[0],a=n[n.length-1];if(o<=0&&a>=0)return!0}return!1}if("size"===t&&"quantitative"===e.type&&!vVt(i))return!0;if((!DWt(e)||!e.bin)&&bjt([].concat(Ye(czt),Ye(hzt)),t)){var u=r.orient;return!bjt(["bar","area","line","trail"],r.type)||!("horizontal"===u&&"y"===t||"vertical"===u&&"x"===t)}return!1}(t.channel,t.fieldOrDatumDef,t.domain,t.markDef,t.scaleType)}};function AJt(t){RJt(t)?function(t){var e,n=t.component.scales,r=qe(bzt);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=n[i];if(o){var a=xJt(i,t);o.setWithExplicit("range",a)}}}catch(u){r.e(u)}finally{r.f()}}(t):TJt(t,"range")}function TJt(t,e){var n,r=t.component.scales,i=qe(t.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;"range"===e?AJt(o):MJt(o,e)}}catch(h){i.e(h)}finally{i.f()}var a,u=qe(Djt(r));try{for(u.s();!(a=u.n()).done;){var s,l=a.value,c=void 0,f=qe(t.children);try{for(f.s();!(s=f.n()).done;){var d=s.value.component.scales[l];if(d)c=g$t(c,d.getWithExplicit(e),e,"scale",p$t((function(t,n){return"range"===e&&t.step&&n.step?t.step-n.step:0})))}}catch(h){f.e(h)}finally{f.f()}r[l].setWithExplicit(e,c)}}catch(h){u.e(h)}finally{u.f()}}function PJt(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=DJt(e,n,r,i),a=t.type;return wzt(e)?void 0!==a?kVt(e,a)?DWt(n)&&!SVt(a,n.type)?(aHt(YUt(a,o)),o):a:(aHt(WUt(e,a,o)),o):o:null}function DJt(t,e,n,r){var i;switch(e.type){case"nominal":case"ordinal":if(VBt(t)||"discrete"===Ezt(t))return"shape"===t&&"ordinal"===e.type&&aHt(BUt(t,"ordinal")),"ordinal";if(fzt(t)||gzt(t)){if(bjt(["rect","bar","image","rule"],n.type))return"band";if(r)return"band"}else if("arc"===n.type&&t in dzt)return"band";return qVt(n[rzt(t)])||UWt(e)&&(null===(i=e.axis)||void 0===i?void 0:i.tickBand)?"band":"point";case"temporal":return VBt(t)?"time":"discrete"===Ezt(t)?(aHt(BUt(t,"temporal")),"ordinal"):DWt(e)&&e.timeUnit&&EHt(e.timeUnit).utc?"utc":"time";case"quantitative":return VBt(t)?DWt(e)&&Lzt(e.bin)?"bin-ordinal":"linear":"discrete"===Ezt(t)?(aHt(BUt(t,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(TUt(e.type))}function FJt(t){RJt(t)?t.component.scales=function(t){var e,n=t.encoding,r=t.mark,i=t.markDef,o={},a=qe(bzt);try{for(a.s();!(e=a.n()).done;){var u=e.value,s=oYt(n[u]);if(!s||r!==jVt||u!==SBt||s.type!==GHt){var l=s&&s.scale;if(gzt(u))if(!AYt(n,ozt(u))){l&&aHt(LUt(u));continue}if(s&&null!==l&&!1!==l){null!==l&&void 0!==l||(l={});var c=PJt(l,u,s,i,AYt(n,u));o[u]=new gJt(t.scaleName("".concat(u),!0),{value:c,explicit:l.type===c})}}}}catch(f){a.e(f)}finally{a.f()}return o}(t):t.component.scales=function(t){var e,n,r,i=t.component.scales={},o={},a=t.component.resolve,u=qe(t.children);try{for(u.s();!(r=u.n()).done;){var s=r.value;FJt(s);var l,c=qe(Djt(s.component.scales));try{for(c.s();!(l=c.n()).done;){var f=l.value;if(null!==(e=(n=a.scale)[f])&&void 0!==e||(n[f]=jKt(f,t)),"shared"===a.scale[f]){var d=o[f],h=s.component.scales[f].getWithExplicit("type");d?rVt(d.value,h.value)?o[f]=g$t(d,h,"type","scale",NJt):(a.scale[f]="independent",delete o[f]):o[f]=h}}}catch(k){c.e(k)}finally{c.f()}}}catch(k){u.e(k)}finally{u.f()}var p,v=qe(Djt(o));try{for(v.s();!(p=v.n()).done;){var g=p.value,m=t.scaleName(g,!0),y=o[g];i[g]=new gJt(m,y);var x,b=qe(t.children);try{for(b.s();!(x=b.n()).done;){var w=x.value,S=w.component.scales[g];S&&(w.renameScale(S.get("name"),m),S.merged=!0)}}catch(k){b.e(k)}finally{b.f()}}}catch(k){v.e(k)}finally{v.f()}return i}(t)}var NJt=p$t((function(t,e){return oVt(t)-oVt(e)}));var IJt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},LJt=function(){function t(){Xr(this,t),this.nameMap={}}return $r(t,[{key:"rename",value:function(t,e){this.nameMap[t]=e}},{key:"has",value:function(t){return void 0!==this.nameMap[t]}},{key:"get",value:function(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}]),t}();function RJt(t){return"unit"===(null===t||void 0===t?void 0:t.type)}function jJt(t){return"facet"===(null===t||void 0===t?void 0:t.type)}function BJt(t){return"concat"===(null===t||void 0===t?void 0:t.type)}function zJt(t){return"layer"===(null===t||void 0===t?void 0:t.type)}var UJt=function(){function t(e,n,r,i,o,a,u){var s,l,c=this;Xr(this,t),this.type=n,this.parent=r,this.config=o,this.correctDataNames=function(t){var e,n,r;return(null===(e=t.from)||void 0===e?void 0:e.data)&&(t.from.data=c.lookupDataSource(t.from.data)),(null===(r=null===(n=t.from)||void 0===n?void 0:n.facet)||void 0===r?void 0:r.data)&&(t.from.facet.data=c.lookupDataSource(t.from.facet.data)),t},this.parent=r,this.config=o,this.view=Hzt(u),this.name=null!==(s=e.name)&&void 0!==s?s:i,this.title=Yzt(e.title)?{text:e.title}:e.title?Hzt(e.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new LJt,this.projectionNameMap=r?r.projectionNameMap:new LJt,this.signalNameMap=r?r.signalNameMap:new LJt,this.data=e.data,this.description=e.description,this.transforms=function(t){return t.map((function(t){return _Gt(t)?{filter:fjt(t.filter,zHt)}:t}))}(null!==(l=e.transform)&&void 0!==l?l:[]),this.layout="layer"===n||"unit"===n?{}:function(t,e,n){var r,i,o=n[e],a={},u=o.spacing,s=o.columns;void 0!==u&&(a.spacing=u),void 0!==s&&(SWt(t)&&!bWt(t.facet)||Cqt(t))&&(a.columns=s),Eqt(t)&&(a.columns=1);var l,c=qe(Tqt);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(void 0!==t[f])if("spacing"===f){var d=t[f];a[f]=d6(d)?d:{row:null!==(r=d.row)&&void 0!==r?r:u,column:null!==(i=d.column)&&void 0!==i?i:u}}else a[f]=t[f]}}catch(h){c.e(h)}finally{c.f()}return a}(e,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:SWt(e)||(null===r||void 0===r?void 0:r.component.data.isFaceted)&&void 0===e.data},layoutSize:new f$t,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},a?hjt(a):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return $r(t,[{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}},{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreRange;FJt(t),nJt(t);var n,r=qe(xVt);try{for(r.s();!(n=r.n()).done;){MJt(t,n.value)}}catch(i){r.e(i)}finally{r.f()}e||AJt(t)}(this)}},{key:"parseProjection",value:function(){sZt(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){JKt(this)}},{key:"assembleEncodeFromView",value:function(t){t.style;var e,n=IJt(t,["style"]),r={},i=qe(Djt(n));try{for(i.s();!(e=i.n()).done;){var o=e.value,a=n[o];void 0!==a&&(r[o]=nUt(a))}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"assembleGroupEncodeEntry",value:function(t){var e={};return this.view&&(e=this.assembleEncodeFromView(this.view)),t||(this.description&&(e.description=nUt(this.description)),"unit"!==this.type&&"layer"!==this.type)?Pjt(e)?void 0:e:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==e&&void 0!==e?e:{})}},{key:"assembleLayout",value:function(){if(this.layout){var t=this.layout,e=t.spacing,n=IJt(t,["spacing"]),r=this.component,i=this.config,o=function(t,e){var n,r={},i=qe(YBt);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t[o];if(null===a||void 0===a?void 0:a.facetFieldDef){var u=xKt(["titleAnchor","titleOrient"],a.facetFieldDef.header,e,o),s=u.titleAnchor,l=mKt(o,u.titleOrient),c=TKt(s,l);void 0!==c&&(r[l]=c)}}}catch(f){i.e(f)}finally{i.f()}return Pjt(r)?void 0:r}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:e},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var t,e=this.component.layoutHeaders,n=[],r=qe(YBt);try{for(r.s();!(t=r.n()).done;){var i=t.value;e[i].title&&n.push(SKt(this,i))}}catch(s){r.e(s)}finally{r.f()}var o,a=qe(bKt);try{for(a.s();!(o=a.n()).done;){var u=o.value;n=n.concat(EKt(this,u))}}catch(s){a.e(s)}finally{a.f()}return n}},{key:"assembleAxes",value:function(){return function(t,e){var n=t.x,r=void 0===n?[]:n,i=t.y,o=void 0===i?[]:i;return[].concat(Ye(r.map((function(t){return oKt(t,"grid",e)}))),Ye(o.map((function(t){return oKt(t,"grid",e)}))),Ye(r.map((function(t){return oKt(t,"main",e)}))),Ye(o.map((function(t){return oKt(t,"main",e)})))).filter((function(t){return t}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return rZt(this)}},{key:"assembleProjections",value:function(){return iZt(this)}},{key:"assembleTitle",value:function(){var t,e,n,r=null!==(t=this.title)&&void 0!==t?t:{},i=r.encoding,o=IJt(r,["encoding"]),a=Object.assign(Object.assign(Object.assign({},Wzt(this.config.title).nonMarkTitleProperties),o),i?{encode:{update:i}}:{});if(a.text)return bjt(["unit","layer"],this.type)?bjt(["middle",void 0],a.anchor)&&(null!==(e=a.frame)&&void 0!==e||(a.frame="group")):null!==(n=a.anchor)&&void 0!==n||(a.anchor="start"),Pjt(a)?void 0:a}},{key:"assembleGroup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};(t=t.concat(this.assembleSignals())).length>0&&(e.signals=t);var n=this.assembleLayout();n&&(e.layout=n),e.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||jJt(this.parent)?pJt(this):[];r.length>0&&(e.scales=r);var i=this.assembleAxes();i.length>0&&(e.axes=i);var o=this.assembleLegends();return o.length>0&&(e.legends=o),e}},{key:"getName",value:function(t){return Ljt((this.name?"".concat(this.name,"_"):"")+t)}},{key:"getDataName",value:function(t){return this.getName(m$t[t].toLowerCase())}},{key:"requestDataName",value:function(t){var e=this.getDataName(t),n=this.component.data.outputNodeRefCounts;return n[e]=(n[e]||0)+1,e}},{key:"getSizeSignalRef",value:function(t){if(jJt(this.parent)){var e=pzt(LKt(t)),n=this.component.scales[e];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(dVt(r)&&Gzt(i)){var o=n.get("name"),a=fJt(dJt(this,e));return a?{signal:IKt(o,n,qWt({aggregate:"distinct",field:a},{expr:"datum"}))}:(aHt(bUt(e)),null)}}}return{signal:this.signalNameMap.get(this.getName(t))}}},{key:"lookupDataSource",value:function(t){var e=this.component.data.outputNodes[t];return e?e.getSource():t}},{key:"getSignalName",value:function(t){return this.signalNameMap.get(t)}},{key:"renameSignal",value:function(t,e){this.signalNameMap.rename(t,e)}},{key:"renameScale",value:function(t,e){this.scaleNameMap.rename(t,e)}},{key:"renameProjection",value:function(t,e){this.projectionNameMap.rename(t,e)}},{key:"scaleName",value:function(t,e){return e?this.getName(t):ZBt(t)&&wzt(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t))?this.scaleNameMap.get(this.getName(t)):void 0}},{key:"projectionName",value:function(t){return t?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var e=this.component.scales[t];return e&&!e.merged?e:this.parent?this.parent.getScaleComponent(t):void 0}},{key:"getSelectionComponent",value:function(t,e){var n=this.component.selection[t];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(t,e)),!n)throw new Error('Cannot find a selection named "'.concat(e,'".'));return n}},{key:"hasAxisOrientSignalRef",value:function(){var t,e;return(null===(t=this.component.axes.x)||void 0===t?void 0:t.some((function(t){return t.hasOrientSignalRef()})))||(null===(e=this.component.axes.y)||void 0===e?void 0:e.some((function(t){return t.hasOrientSignalRef()})))}}]),t}(),HJt=function(t){Zr(n,t);var e=ri(n);function n(){return Xr(this,n),e.apply(this,arguments)}return $r(n,[{key:"vgField",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(t);if(n)return qWt(n,e)}},{key:"reduceFieldDef",value:function(t,e){return function(t,e,n,r){return t?Djt(t).reduce((function(n,i){var o=t[i];return y5(o)?o.reduce((function(t,n){return e.call(r,t,n,i)}),n):e.call(r,n,o,i)}),n):n}(this.getMapping(),(function(e,n,r){var i=iYt(n);return i?t(e,i,r):e}),e)}},{key:"forEachFieldDef",value:function(t,e){IYt(this.getMapping(),(function(e,n){var r=iYt(e);r&&t(r,n)}),e)}}]),n}(UJt),VJt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},WJt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i,o,a,u;Xr(this,n),(i=e.call(this,t)).transform=r,i.transform=hjt(r);var s=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=s[0])&&void 0!==a?a:"value",null!==(u=s[1])&&void 0!==u?u:"density"],i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.density].concat(Ye(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.density,n=VJt(t,["density"]);return Object.assign({type:"kde",field:e},n)}}]),n}(T$t),YJt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).filter=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(Djt(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(yjt(this.filter))}},{key:"assemble",value:function(){var t=this,e=Djt(this.filter).reduce((function(e,n){var r=t.filter[n],i=qWt(r,{expr:"datum"});return null!==r&&("temporal"===r.type?e.push("(isDate(".concat(i,") || (isValid(").concat(i,") && isFinite(+").concat(i,")))")):"quantitative"===r.type&&(e.push("isValid(".concat(i,")")),e.push("isFinite(+".concat(i,")")))),e}),[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}],[{key:"make",value:function(t,e){var r=e.config,i=e.mark;if("filter"!==uUt("invalid",e.markDef,r))return null;var o=e.reduceFieldDef((function(t,n,r){var o=wzt(r)&&e.getScaleComponent(r);o&&(hVt(o.get("type"))&&"count"!==n.aggregate&&!BVt(i)&&(t[n.field]=n));return t}),{});return Djt(o).length?new n(t,o):null}}]),n}(T$t),qJt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;Xr(this,n),(i=e.call(this,t)).transform=r,i.transform=hjt(r);var o=i.transform,a=o.flatten,u=o.as,s=void 0===u?[]:u;return i.transform.as=a.map((function(t,e){var n;return null!==(n=s[e])&&void 0!==n?n:t})),i}return $r(n,[{key:"clone",value:function(){return new n(this.parent,hjt(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t=this.transform;return{type:"flatten",fields:t.flatten,as:t.as}}}]),n}(T$t),GJt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i,o,a,u;Xr(this,n),(i=e.call(this,t)).transform=r,i.transform=hjt(r);var s=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=s[0])&&void 0!==a?a:"key",null!==(u=s[1])&&void 0!==u?u:"value"],i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t=this.transform;return{type:"fold",fields:t.fold,as:t.as}}}]),n}(T$t),$Jt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i,o){var a;return Xr(this,n),(a=e.call(this,t)).fields=r,a.geojson=i,a.signal=o,a}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var t,e=(null!==(t=this.fields)&&void 0!==t?t:[]).filter(p6);return new Set([].concat(Ye(this.geojson?[this.geojson]:[]),Ye(e)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(yjt(this.fields))}},{key:"assemble",value:function(){return[].concat(Ye(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[]),[Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})])}}],[{key:"parseAll",value:function(t,e){if(e.component.projection&&!e.component.projection.isFit)return t;for(var r=0,i=0,o=[[gBt,vBt],[yBt,mBt]];i<o.length;i++){var a=o[i].map((function(t){var n=oYt(e.encoding[t]);return DWt(n)?n.field:NWt(n)?{expr:"".concat(n.datum)}:BWt(n)?{expr:"".concat(n.value)}:void 0}));(a[0]||a[1])&&(t=new n(t,a,null,e.getName("geojson_".concat(r++))))}if(e.channelHasField(SBt)){var u=e.typedFieldDef(SBt);u.type===GHt&&(t=new n(t,null,u.field,e.getName("geojson_".concat(r++))))}return t}}]),n}(T$t),XJt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i,o){var a;return Xr(this,n),(a=e.call(this,t)).projection=r,a.fields=i,a.as=o,a}return $r(n,[{key:"clone",value:function(){return new n(null,this.projection,hjt(this.fields),hjt(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(p6))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(yjt(this.fields)," ").concat(yjt(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(t,e){if(!e.projectionName())return t;for(var r=0,i=[[gBt,vBt],[yBt,mBt]];r<i.length;r++){var o=i[r],a=o.map((function(t){var n=oYt(e.encoding[t]);return DWt(n)?n.field:NWt(n)?{expr:"".concat(n.datum)}:BWt(n)?{expr:"".concat(n.value)}:void 0})),u=o[0]===yBt?"2":"";(a[0]||a[1])&&(t=new n(t,e.projectionName(),a,[e.getName("x".concat(u)),e.getName("y".concat(u))]))}return t}}]),n}(T$t),KJt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).transform=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.impute,this.transform.key].concat(Ye(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(t){var e=t.start,n=void 0===e?0:e,r=t.stop,i=t.step,o=[n,r].concat(Ye(i?[i]:[])).join(",");return{signal:"sequence(".concat(o,")")}}},{key:"hash",value:function(){return"Impute ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.impute,n=t.key,r=t.keyvals,i=t.method,o=t.groupby,a=t.value,u=t.frame,s=void 0===u?[null,null]:u,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:e,key:n},r?{keyvals:AGt(r)?this.processSequence(r):r}:{}),{method:"value"}),o?{groupby:o}:{}),{value:i&&"value"!==i?null:a});return i&&"value"!==i?[l,Object.assign({type:"window",as:["imputed_".concat(e,"_value")],ops:[i],fields:[e],frame:s,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:"datum.".concat(e," === null ? datum.imputed_").concat(e,"_value : datum.").concat(e),as:e}]:[l]}}],[{key:"makeFromTransform",value:function(t,e){return new n(t,e)}},{key:"makeFromEncoding",value:function(t,e){var r=e.encoding,i=r.x,o=r.y;if(DWt(i)&&DWt(o)){var a=i.impute?i:o.impute?o:void 0;if(void 0===a)return;var u=i.impute?o:o.impute?i:void 0,s=a.impute,l=s.method,c=s.value,f=s.frame,d=s.keyvals,h=LYt(e.mark,r);return new n(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:a.field,key:u.field},l?{method:l}:{}),void 0!==c?{value:c}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),n}(T$t),ZJt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},JJt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i,o,a,u;Xr(this,n),(i=e.call(this,t)).transform=r,i.transform=hjt(r);var s=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=s[0])&&void 0!==a?a:r.on,null!==(u=s[1])&&void 0!==u?u:r.loess],i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.loess,this.transform.on].concat(Ye(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.loess,n=t.on,r=ZJt(t,["loess","on"]);return Object.assign({type:"loess",x:n,y:e},r)}}]),n}(T$t),QJt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i){var o;return Xr(this,n),(o=e.call(this,t)).transform=r,o.secondary=i,o}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?V5(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(yjt({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var t;if(this.transform.from.fields)t=Object.assign({values:this.transform.from.fields},this.transform.as?{as:V5(this.transform.as)}:{});else{var e=this.transform.as;p6(e)||(aHt('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),e="_lookup"),t={as:[e]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(t,e,r,i){var o=e.component.data.sources,a=r.from,u=null;if(function(t){return"data"in t}(a)){var s=mQt(a.data,o);s||(s=new OZt(a.data),o.push(s));var l=e.getName("lookup_".concat(i));u=new P$t(s,l,m$t.Lookup,e.component.data.outputNodeRefCounts),e.component.data.outputNodes[l]=u}else if(function(t){return"param"in t}(a)){var c,f=a.param;r=Object.assign({as:f},r);try{c=e.getSelectionComponent(Ljt(f),f)}catch(v1t){throw new Error('Lookups can only be performed on selection parameters. "'.concat(f,'" is a variable parameter.'))}if(!(u=c.materialized))throw new Error(function(t){return'Cannot define and lookup the "'.concat(t,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}(f))}return new n(t,r,u.getSource())}}]),n}(T$t),tQt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},eQt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i,o,a,u;Xr(this,n),(i=e.call(this,t)).transform=r,i.transform=hjt(r);var s=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=s[0])&&void 0!==a?a:"prob",null!==(u=s[1])&&void 0!==u?u:"value"],i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.quantile].concat(Ye(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.quantile,n=tQt(t,["quantile"]);return Object.assign({type:"quantile",field:e},n)}}]),n}(T$t),nQt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},rQt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i,o,a,u;Xr(this,n),(i=e.call(this,t)).transform=r,i.transform=hjt(r);var s=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=s[0])&&void 0!==a?a:r.on,null!==(u=s[1])&&void 0!==u?u:r.regression],i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.regression,this.transform.on].concat(Ye(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.regression,n=t.on,r=nQt(t,["regression","on"]);return Object.assign({type:"regression",x:n,y:e},r)}}]),n}(T$t),iQt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).transform=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"addDimensions",value:function(t){var e;this.transform.groupby=Ejt((null!==(e=this.transform.groupby)&&void 0!==e?e:[]).concat(t),(function(t){return t}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.pivot,this.transform.value].concat(Ye(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.pivot,n=t.value,r=t.groupby,i=t.limit,o=t.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:e,value:n},void 0!==i?{limit:i}:{}),void 0!==o?{op:o}:{}),void 0!==r?{groupby:r}:{})}}]),n}(T$t),oQt=function(t){Zr(n,t);var e=ri(n);function n(t,r){var i;return Xr(this,n),(i=e.call(this,t)).transform=r,i}return $r(n,[{key:"clone",value:function(){return new n(null,hjt(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(yjt(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(T$t);function aQt(t){var e=0;return function n(r,i){var o,a,u,s;if(r instanceof OZt&&(r.isGenerator||x$t(r.data)||(t.push(i),i={name:null,source:i.name,transform:[]})),r instanceof SZt&&(r.parent instanceof OZt&&!i.source?(i.format=Object.assign(Object.assign({},null!==(o=i.format)&&void 0!==o?o:{}),{parse:r.assembleFormatParse()}),(a=i.transform).push.apply(a,Ye(r.assembleTransforms(!0)))):(u=i.transform).push.apply(u,Ye(r.assembleTransforms()))),r instanceof gZt)return i.name||(i.name="data_".concat(e++)),!i.source||i.transform.length>0?(t.push(i),r.data=i.name):r.data=i.source,void t.push.apply(t,Ye(r.assemble()));if((r instanceof CZt||r instanceof EZt||r instanceof YJt||r instanceof JXt||r instanceof vKt||r instanceof XJt||r instanceof vZt||r instanceof QJt||r instanceof qZt||r instanceof WZt||r instanceof GJt||r instanceof qJt||r instanceof WJt||r instanceof JJt||r instanceof eQt||r instanceof rQt||r instanceof kZt||r instanceof oQt||r instanceof iQt)&&i.transform.push(r.assemble()),(r instanceof hZt||r instanceof F$t||r instanceof KJt||r instanceof YZt||r instanceof $Jt)&&(s=i.transform).push.apply(s,Ye(r.assemble())),r instanceof P$t)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof P$t)r.setSource(i.name);else{if(i.name||(i.name="data_".concat(e++)),r.setSource(i.name),1===r.numChildren())t.push(i),i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof P$t&&(!i.source||i.transform.length>0)&&t.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_".concat(e++));var l=i.name;!i.source||i.transform.length>0?t.push(i):l=i.source;var c,f=qe(r.children);try{for(f.s();!(c=f.n()).done;){n(c.value,{name:null,source:l,transform:[]})}}catch(d){f.e(d)}finally{f.f()}}}}function uQt(t,e){var n,r,i,o=[],a=aQt(o),u=0,s=qe(t.sources);try{for(s.s();!(i=s.n()).done;){var l=i.value;l.hasName()||(l.dataName="source_".concat(u++));var c=l.assemble();a(l,c)}}catch(_){s.e(_)}finally{s.f()}for(var f=0,d=o;f<d.length;f++){var h=d[f];0===h.transform.length&&delete h.transform}var p,v=0,g=qe(o.entries());try{for(g.s();!(p=g.n()).done;){var m=j(p.value,2),y=m[0],x=m[1];0!==(null!==(n=x.transform)&&void 0!==n?n:[]).length||x.source||o.splice(v++,0,o.splice(y,1)[0])}}catch(_){g.e(_)}finally{g.f()}for(var b=0,w=o;b<w.length;b++){var S,k=qe(null!==(r=w[b].transform)&&void 0!==r?r:[]);try{for(k.s();!(S=k.n()).done;){var C=S.value;"lookup"===C.type&&(C.from=t.outputNodes[C.from].getSource())}}catch(_){k.e(_)}finally{k.f()}}for(var E=0,O=o;E<O.length;E++){var M=O[E];M.name in e&&(M.values=e[M.name])}return o}function sQt(t){return"top"===t||"left"===t||qzt(t)?"header":"footer"}function lQt(t,e){var n,r=t.facet,i=t.config,o=t.child,a=t.component;if(t.channelHasField(e)){var u=r[e],s=yKt("title",null,i,e),l=QWt(u,i,{allowDisabling:!0,includeDefault:void 0===s||!!s});o.component.layoutHeaders[e].title&&(l=y5(l)?l.join(", "):l,l+=" / ".concat(o.component.layoutHeaders[e].title),o.component.layoutHeaders[e].title=null);var c=yKt("labelOrient",u.header,i,e),f=null!==u.header&&Gjt(null===(n=u.header)||void 0===n?void 0:n.labels,i.header.labels,!0),d=bjt(["bottom","right"],c)?"footer":"header";a.layoutHeaders[e]=mt({title:null!==u.header?l:null,facetFieldDef:u},d,"facet"===e?[]:[cQt(t,e,f)])}}function cQt(t,e,n){var r="row"===e?"height":"width";return{labels:n,sizeSignal:t.child.component.layoutSize.get(r)?t.child.getSizeSignalRef(r):void 0,axes:[]}}function fQt(t,e){var n,r=t.child;if(r.component.axes[e]){var i=t.component,o=i.layoutHeaders,a=i.resolve;if(a.axis[e]=BKt(a,e),"shared"===a.axis[e]){var u,s="x"===e?"column":"row",l=o[s],c=qe(r.component.axes[e]);try{for(c.s();!(u=c.n()).done;){var f=u.value,d=sQt(f.get("orient"));null!==(n=l[d])&&void 0!==n||(l[d]=[cQt(t,s,!1)]);var h=oKt(f,"main",t.config,{header:!0});h&&l[d][0].axes.push(h),f.mainExtracted=!0}}catch(p){c.e(p)}finally{c.f()}}}}function dQt(t){var e,n=qe(t.children);try{for(n.s();!(e=n.n()).done;){e.value.parseLayoutSize()}}catch(r){n.e(r)}finally{n.f()}}function hQt(t,e){var n,r,i,o=LKt(e),a=pzt(o),u=t.component.resolve,s=t.component.layoutSize,l=qe(t.children);try{for(l.s();!(i=l.n()).done;){var c=i.value.component.layoutSize.getWithExplicit(o),f=null!==(n=u.scale[a])&&void 0!==n?n:jKt(a,t);if("independent"===f&&"step"===c.value){r=void 0;break}if(r){if("independent"===f&&r.value!==c.value){r=void 0;break}r=g$t(r,c,o,"")}else r=c}}catch(v){l.e(v)}finally{l.f()}if(r){var d,h=qe(t.children);try{for(h.s();!(d=h.n()).done;){var p=d.value;t.renameSignal(p.getName(o),t.getName(e)),p.component.layoutSize.set(o,"merged",!1)}}catch(v){h.e(v)}finally{h.f()}s.setWithExplicit(e,r)}else s.setWithExplicit(e,{explicit:!1,value:void 0})}function pQt(t,e){var n="width"===e?"x":"y",r=t.config,i=t.getScaleComponent(n);if(i){var o=i.get("type"),a=i.get("range");if(dVt(o)){var u=Nqt(r.view,e);return Gzt(a)||_qt(u)?"step":u}return Dqt(r.view,e)}if(t.hasProjection||"arc"===t.mark)return Dqt(r.view,e);var s=Nqt(r.view,e);return _qt(s)?s.step:s}function vQt(t,e,n){return qWt(e,Object.assign({suffix:"by_".concat(qWt(t))},null!==n&&void 0!==n?n:{}))}var gQt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i,o){var a;return Xr(this,n),(a=e.call(this,t,"facet",r,i,o,t.resolve)).child=$Qt(t.spec,ei(a),a.getName("child"),void 0,o),a.children=[a.child],a.facet=a.initFacet(t.facet),a}return $r(n,[{key:"initFacet",value:function(t){if(!bWt(t))return{facet:this.initFacetFieldDef(t,"facet")};var e,n={},r=qe(Djt(t));try{for(r.s();!(e=r.n()).done;){var i=e.value;if(![nBt,rBt].includes(i)){aHt(IUt(i,"facet"));break}var o=t[i];if(void 0===o.field){aHt(NUt(o,i));break}n[i]=this.initFacetFieldDef(o,i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"initFacetFieldDef",value:function(t,e){var n=sYt(t,e);return n.header?n.header=Hzt(n.header):null===n.header&&(n.header=null),n}},{key:"channelHasField",value:function(t){return!!this.facet[t]}},{key:"fieldDef",value:function(t){return this.facet[t]}},{key:"parseData",value:function(){this.component.data=yQt(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){dQt(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(t){var e,n=qe(YBt);try{for(n.s();!(e=n.n()).done;)lQt(t,e.value)}catch(r){n.e(r)}finally{n.f()}fQt(t,"x"),fQt(t,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(t){return this.child.assembleSelectionTopLevelSignals(t)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(t){return this.child.assembleSelectionData(t)}},{key:"getHeaderLayoutMixins",value:function(){var t,e,n,r,i={},o=qe(YBt);try{for(o.s();!(r=o.n()).done;){var a,u=r.value,s=qe(wKt);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=this.component.layoutHeaders[u],f=c[l],d=c.facetFieldDef;if(d){var h=yKt("titleOrient",d.header,this.config,u);if(["right","bottom"].includes(h)){var p=mKt(u,h);null!==(t=i.titleAnchor)&&void 0!==t||(i.titleAnchor={}),i.titleAnchor[p]="end"}}if(null===f||void 0===f?void 0:f[0]){var v="row"===u?"height":"width",g="header"===l?"headerBand":"footerBand";"facet"===u||this.child.component.layoutSize.get(v)||(null!==(e=i[g])&&void 0!==e||(i[g]={}),i[g][u]=.5),c.title&&(null!==(n=i.offset)&&void 0!==n||(i.offset={}),i.offset["row"===u?"rowTitle":"columnTitle"]=10)}}}catch(m){s.e(m)}finally{s.f()}}}catch(m){o.e(m)}finally{o.f()}return i}},{key:"assembleDefaultLayout",value:function(){var t=this.facet,e=t.column,n=t.row,r=e?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n)){var t=this.getName("column_domain");return{signal:"length(data('".concat(t,"'))")}}}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleGroup",value:function(t){return this.parent&&this.parent instanceof n?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:qWt(this.facet.column,{prefix:"distinct"})}}}}:{}),Fct(Jr(n.prototype),"assembleGroup",this).call(this,t)):Fct(Jr(n.prototype),"assembleGroup",this).call(this,t)}},{key:"getCardinalityAggregateForChild",value:function(){var t=[],e=[],r=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var i=qWt(this.child.facet.column);t.push(i),e.push("distinct"),r.push("distinct_".concat(i))}}else{var o,a=qe(czt);try{for(a.s();!(o=a.n()).done;){var u=o.value,s=this.child.component.scales[u];if(s&&!s.merged){var l=s.get("type"),c=s.get("range");if(dVt(l)&&Gzt(c)){var f=fJt(dJt(this.child,u));f?(t.push(f),e.push("distinct"),r.push("distinct_".concat(f))):aHt(bUt(u))}}}}catch(d){a.e(d)}finally{a.f()}}return{fields:t,ops:e,as:r}}},{key:"assembleFacet",value:function(){var t,e=this.component.data.facetRoot,n=e.name,r=e.data,i=this.facet,o=i.row,a=i.column,u=this.getCardinalityAggregateForChild(),s=u.fields,l=u.ops,c=u.as,f=[],d=qe(YBt);try{for(d.s();!(t=d.n()).done;){var h=t.value,p=this.facet[h];if(p){f.push(qWt(p));var v=p.bin,g=p.sort;if(Lzt(v)&&f.push(qWt(p,{binSuffix:"end"})),yWt(g)){var m=g.field,y=g.op,x=void 0===y?pWt:y,b=vQt(p,g);o&&a?(s.push(b),l.push("max"),c.push(b)):(s.push(m),l.push(x),c.push(b))}else if(y5(g)){var w=gKt(p,h);s.push(w),l.push("max"),c.push(w)}}}}catch(k){d.e(k)}finally{d.f()}var S=!!o&&!!a;return Object.assign({name:n,data:r,groupby:f},S||s.length>0?{aggregate:Object.assign(Object.assign({},S?{cross:S}:{}),s.length?{fields:s,ops:l,as:c}:{})}:{})}},{key:"facetSortFields",value:function(t){var e=this.facet[t];return e?yWt(e.sort)?[vQt(e,e.sort,{expr:"datum"})]:y5(e.sort)?[gKt(e,t,{expr:"datum"})]:[qWt(e,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(t){var e=this.facet[t];if(e){var n=e.sort;return[(yWt(n)?n.order:!y5(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var t,e=this.facet,n=this.config;if(e.facet)return MKt(e.facet,"facet",n);var r,i={row:["top","bottom"],column:["left","right"]},o=qe(bKt);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(e[a]){var u=yKt("labelOrient",null===(t=e[a])||void 0===t?void 0:t.header,n,a);if(i[a].includes(u))return MKt(e[a],a,n)}}}catch(s){o.e(s)}finally{o.f()}}},{key:"assembleMarks",value:function(){var t=this,e=this.child,n=function(t){var e,n=[],r=aQt(n),i=qe(t.children);try{for(i.s();!(e=i.n()).done;)r(e.value,{source:t.name,name:null,transform:[]})}catch(o){i.e(o)}finally{i.f()}return n}(this.component.data.facetRoot),r=e.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||e.assembleTitle(),o=e.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{}),o?{style:o}:{}),{from:{facet:this.assembleFacet()},sort:{field:YBt.map((function(e){return t.facetSortFields(e)})).flat(),order:YBt.map((function(e){return t.facetSortOrder(e)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup(function(t,e){if(t.component.selection&&Djt(t.component.selection).length){var n=S6(t.getName("cell"));e.unshift({name:"facet",value:{},on:[{events:rNt("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return A$t(e)}(this,[])))]}},{key:"getMapping",value:function(){return this.facet}}]),n}(HJt);function mQt(t,e){var n,r,i,o,a,u=qe(e);try{for(u.s();!(a=u.n()).done;){var s=a.value,l=s.data;if(!t.name||!s.hasName()||t.name===s.dataName){var c=null===(n=t.format)||void 0===n?void 0:n.mesh,f=null===(r=l.format)||void 0===r?void 0:r.feature;if(!c||!f){var d=null===(i=t.format)||void 0===i?void 0:i.feature;if(!d&&!f||d===f){var h=null===(o=l.format)||void 0===o?void 0:o.mesh;if(!c&&!h||c===h)if(b$t(t)&&b$t(l)){if(djt(t.values,l.values))return s}else if(x$t(t)&&x$t(l)){if(t.url===l.url)return s}else if(w$t(t)&&t.name===s.dataName)return s}}}}}catch(p){u.e(p)}finally{u.f()}return null}function yQt(t){var e,n,r,i,o,a,u,s,l,c,f=function(t,e){if(t.data||!t.parent){if(null===t.data){var n=new OZt({values:[]});return e.push(n),n}var r=mQt(t.data,e);if(r)return S$t(t.data)||(r.data.format=kjt({},t.data.format,r.data.format)),!r.hasName()&&t.data.name&&(r.dataName=t.data.name),r;var i=new OZt(t.data);return e.push(i),i}return t.parent.component.data.facetRoot?t.parent.component.data.facetRoot:t.parent.component.data.main}(t,t.component.data.sources),d=t.component.data,h=d.outputNodes,p=d.outputNodeRefCounts,v=t.data,g=!(v&&(S$t(v)||x$t(v)||b$t(v)))&&t.parent?t.parent.component.data.ancestorParse.clone():new y$t;S$t(v)?(k$t(v)?f=new EZt(f,v.sequence):E$t(v)&&(f=new CZt(f,v.graticule)),g.parseNothing=!0):null===(null===(e=null===v||void 0===v?void 0:v.format)||void 0===e?void 0:e.parse)&&(g.parseNothing=!0),f=null!==(n=SZt.makeExplicit(f,t,g))&&void 0!==n?n:f,f=new kZt(f);var m=t.parent&&zJt(t.parent);(RJt(t)||jJt(t))&&m&&(f=null!==(r=hZt.makeFromEncoding(f,t))&&void 0!==r?r:f),t.transforms.length>0&&(f=function(t,e,n){var r,i,o,a=0,u=qe(e.transforms);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=void 0,c=void 0;if(zGt(s))c=t=new vKt(t,s),l="derived";else if(_Gt(s)){var f=xZt(s);c=t=null!==(r=SZt.makeWithAncestors(t,{},f,n))&&void 0!==r?r:t,t=new JXt(t,e,s.filter)}else if(UGt(s))c=t=hZt.makeFromTransform(t,s,e),l="number";else if(VGt(s))l="date",void 0===n.getWithExplicit(s.field).value&&(t=new SZt(t,mt({},s.field,l)),n.set(s.field,l,!1)),c=t=F$t.makeFromTransform(t,s);else if(WGt(s))c=t=vZt.makeFromTransform(t,s),l="number",GXt(e)&&(t=new kZt(t));else if(TGt(s))c=t=QJt.make(t,e,s,a++),l="derived";else if(RGt(s))c=t=new qZt(t,s),l="number";else if(jGt(s))c=t=new WZt(t,s),l="number";else if(YGt(s))c=t=YZt.makeFromTransform(t,s),l="derived";else if(qGt(s))c=t=new GJt(t,s),l="derived";else if(BGt(s))c=t=new qJt(t,s),l="derived";else if(PGt(s))c=t=new iQt(t,s),l="derived";else if(LGt(s))t=new oQt(t,s);else if(HGt(s))c=t=KJt.makeFromTransform(t,s),l="derived";else if(DGt(s))c=t=new WJt(t,s),l="derived";else if(FGt(s))c=t=new eQt(t,s),l="derived";else if(NGt(s))c=t=new rQt(t,s),l="derived";else{if(!IGt(s)){aHt(MUt(s));continue}c=t=new JJt(t,s),l="derived"}if(c&&void 0!==l){var d,h=qe(null!==(i=c.producedFields())&&void 0!==i?i:[]);try{for(h.s();!(d=h.n()).done;){var p=d.value;n.set(p,l,!1)}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){u.e(v)}finally{u.f()}return t}(f,t,g));var y=function(t){var e={};if(RJt(t)&&t.component.selection){var n,r=qe(Djt(t.component.selection));try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=qe(t.component.selection[o].project.items);try{for(a.s();!(i=a.n()).done;){var u=i.value;!u.channel&&qjt(u.field)>1&&(e[u.field]="flatten")}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}}return e}(t),x=bZt(t);f=null!==(i=SZt.makeWithAncestors(f,{},Object.assign(Object.assign({},y),x),g))&&void 0!==i?i:f,RJt(t)&&(f=$Jt.parseAll(f,t),f=XJt.parseAll(f,t)),(RJt(t)||jJt(t))&&(m||(f=null!==(o=hZt.makeFromEncoding(f,t))&&void 0!==o?o:f),f=null!==(a=F$t.makeFromEncoding(f,t))&&void 0!==a?a:f,f=vKt.parseAllForSortIndex(f,t));var b=t.getDataName(m$t.Raw),w=new P$t(f,b,m$t.Raw,p);if(h[b]=w,f=w,RJt(t)){var S=vZt.makeFromEncoding(f,t);S&&(f=S,GXt(t)&&(f=new kZt(f))),f=null!==(u=KJt.makeFromEncoding(f,t))&&void 0!==u?u:f,f=null!==(s=YZt.makeFromEncoding(f,t))&&void 0!==s?s:f}RJt(t)&&(f=null!==(l=YJt.make(f,t))&&void 0!==l?l:f);var k=t.getDataName(m$t.Main),C=new P$t(f,k,m$t.Main,p);h[k]=C,f=C,RJt(t)&&function(t,e){var n,r,i=qe(Njt(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var o=j(r.value,2),a=o[0],u=o[1],s=t.getName("lookup_".concat(a));t.component.data.outputNodes[s]=u.materialized=new P$t(new JXt(e,t,{param:a}),s,m$t.Lookup,t.component.data.outputNodeRefCounts)}}catch(l){i.e(l)}finally{i.f()}}(t,C);var E=null;if(jJt(t)){var O=t.getName("facet");f=null!==(c=function(t,e){var n=e.row,r=e.column;if(n&&r){for(var i=null,o=0,a=[n,r];o<a.length;o++){var u=a[o];if(yWt(u.sort)){var s=u.sort,l=s.field,c=s.op;t=i=new WZt(t,{joinaggregate:[{op:void 0===c?pWt:c,field:l,as:vQt(u,u.sort,{forAs:!0})}],groupby:[qWt(u)]})}}return i}return null}(f,t.facet))&&void 0!==c?c:f,E=new gZt(f,t,O,C.getSource()),h[O]=E}return Object.assign(Object.assign({},t.component.data),{outputNodes:h,outputNodeRefCounts:p,raw:w,main:C,facetRoot:E,ancestorParse:g})}var xQt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i,o){var a,u,s,l,c;return Xr(this,n),a=e.call(this,t,"concat",r,i,o,t.resolve),"shared"!==(null===(s=null===(u=t.resolve)||void 0===u?void 0:u.axis)||void 0===s?void 0:s.x)&&"shared"!==(null===(c=null===(l=t.resolve)||void 0===l?void 0:l.axis)||void 0===c?void 0:c.y)||aHt("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),a.children=a.getChildren(t).map((function(t,e){return $Qt(t,ei(a),a.getName("concat_".concat(e)),void 0,o)})),a}return $r(n,[{key:"parseData",value:function(){this.component.data=yQt(this);var t,e=qe(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseData()}}catch(n){e.e(n)}finally{e.f()}}},{key:"parseSelections",value:function(){this.component.selection={};var t,e=qe(this.children);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.parseSelections();var r,i=qe(Djt(n.component.selection));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.component.selection[o]=n.component.selection[o]}}catch(a){i.e(a)}finally{i.f()}}}catch(a){e.e(a)}finally{e.f()}}},{key:"parseMarkGroup",value:function(){var t,e=qe(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseMarkGroup()}}catch(n){e.e(n)}finally{e.f()}}},{key:"parseAxesAndHeaders",value:function(){var t,e=qe(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseAxesAndHeaders()}}catch(n){e.e(n)}finally{e.f()}}},{key:"getChildren",value:function(t){return Eqt(t)?t.vconcat:Oqt(t)?t.hconcat:t.concat}},{key:"parseLayoutSize",value:function(){!function(t){dQt(t);var e=1===t.layout.columns?"width":"childWidth",n=void 0===t.layout.columns?"height":"childHeight";hQt(t,e),hQt(t,n)}(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionTopLevelSignals(t)}),t)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(t){return t.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var t,e=DKt(this),n=qe(this.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push.apply(e,Ye(r.assembleLayoutSignals()))}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"assembleSelectionData",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionData(t)}),t)}},{key:"assembleMarks",value:function(){return this.children.map((function(t){var e=t.assembleTitle(),n=t.assembleGroupStyle(),r=t.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:t.getName("group")},e?{title:e}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup())}))}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleDefaultLayout",value:function(){var t=this.layout.columns;return Object.assign(Object.assign({},null!=t?{columns:t}:{}),{bounds:"full",align:"each"})}}]),n}(UJt);var bQt=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},bYt),{labelExpr:1,encode:1}),wQt=Djt(bQt),SQt=function(t){Zr(n,t);var e=ri(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Xr(this,n),(t=e.call(this)).explicit=r,t.implicit=i,t.mainExtracted=o,t}return $r(n,[{key:"clone",value:function(){return new n(hjt(this.explicit),hjt(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(t){return"axis"===t||("grid"===t||"title"===t?!!this.get(t):!function(t){return!1===t||null===t}(this.get(t)))}},{key:"hasOrientSignalRef",value:function(){return qzt(this.explicit.orient)}}]),n}(f$t);var kQt={bottom:"top",top:"bottom",left:"right",right:"left"};function CQt(t,e){if(!t)return e.map((function(t){return t.clone()}));if(t.length===e.length){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[r];if(!!i!==!!o)return;if(i&&o){var a=i.getWithExplicit("orient"),u=o.getWithExplicit("orient");if(a.explicit&&u.explicit&&a.value!==u.value)return;t[r]=EQt(i,o)}}return t}}function EQt(t,e){var n,r=qe(wQt);try{var i=function(){var r=n.value,i=g$t(t.getWithExplicit(r),e.getWithExplicit(r),r,"axis",(function(t,e){switch(r){case"title":return pUt(t,e);case"gridScale":return{explicit:t.explicit,value:Gjt(t.value,e.value)}}return v$t(t,e,r,"axis")}));t.setWithExplicit(r,i)};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return t}function OQt(t,e,n,r,i){if("disable"===e)return void 0!==n;switch(n=n||{},e){case"titleAngle":case"labelAngle":return t===(qzt(n.labelAngle)?n.labelAngle:Qjt(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(t===pKt(r,i))return!0}return t===n[e]}var MQt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function _Qt(t,e){var n,r,i,o=e.axis(t),a=new SQt,u=oYt(e.encoding[t]),s=e.mark,l=e.config,c=(null===o||void 0===o?void 0:o.orient)||(null===(n=l["x"===t?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=l.axis)||void 0===r?void 0:r.orient)||function(t){return"x"===t?"bottom":"left"}(t),f=e.getScaleComponent(t).get("type"),d=function(t,e,n,r){var i="band"===e?["axisDiscrete","axisBand"]:"point"===e?["axisDiscrete","axisPoint"]:sVt(e)?["axisQuantitative"]:"time"===e||"utc"===e?["axisTemporal"]:[],o="x"===t?"axisX":"axisY",a=qzt(n)?"axisOrient":"axis".concat(Bjt(n)),u=[].concat(i,Ye(i.map((function(t){return o+t.substr(4)})))),s=["axis",a,o];return{vlOnlyAxisConfig:uKt(u,r,t,n),vgAxisConfig:uKt(s,r,t,n),axisConfigStyle:sKt([].concat(s,Ye(u)),r)}}(t,f,c,e.config),h=void 0!==o?!o:lKt("disable",l.style,null===o||void 0===o?void 0:o.style,d).configValue;if(a.set("disable",h,void 0!==o),h)return a;var p,v=function(t,e,n,r,i){var o=null===e||void 0===e?void 0:e.labelAngle;if(void 0!==o)return qzt(o)?o:Qjt(o);var a=lKt("labelAngle",r,null===e||void 0===e?void 0:e.style,i).configValue;return void 0!==a?Qjt(a):n!==oBt||!bjt([qHt,WHt],t.type)||DWt(t)&&t.timeUnit?void 0:270}(u,o=o||{},t,l.style,d),g={fieldOrDatumDef:u,axis:o,channel:t,model:e,scaleType:f,orient:c,labelAngle:v,mark:s,config:l},m=qe(wQt);try{for(m.s();!(p=m.n()).done;){var y=p.value,x=y in cKt?cKt[y](g):SYt(y)?o[y]:void 0,b=void 0!==x,w=OQt(x,y,o,e,t);if(b&&w)a.set(y,x,w);else{var S=SYt(y)&&"values"!==y?lKt(y,l.style,o.style,d):{},k=S.configValue,C=void 0===k?void 0:k,E=S.configFrom,O=void 0===E?void 0:E,M=void 0!==C;b&&!M?a.set(y,x,w):("vgAxisConfig"!==O||MQt.has(y)&&M||mYt(C)||qzt(C))&&a.set(y,C,!1)}}}catch(T){m.e(T)}finally{m.f()}var _=null!==(i=o.encoding)&&void 0!==i?i:{},A=yYt.reduce((function(n,r){var i;if(!a.hasAxisPart(r))return n;var o=RKt(null!==(i=_[r])&&void 0!==i?i:{},e),u="labels"===r?function(t,e,n){var r,i=t.encoding,o=t.config,a=null!==(r=oYt(i[e]))&&void 0!==r?r:oYt(i[nzt(e)]),u=t.axis(e)||{},s=u.format,l=u.formatType;return rWt(l)?Object.assign({text:uWt({fieldOrDatumDef:a,field:"datum.value",format:s,formatType:l,config:o})},n):n}(e,t,o):o;return void 0===u||Pjt(u)||(n[r]={update:u}),n}),{});return Pjt(A)||a.set("encode",A,!!o.encoding||void 0!==o.labelAngle),a}function AQt(t){var e,n=t.encoding,r=t.size,i=qe(czt);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=rzt(o);_qt(r[a])&&IWt(n[o])&&(delete r[a],aHt(GUt(a)))}}catch(u){i.e(u)}finally{i.f()}return r}function TQt(t,e,n){var r,i,o=Hzt(t),a=uUt("orient",o,n);if(o.orient=function(t,e,n){switch(t){case TVt:case LVt:case RVt:case FVt:case PVt:case _Vt:return}var r=e.x,i=e.y,o=e.x2,a=e.y2;switch(t){case MVt:if(DWt(r)&&(Rzt(r.bin)||DWt(i)&&i.aggregate&&!r.aggregate))return"vertical";if(DWt(i)&&(Rzt(i.bin)||DWt(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o&&(DWt(r)&&r.type===VHt&&!Lzt(r.bin)||LWt(r)))return"horizontal";if(!a&&(DWt(i)&&i.type===VHt&&!Lzt(i.bin)||LWt(i)))return"vertical"}case DVt:if(o&&(!DWt(r)||!Rzt(r.bin))&&a&&(!DWt(i)||!Rzt(i.bin)))return;case OVt:if(a)return DWt(i)&&Rzt(i.bin)?"horizontal":"vertical";if(o)return DWt(r)&&Rzt(r.bin)?"vertical":"horizontal";if(t===DVt){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case AVt:case NVt:var u=IWt(r),s=IWt(i);if(n)return n;if(u&&!s)return"tick"!==t?"horizontal":"vertical";if(!u&&s)return"tick"!==t?"vertical":"horizontal";if(u&&s){var l=r,c=i,f=l.type===YHt,d=c.type===YHt;return f&&!d?"tick"!==t?"vertical":"horizontal":!f&&d?"tick"!==t?"horizontal":"vertical":!l.aggregate&&c.aggregate?"tick"!==t?"vertical":"horizontal":l.aggregate&&!c.aggregate&&"tick"!==t?"horizontal":"vertical"}return}return"vertical"}(o.type,e,a),void 0!==a&&a!==o.orient&&aHt((r=o.orient,i=a,'Specified orient "'.concat(r,'" overridden with "').concat(i,'".'))),"bar"===o.type&&o.orient){var u=uUt("cornerRadiusEnd",o,n);if(void 0!==u){var s,l=qe("horizontal"===o.orient&&e.x2||"vertical"===o.orient&&e.y2?["cornerRadius"]:GVt[o.orient]);try{for(l.s();!(s=l.n()).done;){o[s.value]=u}}catch(c){l.e(c)}finally{l.f()}void 0!==o.cornerRadiusEnd&&delete o.cornerRadiusEnd}}return void 0===uUt("opacity",o,n)&&(o.opacity=function(t,e){if(bjt([TVt,NVt,LVt,RVt],t)&&!TYt(e))return.7;return}(o.type,e)),void 0===uUt("cursor",o,n)&&(o.cursor=function(t,e,n){if(e.href||t.href||uUt("href",t,n))return"pointer";return t.cursor}(o,e,n)),o}function PQt(t,e,n){if(n.graticule)return!1;var r=sUt("filled",t,e),i=t.type;return Gjt(r,i!==TVt&&i!==AVt&&i!==DVt)}function DQt(t,e){t.config;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),uXt("x",t,{defaultPos:"mid"})),uXt("y",t,{defaultPos:"mid"})),iXt("size",t)),iXt("angle",t)),function(t,e,n){if(n)return{shape:{value:n}};return iXt("shape",t)}(t,0,e))}var FQt={vgMark:"rule",encodeEntry:function(t){var e=t.markDef.orient;return t.encoding.x||t.encoding.y||t.encoding.latitude||t.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),dXt("x",t,{defaultPos:"horizontal"===e?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==e})),dXt("y",t,{defaultPos:"vertical"===e?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==e})),iXt("size",t,{vgChannel:"strokeWidth"})):{}}},NQt={vgMark:"text",encodeEntry:function(t){var e=t.config;t.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xXt(t,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),uXt("x",t,{defaultPos:"mid"})),uXt("y",t,{defaultPos:"mid"})),J$t(t)),iXt("size",t,{vgChannel:"fontSize"})),iXt("angle",t)),SXt("align",function(t,e,n){if(void 0===uUt("align",t,n))return"center";return}(t.markDef,0,e))),SXt("baseline",function(t,e,n){if(void 0===uUt("baseline",t,n))return"middle";return}(t.markDef,0,e))),uXt("radius",t,{defaultPos:null})),uXt("theta",t,{defaultPos:null}))}};var IQt={vgMark:"rect",encodeEntry:function(t){var e=t.config,n=t.markDef,r=n.orient,i="horizontal"===r?"width":"height",o="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),uXt("x",t,{defaultPos:"mid",vgChannel:"xc"})),uXt("y",t,{defaultPos:"mid",vgChannel:"yc"})),iXt("size",t,{defaultValue:LQt(t),vgChannel:i})),mt({},o,nUt(uUt("thickness",n,e))))}};function LQt(t){var e,n=t.config,r=t.markDef,i=r.orient,o="horizontal"===i?"width":"height",a=t.getScaleComponent("horizontal"===i?"x":"y"),u=null!==(e=uUt("size",r,n,{vgChannel:o}))&&void 0!==e?e:n.tick.bandSize;if(void 0!==u)return u;var s=a?a.get("range"):void 0;return s&&Gzt(s)&&d6(s.step)?3*s.step/4:3*Fqt(n.view,o)/4}var RQt={arc:{vgMark:"arc",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),uXt("x",t,{defaultPos:"mid"})),uXt("y",t,{defaultPos:"mid"})),vXt(t,"radius")),vXt(t,"theta"))}},area:{vgMark:"area",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),dXt("x",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===t.markDef.orient})),dXt("y",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===t.markDef.orient})),wXt(t))}},bar:{vgMark:"rect",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),vXt(t,"x")),vXt(t,"y"))}},circle:{vgMark:"symbol",encodeEntry:function(t){return DQt(t,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(t){return Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(t){var e=t.encoding.shape;return[Object.assign({type:"geoshape",projection:t.projectionName()},e&&DWt(e)&&e.type===GHt?{field:qWt(e,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),vXt(t,"x")),vXt(t,"y")),J$t(t,"url"))}},line:{vgMark:"line",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),uXt("x",t,{defaultPos:"mid"})),uXt("y",t,{defaultPos:"mid"})),iXt("size",t,{vgChannel:"strokeWidth"})),wXt(t))}},point:{vgMark:"symbol",encodeEntry:function(t){return DQt(t)}},rect:{vgMark:"rect",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),vXt(t,"x")),vXt(t,"y"))}},rule:FQt,square:{vgMark:"symbol",encodeEntry:function(t){return DQt(t,"square")}},text:NQt,tick:IQt,trail:{vgMark:"trail",encodeEntry:function(t){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xXt(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),uXt("x",t,{defaultPos:"mid"})),uXt("y",t,{defaultPos:"mid"})),iXt("size",t)),wXt(t))}}};function jQt(t){if(bjt([AVt,OVt,IVt],t.mark)){var e=LYt(t.mark,t.encoding);if(e.length>0)return function(t,e){return[{name:t.getName("pathgroup"),type:"group",from:{facet:{name:BQt+t.requestDataName(m$t.Main),data:t.requestDataName(m$t.Main),groupby:e}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:HQt(t,{fromPrefix:BQt})}]}(t,e)}else if(t.mark===MVt){var n=Zzt.some((function(e){return uUt(e,t.markDef,t.config)}));if(t.stack&&!t.fieldDef("size")&&n)return function(t){var e,n,r,i=j(HQt(t,{fromPrefix:zQt}),1)[0],o=t.scaleName(t.stack.fieldChannel),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.vgField(t.stack.fieldChannel,e)},u=function(t,e){var n=[a({prefix:"min",suffix:"start",expr:e}),a({prefix:"max",suffix:"start",expr:e}),a({prefix:"min",suffix:"end",expr:e}),a({prefix:"max",suffix:"end",expr:e})];return"".concat(t,"(").concat(n.map((function(t){return"scale('".concat(o,"',").concat(t,")")})).join(","),")")};"x"===t.stack.fieldChannel?(n=Object.assign(Object.assign({},vjt(i.encode.update,["y","yc","y2","height"].concat(Ye(Zzt)))),{x:{signal:u("min","datum")},x2:{signal:u("max","datum")},clip:{value:!0}}),r={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},i.encode.update=Object.assign(Object.assign({},gjt(i.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(n=Object.assign(Object.assign({},vjt(i.encode.update,["x","xc","x2","width"])),{y:{signal:u("min","datum")},y2:{signal:u("max","datum")},clip:{value:!0}}),r={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},i.encode.update=Object.assign(Object.assign({},gjt(i.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var s,l=qe(Zzt);try{for(l.s();!(s=l.n()).done;){var c=s.value,f=sUt(c,t.markDef,t.config);i.encode.update[c]?(n[c]=i.encode.update[c],delete i.encode.update[c]):f&&(n[c]=nUt(f)),f&&(i.encode.update[c]={value:0})}}catch(y){l.e(y)}finally{l.f()}var d=[];if((null===(e=t.stack.groupbyChannels)||void 0===e?void 0:e.length)>0){var h,p=qe(t.stack.groupbyChannels);try{for(p.s();!(h=p.n()).done;){var v=h.value,g=t.fieldDef(v),m=qWt(g);m&&d.push(m),((null===g||void 0===g?void 0:g.bin)||(null===g||void 0===g?void 0:g.timeUnit))&&d.push(qWt(g,{binSuffix:"end"}))}}catch(y){p.e(y)}finally{p.f()}}n=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(e,n){if(i.encode.update[n])return Object.assign(Object.assign({},e),mt({},n,i.encode.update[n]));var r=sUt(n,t.markDef,t.config);return void 0!==r?Object.assign(Object.assign({},e),mt({},n,nUt(r))):e}),n),n.stroke&&(n.strokeForeground={value:!0},n.strokeOffset={value:0});return[{type:"group",from:{facet:{data:t.requestDataName(m$t.Main),name:zQt+t.requestDataName(m$t.Main),groupby:d,aggregate:{fields:[a({suffix:"start"}),a({suffix:"start"}),a({suffix:"end"}),a({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:n},marks:[{type:"group",encode:{update:r},marks:[i]}]}]}(t)}return HQt(t)}var BQt="faceted_path_";var zQt="stack_group_";function UQt(t){var e,n=t.encoding,r=t.stack,i=t.mark,o=t.markDef,a=t.config,u=n.order;if(!(!y5(u)&&BWt(u)&&xjt(u.value)||!u&&xjt(uUt("order",o,a)))){if((y5(u)||DWt(u))&&!r)return fUt(u,{expr:"datum"});if(BVt(i)){var s="horizontal"===o.orient?"y":"x",l=n[s];if(DWt(l)){var c=l.sort;return y5(c)?{field:qWt(l,{prefix:s,suffix:"sort_index",expr:"datum"})}:yWt(c)?{field:qWt({aggregate:TYt(t.encoding)?c.op:void 0,field:c.field},{expr:"datum"})}:mWt(c)?{field:qWt(t.fieldDef(c.encoding),{expr:"datum"}),order:c.order}:null===c?void 0:{field:qWt(l,{binSuffix:(null===(e=t.stack)||void 0===e?void 0:e.impute)?"mid":void 0,expr:"datum"})}}}else;}}function HQt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=t.mark,r=t.markDef,i=t.encoding,o=t.config,a=Gjt(r.clip,VQt(t),WQt(t)),u=aUt(r),s=i.key,l=UQt(t),c=YQt(t),f=uUt("aria",r,o),d=RQt[n].postEncodingTransform?RQt[n].postEncodingTransform(t):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:t.getName("marks"),type:RQt[n].vgMark},a?{clip:!0}:{}),u?{style:u}:{}),s?{key:s.field}:{}),l?{sort:l}:{}),c||{}),!1===f?{aria:f}:{}),{from:{data:e.fromPrefix+t.requestDataName(m$t.Main)},encode:{update:RQt[n].encodeEntry(t)}}),d?{transform:d}:{})]}function VQt(t){var e=t.getScaleComponent("x"),n=t.getScaleComponent("y");return!(!(null===e||void 0===e?void 0:e.get("selectionExtent"))&&!(null===n||void 0===n?void 0:n.get("selectionExtent")))||void 0}function WQt(t){var e=t.component.projection;return!(!e||e.isFit)||void 0}function YQt(t){if(!t.component.selection)return null;for(var e=Djt(t.component.selection).length,n=e,r=t.parent;r&&0===n;)n=Djt(r.component.selection).length,r=r.parent;return n?{interactive:e>0||!!t.encoding.tooltip}:null}var qQt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i){var o,a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;Xr(this,n),(o=e.call(this,t,"unit",r,i,s,void 0,Aqt(t)?t.view:void 0)).specifiedScales={},o.specifiedAxes={},o.specifiedLegends={},o.specifiedProjection={},o.selection=[],o.children=[];var l=HVt(t.mark)?Object.assign({},t.mark):{type:t.mark},c=l.type;void 0===l.filled&&(l.filled=PQt(l,s,{graticule:t.data&&E$t(t.data)}));var f=o.encoding=DYt(t.encoding||{},c,l.filled,s);return o.markDef=TQt(l,f,s),o.size=AQt({encoding:f,size:Aqt(t)?Object.assign(Object.assign(Object.assign({},u),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):u}),o.stack=sGt(c,f),o.specifiedScales=o.initScales(c,f),o.specifiedAxes=o.initAxes(f),o.specifiedLegends=o.initLegends(f),o.specifiedProjection=t.projection,o.selection=(null!==(a=t.params)&&void 0!==a?a:[]).filter((function(t){return wqt(t)})),o}return $r(n,[{key:"hasProjection",get:function(){var t=this.encoding,e=this.mark===jVt,n=t&&UBt.some((function(e){return RWt(t[e])}));return e||n}},{key:"scaleDomain",value:function(t){var e=this.specifiedScales[t];return e?e.domain:void 0}},{key:"axis",value:function(t){return this.specifiedAxes[t]}},{key:"legend",value:function(t){return this.specifiedLegends[t]}},{key:"initScales",value:function(t,e){var n=this;return bzt.reduce((function(t,r){var i,o=oYt(e[r]);return o&&(t[r]=n.initScale(null!==(i=o.scale)&&void 0!==i?i:{})),t}),{})}},{key:"initScale",value:function(t){var e=t.domain,n=t.range,r=Hzt(t);return y5(e)&&(r.domain=e.map(tUt)),y5(n)&&(r.range=n.map(tUt)),r}},{key:"initAxes",value:function(t){var e=this;return czt.reduce((function(n,r){var i=t[r];if(RWt(i)||r===oBt&&RWt(t.x2)||r===aBt&&RWt(t.y2)){var o=RWt(i)?i.axis:void 0;n[r]=o?e.initAxis(Object.assign({},o)):o}return n}),{})}},{key:"initAxis",value:function(t){var e,n={},r=qe(Djt(t));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=t[i];n[i]=mYt(o)?Qzt(o):tUt(o)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"initLegends",value:function(t){return yzt.reduce((function(e,n){var r=oYt(t[n]);if(r&&function(t){switch(t){case xBt:case bBt:case wBt:case kBt:case SBt:case EBt:case _Bt:case ABt:return!0;case OBt:case MBt:case CBt:return!1}}(n)){var i=r.legend;e[n]=i?Hzt(i):i}return e}),{})}},{key:"parseData",value:function(){this.component.data=yQt(this)}},{key:"parseLayoutSize",value:function(){!function(t){var e,n=t.size,r=t.component,i=qe(czt);try{for(i.s();!(e=i.n()).done;){var o=rzt(e.value);if(n[o]){var a=n[o];r.layoutSize.set(o,_qt(a)?"step":a,!0)}else{var u=pQt(t,o);r.layoutSize.set(o,u,!1)}}}catch(s){i.e(s)}finally{i.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(t,e){var n,r={},i=t.config.selection;if(!e||!e.length)return r;var o,a=qe(e);try{for(a.s();!(o=a.n()).done;){var u=o.value,s=Ljt(u.name),l=u.select,c=p6(l)?l:l.type,f=x5(l)?hjt(l):{type:c},d=i[c];for(var h in d)"fields"!==h&&"encodings"!==h&&("mark"===h&&(f[h]=Object.assign(Object.assign({},d[h]),f[h])),void 0!==f[h]&&!0!==f[h]||(f[h]=null!==(n=d[h])&&void 0!==n?n:f[h]));var p,v=r[s]=Object.assign(Object.assign({},f),{name:s,type:c,init:u.value,bind:u.bind,events:p6(f.on)?rNt(f.on,"scope"):V5(hjt(f.on))}),g=qe(WXt);try{for(g.s();!(p=g.n()).done;){var m=p.value;m.defined(v)&&m.parse&&m.parse(t,v,u)}}catch(y){g.e(y)}finally{g.f()}}}catch(y){a.e(y)}finally{a.f()}return r}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=jQt(this)}},{key:"parseAxesAndHeaders",value:function(){var t;this.component.axes=(t=this,czt.reduce((function(e,n){return t.component.scales[n]&&(e[n]=[_Qt(n,t)]),e}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(t){return function(t,e){var n,r,i=!1,o=qe(Fjt(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{var a=function(){var n=r.value,o=n.name,a=S6(o+zXt);if(0===e.filter((function(t){return t.name===o})).length){var u="global"===n.resolve?"union":n.resolve,s="point"===n.type?", true, true)":")";e.push({name:n.name,update:"".concat(VXt,"(").concat(a,", ").concat(S6(u)).concat(s)})}i=!0;var l,c=qe(WXt);try{for(c.s();!(l=c.n()).done;){var f=l.value;f.defined(n)&&f.topLevelSignals&&(e=f.topLevelSignals(t,n,e))}}catch(d){c.e(d)}finally{c.f()}};for(o.s();!(r=o.n()).done;)a()}catch(u){o.e(u)}finally{o.f()}return i&&0===e.filter((function(t){return"unit"===t.name})).length&&e.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),A$t(e)}(this,t)}},{key:"assembleSignals",value:function(){return[].concat(Ye(aKt(this)),Ye(function(t,e){var n,r,i=qe(Fjt(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var o,a=r.value,u=a.name,s="".concat(u).concat(UXt,", ").concat("global"===a.resolve?"true":"{unit: ".concat(qXt(t),"}")),l=qe(WXt);try{for(l.s();!(o=l.n()).done;){var c=o.value;c.defined(a)&&(c.signals&&(e=c.signals(t,a,e)),c.modifyExpr&&(s=c.modifyExpr(t,a,s)))}}catch(f){l.e(f)}finally{l.f()}e.push({name:u+HXt,on:[{events:{signal:a.name+UXt},update:"modify(".concat(S6(a.name+zXt),", ").concat(s,")")}]})}}catch(f){i.e(f)}finally{i.f()}return A$t(e)}(this,[])))}},{key:"assembleSelectionData",value:function(t){return function(t,e){var n,r,i=Ye(e),o=qe(Fjt(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{var a=function(){var e=r.value,n={name:e.name+zXt};if(e.init){var o=e.project.items.map((function(t){return t.signals,O$t(t,["signals"])}));n.values=e.init.map((function(e){return{unit:qXt(t,{escape:!1}),fields:o,values:M$t(e,!1)}}))}i.filter((function(t){return t.name===e.name+zXt})).length||i.push(n)};for(o.s();!(r=o.n()).done;)a()}catch(u){o.e(u)}finally{o.f()}return i}(this,t)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return DKt(this)}},{key:"assembleMarks",value:function(){var t,e=null!==(t=this.component.mark)&&void 0!==t?t:[];return this.parent&&zJt(this.parent)||(e=_$t(this,e)),e.map(this.correctDataNames)}},{key:"assembleGroupStyle",value:function(){var t=(this.view||{}).style;return void 0!==t?t:this.encoding.x||this.encoding.y?"cell":void 0}},{key:"getMapping",value:function(){return this.encoding}},{key:"mark",get:function(){return this.markDef.type}},{key:"channelHasField",value:function(t){return MYt(this.encoding,t)}},{key:"fieldDef",value:function(t){return iYt(this.encoding[t])}},{key:"typedFieldDef",value:function(t){var e=this.fieldDef(t);return jWt(e)?e:null}}]),n}(HJt),GQt=function(t){Zr(n,t);var e=ri(n);function n(t,r,i,o,a){var u;Xr(this,n),u=e.call(this,t,"layer",r,i,a,t.resolve,t.view);var s=Object.assign(Object.assign(Object.assign({},o),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});return u.children=t.layer.map((function(t,e){if(Jqt(t))return new n(t,ei(u),u.getName("layer_".concat(e)),s,a);if(CYt(t))return new qQt(t,ei(u),u.getName("layer_".concat(e)),s,a);throw new Error(vUt(t))})),u}return $r(n,[{key:"parseData",value:function(){this.component.data=yQt(this);var t,e=qe(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseData()}}catch(n){e.e(n)}finally{e.f()}}},{key:"parseLayoutSize",value:function(){var t;dQt(t=this),hQt(t,"width"),hQt(t,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var t,e=qe(this.children);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.parseSelections();var r,i=qe(Djt(n.component.selection));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.component.selection[o]=n.component.selection[o]}}catch(a){i.e(a)}finally{i.f()}}}catch(a){e.e(a)}finally{e.f()}}},{key:"parseMarkGroup",value:function(){var t,e=qe(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseMarkGroup()}}catch(n){e.e(n)}finally{e.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(t){var e,n,r=t.component,i=r.axes,o=r.resolve,a={top:0,bottom:0,right:0,left:0},u=qe(t.children);try{for(u.s();!(n=u.n()).done;){var s=n.value;s.parseAxesAndHeaders();var l,c=qe(Djt(s.component.axes));try{for(c.s();!(l=c.n()).done;){var f=l.value;o.axis[f]=BKt(t.component.resolve,f),"shared"===o.axis[f]&&(i[f]=CQt(i[f],s.component.axes[f]),i[f]||(o.axis[f]="independent",delete i[f]))}}catch(_){c.e(_)}finally{c.f()}}}catch(_){u.e(_)}finally{u.f()}var d,h=qe(czt);try{for(h.s();!(d=h.n()).done;){var p,v=d.value,g=qe(t.children);try{for(g.s();!(p=g.n()).done;){var m=p.value;if(m.component.axes[v]){if("independent"===o.axis[v]){i[v]=(null!==(e=i[v])&&void 0!==e?e:[]).concat(m.component.axes[v]);var y,x=qe(m.component.axes[v]);try{for(x.s();!(y=x.n()).done;){var b=y.value,w=b.getWithExplicit("orient"),S=w.value,k=w.explicit;if(!qzt(S)){if(a[S]>0&&!k){var C=kQt[S];a[S]>a[C]&&b.set("orient",C,!1)}a[S]++}}}catch(_){x.e(_)}finally{x.f()}}delete m.component.axes[v]}}}catch(_){g.e(_)}finally{g.f()}if("independent"===o.axis[v]&&i[v]&&i[v].length>1){var E,O=qe(i[v]);try{for(O.s();!(E=O.n()).done;){var M=E.value;M.get("grid")&&!M.explicit.grid&&(M.implicit.grid=!1)}}catch(_){O.e(_)}finally{O.f()}}}}catch(_){h.e(_)}finally{h.f()}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionTopLevelSignals(t)}),t)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(t,e){return t.concat(e.assembleSignals())}),aKt(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(t,e){return t.concat(e.assembleLayoutSignals())}),DKt(this))}},{key:"assembleSelectionData",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionData(t)}),t)}},{key:"assembleGroupStyle",value:function(){var t,e=new Set,n=qe(this.children);try{for(n.s();!(t=n.n()).done;){var r,i=qe(V5(t.value.assembleGroupStyle()));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.add(o)}}catch(u){i.e(u)}finally{i.f()}}}catch(u){n.e(u)}finally{n.f()}var a=Array.from(e);return a.length>1?a:1===a.length?a[0]:void 0}},{key:"assembleTitle",value:function(){var t=Fct(Jr(n.prototype),"assembleTitle",this).call(this);if(t)return t;var e,r=qe(this.children);try{for(r.s();!(e=r.n()).done;){if(t=e.value.assembleTitle())return t}}catch(i){r.e(i)}finally{r.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(t,e){var n,r=qe(t.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;RJt(i)&&(e=_$t(i,e))}}catch(o){r.e(o)}finally{r.f()}return e}(this,this.children.flatMap((function(t){return t.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(t,e){return t.concat(e.assembleLegends())}),rZt(this))}}]),n}(UJt);function $Qt(t,e,n,r,i){if(SWt(t))return new gQt(t,e,n,i);if(Jqt(t))return new GQt(t,e,n,r,i);if(CYt(t))return new qQt(t,e,n,r,i);if(function(t){return Eqt(t)||Oqt(t)||Cqt(t)}(t))return new xQt(t,e,n,i);throw new Error(vUt(t))}var XQt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function KQt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.logger&&iHt(e.logger),e.fieldTitle&&ZWt(e.fieldTitle);try{var n=qqt(w5(e.config,t.config)),r=i$t(t,n),i=$Qt(r,null,"",void 0,n);i.parse(),QZt(i.component.data,i);var o=JQt(i,ZQt(t,r.autosize,n,i),t.datasets,t.usermeta);return{spec:o,normalized:r}}finally{e.logger&&oHt(),e.fieldTitle&&JWt()}}function ZQt(t,e,n,r){var i,o=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(void 0===e?(e={type:"pad"},r.hasAxisOrientSignalRef()&&(e.resize=!0)):p6(e)&&(e={type:e}),o&&a&&("fit"===(i=e.type)||"fit-x"===i||"fit-y"===i))if("step"===o&&"step"===a)aHt(xUt()),e.type="pad";else if("step"===o||"step"===a){var u="step"===o?"width":"height";aHt(xUt(pzt(u)));var s="width"===u?"height":"width";e.type=function(t){return t?"fit-".concat(pzt(t)):"fit"}(s)}return Object.assign(Object.assign(Object.assign({},1===Djt(e).length&&e.type?"pad"===e.type?{}:{autosize:e.type}:{autosize:e}),c$t(n,!1)),c$t(t,!0))}function JQt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=t.config?Kqt(t.config):void 0,o=[].concat(t.assembleSelectionData([]),uQt(t.component.data,n)),a=t.assembleProjections(),u=t.assembleTitle(),s=t.assembleGroupStyle(),l=t.assembleGroupEncodeEntry(!0),c=t.assembleLayoutSignals();c=c.filter((function(t){return"width"!==t.name&&"height"!==t.name||void 0===t.value||(e[t.name]=+t.value,!1)}));var f=e.params,d=XQt(e,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},t.description?{description:t.description}:{}),d),u?{title:u}:{}),s?{style:s}:{}),l?{encode:{update:l}}:{}),{data:o}),a.length>0?{projections:a}:{}),t.assembleGroup([].concat(Ye(c),Ye(t.assembleSelectionTopLevelSignals([])),Ye(kqt(f))))),i?{config:i}:{}),r?{usermeta:r}:{})}var QQt="5.2.0";var t0t,e0t=Object.prototype,n0t=e0t.hasOwnProperty,r0t="function"===typeof Symbol?Symbol:{},i0t=r0t.iterator||"@@iterator",o0t=r0t.asyncIterator||"@@asyncIterator",a0t=r0t.toStringTag||"@@toStringTag";function u0t(t,e,n,r){var i=e&&e.prototype instanceof p0t?e:p0t,o=Object.create(i.prototype),a=new M0t(r||[]);return o._invoke=function(t,e,n){var r=l0t;return function(i,o){if(r===f0t)throw new Error("Generator is already running");if(r===d0t){if("throw"===i)throw o;return A0t()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=C0t(a,n);if(u){if(u===h0t)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l0t)throw r=d0t,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f0t;var s=s0t(t,e,n);if("normal"===s.type){if(r=n.done?d0t:c0t,s.arg===h0t)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=d0t,n.method="throw",n.arg=s.arg)}}}(t,n,a),o}function s0t(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}var l0t="suspendedStart",c0t="suspendedYield",f0t="executing",d0t="completed",h0t={};function p0t(){}function v0t(){}function g0t(){}var m0t={};m0t[i0t]=function(){return this};var y0t=Object.getPrototypeOf,x0t=y0t&&y0t(y0t(_0t([])));x0t&&x0t!==e0t&&n0t.call(x0t,i0t)&&(m0t=x0t);var b0t=g0t.prototype=p0t.prototype=Object.create(m0t);function w0t(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S0t(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v0t||"GeneratorFunction"===(e.displayName||e.name))}function k0t(t,e){function n(r,i,o,a){var u=s0t(t[r],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"===typeof l&&n0t.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(l).then((function(t){s.value=t,o(s)}),(function(t){return n("throw",t,o,a)}))}a(u.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function C0t(t,e){var n=t.iterator[e.method];if(n===t0t){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=t0t,C0t(t,e),"throw"===e.method))return h0t;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h0t}var r=s0t(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h0t;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t0t),e.delegate=null,h0t):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h0t)}function E0t(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O0t(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M0t(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E0t,this),this.reset(!0)}function _0t(t){if(t){var e=t[i0t];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(n0t.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=t0t,e.done=!0,e};return r.next=r}}return{next:A0t}}function A0t(){return{value:t0t,done:!0}}v0t.prototype=b0t.constructor=g0t,g0t.constructor=v0t,g0t[a0t]=v0t.displayName="GeneratorFunction",w0t(k0t.prototype),k0t.prototype[o0t]=function(){return this},w0t(b0t),b0t[a0t]="Generator",b0t[i0t]=function(){return this},b0t.toString=function(){return"[object Generator]"},M0t.prototype={constructor:M0t,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=t0t,this.done=!1,this.delegate=null,this.method="next",this.arg=t0t,this.tryEntries.forEach(O0t),!t)for(var e in this)"t"===e.charAt(0)&&n0t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t0t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=t0t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=n0t.call(i,"catchLoc"),u=n0t.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&n0t.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,h0t):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h0t},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O0t(n),h0t}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O0t(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_0t(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t0t),h0t}};var T0t={wrap:u0t,isGeneratorFunction:S0t,AsyncIterator:k0t,mark:function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g0t):(t.__proto__=g0t,a0t in t||(t[a0t]="GeneratorFunction")),t.prototype=Object.create(b0t),t},awrap:function(t){return{__await:t}},async:function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new k0t(u0t(t,e,n,r),i);return S0t(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},keys:function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},values:_0t},P0t=D0t;function D0t(t){var e=this;if(e instanceof D0t||(e=new D0t),e.tail=null,e.head=null,e.length=0,t&&"function"===typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}function F0t(t,e,n){var r=e===t.head?new L0t(n,null,e,t):new L0t(n,e,e.next,t);return null===r.next&&(t.tail=r),null===r.prev&&(t.head=r),t.length++,r}function N0t(t,e){t.tail=new L0t(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function I0t(t,e){t.head=new L0t(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function L0t(t,e,n,r){if(!(this instanceof L0t))return new L0t(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}D0t.Node=L0t,D0t.create=D0t,D0t.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},D0t.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},D0t.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},D0t.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)N0t(this,arguments[t]);return this.length},D0t.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)I0t(this,arguments[t]);return this.length},D0t.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},D0t.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},D0t.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},D0t.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},D0t.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},D0t.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},D0t.prototype.map=function(t,e){e=e||this;for(var n=new D0t,r=this.head;null!==r;)n.push(t.call(e,r.value,this)),r=r.next;return n},D0t.prototype.mapReverse=function(t,e){e=e||this;for(var n=new D0t,r=this.tail;null!==r;)n.push(t.call(e,r.value,this)),r=r.prev;return n},D0t.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=t(n,r.value,i),r=r.next;return n},D0t.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=t(n,r.value,i),r=r.prev;return n},D0t.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},D0t.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},D0t.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new D0t;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;null!==i&&r<t;r++)i=i.next;for(;null!==i&&r<e;r++,i=i.next)n.push(i.value);return n},D0t.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new D0t;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;null!==i&&r>e;r--)i=i.prev;for(;null!==i&&r>t;r--,i=i.prev)n.push(i.value);return n},D0t.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,r=this.head;null!==r&&n<t;n++)r=r.next;var i=[];for(n=0;r&&n<e;n++)i.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=F0t(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i},D0t.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};try{D0t.prototype[Symbol.iterator]=T0t.mark((function t(){var e;return T0t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.head;case 1:if(!e){t.next=7;break}return t.next=4,e.value;case 4:e=e.next,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)}))}catch(g1t){}var R0t=P0t,j0t=Symbol("max"),B0t=Symbol("length"),z0t=Symbol("lengthCalculator"),U0t=Symbol("allowStale"),H0t=Symbol("maxAge"),V0t=Symbol("dispose"),W0t=Symbol("noDisposeOnSet"),Y0t=Symbol("lruList"),q0t=Symbol("cache"),G0t=Symbol("updateAgeOnGet"),$0t=function(){return 1},X0t=function(){function t(e){if(Xr(this,t),"number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[j0t]=e.max||1/0;var n=e.length||$0t;if(this[z0t]="function"!==typeof n?$0t:n,this[U0t]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[H0t]=e.maxAge||0,this[V0t]=e.dispose,this[W0t]=e.noDisposeOnSet||!1,this[G0t]=e.updateAgeOnGet||!1,this.reset()}return $r(t,[{key:"max",get:function(){return this[j0t]},set:function(t){if("number"!==typeof t||t<0)throw new TypeError("max must be a non-negative number");this[j0t]=t||1/0,J0t(this)}},{key:"allowStale",get:function(){return this[U0t]},set:function(t){this[U0t]=!!t}},{key:"maxAge",get:function(){return this[H0t]},set:function(t){if("number"!==typeof t)throw new TypeError("maxAge must be a non-negative number");this[H0t]=t,J0t(this)}},{key:"lengthCalculator",get:function(){return this[z0t]},set:function(t){var e=this;"function"!==typeof t&&(t=$0t),t!==this[z0t]&&(this[z0t]=t,this[B0t]=0,this[Y0t].forEach((function(t){t.length=e[z0t](t.value,t.key),e[B0t]+=t.length}))),J0t(this)}},{key:"length",get:function(){return this[B0t]}},{key:"itemCount",get:function(){return this[Y0t].length}},{key:"rforEach",value:function(t,e){e=e||this;for(var n=this[Y0t].tail;null!==n;){var r=n.prev;e1t(this,t,n,e),n=r}}},{key:"forEach",value:function(t,e){e=e||this;for(var n=this[Y0t].head;null!==n;){var r=n.next;e1t(this,t,n,e),n=r}}},{key:"keys",value:function(){return this[Y0t].toArray().map((function(t){return t.key}))}},{key:"values",value:function(){return this[Y0t].toArray().map((function(t){return t.value}))}},{key:"reset",value:function(){var t=this;this[V0t]&&this[Y0t]&&this[Y0t].length&&this[Y0t].forEach((function(e){return t[V0t](e.key,e.value)})),this[q0t]=new Map,this[Y0t]=new R0t,this[B0t]=0}},{key:"dump",value:function(){var t=this;return this[Y0t].map((function(e){return!Z0t(t,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}})).toArray().filter((function(t){return t}))}},{key:"dumpLru",value:function(){return this[Y0t]}},{key:"set",value:function(t,e,n){if((n=n||this[H0t])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,i=this[z0t](e,t);if(this[q0t].has(t)){if(i>this[j0t])return Q0t(this,this[q0t].get(t)),!1;var o=this[q0t].get(t).value;return this[V0t]&&(this[W0t]||this[V0t](t,o.value)),o.now=r,o.maxAge=n,o.value=e,this[B0t]+=i-o.length,o.length=i,this.get(t),J0t(this),!0}var a=new t1t(t,e,i,r,n);return a.length>this[j0t]?(this[V0t]&&this[V0t](t,e),!1):(this[B0t]+=a.length,this[Y0t].unshift(a),this[q0t].set(t,this[Y0t].head),J0t(this),!0)}},{key:"has",value:function(t){if(!this[q0t].has(t))return!1;var e=this[q0t].get(t).value;return!Z0t(this,e)}},{key:"get",value:function(t){return K0t(this,t,!0)}},{key:"peek",value:function(t){return K0t(this,t,!1)}},{key:"pop",value:function(){var t=this[Y0t].tail;return t?(Q0t(this,t),t.value):null}},{key:"del",value:function(t){Q0t(this,this[q0t].get(t))}},{key:"load",value:function(t){this.reset();for(var e=Date.now(),n=t.length-1;n>=0;n--){var r=t[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var o=i-e;o>0&&this.set(r.k,r.v,o)}}}},{key:"prune",value:function(){var t=this;this[q0t].forEach((function(e,n){return K0t(t,n,!1)}))}}]),t}(),K0t=function(t,e,n){var r=t[q0t].get(e);if(r){var i=r.value;if(Z0t(t,i)){if(Q0t(t,r),!t[U0t])return}else n&&(t[G0t]&&(r.value.now=Date.now()),t[Y0t].unshiftNode(r));return i.value}},Z0t=function(t,e){if(!e||!e.maxAge&&!t[H0t])return!1;var n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[H0t]&&n>t[H0t]},J0t=function(t){if(t[B0t]>t[j0t])for(var e=t[Y0t].tail;t[B0t]>t[j0t]&&null!==e;){var n=e.prev;Q0t(t,e),e=n}},Q0t=function(t,e){if(e){var n=e.value;t[V0t]&&t[V0t](n.key,n.value),t[B0t]-=n.length,t[q0t].delete(n.key),t[Y0t].removeNode(e)}},t1t=$r((function t(e,n,r,i,o){Xr(this,t),this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=o||0})),e1t=function(t,e,n,r){var i=n.value;Z0t(t,i)&&(Q0t(t,n),t[U0t]||(i=void 0)),i&&e.call(r,i.value,i.key,t)},n1t=X0t,r1t={exports:{}},i1t={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},o1t="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG)?function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).error.apply(t,["SEMVER"].concat(n))}:function(){},a1t=o1t;!function(t,e){var n=i1t.MAX_SAFE_COMPONENT_LENGTH,r=a1t,i=(e=t.exports={}).re=[],o=e.src=[],a=e.t={},u=0,s=function(t,e,n){var s=u++;r(s,e),a[t]=s,o[s]=e,i[s]=new RegExp(e,n?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION","(".concat(o[a.NUMERICIDENTIFIER],")\\.")+"(".concat(o[a.NUMERICIDENTIFIER],")\\.")+"(".concat(o[a.NUMERICIDENTIFIER],")")),s("MAINVERSIONLOOSE","(".concat(o[a.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[a.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[a.NUMERICIDENTIFIERLOOSE],")")),s("PRERELEASEIDENTIFIER","(?:".concat(o[a.NUMERICIDENTIFIER],"|").concat(o[a.NONNUMERICIDENTIFIER],")")),s("PRERELEASEIDENTIFIERLOOSE","(?:".concat(o[a.NUMERICIDENTIFIERLOOSE],"|").concat(o[a.NONNUMERICIDENTIFIER],")")),s("PRERELEASE","(?:-(".concat(o[a.PRERELEASEIDENTIFIER],"(?:\\.").concat(o[a.PRERELEASEIDENTIFIER],")*))")),s("PRERELEASELOOSE","(?:-?(".concat(o[a.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(o[a.PRERELEASEIDENTIFIERLOOSE],")*))")),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD","(?:\\+(".concat(o[a.BUILDIDENTIFIER],"(?:\\.").concat(o[a.BUILDIDENTIFIER],")*))")),s("FULLPLAIN","v?".concat(o[a.MAINVERSION]).concat(o[a.PRERELEASE],"?").concat(o[a.BUILD],"?")),s("FULL","^".concat(o[a.FULLPLAIN],"$")),s("LOOSEPLAIN","[v=\\s]*".concat(o[a.MAINVERSIONLOOSE]).concat(o[a.PRERELEASELOOSE],"?").concat(o[a.BUILD],"?")),s("LOOSE","^".concat(o[a.LOOSEPLAIN],"$")),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE","".concat(o[a.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),s("XRANGEIDENTIFIER","".concat(o[a.NUMERICIDENTIFIER],"|x|X|\\*")),s("XRANGEPLAIN","[v=\\s]*(".concat(o[a.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[a.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[a.XRANGEIDENTIFIER],")")+"(?:".concat(o[a.PRERELEASE],")?").concat(o[a.BUILD],"?")+")?)?"),s("XRANGEPLAINLOOSE","[v=\\s]*(".concat(o[a.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[a.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[a.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(o[a.PRERELEASELOOSE],")?").concat(o[a.BUILD],"?")+")?)?"),s("XRANGE","^".concat(o[a.GTLT],"\\s*").concat(o[a.XRANGEPLAIN],"$")),s("XRANGELOOSE","^".concat(o[a.GTLT],"\\s*").concat(o[a.XRANGEPLAINLOOSE],"$")),s("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),s("COERCERTL",o[a.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM","(\\s*)".concat(o[a.LONETILDE],"\\s+"),!0),e.tildeTrimReplace="$1~",s("TILDE","^".concat(o[a.LONETILDE]).concat(o[a.XRANGEPLAIN],"$")),s("TILDELOOSE","^".concat(o[a.LONETILDE]).concat(o[a.XRANGEPLAINLOOSE],"$")),s("LONECARET","(?:\\^)"),s("CARETTRIM","(\\s*)".concat(o[a.LONECARET],"\\s+"),!0),e.caretTrimReplace="$1^",s("CARET","^".concat(o[a.LONECARET]).concat(o[a.XRANGEPLAIN],"$")),s("CARETLOOSE","^".concat(o[a.LONECARET]).concat(o[a.XRANGEPLAINLOOSE],"$")),s("COMPARATORLOOSE","^".concat(o[a.GTLT],"\\s*(").concat(o[a.LOOSEPLAIN],")$|^$")),s("COMPARATOR","^".concat(o[a.GTLT],"\\s*(").concat(o[a.FULLPLAIN],")$|^$")),s("COMPARATORTRIM","(\\s*)".concat(o[a.GTLT],"\\s*(").concat(o[a.LOOSEPLAIN],"|").concat(o[a.XRANGEPLAIN],")"),!0),e.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE","^\\s*(".concat(o[a.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(o[a.XRANGEPLAIN],")")+"\\s*$"),s("HYPHENRANGELOOSE","^\\s*(".concat(o[a.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(o[a.XRANGEPLAINLOOSE],")")+"\\s*$"),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0.0.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}(r1t,r1t.exports);r1t.exports.re,r1t.exports.t,Symbol("SemVer ANY"),r1t.exports.re,r1t.exports.t;new n1t({max:1e3}),r1t.exports.re,r1t.exports.t,r1t.exports.comparatorTrimReplace,r1t.exports.tildeTrimReplace,r1t.exports.caretTrimReplace;String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(!e||e<0?0:+e,t.length)===t});var u1t;var s1t=A,l1t=T,c1t="undefined"!==typeof window?window:void 0;void 0===l1t&&null!==c1t&&void 0!==c1t&&null!==(u1t=c1t.vl)&&void 0!==u1t&&u1t.compile&&(l1t=c1t.vl);s1t.version,l1t&&l1t.version;var f1t=function(){var t=j((0,D.useState)([]),2),e=t[0],n=t[1],r=j((0,D.useState)([]),2),i=r[0],o=r[1],a=j((0,D.useState)(!1),2),u=(a[0],a[1],j((0,D.useState)({}),2)),s=(u[0],u[1],j((0,D.useState)({}),2)),l=(s[0],s[1],j((0,D.useState)({}),2)),c=(l[0],l[1],j((0,D.useState)([]),2)),f=(c[0],c[1],j((0,D.useState)([]),2)),d=(f[0],f[1],j((0,D.useState)([]),2)),h=(d[0],d[1],j((0,D.useState)([]),2)),p=(h[0],h[1],j((0,D.useState)(0),2)),v=(p[0],p[1],j((0,D.useState)(0),2)),g=v[0],m=v[1],y=j((0,D.useState)(null),2),x=y[0],b=y[1],w=j((0,D.useState)(null),2),S=(w[0],w[1],j((0,D.useState)(0),2)),k=S[0],C=S[1],E=j((0,D.useState)(""),2),O=E[0],M=E[1];console.log("loading the scatter chart");var _=function(){var t=kt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",N1().get("/api/raga/get_all_configurations"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=kt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",N1().get("/api/raga/get_all_issues"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=kt(Et().mark((function t(e,n,r,i){var o,a;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(null),t.next=3,N1().get("/api/raga/get_next_image/"+e+"/"+n+"/"+r+"/"+i);case 3:(o=t.sent)&&o.data&&o.data.payload&&o.data.payload.data&&o.data.payload.data.rows&&o.data.payload.data.rows[0]&&console.log("The next image is ",o.data.payload.data.rows[0]),a=o.data.payload.data.rows[0],b({url:a[0],videoUrl:a[3],nextId:a[2],nextName:a[1]});case 7:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),P=function(){var t=kt(Et().mark((function t(e,n,r,i){var o,a;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(null),t.next=3,N1().get("/api/raga/get_pre_image/"+e+"/"+n+"/"+r+"/"+i);case 3:(o=t.sent)&&o.data&&o.data.payload&&o.data.payload.data&&o.data.payload.data.rows&&o.data.payload.data.rows[0]&&console.log("The next image is ",o.data.payload.data.rows[0]),a=o.data.payload.data.rows[0],b({url:a[0],videoUrl:a[3],nextId:a[2],nextName:a[1]});case 7:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),F=function(){var t=kt(Et().mark((function t(e,n){var r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("inside createIssue ",e,n),t.next=3,N1().post("/api/raga/create_jira_issue",{issueTitle:e,issueDes:n});case 3:r=t.sent,console.log("the jira create status is ",r),alert("Jira issue created : "+n);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,D.useEffect)(kt(Et().mark((function t(){var e,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return M(localStorage.getItem("selectedModelV")),t.next=3,_();case 3:return(e=t.sent)&&e.data&&e.data.payload&&e.data.payload.data&&e.data.payload.data.rows&&(console.log("the start value is ",e.data.payload.data.rows[0][0]),m(e.data.payload.data.rows[0][0]),n(e.data.payload.data.rows)),t.next=7,A();case 7:r=t.sent,console.log("All issues == ",r.data.payload.data.rows),r&&r.data&&r.data.payload&&r.data.payload.data&&r.data.payload.data.rows&&o(r.data.payload.data.rows),T(null,null,e.data.payload.data.rows[0][0],localStorage.getItem("selectedModelV"));case 11:case"end":return t.stop()}}),t)}))),[]),(0,pt.jsx)(pt.Fragment,{children:g&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsxs)("div",{className:"row",children:[(0,pt.jsx)("h4",{children:"Issue List"}),(0,pt.jsx)("div",{style:{width:"100%",height:"250px",padding:"20px",overflowY:"scroll"},children:i.map((function(t,e){return console.log("Issue is :: ",t),(0,pt.jsx)(pt.Fragment,{children:(0,pt.jsxs)("div",{style:{width:"100%",padding:"10px",backgroundColor:"#ffffff",margin:"10px",border:"1px solid #cccccc",borderRadius:"10px"},children:[(0,pt.jsxs)("span",{style:{fontFamily:"georgia",fontSize:"20px",color:"red"},children:[e+1,". "]}),(0,pt.jsx)("b",{children:t[2]})," is ",(0,pt.jsx)("b",{children:t[3]})," ",(0,pt.jsx)("b",{children:t[5]})," ",(0,pt.jsx)("b",{children:t[4]})," under the rule id ",(0,pt.jsx)("b",{children:t[0]})," and configuration id ",(0,pt.jsx)("b",{children:t[1]}),(0,pt.jsx)("br",{}),(0,pt.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:[(0,pt.jsx)("button",{style:{width:"30px",height:"30px"},className:"btn btn-danger btn-sm",onClick:function(){F("Raga Ai Issue-"+(e+1),"\n                              ".concat(t[2]," is ").concat(t[3]," ").concat(t[5]," ").concat(t[4]," under the rule id ").concat(t[0]," and configuration id ").concat(t[1],"\n                              "))},children:"+"})," \xa0\xa0\xa0\xa0",(0,pt.jsx)("button",{style:{width:"30px",height:"30px"},className:"btn btn-primary btn-sm",children:"-"})]})]})})}))})]}),(0,pt.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,pt.jsx)("div",{className:"col-lg-4",children:(0,pt.jsx)("select",{className:"form-control",name:"config",onChange:function(t){console.log("the event is ",t.target.value),m(t.target.value)},children:e.map((function(t){return(0,pt.jsx)(pt.Fragment,{children:(0,pt.jsxs)("option",{value:t[0],children:["Configuration-",t[0]]})})}))})}),(0,pt.jsx)("div",{className:"col-lg-8"})]}),(0,pt.jsx)("div",{className:"row",style:{marginTop:"20px"},children:(0,pt.jsx)("iframe",{width:"100%",height:"700px",src:"http://3.6.67.248:3000/public/dashboard/1f03136c-37c7-484e-85d2-f74d71aae0be?configuration_id=".concat(g,"&model=").concat(O),frameborder:"0",allowtransparency:!0})}),(0,pt.jsx)("hr",{}),(0,pt.jsxs)("div",{className:"row",style:{marginTop:"50px"},children:[x&&(0,pt.jsxs)("div",{className:"col-lg-6",children:[(0,pt.jsx)("div",{style:{border:"1px solid #eeeeee",padding:"20px",backgroundImage:"url("+x.url+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100%",height:"500px"}}),(0,pt.jsxs)("div",{style:{width:"100%",backgroundColor:"#ffffff",marginTop:"20px"},children:[(0,pt.jsx)("button",{className:"btn btn-default float-left",style:{width:"100px"},onClick:kt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P(x.nextId,x.nextName,g,O);case 1:case"end":return t.stop()}}),t)}))),children:" Previous"}),(0,pt.jsx)("button",{className:"btn btn-default float-right",style:{width:"100px",marginLeft:"250px"},onClick:kt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T(x.nextId,x.nextName,g,O);case 1:case"end":return t.stop()}}),t)}))),children:"Next"})]})]}),(0,pt.jsxs)("div",{className:"col-lg-6",children:[(0,pt.jsxs)("div",{className:"row",children:[(0,pt.jsx)("div",{className:"col-lg-4",children:(0,pt.jsxs)("select",{id:"videoTime",className:"form-control",onChange:function(t){console.log("The selected time ",t.target.value),C(t.target.value)},children:[(0,pt.jsx)("option",{value:"0",children:"select Time"}),(0,pt.jsx)("option",{value:"10",children:"10 sec"}),(0,pt.jsx)("option",{value:"30",children:"30 sec"}),(0,pt.jsx)("option",{value:"60",children:"1 Minute"})]})}),(0,pt.jsx)("div",{className:"col-lg-4",children:(0,pt.jsx)("button",{className:"btn btn-warning",style:{width:"100px"},onClick:function(){var t=document.getElementById("id1");console.log("Video time is ",parseInt(k)),t.currentTime=parseInt(k),t.play()},children:"Play"})})]}),(0,pt.jsx)("div",{className:"row",children:(0,pt.jsx)("div",{className:"col-lg-12",children:x&&x.videoUrl?(0,pt.jsx)(pt.Fragment,{children:(0,pt.jsxs)("video",{id:"id1",width:"100%",height:"400px",controls:!0,children:[(0,pt.jsx)("source",{src:x.videoUrl,type:"video/mp4"}),(0,pt.jsx)("source",{src:x.videoUrl,type:"video/ogg"}),"Your browser does not support the video tag."]})}):(0,pt.jsx)(pt.Fragment,{children:(0,pt.jsx)("h6",{children:"Loading.."})})})})]}),(0,pt.jsxs)("div",{class:"row",children:[(0,pt.jsx)("hr",{}),(0,pt.jsx)("iframe",{width:"100%",height:"600px",src:"/loadScatterChart",frameborder:"0",allowtransparency:!0})]}),(0,pt.jsx)("hr",{}),(0,pt.jsxs)("div",{className:"jubotron",children:[(0,pt.jsx)("p",{children:"Copyright : @raga.ai"}),(0,pt.jsx)("h6",{children:"Statics & data"})]})]})]})})};var d1t=function(){return(0,pt.jsx)(pt.Fragment,{children:(0,pt.jsxs)("div",{className:"container",children:[(0,pt.jsx)(gt,{}),(0,pt.jsxs)(tt,{children:[(0,pt.jsx)(J,{exact:!0,path:"/",element:(0,pt.jsx)(m3,{})}),(0,pt.jsx)(J,{exact:!0,path:"/IssueMessage",element:(0,pt.jsx)(f1t,{})})]})]})})},h1t=function(t){t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),o(t),a(t)}))};function p1t(t){var e=t.basename,n=t.children,r=t.window,i=(0,D.useRef)();null==i.current&&(i.current=function(t){void 0===t&&(t={});var e=t.window,n=void 0===e?document.defaultView:e,r=n.history;function i(){var t=n.location,e=t.pathname,i=t.search,o=t.hash,a=r.state||{};return[a.idx,z({pathname:e,search:i,hash:o,state:a.usr||null,key:a.key||"default"})]}var o=null;n.addEventListener(H,(function(){if(o)f.call(o),o=null;else{var t=P.Pop,e=i(),n=e[0],r=e[1];if(f.length){if(null!=n){var a=s-n;a&&(o={action:t,location:r,retry:function(){m(-1*a)}},m(a))}}else g(t)}}));var a=P.Pop,u=i(),s=u[0],l=u[1],c=W(),f=W();function d(t){return"string"===typeof t?t:q(t)}function h(t,e){return void 0===e&&(e=null),z(B({pathname:l.pathname,hash:"",search:""},"string"===typeof t?G(t):t,{state:e,key:Y()}))}function p(t,e){return[{usr:t.state,key:t.key,idx:e},d(t)]}function v(t,e,n){return!f.length||(f.call({action:t,location:e,retry:n}),!1)}function g(t){a=t;var e=i();s=e[0],l=e[1],c.call({action:a,location:l})}function m(t){r.go(t)}null==s&&(s=0,r.replaceState(B({},r.state,{idx:s}),""));var y={get action(){return a},get location(){return l},createHref:d,push:function t(e,i){var o=P.Push,a=h(e,i);if(v(o,a,(function(){t(e,i)}))){var u=p(a,s+1),l=u[0],c=u[1];try{r.pushState(l,"",c)}catch(n5){n.location.assign(c)}g(o)}},replace:function t(e,n){var i=P.Replace,o=h(e,n);if(v(i,o,(function(){t(e,n)}))){var a=p(o,s),u=a[0],l=a[1];r.replaceState(u,"",l),g(i)}},go:m,back:function(){m(-1)},forward:function(){m(1)},listen:function(t){return c.push(t)},block:function(t){var e=f.push(t);return 1===f.length&&n.addEventListener(U,V),function(){e(),f.length||n.removeEventListener(U,V)}}};return y}({window:r}));var o=i.current,a=j((0,D.useState)({action:o.action,location:o.location}),2),u=a[0],s=a[1];return(0,D.useLayoutEffect)((function(){return o.listen(s)}),[o]),(0,D.createElement)(Q,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o})}F.render((0,pt.jsx)(D.StrictMode,{children:(0,pt.jsx)(p1t,{children:(0,pt.jsx)(d1t,{})})}),document.getElementById("root")),h1t()}()}();
//# sourceMappingURL=main.bc582ac2.js.map